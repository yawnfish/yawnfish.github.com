if("undefined"==typeof kotlin)throw new Error("Error loading module 'SamsaraHTML'. Its dependency 'kotlin' was not found. Please, check whether 'kotlin' is loaded prior to 'SamsaraHTML'.");if("undefined"==typeof Phaser)throw new Error("Error loading module 'SamsaraHTML'. Its dependency 'Phaser' was not found. Please, check whether 'Phaser' is loaded prior to 'SamsaraHTML'.");if("undefined"==typeof phaserKt)throw new Error("Error loading module 'SamsaraHTML'. Its dependency 'phaserKt' was not found. Please, check whether 'phaserKt' is loaded prior to 'SamsaraHTML'.");if("undefined"==typeof PIXI)throw new Error("Error loading module 'SamsaraHTML'. Its dependency 'PIXI' was not found. Please, check whether 'PIXI' is loaded prior to 'SamsaraHTML'.");if(void 0===this["kotlinx-coroutines-core"])throw new Error("Error loading module 'SamsaraHTML'. Its dependency 'kotlinx-coroutines-core' was not found. Please, check whether 'kotlinx-coroutines-core' is loaded prior to 'SamsaraHTML'.");var SamsaraHTML=function(e,Ke,l,t,_,i){"use strict";var r=e.$$importsForInline$$||(e.$$importsForInline$$={}),Ze=Ke.kotlin.Unit,o=Ke.Kind.CLASS,Ee=Ke.throwCCE,Qe=Ke.kotlin.text.toDouble_pdl1vz$,h=t.Phaser.GameConfig_a28mr1$,u=t.Phaser.Game_lcgo3e$,n=Ke.Kind.INTERFACE,a=Ke.Kind.OBJECT,Je=Ke.ensureNotNull,ve=Ke.kotlin.collections.withIndex_7wnvza$,ge=Ke.kotlin.collections.reversed_7wnvza$,s=Ke.kotlin.Enum,c=Ke.throwISE,et=Ke.numberToInt,b=Object,m=Ke.kotlin.collections.listOf_mh5how$,d=Ke.kotlin.ranges.IntRange,p=Ke.kotlin.text.slice_fc3b62$,f=Ke.kotlin.text.toInt_6ic1pp$,k=Ke.kotlin.io.println_s8jyv4$,v=Ke.kotlin.NumberFormatException,g=Ke.kotlin.collections.toList_7wnvza$,oe=Ke.kotlin.text.iterator_gw00vp$,x=Ke.toBoxedChar,ne=Ke.unboxChar,te=Ke.kotlin.math,w=Ke.kotlin.js.internal.FloatCompanionObject,Le=Ke.kotlin.Pair,ue=Ke.equals,C=Ke.kotlin.collections.mutableListOf_i5x0yv$,y=Ke.kotlin.collections.get_indices_gzk92b$,$=Ke.kotlin.ranges.reversed_zf1xzc$,S=Ke.kotlin.collections.listOf_i5x0yv$,z=Ke.kotlin.collections.last_2p1efm$,ae=Ke.kotlin.text.toIntOrNull_pdl1vz$,T=Ke.throwUPAE,A=Ke.kotlin.collections.mapOf_qfcya0$,tt=Ke.kotlin.text.toInt_pdl1vz$,G=Ke.defineInlineFunction,I=Ke.wrapFunction,N=l.ScaleManager,O=t.Phaser.start_ba683k$,M=l.State,R=Ke.toString,P=Ke.kotlin.text.substringBefore_j4ogox$,j=t.Phaser.destroyKt,B=Ke.getCallableRef,E=l.KeyCode,it=Ke.numberToDouble,L=Ke.kotlin.collections.sortWith_nqfjgj$,F=_.blendModes.NORMAL,D=_.blendModes.ADD,V=t.Phaser.TextStyle_5jhq38$,U=Ke.kotlin.collections.reverse_vvxzk3$,q=Ke.kotlin.coroutines.experimental.CoroutineImpl,H=Ke.kotlin.coroutines.experimental.intrinsics.COROUTINE_SUSPENDED,W=i.kotlinx.coroutines.experimental.delay_za3lpa$,Y=Ke.kotlin.UninitializedPropertyAccessException,X=Ke.kotlin.comparisons.compareBy_bvgy4j$,K=Ke.kotlin.collections.sortedWith_iwcb0m$,ie=i.kotlinx.coroutines.experimental,re=i.kotlinx.coroutines.experimental.launch_35c74u$,rt=Ke.kotlin.text.indexOf_l5u8uk$,Z=Ke.kotlin.collections.sortedWith_eknfly$,Q=Ke.kotlin.collections.toList_tmsbgo$,J=Ke.kotlin.collections.toMutableList_tmsbgo$,ee=Ke.kotlin.collections.toMutableMap_abgq59$,se=Ke.kotlin.collections.mapOf_x2b85n$;(Ne.prototype=Object.create(s.prototype)).constructor=Ne,(_t.prototype=Object.create(s.prototype)).constructor=_t,(zt.prototype=Object.create(s.prototype)).constructor=zt,(po.prototype=Object.create(uo.prototype)).constructor=po,(Lt.prototype=Object.create(po.prototype)).constructor=Lt,(Kt.prototype=Object.create(Lt.prototype)).constructor=Kt,(Qt.prototype=Object.create(s.prototype)).constructor=Qt,(fi.prototype=Object.create(Lt.prototype)).constructor=fi,(mr.prototype=Object.create(s.prototype)).constructor=mr,(Wr.prototype=Object.create(po.prototype)).constructor=Wr,(Xr.prototype=Object.create(po.prototype)).constructor=Xr,(eo.prototype=Object.create(s.prototype)).constructor=eo,(no.prototype=Object.create(s.prototype)).constructor=no,(_o.prototype=Object.create(vi.prototype)).constructor=_o,(wo.prototype=Object.create(vi.prototype)).constructor=wo,(rn.prototype=Object.create(wo.prototype)).constructor=rn,(on.prototype=Object.create(vi.prototype)).constructor=on,(pn.prototype=Object.create(dn.prototype)).constructor=pn,(mn.prototype=Object.create(dn.prototype)).constructor=mn,(_n.prototype=Object.create(dn.prototype)).constructor=_n,($n.prototype=Object.create(s.prototype)).constructor=$n,(Dn.prototype=Object.create(s.prototype)).constructor=Dn,(Qn.prototype=Object.create(uo.prototype)).constructor=Qn,(sa.prototype=Object.create(po.prototype)).constructor=sa,(ha.prototype=Object.create(s.prototype)).constructor=ha,(pa.prototype=Object.create(Kt.prototype)).constructor=pa,(ma.prototype=Object.create(Lt.prototype)).constructor=ma,(ya.prototype=Object.create(Lt.prototype)).constructor=ya,(tl.prototype=Object.create(M.prototype)).constructor=tl,(rl.prototype=Object.create(M.prototype)).constructor=rl,(xl.prototype=Object.create(fl.prototype)).constructor=xl,(Tl.prototype=Object.create(fl.prototype)).constructor=Tl,(Gl.prototype=Object.create(fl.prototype)).constructor=Gl,(Ol.prototype=Object.create(fl.prototype)).constructor=Ol,(Gc.prototype=Object.create(s.prototype)).constructor=Gc,(jc.prototype=Object.create(nh.prototype)).constructor=jc,(Lc.prototype=Object.create(Kl.prototype)).constructor=Lc,(Dc.prototype=Object.create(Wc.prototype)).constructor=Dc,(Uc.prototype=Object.create(Dc.prototype)).constructor=Uc,(Hc.prototype=Object.create(Dc.prototype)).constructor=Hc,(Xc.prototype=Object.create(Wc.prototype)).constructor=Xc,(Zc.prototype=Object.create(Xc.prototype)).constructor=Zc,(Jc.prototype=Object.create(Xc.prototype)).constructor=Jc,(td.prototype=Object.create(Wc.prototype)).constructor=td,(id.prototype=Object.create(Wc.prototype)).constructor=id,(od.prototype=Object.create(id.prototype)).constructor=od,(nd.prototype=Object.create(id.prototype)).constructor=nd,(ad.prototype=Object.create(Wc.prototype)).constructor=ad,(Ed.prototype=Object.create(yd.prototype)).constructor=Ed,(ld.prototype=Object.create(Ed.prototype)).constructor=ld,(vd.prototype=Object.create(Ed.prototype)).constructor=vd,($d.prototype=Object.create(s.prototype)).constructor=$d,(wd.prototype=Object.create(s.prototype)).constructor=wd,(Gd.prototype=Object.create(Ed.prototype)).constructor=Gd,(Nd.prototype=Object.create(Gd.prototype)).constructor=Nd,(Od.prototype=Object.create(Gd.prototype)).constructor=Od,(Md.prototype=Object.create(Gd.prototype)).constructor=Md,(Rd.prototype=Object.create(Gd.prototype)).constructor=Rd,(Pd.prototype=Object.create(Ed.prototype)).constructor=Pd,(Ld.prototype=Object.create(s.prototype)).constructor=Ld,(Qd.prototype=Object.create(s.prototype)).constructor=Qd,(Ff.prototype=Object.create(s.prototype)).constructor=Ff,(Jf.prototype=Object.create(Kf.prototype)).constructor=Jf,(tm.prototype=Object.create(Kf.prototype)).constructor=tm,(xm.prototype=Object.create(s.prototype)).constructor=xm,(Fm.prototype=Object.create(ya.prototype)).constructor=Fm,(qm.prototype=Object.create(ya.prototype)).constructor=qm,(rv.prototype=Object.create(ya.prototype)).constructor=rv,(lv.prototype=Object.create(ya.prototype)).constructor=lv,(cv.prototype=Object.create(ya.prototype)).constructor=cv,(gv.prototype=Object.create(s.prototype)).constructor=gv,(Ov.prototype=Object.create(ya.prototype)).constructor=Ov,(Rv.prototype=Object.create(ya.prototype)).constructor=Rv,(Bv.prototype=Object.create(ya.prototype)).constructor=Bv;var le=Ke.kotlin.collections.LinkedHashMap_init_q3lmfv$;function he(){this.data=le()}function ce(){}function de(e){var t,i,r,o=640,n=960,a="";null!=document.getElementById("width")&&(o=Qe((Ke.isType(t=document.getElementById("width"),HTMLElement)?t:Ee()).innerText)),null!=document.getElementById("height")&&(n=Qe((Ke.isType(i=document.getElementById("height"),HTMLElement)?i:Ee()).innerText)),null!=document.getElementById("platform")&&(a=(Ke.isType(r=document.getElementById("platform"),HTMLElement)?r:Ee()).innerText);var s=new he;s.Set_puj7f4$(o.toString(),"width"),s.Set_puj7f4$(n.toString(),"height"),s.Set_puj7f4$(a,"platform"),u(h(void 0,o,n,l.CANVAS,"gameDiv",void 0,void 0,void 0,void 0,il(s,new ce)))}function pe(e,t,i,r){this.x=e,this.y=t,this.event=i,this.code=r}function fe(){}function me(){}function _e(){}function ye(){}function $e(){}function be(){}function Se(){}he.prototype.SetPref_za3rmp$=function(e){},he.prototype.Get_61zpoe$=function(e){return localStorage.getItem(e)},he.prototype.Set_puj7f4$=function(e,t){localStorage.setItem(t,e)},he.$metadata$={kind:o,simpleName:"UserDataHTML",interfaces:[Ws]},ce.prototype.isLogin=function(){return!1},ce.prototype.loginIntent=function(){},ce.prototype.showLeaderboard=function(){},ce.prototype.submitScore_ds2soj$=function(e,t,i){},ce.prototype.getVersionName=function(){return"1.6.5"},ce.prototype.getVersionCode=function(){return 55},ce.prototype.getFile_61zpoe$=function(e){return""},ce.prototype.isGrantedExternal=function(){return!1},ce.prototype.getGrantExternal_6zcd6v$=function(e){},ce.prototype.shareSocial_61zpoe$=function(e){return!1},ce.prototype.isBannerReady=function(){return!1},ce.prototype.showAds_6taknv$=function(e){},ce.prototype.getHeight=function(){return 0},ce.prototype.showInterstitial_6zcd6v$=function(e){return!1},ce.prototype.isRewardReady=function(){return!1},ce.prototype.playRewarded_6zcd6v$=function(e){return!1},ce.prototype.setAdsMute_6taknv$=function(e){},ce.$metadata$={kind:o,simpleName:"RequestHandlerDummy",interfaces:[Hs]},pe.$metadata$={kind:o,simpleName:"TouchInfo",interfaces:[]},pe.prototype.component1=function(){return this.x},pe.prototype.component2=function(){return this.y},pe.prototype.component3=function(){return this.event},pe.prototype.component4=function(){return this.code},pe.prototype.copy_o3bepn$=function(e,t,i,r){return new pe(void 0===e?this.x:e,void 0===t?this.y:t,void 0===i?this.event:i,void 0===r?this.code:r)},pe.prototype.toString=function(){return"TouchInfo(x="+Ke.toString(this.x)+", y="+Ke.toString(this.y)+", event="+Ke.toString(this.event)+", code="+Ke.toString(this.code)+")"},pe.prototype.hashCode=function(){var e=0;return e=31*(e=31*(e=31*(e=31*e+Ke.hashCode(this.x)|0)+Ke.hashCode(this.y)|0)+Ke.hashCode(this.event)|0)+Ke.hashCode(this.code)|0},pe.prototype.equals=function(e){return this===e||null!==e&&"object"==typeof e&&Object.getPrototypeOf(this)===Object.getPrototypeOf(e)&&Ke.equals(this.x,e.x)&&Ke.equals(this.y,e.y)&&Ke.equals(this.event,e.event)&&Ke.equals(this.code,e.code)},fe.$metadata$={kind:n,simpleName:"GuestTexture",interfaces:[]},me.$metadata$={kind:n,simpleName:"GuestTextureAtlas",interfaces:[]},_e.$metadata$={kind:n,simpleName:"GuestNode",interfaces:[]},ye.$metadata$={kind:n,simpleName:"GuestScreen",interfaces:[_e]},$e.$metadata$={kind:n,simpleName:"GuestSprite",interfaces:[_e]},be.$metadata$={kind:n,simpleName:"GuestMask",interfaces:[_e]},Se.$metadata$={kind:n,simpleName:"GuestLabel",interfaces:[_e]};var Fe=Ke.kotlin.collections.ArrayList_init_ww73n8$;function ke(){Ie(),this.debug=!1,this.touchQueue=Fe(),this.inputMode=0,this.inputPending=!1,this.guestScreen_0=null,this.shutdown_0=!1,this.currentTime_0=0,this.nodeUpdateCounter=0}function we(){(xe=this).instance=null}we.$metadata$={kind:a,simpleName:"Holder",interfaces:[]};var xe=null;function Ce(){return null===xe&&new we,xe}function ze(){(Ge=this).initialized=!1}ze.prototype.shared=function(){return null==Ce().instance&&(Ce().instance=new ke),Je(Ce().instance)},ze.prototype.shutdown=function(){Ce().instance=null},ze.$metadata$={kind:a,simpleName:"Companion",interfaces:[]};var Te,Ae,Ge=null;function Ie(){return null===Ge&&new ze,Ge}function Ne(e,t){s.call(this),this.name$=e,this.ordinal$=t}function Oe(){Oe=function(){},Te=new Ne("SFX",0),Ae=new Ne("BGM",1)}function Me(){return Oe(),Te}function Re(){return Oe(),Ae}function Pe(){qe()}function je(){(Be=this).instance=null}ke.prototype.initialize=function(){this.shutdown_0=!1},ke.prototype.shutdown=function(){},ke.prototype.SetDebug_6taknv$=function(e){this.debug=e},ke.prototype.GetDebug=function(){return this.debug},ke.prototype.SetGuestScreen_qgvd6v$=function(e){this.guestScreen_0=e},ke.prototype.GetGuestScreen=function(){return Je(this.guestScreen_0)},ke.prototype.createGuestSprite=function(){return Je(this.guestScreen_0).createGuestSprite()},ke.prototype.createGuestSprite_h2vgz3$=function(e){return Je(this.guestScreen_0).createGuestSprite_h2vgz3$(e)},ke.prototype.createGuestMask_h2vgz3$=function(e){return Je(this.guestScreen_0).createGuestMask_h2vgz3$(e)},ke.prototype.createGuestLabel_61zpoe$=function(e){return Je(this.guestScreen_0).createGuestLabel_61zpoe$(e)},ke.prototype.createGuestTexture_bm4g0d$=function(e,t){return Je(this.guestScreen_0).createGuestTexture_bm4g0d$(e,t)},ke.prototype.loadTexture_jyasbz$=function(e,t){return void 0===t&&(t=null),Je(this.guestScreen_0).loadTexture_jyasbz$(e,t)},ke.prototype.loadAtlas_qz9155$=function(e,t,i){return void 0===t&&(t=""),void 0===i&&(i=!0),Je(this.guestScreen_0).loadAtlas_qz9155$(e,t,i)},ke.prototype.removeAtlas_61zpoe$=function(e){return Je(this.guestScreen_0).removeAtlas_61zpoe$(e)},ke.prototype.preloadTexture_o14v8n$=function(e){Je(this.guestScreen_0).preloadTexture_o14v8n$(e)},ke.prototype.makeAtlas_mvjluj$=function(e,t){return Je(this.guestScreen_0).makeAtlas_mvjluj$(e,t)},ke.prototype.makeAtlas_kwv3np$=function(e,t){return Je(this.guestScreen_0).makeAtlas_kwv3np$(e,t)},ke.prototype.makeAtlasWithData_d0u64m$=function(e,t){return Je(this.guestScreen_0).makeAtlasWithData_d0u64m$(e,t)},ke.prototype.createStringImage_k1lctz$=function(e,t,i,r,o,n,a,s,l){return void 0===e&&(e=""),void 0===t&&(t=""),void 0===i&&(i=16),void 0===r&&(r=ui().white_mx4ult$()),void 0===o&&(o=ui().black_mx4ult$()),void 0===n&&(n=-3),void 0===a&&(a=!0),Je(this.guestScreen_0).createStringImage_k1lctz$(e,t,i,r,o,n,a,s,l)},ke.prototype.SetInputMode_za3lpa$=function(e){this.inputMode=e},ke.prototype.SetInputPending_6taknv$=function(e){this.inputPending=e},ke.prototype.clearInputQueue=function(){this.touchQueue.clear()},ke.prototype.addInputQueue_o3bepn$=function(e,t,i,r){var o,n;if(void 0===r&&(r=0),!0!==this.inputPending){if(i===Gt())for(o=ge(ve(this.touchQueue)).iterator();o.hasNext();){var a=o.next(),s=a.component1();if(a.component2().event===Gt()){this.touchQueue.removeAt_za3lpa$(s);break}}else if(i===Nt()){var l=0;for(n=this.touchQueue.iterator();n.hasNext();){if(n.next().event===Nt()){this.touchQueue.removeAt_za3lpa$(l);break}l=l+1|0}}this.touchQueue.add_11rb$(new pe(e,t,i,r))}},ke.prototype.removeInputQueue_za3lpa$=function(e){this.touchQueue.removeAt_za3lpa$(e)},ke.prototype.scroll_mx4ult$=function(e){this.addInputQueue_o3bepn$(0,e,Ot())},ke.prototype.SetBackgroundColor_qt1dr2$=function(e,t,i){var r;null!=(r=this.guestScreen_0)&&r.SetBackgroundColor_qt1dr2$(e,t,i)},ke.prototype.convertCoordinate_dleff0$=function(e,t){return null!=this.guestScreen_0?Je(this.guestScreen_0).convertCoordinate_dleff0$(e,t):Gi(e,t)},ke.prototype.SetTitle_61zpoe$=function(e){var t;null!=(t=this.guestScreen_0)&&t.SetTitle_61zpoe$(e)},ke.prototype.changeFPS_za3lpa$=function(e){var t;null!=(t=this.guestScreen_0)&&t.changeFPS_za3lpa$(e)},ke.prototype.moveToBackground=function(){var e;null!=(e=this.guestScreen_0)&&e.moveToBackground()},ke.prototype.resume=function(){var e;null!=(e=this.guestScreen_0)&&e.resume()},ke.prototype.terminate=function(){var e;null!=(e=this.guestScreen_0)&&e.terminate()},ke.prototype.update_mx4ult$=function(e){var t,i,r,o;if(this.currentTime_0+=e,!0!==this.shutdown_0){var n=this.touchQueue;for(t=n.iterator();t.hasNext();){var a=t.next();null!=(r=null!=(i=this.guestScreen_0)?i.GetScreen():null)&&r.onTouchEvent_a3vp0k$(a.x,a.y,a.event,e,a.code)}n.clear(),this.nodeUpdateCounter=0,null!=(o=this.guestScreen_0)&&o.render_mx4ult$(e)}},ke.prototype.printLog_61zpoe$=function(e){var t,i;null!=(i=null!=(t=this.guestScreen_0)?t.GetScreen():null)&&i.printLog_61zpoe$(e)},ke.prototype.clearLog=function(){var e,t;null!=(t=null!=(e=this.guestScreen_0)?e.GetScreen():null)&&t.clearLog()},ke.prototype.GetScreenshot_3fx80m$=function(e){var t;return null!=(t=this.guestScreen_0)?t.GetScreenshot_3fx80m$(e):null},ke.prototype.presentView_xl35ob$=function(e,t){var i,r;void 0===t&&(t=.3),null!=(r=null!=(i=this.guestScreen_0)?i.GetScreen():null)&&r.presentView_xl35ob$(e,t)},ke.prototype.GetCurrentTime=function(){return this.currentTime_0},ke.$metadata$={kind:o,simpleName:"HAL",interfaces:[]},Ne.$metadata$={kind:o,simpleName:"SoundCategory",interfaces:[s]},Ne.values=function(){return[Me(),Re()]},Ne.valueOf_61zpoe$=function(e){switch(e){case"SFX":return Me();case"BGM":return Re();default:c("No enum constant com.blindcatstudio.phantom.SoundCategory."+e)}},je.$metadata$={kind:a,simpleName:"Holder",interfaces:[]};var Be=null;function De(){return null===Be&&new je,Be}function Ve(){(Ue=this).initialized=!1}Ve.prototype.shared=function(){return null==De().instance&&(De().instance=new Pe),Je(De().instance)},Ve.prototype.shutdown=function(){De().instance=null},Ve.$metadata$={kind:a,simpleName:"Companion",interfaces:[]};var Ue=null;function qe(){return null===Ue&&new Ve,Ue}function He(){gt(),this.dictionary=le(),this.aliasTable=le()}function We(){(Ye=this).instance=null}Pe.prototype.loadSound_0=function(e,t,i,r,o){return void 0===t&&(t=null),void 0===i&&(i=1),void 0===r&&(r=Me()),void 0===o&&(o=100),ql().shared().loadSound_rxyx1o$(e,t,i,r,o)},Pe.prototype.loadEffect_ho7uxo$=function(e,t,i,r){return void 0===t&&(t=null),void 0===i&&(i=8),void 0===r&&(r=100),ql().shared().loadSound_rxyx1o$(e,t,i,Me(),r)},Pe.prototype.loadBGM_icsyi4$=function(e,t,i){return void 0===t&&(t=null),void 0===i&&(i=100),ql().shared().loadSound_rxyx1o$(e,t,1,Re(),i)},Pe.prototype.unloadSound_61zpoe$=function(e){ql().shared().unloadSound_61zpoe$(e)},Pe.prototype.GetSound_61zpoe$=function(e){return ql().shared().GetSound_61zpoe$(e)},Pe.prototype.loadTexture_jyasbz$=function(e,t){return void 0===t&&(t=null),gt().shared().loadTexture_jyasbz$(e,t)},Pe.prototype.addTexture_p1juio$=function(e,t){return gt().shared().addTexture_p1juio$(e,t)},Pe.prototype.GetTexture_61zpoe$=function(e){return gt().shared().GetTexture_61zpoe$(e)},Pe.prototype.unloadTexture_61zpoe$=function(e){gt().shared().removeTexture_61zpoe$(e)},Pe.prototype.createStringImage_49g1x9$=function(e,t,i,r,o,n,a,s,l,h,u){return void 0===e&&(e=""),void 0===t&&(t=""),void 0===i&&(i=16),void 0===r&&(r=ui().white_mx4ult$()),void 0===o&&(o=ui().black_mx4ult$()),void 0===n&&(n=-3),void 0===a&&(a=!1),void 0===s&&(s=!0),void 0===l&&(l=null),void 0===h&&(h=1),void 0===u&&(u=1),gt().shared().createStringImage_49g1x9$(e,t,i,r,o,n,a,s,l,h,u)},Pe.prototype.createStringTexture_49g1x9$=function(e,t,i,r,o,n,a,s,l,h,u){return void 0===e&&(e=""),void 0===t&&(t=""),void 0===i&&(i=16),void 0===r&&(r=ui().white_mx4ult$()),void 0===o&&(o=ui().black_mx4ult$()),void 0===n&&(n=-3),void 0===a&&(a=!1),void 0===s&&(s=!0),void 0===l&&(l=null),void 0===h&&(h=1),void 0===u&&(u=1),gt().shared().createStringTexture_w7yuqy$(e,t,i,r,o,n,a,l,h,u)},Pe.$metadata$={kind:o,simpleName:"ResourceManager",interfaces:[]},We.$metadata$={kind:a,simpleName:"Holder",interfaces:[]};var Ye=null;function Xe(){return null===Ye&&new We,Ye}function ot(){(vt=this).initialized=!1}ot.prototype.shared=function(){return null==Xe().instance&&(Xe().instance=new He),Je(Xe().instance)},ot.prototype.shutdown=function(){Xe().instance=null},ot.$metadata$={kind:a,simpleName:"Companion",interfaces:[]};var nt,at,st,lt,ht,ut,ct,dt,pt,ft,mt,vt=null;function gt(){return null===vt&&new ot,vt}function _t(e,t){s.call(this),this.name$=e,this.ordinal$=t}function yt(){yt=function(){},nt=new _t("ready",0),at=new _t("running",1),st=new _t("stopRequest",2),lt=new _t("stop",3)}function $t(){return yt(),nt}function bt(){return yt(),at}function St(){return yt(),st}function kt(){return yt(),lt}function wt(){var t;this.increase=!1,this.repeatTime=!0,this.remain=0,this.state=kt(),this.interval=0,this.current=0,this.callback=null,this.update=(t=this,function(e){return t.state===St()?t.state=kt():t.state===kt()||t.state!==bt()||(t.current=t.current+e.elapsed,t.state=bt(),null!=t.callback&&Je(t.callback)(e.elapsed)),!0})}function xt(e,t,i){return void 0===t&&(t=null),i=i||Object.create(wt.prototype),wt.call(i),i.callback=t,i.interval=e,i.increase=!1,i.repeatTime=!0,i.remain=0,i.state=kt(),i}function Ct(e,t,i,r,o,n,a){Bt(),void 0===n&&(n=!0),this.name=e,this.x=t,this.y=i,this.width=r,this.height=o,this.receiveAlways=n,this.callback=a}function zt(e,t){s.call(this),this.name$=e,this.ordinal$=t}function Tt(){Tt=function(){},ht=new zt("began",0),ut=new zt("moved",1),ct=new zt("ended",2),dt=new zt("cancelled",3),pt=new zt("scroll",4),ft=new zt("back",5),mt=new zt("keydown",6)}function At(){return Tt(),ht}function Gt(){return Tt(),ut}function It(){return Tt(),ct}function Nt(){return Tt(),dt}function Ot(){return Tt(),pt}function Mt(){return Tt(),ft}function Rt(){return Tt(),mt}function Pt(){(jt=this).ANY_KEY=-1,this.NUM_0=7,this.NUM_1=8,this.NUM_2=9,this.NUM_3=10,this.NUM_4=11,this.NUM_5=12,this.NUM_6=13,this.NUM_7=14,this.NUM_8=15,this.NUM_9=16,this.A=29,this.ALT_LEFT=57,this.ALT_RIGHT=58,this.APOSTROPHE=75,this.AT=77,this.B=30,this.BACK=4,this.BACKSLASH=73,this.C=31,this.CALL=5,this.CAMERA=27,this.CLEAR=28,this.COMMA=55,this.D=32,this.DEL=67,this.BACKSPACE=67,this.FORWARD_DEL=112,this.DPAD_CENTER=23,this.DPAD_DOWN=20,this.DPAD_LEFT=21,this.DPAD_RIGHT=22,this.DPAD_UP=19,this.CENTER=23,this.DOWN=20,this.LEFT=21,this.RIGHT=22,this.UP=19,this.E=33,this.ENDCALL=6,this.ENTER=66,this.ENVELOPE=65,this.EQUALS=70,this.EXPLORER=64,this.F=34,this.FOCUS=80,this.G=35,this.GRAVE=68,this.H=36,this.HEADSETHOOK=79,this.HOME=3,this.I=37,this.J=38,this.K=39,this.L=40,this.LEFT_BRACKET=71,this.M=41,this.MEDIA_FAST_FORWARD=90,this.MEDIA_NEXT=87,this.MEDIA_PLAY_PAUSE=85,this.MEDIA_PREVIOUS=88,this.MEDIA_REWIND=89,this.MEDIA_STOP=86,this.MENU=82,this.MINUS=69,this.MUTE=91,this.N=42,this.NOTIFICATION=83,this.NUM=78,this.O=43,this.P=44,this.PERIOD=56,this.PLUS=81,this.POUND=18,this.POWER=26,this.Q=45,this.R=46,this.RIGHT_BRACKET=72,this.S=47,this.SEARCH=84,this.SEMICOLON=74,this.SHIFT_LEFT=59,this.SHIFT_RIGHT=60,this.SLASH=76,this.SOFT_LEFT=1,this.SOFT_RIGHT=2,this.SPACE=62,this.STAR=17,this.SYM=63,this.T=48,this.TAB=61,this.U=49,this.UNKNOWN=0,this.V=50,this.VOLUME_DOWN=25,this.VOLUME_UP=24,this.W=51,this.X=52,this.Y=53,this.Z=54,this.META_ALT_LEFT_ON=16,this.META_ALT_ON=2,this.META_ALT_RIGHT_ON=32,this.META_SHIFT_LEFT_ON=64,this.META_SHIFT_ON=1,this.META_SHIFT_RIGHT_ON=128,this.META_SYM_ON=4,this.CONTROL_LEFT=129,this.CONTROL_RIGHT=130,this.ESCAPE=131,this.END=132,this.INSERT=133,this.PAGE_UP=92,this.PAGE_DOWN=93,this.PICTSYMBOLS=94,this.SWITCH_CHARSET=95,this.BUTTON_CIRCLE=255,this.BUTTON_A=96,this.BUTTON_B=97,this.BUTTON_C=98,this.BUTTON_X=99,this.BUTTON_Y=100,this.BUTTON_Z=101,this.BUTTON_L1=102,this.BUTTON_R1=103,this.BUTTON_L2=104,this.BUTTON_R2=105,this.BUTTON_THUMBL=106,this.BUTTON_THUMBR=107,this.BUTTON_START=108,this.BUTTON_SELECT=109,this.BUTTON_MODE=110,this.NUMPAD_0=144,this.NUMPAD_1=145,this.NUMPAD_2=146,this.NUMPAD_3=147,this.NUMPAD_4=148,this.NUMPAD_5=149,this.NUMPAD_6=150,this.NUMPAD_7=151,this.NUMPAD_8=152,this.NUMPAD_9=153,this.COLON=243,this.F1=244,this.F2=245,this.F3=246,this.F4=247,this.F5=248,this.F6=249,this.F7=250,this.F8=251,this.F9=252,this.F10=253,this.F11=254,this.F12=255}He.prototype.addTexture_p1juio$=function(e,t){return null!=this.dictionary.get_11rb$(e)?this.dictionary.get_11rb$(e):(this.dictionary.put_xwzc9p$(e,t),t)},He.prototype.loadTexture_jyasbz$=function(e,t){void 0===t&&(t=null);var i=e;if(i=null!=t?t:e,null!=this.dictionary.get_11rb$(i))return this.dictionary.get_11rb$(i);var r=Ie().shared().loadTexture_jyasbz$(e,t);if(null!=r){var o=i;return this.dictionary.put_xwzc9p$(o,r),r}return null},He.prototype.loadAtlas_qz9155$=function(e,t,i){var r;for(void 0===t&&(t=""),void 0===i&&(i=!0),r=Ie().shared().loadAtlas_qz9155$(e,t,i).iterator();r.hasNext();){var o=r.next(),n=this.dictionary,a=o.GetName();n.put_xwzc9p$(a,o),this.addAlias_puj7f4$(o.GetName(),e+"/"+o.GetName())}},He.prototype.makeAtlas_mvjluj$=function(e,t){var i;for(i=Ie().shared().makeAtlas_mvjluj$(e,t).iterator();i.hasNext();){var r=i.next();this.addTexture_p1juio$(r.GetName(),r)}},He.prototype.makeAtlas_kwv3np$=function(e,t){var i;for(i=Ie().shared().makeAtlas_kwv3np$(e,t).iterator();i.hasNext();){var r=i.next();this.addTexture_p1juio$(r.GetName(),r)}},He.prototype.makeAtlasWithData_d0u64m$=function(e,t){var i;for(i=Ie().shared().makeAtlasWithData_d0u64m$(e,t).iterator();i.hasNext();){var r=i.next();this.addTexture_p1juio$(r.GetName(),r)}},He.prototype.removeAtlas_61zpoe$=function(e){return Ie().shared().removeAtlas_61zpoe$(e)},He.prototype.preloadTexture_o14v8n$=function(e){Ie().shared().preloadTexture_o14v8n$(e)},He.prototype.addAlias_2wxw00$=function(e,t){return null!=this.dictionary.get_11rb$(t)?this.dictionary.get_11rb$(t):(this.dictionary.put_xwzc9p$(t,e),e)},He.prototype.addAlias_puj7f4$=function(e,t){this.aliasTable.put_xwzc9p$(t,e)},He.prototype.GetTexture_61zpoe$=function(e){var t=this.aliasTable.get_11rb$(e);if(null!=t){if(null!=this.dictionary.get_11rb$(t))return this.dictionary.get_11rb$(t);var i=this.loadTexture_jyasbz$(t);if(null!=i)return i}else{if(null!=this.dictionary.get_11rb$(e))return this.dictionary.get_11rb$(e);var r=this.loadTexture_jyasbz$(e);if(null!=r)return r}return null},He.prototype.checkTexture_61zpoe$=function(e){if(null!=this.dictionary.get_11rb$(e))return this.dictionary.get_11rb$(e);var t=this.aliasTable.get_11rb$(e);return null!=t&&null!=this.dictionary.get_11rb$(t)?this.dictionary.get_11rb$(t):null},He.prototype.removeTexture_61zpoe$=function(e){return null!=this.dictionary.get_11rb$(e)&&(this.dictionary.remove_11rb$(e),!0)},He.prototype.createStringImage_49g1x9$=function(e,t,i,r,o,n,a,s,l,h,u){return void 0===e&&(e=""),void 0===t&&(t=""),void 0===i&&(i=16),void 0===r&&(r=ui().white_mx4ult$()),void 0===o&&(o=ui().black_mx4ult$()),void 0===n&&(n=-3),void 0===a&&(a=!0),void 0===s&&(s=!0),void 0===l&&(l=null),Ie().shared().createStringImage_k1lctz$(e,t,i,r,o,n,a,h,u)},He.prototype.createStringTexture_w7yuqy$=function(e,t,i,r,o,n,a,s,l,h){void 0===e&&(e=""),void 0===t&&(t=""),void 0===i&&(i=16),void 0===r&&(r=ui().white_mx4ult$()),void 0===o&&(o=ui().black_mx4ult$()),void 0===n&&(n=-3),void 0===a&&(a=!0),void 0===s&&(s=null);var u=e+t+i.toString();null!=s&&(u=s);var c=this.checkTexture_61zpoe$(u);if(null!=c)return c;var d=Ie().shared().createStringImage_k1lctz$(e,t,i,r,o,n,a,l,h);return null!=d?this.addTexture_p1juio$(u,Ie().shared().createGuestTexture_bm4g0d$(u,d)):null},He.$metadata$={kind:o,simpleName:"TextureManager",interfaces:[]},_t.$metadata$={kind:o,simpleName:"TimerState",interfaces:[s]},_t.values=function(){return[$t(),bt(),St(),kt()]},_t.valueOf_61zpoe$=function(e){switch(e){case"ready":return $t();case"running":return bt();case"stopRequest":return St();case"stop":return kt();default:c("No enum constant com.blindcatstudio.phantom.device.TimerState."+e)}},wt.prototype.SetCallback_d6xl6w$=function(e){this.callback=e},wt.prototype.GetInterval=function(){return this.interval},wt.prototype.start=function(){this.state=bt()},wt.prototype.stop=function(){this.state===bt()&&(this.state=St())},wt.prototype.manualUpdate_mx4ult$=function(e){null!=this.callback&&Je(this.callback)(this.interval)},wt.prototype.GetCurrentTime=function(){return this.current},wt.$metadata$={kind:o,simpleName:"Timer",interfaces:[]},zt.$metadata$={kind:o,simpleName:"State",interfaces:[s]},zt.values=function(){return[At(),Gt(),It(),Nt(),Ot(),Mt(),Rt()]},zt.valueOf_61zpoe$=function(e){switch(e){case"began":return At();case"moved":return Gt();case"ended":return It();case"cancelled":return Nt();case"scroll":return Ot();case"back":return Mt();case"keydown":return Rt();default:c("No enum constant com.blindcatstudio.phantom.device.TouchListener.State."+e)}},Pt.$metadata$={kind:a,simpleName:"Code",interfaces:[]};var jt=null;function Bt(){return null===jt&&new Pt,jt}function Et(e,t,i,r,o,n,a){void 0===t&&(t=.1),void 0===i&&(i=-1),void 0===r&&(r=-1),void 0===o&&(o=-1),void 0===n&&(n=0),void 0===a&&(a=0),this.animationFrame=e,this.animationStartFrame=0,this.animationEndFrame=e.length-1|0,this.animationInterval=t,this.animationStartDelay=n,this.animationRepeat=i,this.animationRepeatDelay=a,this.animationWidth=r,this.animationHeight=o,this.elapsedTime=0,this.currentFrame=-1,this.repeatCount=0}function Lt(){this.allowXDragging=!1,this.allowYDragging=!1,this.onDragging=!1,this.lastPosition=Gi(),this.lastTime=0,this.speed=Gi(),this.accel=Gi()}Ct.$metadata$={kind:o,simpleName:"TouchListener",interfaces:[]},Ct.prototype.component1=function(){return this.name},Ct.prototype.component2=function(){return this.x},Ct.prototype.component3=function(){return this.y},Ct.prototype.component4=function(){return this.width},Ct.prototype.component5=function(){return this.height},Ct.prototype.component6=function(){return this.receiveAlways},Ct.prototype.component7=function(){return this.callback},Ct.prototype.copy_ru3o4y$=function(e,t,i,r,o,n,a){return new Ct(void 0===e?this.name:e,void 0===t?this.x:t,void 0===i?this.y:i,void 0===r?this.width:r,void 0===o?this.height:o,void 0===n?this.receiveAlways:n,void 0===a?this.callback:a)},Ct.prototype.toString=function(){return"TouchListener(name="+Ke.toString(this.name)+", x="+Ke.toString(this.x)+", y="+Ke.toString(this.y)+", width="+Ke.toString(this.width)+", height="+Ke.toString(this.height)+", receiveAlways="+Ke.toString(this.receiveAlways)+", callback="+Ke.toString(this.callback)+")"},Ct.prototype.hashCode=function(){var e=0;return e=31*(e=31*(e=31*(e=31*(e=31*(e=31*(e=31*e+Ke.hashCode(this.name)|0)+Ke.hashCode(this.x)|0)+Ke.hashCode(this.y)|0)+Ke.hashCode(this.width)|0)+Ke.hashCode(this.height)|0)+Ke.hashCode(this.receiveAlways)|0)+Ke.hashCode(this.callback)|0},Ct.prototype.equals=function(e){return this===e||null!==e&&"object"==typeof e&&Object.getPrototypeOf(this)===Object.getPrototypeOf(e)&&Ke.equals(this.name,e.name)&&Ke.equals(this.x,e.x)&&Ke.equals(this.y,e.y)&&Ke.equals(this.width,e.width)&&Ke.equals(this.height,e.height)&&Ke.equals(this.receiveAlways,e.receiveAlways)&&Ke.equals(this.callback,e.callback)},Et.prototype.SetStartFrame_za3lpa$=function(e){this.animationStartFrame=e},Et.prototype.SetEndFrame_za3lpa$=function(e){this.animationEndFrame=e},Et.prototype.update_mx4ult$=function(e){this.elapsedTime+=e,this.elapsedTime>this.animationStartDelay&&(-1===this.currentFrame&&(this.currentFrame=this.animationStartFrame,this.elapsedTime-=this.animationStartDelay,this.animationStartDelay=0),this.elapsedTime>=this.animationInterval&&(this.currentFrame=this.currentFrame+et(this.elapsedTime/this.animationInterval)|0,this.currentFrame>this.animationEndFrame&&(-1===this.animationRepeat?0<this.animationRepeatDelay?(this.animationStartDelay=this.animationRepeatDelay-(this.currentFrame-this.animationEndFrame|0)*this.animationInterval,this.currentFrame=-1):this.currentFrame=this.currentFrame%(this.animationEndFrame+1|0):(this.repeatCount=this.repeatCount+1|0,this.repeatCount>=this.animationRepeat?this.currentFrame=this.animationEndFrame:0<this.animationRepeatDelay?(this.animationStartDelay=this.animationRepeatDelay-(this.currentFrame-this.animationEndFrame|0)*this.animationInterval,this.currentFrame=-1):this.currentFrame=this.currentFrame%(this.animationEndFrame+1|0))),this.elapsedTime=this.elapsedTime%this.animationInterval))},Et.prototype.GetCurrentFrame=function(){return-1===this.currentFrame?null:this.animationFrame[this.currentFrame]},Et.prototype.GetWidth=function(){return this.animationWidth},Et.prototype.GetHeight=function(){return this.animationHeight},Et.$metadata$={kind:o,simpleName:"Animation",interfaces:[]},Lt.prototype.SetSize_dleff0$=function(e,t){var i,r=Ke.isType(i=this.GetObject(),$e)?i:null;null!=r&&r.SetSize_dleff0$(e,t),po.prototype.SetSize_dleff0$.call(this,e,t),this.SetVerticalAlign_qn2em6$(this.verticalAlign),this.SetHorizontalAlign_jdpdm8$(this.horizontalAlign)},Lt.prototype.onPress_dleff0$=function(e,t){return this.onPressInternal_dleff0$(e,t),po.prototype.onPress_dleff0$.call(this,e,t)},Lt.prototype.onPressInternal_dleff0$=function(e,t){return this.lastPosition.x=e,this.lastPosition.y=t,this.lastTime=this.age,!0},Lt.prototype.onDrag_dleff0$=function(e,t){return this.onDragInternal_dleff0$(e,t),po.prototype.onDrag_dleff0$.call(this,e,t)};var Ft,Dt,Vt,Ut,qt,Ht,Wt,Yt=Math;function Xt(e,t,i,r){var o;void 0===i&&(i=0),fo(e,t,i,r=r||Object.create(Lt.prototype)),Lt.call(r),r.lastPosition=Gi(),r.speed=Gi(),r.accel=Gi();var n=Ie().shared().createGuestSprite();return!0===Ie().shared().GetDebug()?n.SetColor_7b5o5w$(1,0,0,.5):n.SetColor_7b5o5w$(0,0,0,0),r.addObject_s8jyv4$(Ke.isType(o=n,b)?o:Ee()),r.lastPosition.x=r.GetPosition().x,r.lastPosition.y=r.GetPosition().y,r}function Kt(){this.buttonImageFrame=[null,null,null,null],this.clickAdjust=Gi(0,0),this.autoSize=!1,this.widthGap=10,this.heightGap=10,this.state=0,this.enable=!0,this.sizeBackup=null,this.labelSizeBackup=null,this.reaction=!0,this.cancelWhenDrag=!1,this.pressPoint=Gi()}function Zt(e,t,i,r,o,n,a,s,l){void 0===i&&(i=0),void 0===r&&(r=null),void 0===o&&(o=""),void 0===n&&(n="Main/"),void 0===a&&(a=ui().white_mx4ult$()),void 0===s&&(s=24),Xt(e,t,i,l=l||Object.create(Kt.prototype)),Kt.call(l);var h=r,u=null;null==h?((u=la(0,0,void 0,null)).SetVerticalAlign_qn2em6$(ro()),u.SetHorizontalAlign_jdpdm8$(lo()),u.SetAlpha_8ca0d4$(0),l.addChild_g5h3xp$(u),l.SetSize_dleff0$(u.GetSize().width,u.GetSize().height)):((u=la(0,0,void 0,h[0])).SetVerticalAlign_qn2em6$(ro()),u.SetHorizontalAlign_jdpdm8$(lo()),l.addChild_g5h3xp$(u),l.SetSize_dleff0$(u.GetSize().width,u.GetSize().height),l.SetImageFrame_a3w2ab$(h)),u.SetInputOwner_3hy050$(l);var c=_a(l.GetSize().width/2,l.GetSize().height/2,void 0,l.GetSize().width,l.GetSize().height,n,s,void 0,void 0,void 0,void 0,void 0,void 0,void 0,a);return c.SetVerticalAlign_qn2em6$(ro()),c.SetHorizontalAlign_jdpdm8$(lo()),c.SetTextVerticalAlign_qn2em6$(ro()),c.SetTextHorizontalAlign_jdpdm8$(lo()),c.addText_r4v59z$(o),l.addChild_g5h3xp$(c),c.SetInputOwner_3hy050$(l),l.adjustSize(),l.drag=!1,l.SetInputOwner_3hy050$(l),l}function Qt(e,t){s.call(this),this.name$=e,this.ordinal$=t}function Jt(){Jt=function(){},Ft=new Qt("alpha",0),Dt=new Qt("add",1),Vt=new Qt("subtract",2),Ut=new Qt("multiply",3),qt=new Qt("multiplyX2",4),Ht=new Qt("screen",5),Wt=new Qt("replace",6)}function ei(){return Jt(),Ft}function ti(){return Jt(),Dt}function ii(){return Jt(),Vt}function ri(){return Jt(),Ut}function oi(){return Jt(),qt}function ni(){return Jt(),Ht}function ai(){return Jt(),Wt}function si(){ui(),this.r=1,this.g=1,this.b=1,this.a=1}function li(){hi=this}Lt.prototype.onDragInternal_dleff0$=function(e,t){var i=e,r=t;if(!0===this.drag){this.onDragging=!0;var o=this.GetPosition();this.lastPosition.x=this.lastPosition.x+i,this.lastPosition.y=this.lastPosition.y+r;var n=this.age-this.lastTime;if(0===n&&(n=.001),!0===this.allowXDragging){this.speed.x=i/n;var a=this.speed.x;if(Yt.abs(a)>2*Je(this.GetParent()).GetSize().width){var s=this.speed,l=this.speed.x,h=this.speed.x;s.x=l/Yt.abs(h)*Je(this.GetParent()).GetSize().width*2}}else i=0;if(!0===this.allowYDragging){this.speed.y=r/n;var u=this.speed.y;if(Yt.abs(u)>2*Je(this.GetParent()).GetSize().height){var c=this.speed,d=this.speed.y,p=this.speed.y;c.y=d/Yt.abs(p)*Je(this.GetParent()).GetSize().height*2}}else r=0;var f=this.GetPosition();if(!0===this.onDragging&&(!0===this.allowXDragging&&(f.x=f.x+i,f.x<0?f.x=0:f.x>Je(this.GetParent()).GetSize().width&&(f.x=Je(this.GetParent()).GetSize().width),this.SetPosition_dleff0$(f.x,f.y)),!0===this.allowYDragging&&(f.y=f.y+r,f.y<0?f.y=0:f.y>Je(this.GetParent()).GetSize().height&&(f.y=Je(this.GetParent()).GetSize().height),this.SetPosition_dleff0$(f.x,f.y))),!0===this.allowXDragging){this.speed.x=this.speed.x;var m=this.accel,v=-1*this.speed.x,g=this.speed.x;m.x=v/Yt.abs(g)*Je(this.GetParent()).GetSize().width*2*1.8}if(!0===this.allowYDragging){this.speed.y=this.speed.y;var _=this.accel,y=-1*this.speed.y,$=this.speed.y;_.y=y/Yt.abs($)*Je(this.GetParent()).GetSize().width*2*1.8}this.lastTime=this.age,o.x===f.x&&o.y===f.y||this.sendMessage_iaw1dj$(jr(),this.GetParent())}return!0},Lt.prototype.onRelease_fzxzdm$=function(e,t,i){return this.onReleaseInternal_dleff0$(e,t),po.prototype.onRelease_fzxzdm$.call(this,e,t,i)},Lt.prototype.onReleaseInternal_dleff0$=function(e,t){return!(this.onDragging=!1)},Lt.prototype.onCancel=function(){return this.onCancelInternal(),po.prototype.onCancel.call(this)},Lt.prototype.onCancelInternal=function(){return!(this.onDragging=!1)},Lt.prototype.update_mx4ult$=function(e){po.prototype.update_mx4ult$.call(this,e);var t=this.GetPosition(),i=this.GetPosition();if(!0!==this.onDragging){if(0!==this.speed.x){this.speed.x=this.speed.x+this.accel.x*e;var r=this.speed.x*e+.5*this.accel.x*e*e;0<this.accel.x?0<r&&(r=0,this.accel.x=0,this.speed.x=0):r<0&&(r=0,this.accel.x=0,this.speed.x=0),i.x=i.x+r,i.x<0?(i.x=0,this.speed.x=0,this.accel.x=0):i.x>Je(this.GetParent()).GetSize().width&&(i.x=Je(this.GetParent()).GetSize().width,this.speed.x=0,this.accel.x=0),this.SetPosition_dleff0$(i.x,i.y)}if(0!==this.speed.y){this.speed.y=this.speed.y+this.accel.y*e;var o=this.speed.y*e+.5*this.accel.y*e*e;0<this.accel.y?0<o&&(o=0,this.accel.y=0,this.speed.y=0):o<0&&(o=0,this.accel.y=0,this.speed.y=0),i.y=i.y+o,i.y<0?(i.y=0,this.speed.y=0,this.accel.y=0):i.y>Je(this.GetParent()).GetSize().height&&(i.y=Je(this.GetParent()).GetSize().height,this.speed.y=0,this.accel.y=0),this.SetPosition_dleff0$(i.x,i.y)}t.x===i.x&&t.y===i.y||this.sendMessage_iaw1dj$(jr(),this.GetParent())}},Lt.prototype.SetBlendFactor_mx4ult$$default=function(e){var t,i;for(this.SetBlendFactor_mx4ult$(e,po.prototype.SetBlendFactor_mx4ult$$default.bind(this)),t=this.GetChildList().iterator();t.hasNext();){var r=t.next(),o=Ke.isType(i=r,po)?i:null;null!=o&&o.SetBlendFactor_mx4ult$(e)}},Lt.prototype.SetBlendMode_ieo8yr$=function(e){var t,i;for(po.prototype.SetBlendMode_ieo8yr$.call(this,e),t=this.GetChildList().iterator();t.hasNext();){var r=t.next(),o=Ke.isType(i=r,po)?i:null;null!=o&&o.SetBlendMode_ieo8yr$(e)}},Lt.$metadata$={kind:o,simpleName:"BlankNode",interfaces:[po]},Kt.prototype.freeAdditionalResource=function(){this.buttonImageFrame=[]},Kt.prototype.SetDrag_6taknv$=function(e){var t;for(this.drag=e,t=this.GetChildList().iterator();t.hasNext();){t.next().SetDrag_6taknv$(e)}},Kt.prototype.onPress_dleff0$=function(e,t){var i;if(this.pressPoint.x=e,this.pressPoint.y=t,!1===this.GetEnable()){var r=this.convertGlobalToLocalCoordinate_dleff0$(e,t);return this.sendMessage_79egny$(new Hr(Ar(),void 0,void 0,m(Gi(r.first,r.second))),this)}var a,s,l,h,o=this.convertGlobalToLocalCoordinate_dleff0$(e,t);if(!1===this.sendMessage_79egny$(new Hr(Tr(),void 0,void 0,m(Gi(o.first,o.second))),this))return!1;if(0!==this.state)return!1;if(this.state=1,this.SetButtonImage(),!0===this.reaction){this.sizeBackup=ji(this.GetSize().width,this.GetSize().height);var n=ji(this.GetSize().width,this.GetSize().height),u={v:null},c=Ke.isType(i=this.GetChild_za3lpa$(1),ma)?i:null;null!=c&&(u.v=ji(c.GetSize().width,c.GetSize().height));var d=vn(.8,0);d.SetTimeMultiplier_mx4ult$(3),d.SetScale_mx4ult$(.2),this.addUpdateCallback_sds54w$("button_action",!1,!1,!0,void 0,void 0,(a=d,s=this,l=n,h=u,function(e){var t,i;a.update_mx4ult$(e.elapsed);var r=a.GetPosition();if(180<=a.GetAccumulateDegree()){s.SetImageSize_dleff0$(l.width,l.height);var o=Ke.isType(t=s.GetChild_za3lpa$(1),ma)?t:null;return null!=o&&(o.SetSize_dleff0$(Je(h.v).width,Je(h.v).height),o.SetPosition_dleff0$(.5*s.GetSize().width,.5*s.GetSize().height),o.SetVerticalAlign_qn2em6$(ro()),o.SetHorizontalAlign_jdpdm8$(lo()),o.SetTextVerticalAlign_qn2em6$(ro()),o.SetTextHorizontalAlign_jdpdm8$(lo())),!1}s.SetImageSize_dleff0$(l.width*(1+r),l.height*(1+r));var n=Ke.isType(i=s.GetChild_za3lpa$(1),ma)?i:null;return null!=n&&(n.SetSize_dleff0$(Je(h.v).width*(1+r),Je(h.v).height*(1+r)),n.SetPosition_dleff0$(.5*s.GetSize().width,.5*s.GetSize().height),n.SetVerticalAlign_qn2em6$(ro()),n.SetHorizontalAlign_jdpdm8$(lo()),n.SetTextVerticalAlign_qn2em6$(ro()),n.SetTextHorizontalAlign_jdpdm8$(lo())),!0}))}return Lt.prototype.onPress_dleff0$.call(this,e,t),!0},Kt.prototype.onDrag_dleff0$=function(e,t){return Lt.prototype.onDrag_dleff0$.call(this,e,t),!0},Kt.prototype.onRelease_fzxzdm$=function(e,t,i){var r,o,n,a,s,l=this.convertGlobalToLocalCoordinate_dleff0$(e,t);if(!1===this.GetEnable()){if(!1===this.sendMessage_79egny$(new Hr(Ir(),void 0,void 0,m(Gi(l.first,l.second))),this))return!1;if(!0===this.reaction){var h=Gi(this.GetPosition().x,this.GetPosition().y),u=vn(10,0);u.SetScale_mx4ult$(1.2*this.GetRoot().sizeScale.xRatio),this.addUpdateCallback_sds54w$("button_disabled_action",!1,!1,!0,void 0,void 0,(r=this,o=h,n=u,function(e){if(0===e.elapsed)return r.SetPosition_dleff0$(o.x,o.y),!1;if(.5<e.age)return r.SetPosition_dleff0$(o.x,o.y),!1;n.update_mx4ult$(e.elapsed);var t=n.GetPosition();return r.SetPosition_dleff0$(o.x+t,o.y),!0}))}return!1}if(0===this.state)return!1;if(!0===this.cancelWhenDrag){var c=this.pressPoint.x-e,d=Yt.abs(c)>5*this.GetRoot().sizeScale.xRatio;if(!d){var p=this.pressPoint.y-t;d=Yt.abs(p)>5*this.GetRoot().sizeScale.yRatio}if(d)return this.onCancel()}if(!0===this.reaction){new dn(-80,0,30).SetTimeMultiplier_mx4ult$(2),this.addUpdateCallback_sds54w$("button_action",!0,!1,!0,0,void 0,(a=this,s=l,function(e){return 0!==e.elapsed||(!(a.state=0)===a.sendMessage_79egny$(new Hr(Gr(),void 0,void 0,m(Gi(s.first,s.second))),a)&&a.changeState(),!1)}))}else{this.state=0;var f=this.convertGlobalToLocalCoordinate_dleff0$(e,t);!0===this.sendMessage_79egny$(new Hr(Gr(),void 0,void 0,m(Gi(f.first,f.second))),this)&&this.changeState()}return Lt.prototype.onRelease_fzxzdm$.call(this,e,t,i),!0},Kt.prototype.onCancel=function(){return!1!==this.GetEnable()&&(this.reaction,this.state=0,Lt.prototype.onCancel.call(this),!0)},Kt.prototype.SetSize_dleff0$=function(e,t){var i,r;Lt.prototype.SetSize_dleff0$.call(this,e,t);var o=Ke.isType(i=this.GetChild_za3lpa$(0),sa)?i:null;null!=o&&(o.SetSize_dleff0$(e,t),o.SetPosition_dleff0$(.5*e,.5*t));var n=Ke.isType(r=this.GetChild_za3lpa$(1),ma)?r:null;null!=n&&(n.SetSize_dleff0$(e,t),n.SetPosition_dleff0$(.5*e,.5*t),n.SetVerticalAlign_qn2em6$(ro()),n.SetHorizontalAlign_jdpdm8$(lo()),n.SetTextVerticalAlign_qn2em6$(ro()),n.SetTextHorizontalAlign_jdpdm8$(lo()))},Kt.prototype.SetImageSize_dleff0$=function(e,t){var i,r=Ke.isType(i=this.GetChild_za3lpa$(0),sa)?i:null;null!=r&&r.SetSize_dleff0$(e,t)},Kt.prototype.SetCenterRect_3fx80m$=function(e){var t,i=Ke.isType(t=this.GetChild_za3lpa$(0),sa)?t:null;null!=i&&i.SetCenterRect_3fx80m$(e)},Kt.prototype.adjustSize=function(){},Kt.prototype.SetReaction_6taknv$=function(e){void 0===e&&(e=!0),this.reaction=e},Kt.prototype.SetCancelWhenDrag_6taknv$=function(e){void 0===e&&(e=!0),this.cancelWhenDrag=e},Kt.prototype.SetText_61zpoe$=function(e){var t,i=Ke.isType(t=this.GetChild_za3lpa$(1),Wr)?t:null;null!=i&&(i.SetText_61zpoe$(e),this.adjustSize())},Kt.prototype.SetFontColor_3nzkge$=function(e){var t;void 0===e&&(e=pi(0,0,0));var i=Ke.isType(t=this.GetChild_za3lpa$(1),Wr)?t:null;null!=i&&i.SetFontColor_3nzkge$(e)},Kt.prototype.SetFontSize_mx4ult$=function(e){var t;void 0===e&&(e=32);var i=Ke.isType(t=this.GetChild_za3lpa$(1),Wr)?t:null;null!=i&&(i.SetFontSize_mx4ult$(e),this.adjustSize())},Kt.prototype.GetImageFrame=function(){return this.buttonImageFrame},Kt.prototype.SetImageFrame_a3w2ab$=function(e){for(var t=0;t!==e.length;++t){var i=e[t];t>=this.buttonImageFrame.length||null==i?this.buttonImageFrame[t]=e[0]:null!=qe().shared().GetTexture_61zpoe$(i)?this.buttonImageFrame[t]=i:this.buttonImageFrame[t]=e[0]}this.SetButtonImage()},Kt.prototype.SetClickAdjust_dleff0$=function(e,t){this.clickAdjust.x=e,this.clickAdjust.y=t},Kt.prototype.SetEnable_6taknv$=function(e){this.enable=e,this.SetButtonImage()},Kt.prototype.GetEnable=function(){return this.enable},Kt.prototype.SetButtonImage=function(){var e,t=Ke.isType(e=this.GetChild_za3lpa$(0),sa)?e:null;null!=t&&(!1===this.enable?null!=this.buttonImageFrame[1]&&t.SetImage_9xt0da$(Je(this.buttonImageFrame[1]),this.GetSize().width,this.GetSize().height):0===this.state?null!=this.buttonImageFrame[0]&&t.SetImage_9xt0da$(Je(this.buttonImageFrame[0]),this.GetSize().width,this.GetSize().height):null!=this.buttonImageFrame[2]&&t.SetImage_9xt0da$(Je(this.buttonImageFrame[2]),this.GetSize().width,this.GetSize().height))},Kt.prototype.changeState=function(){this.SetButtonImage()},Kt.prototype.click=function(){!0===this.sendMessage_79egny$(new Hr(Gr(),void 0,void 0,m(Gi(-1,-1))),this)&&this.changeState()},Kt.prototype.defaultMessageHandler_sad1na$=function(e){var t=this.GetParent();return(null==t||!1!==this.sendMessage_2iuq6n$(t,e))&&Lt.prototype.defaultMessageHandler_sad1na$.call(this,e)},Kt.$metadata$={kind:o,simpleName:"Button",interfaces:[Lt]},Qt.$metadata$={kind:o,simpleName:"BlendMode",interfaces:[s]},Qt.values=function(){return[ei(),ti(),ii(),ri(),oi(),ni(),ai()]},Qt.valueOf_61zpoe$=function(e){switch(e){case"alpha":return ei();case"add":return ti();case"subtract":return ii();case"multiply":return ri();case"multiplyX2":return oi();case"screen":return ni();case"replace":return ai();default:c("No enum constant com.blindcatstudio.phantom.graphic.BlendMode."+e)}},si.prototype.hexa2Bytes_61zpoe$=function(e){var t,i=new Int32Array(e.length/2|0);t=e.length-1|0;for(var r=0;r<=t;r+=2)if((r+1|0)<e.length){var o=p(e,new d(r,r+1|0));try{i[r/2|0]=f(o,16)}catch(e){if(!Ke.isType(e,v))throw e;i[r/2|0]=0,k(e.toString())}}return i},si.prototype.compare_3nzkge$=function(e){return this.r===e.r&&this.g===e.g&&this.b===e.b},si.prototype.compareWithAlpha_3nzkge$=function(e){return this.r===e.r&&this.g===e.g&&this.b===e.b&&this.a===e.a},si.prototype.morph_v56z0p$=function(e,t){this.r<e.r?(this.r=this.r+t,this.r>e.r&&(this.r=e.r)):this.r>e.r&&(this.r=this.r-t,this.r<e.r&&(this.r=e.r)),this.g<e.g?(this.g=this.g+t,this.g>e.g&&(this.g=e.g)):this.g>e.g&&(this.g=this.g-t,this.g<e.g&&(this.g=e.g)),this.b<e.b?(this.b=this.b+t,this.b>e.b&&(this.b=e.b)):this.b>e.b&&(this.b=this.b-t,this.b<e.b&&(this.b=e.b)),this.a<e.a?(this.a=this.a+t,this.a>e.a&&(this.a=e.a)):this.a>e.a&&(this.a=this.a-t,this.a<e.a&&(this.a=e.a))},si.prototype.morphOld_v56z0p$=function(e,t){this.r<e.r?(this.r=this.r+.5*t,this.r>e.r&&(this.r=e.r)):this.r>e.r&&(this.r=this.r-.5*t,this.r<e.r&&(this.r=e.r)),this.g<e.g?(this.g=this.g+.5*t,this.g>e.g&&(this.g=e.g)):this.g>e.g&&(this.g=this.g-.5*t,this.g<e.g&&(this.g=e.g)),this.b<e.b?(this.b=this.b+.5*t,this.b>e.b&&(this.b=e.b)):this.b>e.b&&(this.b=this.b-.5*t,this.b<e.b&&(this.b=e.b))},li.prototype.black_mx4ult$=function(e){return void 0===e&&(e=1),pi(0,0,0,e)},li.prototype.white_mx4ult$=function(e){return void 0===e&&(e=1),di(1,1,1,e)},li.prototype.gray_mx4ult$=function(e){return void 0===e&&(e=1),di(.5,.5,.5,e)},li.prototype.clear_mx4ult$=function(e){return void 0===e&&(e=1),di(0,0,0,0)},li.prototype.yellow_mx4ult$=function(e){return void 0===e&&(e=1),pi(255,251,0,e)},li.prototype.red_mx4ult$=function(e){return void 0===e&&(e=1),pi(255,38,0,e)},li.prototype.purple_mx4ult$=function(e){return void 0===e&&(e=1),pi(148,33,146,e)},li.prototype.orange_mx4ult$=function(e){return void 0===e&&(e=1),pi(255,147,0,e)},li.prototype.magenta_mx4ult$=function(e){return void 0===e&&(e=1),pi(255,64,255,e)},li.prototype.green_mx4ult$=function(e){return void 0===e&&(e=1),pi(0,249,0,e)},li.prototype.cyan_mx4ult$=function(e){return void 0===e&&(e=1),pi(0,253,255,e)},li.prototype.brown_mx4ult$=function(e){return void 0===e&&(e=1),pi(170,121,66,e)},li.prototype.blue_mx4ult$=function(e){return void 0===e&&(e=1),pi(4,51,255,e)},li.prototype.tangerine_mx4ult$=function(e){return void 0===e&&(e=1),pi(255,128,0,e)},li.prototype.lemon_mx4ult$=function(e){return void 0===e&&(e=1),pi(255,255,0,e)},li.prototype.salmon_mx4ult$=function(e){return void 0===e&&(e=1),pi(255,102,102,e)},li.prototype.banana_mx4ult$=function(e){return void 0===e&&(e=1),pi(255,255,102,e)},li.prototype.strawberry_mx4ult$=function(e){return void 0===e&&(e=1),pi(255,47,146,e)},li.prototype.maraschino_mx4ult$=function(e){return void 0===e&&(e=1),pi(255,38,0,e)},li.prototype.grape_mx4ult$=function(e){return void 0===e&&(e=1),pi(148,55,255,e)},li.prototype.spring_mx4ult$=function(e){return void 0===e&&(e=1),pi(0,249,0,e)},li.prototype.sky_mx4ult$=function(e){return void 0===e&&(e=1),pi(118,214,255,e)},li.prototype.orchid_mx4ult$=function(e){return void 0===e&&(e=1),pi(122,129,255,e)},li.prototype.plum_mx4ult$=function(e){return void 0===e&&(e=1),pi(148,33,147,e)},li.prototype.aqua_mx4ult$=function(e){return void 0===e&&(e=1),pi(0,128,255,e)},li.prototype.ocean_mx4ult$=function(e){return void 0===e&&(e=1),pi(0,64,128,e)},li.prototype.midnight_mx4ult$=function(e){return void 0===e&&(e=1),pi(0,0,128,e)},li.prototype.eggplant_mx4ult$=function(e){return void 0===e&&(e=1),pi(64,0,128,e)},li.prototype.customYellow_mx4ult$=function(e){return void 0===e&&(e=1),pi(220,195,86,e)},li.prototype.customYellow2_mx4ult$=function(e){return void 0===e&&(e=1),pi(240,244,54,e)},li.prototype.customYellow3_mx4ult$=function(e){return void 0===e&&(e=1),pi(253,219,54,e)},li.prototype.customSky_mx4ult$=function(e){return void 0===e&&(e=1),pi(131,182,204,e)},li.prototype.customSky2_mx4ult$=function(e){return void 0===e&&(e=1),pi(54,178,253,e)},li.prototype.customSky3_mx4ult$=function(e){return void 0===e&&(e=1),pi(54,129,253,e)},li.prototype.customSky4_mx4ult$=function(e){return void 0===e&&(e=1),pi(42,92,195,e)},li.prototype.customGreen_mx4ult$=function(e){return void 0===e&&(e=1),pi(124,219,0,e)},li.prototype.customGameSky_mx4ult$=function(e){return void 0===e&&(e=1),pi(140,208,232,e)},li.prototype.customDeepSpace_mx4ult$=function(e){return void 0===e&&(e=1),pi(40,47,128,e)},li.prototype.customDeepSpace2_mx4ult$=function(e){return void 0===e&&(e=1),pi(39,16,96,e)},li.prototype.customDeepSpace3_mx4ult$=function(e){return void 0===e&&(e=1),pi(64,26,159,e)},li.prototype.customDeepSpace4_mx4ult$=function(e){return void 0===e&&(e=1),pi(21,79,99,e)},li.prototype.customDeepSpace5_mx4ult$=function(e){return void 0===e&&(e=1),pi(27,93,119,e)},li.prototype.customDeepSpace6_mx4ult$=function(e){return void 0===e&&(e=1),pi(50,77,92,e)},li.prototype.customFlat0_mx4ult$=function(e){return void 0===e&&(e=1),pi(50,77,92,e)},li.prototype.customFlat1_mx4ult$=function(e){return void 0===e&&(e=1),pi(70,178,157,e)},li.prototype.customFlat2_mx4ult$=function(e){return void 0===e&&(e=1),pi(240,202,77,e)},li.prototype.customFlat3_mx4ult$=function(e){return void 0===e&&(e=1),pi(227,123,64,e)},li.prototype.customFlat4_mx4ult$=function(e){return void 0===e&&(e=1),pi(222,91,73,e)},li.prototype.customFlatUI0_mx4ult$=function(e){return void 0===e&&(e=1),pi(52,152,219,e)},li.prototype.customFlatUI1_mx4ult$=function(e){return void 0===e&&(e=1),pi(52,73,94,e)},li.prototype.customFlatUI2_mx4ult$=function(e){return void 0===e&&(e=1),pi(46,204,113,e)},li.prototype.customFlatUI3_mx4ult$=function(e){return void 0===e&&(e=1),pi(231,76,60,e)},li.prototype.customFlatUI4_mx4ult$=function(e){return void 0===e&&(e=1),pi(241,196,15,e)},li.prototype.customFranky0_mx4ult$=function(e){return void 0===e&&(e=1),pi(34,72,94,e)},li.prototype.customFranky1_mx4ult$=function(e){return void 0===e&&(e=1),pi(116,176,137,e)},li.prototype.customFranky2_mx4ult$=function(e){return void 0===e&&(e=1),pi(240,230,151,e)},li.prototype.customFranky3_mx4ult$=function(e){return void 0===e&&(e=1),pi(255,158,133,e)},li.prototype.customFranky4_mx4ult$=function(e){return void 0===e&&(e=1),pi(255,84,97,e)},li.prototype.puzzleRed_mx4ult$=function(e){return void 0===e&&(e=1),pi(236,67,57,e)},li.prototype.puzzleRedShadow_mx4ult$=function(e){return void 0===e&&(e=1),pi(193,31,29,e)},li.prototype.puzzleRedBright_mx4ult$=function(e){return void 0===e&&(e=1),pi(175,255,72,e)},li.prototype.puzzleYellow_mx4ult$=function(e){return void 0===e&&(e=1),pi(239,185,32,e)},li.prototype.puzzleYellowShadow_mx4ult$=function(e){return void 0===e&&(e=1),pi(202,148,0,e)},li.prototype.puzzleYellowBright_mx4ult$=function(e){return void 0===e&&(e=1),pi(251,255,52,e)},li.prototype.puzzleGreen_mx4ult$=function(e){return void 0===e&&(e=1),pi(124,184,47,e)},li.prototype.puzzleGreenShadow_mx4ult$=function(e){return void 0===e&&(e=1),pi(78,143,19,e)},li.prototype.puzzleBlue_mx4ult$=function(e){return void 0===e&&(e=1),pi(0,160,220,e)},li.prototype.puzzleBlueShadow_mx4ult$=function(e){return void 0===e&&(e=1),pi(0,119,181,e)},li.prototype.puzzleBlueBright_mx4ult$=function(e){return void 0===e&&(e=1),pi(65,235,255,e)},li.prototype.puzzlePurple_mx4ult$=function(e){return void 0===e&&(e=1),pi(140,104,203,e)},li.prototype.puzzlePurpleShadow_mx4ult$=function(e){return void 0===e&&(e=1),pi(106,75,167,e)},li.prototype.puzzleOrange_mx4ult$=function(e){return void 0===e&&(e=1),pi(244,123,22,e)},li.prototype.puzzlePink_mx4ult$=function(e){return void 0===e&&(e=1),pi(237,71,149,e)},li.prototype.puzzlePinkShadow_mx4ult$=function(e){return void 0===e&&(e=1),pi(201,24,110,e)},li.prototype.puzzleTileGray_mx4ult$=function(e){return void 0===e&&(e=1),pi(58,58,58,e)},li.prototype.puzzleBoardGray_mx4ult$=function(e){return void 0===e&&(e=1),pi(42,42,42,e)},li.prototype.copy_3nzkge$=function(e){return di(e.r,e.g,e.b,e.a)},li.prototype.morphColor_u1nt5b$=function(e,t,i){var r=i;if(1<=r)return r=1,di(t.r,t.g,t.b,t.a);if(r<=0)return r=0,di(e.r,e.g,e.b,e.a);var o=(t.r-e.r)*r;o=e.r+o;var n=(t.g-e.g)*r;n=e.g+n;var a=(t.b-e.b)*r;a=e.b+a;var s=(t.a-e.a)*r;return di(o,n,a,s=e.a+s)},li.$metadata$={kind:a,simpleName:"Companion",interfaces:[]};var hi=null;function ui(){return null===hi&&new li,hi}function ci(e,t,i){void 0===t&&(t=1),i=i||Object.create(si.prototype),si.call(i);var r=i.hexa2Bytes_61zpoe$(e);return i.r=r[0]/255,i.g=r[1]/255,i.b=r[2]/255,i.a=t,i}function di(e,t,i,r,o){return void 0===e&&(e=1),void 0===t&&(t=1),void 0===i&&(i=1),void 0===r&&(r=1),o=o||Object.create(si.prototype),si.call(o),o.r=e,o.g=t,o.b=i,o.a=r,o}function pi(e,t,i,r,o){return void 0===r&&(r=1),o=o||Object.create(si.prototype),si.call(o),o.r=e/255,o.g=t/255,o.b=i/255,o.a=r,o}function fi(){this.text="",this.fontColor=di(),this.fontStrokeColor=di(),this.fontScale=0,this.fontName="",this.fontSize=0,this.thick=-3,this.fontWidth=0,this.fontHeight=0,this.fontSpaceRatio=0,this.whiteSpaceRatio=0,this.textureImage=null,this.justUseImage=!1,this.texturePrefix=null}function mi(e,t,i,r,o,n,a,s,l,h,u){void 0===i&&(i=0),void 0===r&&(r=""),void 0===o&&(o=1),void 0===n&&(n=0),void 0===a&&(a=0),void 0===s&&(s=null),void 0===h&&(h=!0),Xt(e,t,i,u=u||Object.create(fi.prototype)),fi.call(u),u.textureImage=s,u.texturePrefix=l,u.fontScale=o,u.fontSpaceRatio=n,u.whiteSpaceRatio=a,u.justUseImage=h;var c=la(0,0,void 0,u.texturePrefix+"0");return c.SetScale_mx4ult$(o),u.fontWidth=c.GetSize().width,u.fontHeight=c.GetSize().height,u.SetText_61zpoe$(r),u}function vi(){yi(),this.age=0,this.timeToLive=-1,this.name="",this.position=Gi(),this.prevPosition=Gi(),this.local=Gi(),this.movement=Gi(),this.movementMax=w.POSITIVE_INFINITY,this.rotation=Gi(),this.keepDirection=!1,this.direction=Gi(),this.accel=Gi(),this.accelRetain=Gi(),this.drag=Gi(),this.normal=Gi(0,0,1),this.size=1,this.convertPosition=Gi(),this.screenPosition=Gi(),this.screenSize=ji(),this.fixScreenZ=!1,this.screenZ=0,this.xMotion=null,this.yMotion=null,this.zMotion=null,this.originalAlpha_oxgaai$_0=1,this.subAlpha_fnduof$_0=1,this.currentAlpha_o3wgi0$_0=1,this.willBeDestroyed=null,this.localVariables=le()}function gi(){_i=this}si.$metadata$={kind:o,simpleName:"Color",interfaces:[]},fi.prototype.SetSpace_mx4ult$=function(e){void 0===e&&(e=.2),this.fontSpaceRatio=e},fi.prototype.SetWhiteSpace_mx4ult$=function(e){void 0===e&&(e=1),this.whiteSpaceRatio=e},fi.prototype.SetText_61zpoe$=function(e){var t,i,r,o;for(t=g(this.childList).iterator();t.hasNext();){t.next().removeFromParent()}this.childList.clear(),this.text=e;var n=0,a=this.fontHeight;for(i=oe(e);i.hasNext();){var s=ne(i.next());if(32!==s&&160!==s){if(!0===this.justUseImage){var l=la(n,0,void 0,this.texturePrefix+String.fromCharCode(s));l.SetScale_mx4ult$(this.fontScale),l.SetVerticalAlign_qn2em6$(ro()),l.SetHorizontalAlign_jdpdm8$(so()),this.addChild_g5h3xp$(l),n=n+l.GetSize().width+this.fontWidth*this.fontSpaceRatio,l.GetSize().height>a&&(a=l.GetSize().height)}}else n+=this.fontWidth*this.whiteSpaceRatio}for(Lt.prototype.SetSize_dleff0$.call(this,n,a),r=this.childList.iterator();r.hasNext();){var h=r.next(),u=Ke.isType(o=h,sa)?o:null;null!=u&&u.SetPosition_dleff0$(u.GetPosition().x,a/2)}this.SetVerticalAlign_qn2em6$(this.verticalAlign),this.SetHorizontalAlign_jdpdm8$(this.horizontalAlign),this.SetColor_vnjrmz$(this.GetColor()),this.SetBlendFactor_mx4ult$(this.GetBlendFactor()),this.SetBlendMode_ieo8yr$(this.GetBlendMode())},fi.prototype.SetScale_mx4ult$$default=function(e){var t,i,r,o=e;o<0&&(o=0),this.fontScale=this.fontScale*o;var n=la(0,0,void 0,this.texturePrefix+"0");n.SetScale_mx4ult$(this.fontScale),this.fontWidth=n.GetSize().width,this.fontHeight=n.GetSize().height;var a=0,s=this.fontHeight,l=0;for(t=oe(this.text);t.hasNext();){var h=ne(t.next());if(32!==h&&160!==h){var u=this.childList.get_za3lpa$(l);u.SetSize_dleff0$(u.GetSize().width*o,u.GetSize().height*o),u.SetPosition_dleff0$(a,0),a=a+u.GetSize().width+this.fontWidth*this.fontSpaceRatio,u.GetSize().height>s&&(s=u.GetSize().height),l=l+1|0}else a+=this.fontWidth*this.whiteSpaceRatio}for(Lt.prototype.SetSize_dleff0$.call(this,a,s),i=this.childList.iterator();i.hasNext();){var c=i.next(),d=Ke.isType(r=c,sa)?r:null;null!=d&&d.SetPosition_dleff0$(d.GetPosition().x,s/2)}this.SetVerticalAlign_qn2em6$(this.verticalAlign),this.SetHorizontalAlign_jdpdm8$(this.horizontalAlign)},fi.prototype.SetScaleOriginal_mx4ult$=function(e){var t,i;void 0===e&&(e=1);var r=e;r<0&&(r=0),this.fontScale=r;var o=la(0,0,void 0,this.texturePrefix+"0");o.SetScale_mx4ult$(this.fontScale),this.fontWidth=o.GetSize().width;for(var n=0,a=0,s=0,l=0;l<this.childList.size;){var h=this.text.charCodeAt(s);if(s=s+1|0,32!==h&&160!==h){var u=this.childList.get_za3lpa$(l);u.SetSize_dleff0$(u.GetOriginalSize().width*r,u.GetOriginalSize().height*r),u.SetPosition_dleff0$(n,0),n=n+u.GetSize().width+this.fontWidth*this.fontSpaceRatio,u.GetSize().height>a&&(a=u.GetSize().height),l=l+1|0}else n+=this.fontWidth*this.whiteSpaceRatio}for(Lt.prototype.SetSize_dleff0$.call(this,n,a),t=this.childList.iterator();t.hasNext();){var c=t.next(),d=Ke.isType(i=c,sa)?i:null;null!=d&&d.SetPosition_dleff0$(d.GetPosition().x,a/2)}this.SetVerticalAlign_qn2em6$(this.verticalAlign),this.SetHorizontalAlign_jdpdm8$(this.horizontalAlign)},fi.prototype.GetScale=function(){return this.fontScale},fi.prototype.SetSize_dleff0$=function(e,t){var i=this.GetSize();if(0<e){var r=e/i.width;this.SetScale_mx4ult$(r)}else if(0<t){var o=t/i.height;this.SetScale_mx4ult$(o)}},fi.prototype.GetFontColor=function(){return this.fontColor},fi.prototype.SetFontColor_7b5o5w$=function(e,t,i,r){var o,n;for(void 0===e&&(e=1),void 0===t&&(t=1),void 0===i&&(i=1),void 0===r&&(r=1),o=this.childList.iterator();o.hasNext();){var a=o.next(),s=Ke.isType(n=a,sa)?n:null;null!=s&&s.SetColor_sczwbf$(e,t,i,r)}this.fontColor.r=e,this.fontColor.g=t,this.fontColor.b=i,this.fontColor.a=r},fi.prototype.GetFontAlpha=function(){return this.fontColor.a},fi.prototype.SetFontAlpha_mx4ult$=function(e){void 0===e&&(e=1),this.SetFontColor_7b5o5w$(this.fontColor.r,this.fontColor.g,this.fontColor.b,e)},fi.prototype.SetFontSize_mx4ult$=function(e){void 0===e&&(e=32)},fi.prototype.SetFontName_61zpoe$=function(e){},fi.prototype.SetBlendFactor_mx4ult$$default=function(e){var t,i;for(t=this.childList.iterator();t.hasNext();){var r=t.next(),o=Ke.isType(i=r,po)?i:null;null!=o&&o.SetBlendFactor_mx4ult$(e)}this.SetBlendFactor_mx4ult$(e,Lt.prototype.SetBlendFactor_mx4ult$$default.bind(this))},fi.prototype.SetBlendMode_ieo8yr$=function(e){var t,i;for(t=this.childList.iterator();t.hasNext();){var r=t.next(),o=Ke.isType(i=r,po)?i:null;null!=o&&o.SetBlendMode_ieo8yr$(e)}Lt.prototype.SetBlendMode_ieo8yr$.call(this,e)},fi.$metadata$={kind:o,simpleName:"CompositeLabel",interfaces:[Lt]},vi.prototype.initialize=function(){this.age=0,this.timeToLive=-1,this.position.x=0,this.position.y=0,this.position.z=0,this.prevPosition.x=0,this.prevPosition.y=0,this.prevPosition.z=0,this.local.x=0,this.local.y=0,this.local.z=0,this.movement.x=0,this.movement.y=0,this.movement.z=0,this.rotation.x=0,this.rotation.y=0,this.rotation.z=0,this.direction.x=0,this.direction.y=0,this.direction.z=0,this.keepDirection=!1,this.accel.x=0,this.accel.y=0,this.accel.z=0,this.accelRetain.x=0,this.accelRetain.y=0,this.accelRetain.z=0,this.drag.x=0,this.drag.y=0,this.drag.z=0,this.normal.x=0,this.normal.y=0,this.normal.z=1,this.xMotion=null,this.yMotion=null,this.zMotion=null,this.originalAlpha_oxgaai$_0=1,this.subAlpha_fnduof$_0=1,this.currentAlpha_o3wgi0$_0=1,this.willBeDestroyed=null,this.localVariables.clear()},vi.prototype.destroy=function(){this.xMotion=null,this.yMotion=null,this.zMotion=null,this.willBeDestroyed=null,this.localVariables.clear()},vi.prototype.addLocalVariables_bm4g0d$=function(e,t){this.localVariables.put_xwzc9p$(e,t)},vi.prototype.GetLocalVariables_61zpoe$=function(e){return this.localVariables.get_11rb$(e)},vi.prototype.removeLocalVariables_61zpoe$=function(e){return this.localVariables.remove_11rb$(e)},vi.prototype.rotateX_8ca0d4$=function(e,t){if(void 0===t&&(t=!1),0!==e){var i=e%360*(te.PI/180),r=this.position.y*Yt.cos(i)-this.position.z*Yt.sin(i),o=this.position.y*Yt.sin(i)+this.position.z*Yt.cos(i);if(this.position.y=r,this.position.z=o,!0===t){this.direction.x=this.direction.x+e,this.direction.x=this.direction.x%360;var n=this.normal.y*Yt.cos(i)-this.normal.z*Yt.sin(i),a=this.normal.y*Yt.sin(i)+this.normal.z*Yt.cos(i);this.normal.y=n,this.normal.z=a}}},vi.prototype.rotateX_t6gch2$=function(e,t,i){void 0===i&&(i=!1),this.position.x=this.position.x-e.x,this.position.y=this.position.y-e.y,this.position.z=this.position.z-e.z,this.rotateX_8ca0d4$(t,i),this.position.x=this.position.x+e.x,this.position.y=this.position.y+e.y,this.position.z=this.position.z+e.z},vi.prototype.rotateY_8ca0d4$=function(e,t){if(void 0===t&&(t=!1),0!==e){var i=e%360*(te.PI/180),r=this.position.x*Yt.cos(i)+this.position.z*Yt.sin(i),o=-this.position.x*Yt.sin(i)+this.position.z*Yt.cos(i);if(this.position.x=r,this.position.z=o,!0===t){this.direction.y=this.direction.y+e,this.direction.y=this.direction.y%360;var n=this.normal.x*Yt.cos(i)+this.normal.z*Yt.sin(i),a=-this.normal.x*Yt.sin(i)+this.normal.z*Yt.cos(i);this.normal.x=n,this.normal.z=a}}},vi.prototype.rotateY_t6gch2$=function(e,t,i){void 0===i&&(i=!1),this.position.x=this.position.x-e.x,this.position.y=this.position.y-e.y,this.position.z=this.position.z-e.z,this.rotateY_8ca0d4$(t,i),this.position.x=this.position.x+e.x,this.position.y=this.position.y+e.y,this.position.z=this.position.z+e.z},vi.prototype.rotateZ_8ca0d4$=function(e,t){if(void 0===t&&(t=!1),0!==e){var i=e%360*(te.PI/180),r=this.position.x*Yt.cos(i)-this.position.y*Yt.sin(i),o=this.position.x*Yt.sin(i)+this.position.y*Yt.cos(i);if(this.position.x=r,this.position.y=o,!0===t){this.direction.z=this.direction.z+e,this.direction.z=this.direction.z%360;var n=this.normal.x*Yt.cos(i)-this.normal.y*Yt.sin(i),a=this.normal.x*Yt.sin(i)+this.normal.y*Yt.cos(i);this.normal.x=n,this.normal.y=a}}},vi.prototype.rotateZ_t6gch2$=function(e,t,i){void 0===i&&(i=!1),this.position.x=this.position.x-e.x,this.position.y=this.position.y-e.y,this.position.z=this.position.z-e.z,this.rotateZ_8ca0d4$(t,i),this.position.x=this.position.x+e.x,this.position.y=this.position.y+e.y,this.position.z=this.position.z+e.z},vi.prototype.rotateLocalX_mx4ult$=function(e){if(0!==e){var t=e%360*(te.PI/180),i=this.local.y*Yt.cos(t)-this.local.z*Yt.sin(t),r=this.local.y*Yt.sin(t)+this.local.z*Yt.cos(t);this.local.y=i,this.local.z=r,!0===this.keepDirection&&(this.direction.x=this.direction.x+e,this.direction.x=this.direction.x%360,i=this.normal.y*Yt.cos(t)-this.normal.z*Yt.sin(t),r=this.normal.y*Yt.sin(t)+this.normal.z*Yt.cos(t),this.normal.y=i,this.normal.z=r)}},vi.prototype.rotateLocalY_mx4ult$=function(e){if(0!==e){var t=e%360*(te.PI/180),i=this.local.x*Yt.cos(t)+this.local.z*Yt.sin(t),r=-this.local.x*Yt.sin(t)+this.local.z*Yt.cos(t);this.local.x=i,this.local.z=r,!0===this.keepDirection&&(this.direction.y=this.direction.y+e,this.direction.y=this.direction.y%360,i=this.normal.x*Yt.cos(t)+this.normal.z*Yt.sin(t),r=-this.normal.x*Yt.sin(t)+this.normal.z*Yt.cos(t),this.normal.x=i,this.normal.z=r)}},vi.prototype.rotateLocalZ_mx4ult$=function(e){if(0!==e){var t=e%360*(te.PI/180),i=this.local.x*Yt.cos(t)-this.local.y*Yt.sin(t),r=this.local.x*Yt.sin(t)+this.local.y*Yt.cos(t);this.local.x=i,this.local.y=r,!0===this.keepDirection&&(this.direction.z=this.direction.z+e,this.direction.z=this.direction.z%360,i=this.normal.x*Yt.cos(t)-this.normal.y*Yt.sin(t),r=this.normal.x*Yt.sin(t)+this.normal.y*Yt.cos(t),this.normal.x=i,this.normal.y=r)}},vi.prototype.forward_mx4ult$=function(e){this.position.x=this.position.x+e*this.normal.x,this.position.y=this.position.y+e*this.normal.y,this.position.z=this.position.z+e*this.normal.z},vi.prototype.distance_jfpljn$=function(e,t){void 0===t&&(t=0);var i=e.position.z-this.position.z,r=Yt.abs(i);if(1===t){var o=r*r;return Yt.sqrt(o)}var n=e.position.x-this.position.x,a=Yt.abs(n),s=e.position.y-this.position.y,l=Yt.abs(s),h=a*a+l*l+r*r;return Yt.sqrt(h)},vi.prototype.distance_qgvyiu$=function(e){var t=e.x-this.position.x,i=Yt.abs(t),r=e.y-this.position.y,o=Yt.abs(r),n=e.z-this.position.z,a=Yt.abs(n),s=i*i+o*o+a*a;return Yt.sqrt(s)},gi.prototype.copy_xovnep$=function(e){var t=new vi;return t.position=Ai().copy_qgvyiu$(e.position),t.direction=Ai().copy_qgvyiu$(e.direction),t.movement=Ai().copy_qgvyiu$(e.movement),t.size=e.size,t.rotation=Ai().copy_qgvyiu$(e.rotation),t.screenPosition=Ai().copy_qgvyiu$(e.screenPosition),t.screenSize=Pi().copy_g5e0xa$(e.screenSize),t.fixScreenZ=e.fixScreenZ,t.screenZ=e.screenZ,t},gi.$metadata$={kind:a,simpleName:"Companion",interfaces:[]};var _i=null;function yi(){return null===_i&&new gi,_i}function $i(){ki(),this.length=0,this.degree=0,this.point=Gi(),this.theta=0}function bi(){Si=this}vi.prototype.SetXMotion_vn0wwp$=function(e,t,i,r){void 0===t&&(t=!1),void 0===i&&(i=-1),void 0===r&&(r=null),this.xMotion=new Zr(e,t,i,this.age,r)},vi.prototype.SetYMotion_vn0wwp$=function(e,t,i,r){void 0===t&&(t=!1),void 0===i&&(i=-1),void 0===r&&(r=null),this.yMotion=new Zr(e,t,i,this.age,r)},vi.prototype.SetZMotion_vn0wwp$=function(e,t,i,r){void 0===t&&(t=!1),void 0===i&&(i=-1),void 0===r&&(r=null),this.zMotion=new Zr(e,t,i,this.age,r)},vi.prototype.SetOriginalAlpha_mx4ult$=function(e){void 0===e&&(e=1);var t=e;t<0&&(t=0),1<t&&(t=1),this.originalAlpha_oxgaai$_0=t,this.currentAlpha_o3wgi0$_0=t*this.subAlpha_fnduof$_0},vi.prototype.GetOriginalAlpha=function(){return this.originalAlpha_oxgaai$_0},vi.prototype.SetSubAlpha_mx4ult$$default=function(e){this.subAlpha_fnduof$_0=e,this.subAlpha_fnduof$_0<0&&(this.subAlpha_fnduof$_0=0),1<this.subAlpha_fnduof$_0&&(this.subAlpha_fnduof$_0=1),this.currentAlpha_o3wgi0$_0=this.originalAlpha_oxgaai$_0*this.subAlpha_fnduof$_0},vi.prototype.SetSubAlpha_mx4ult$=function(e,t){void 0===e&&(e=1),t?t(e):this.SetSubAlpha_mx4ult$$default(e)},vi.prototype.GetSubAlpha=function(){return this.subAlpha_fnduof$_0},vi.prototype.GetCurrentAlpha=function(){return this.currentAlpha_o3wgi0$_0},vi.prototype.SetCallback_lnidq9$=function(e){this.willBeDestroyed=null,this.willBeDestroyed=e},vi.prototype.update_mx4ult$=function(e){var t,i,r;this.age+=e;var o=this.xMotion;null!=o&&(-1!==o.time&&o.startTime+o.time<this.age||!0===o.motion.isFinish()?(null!=(t=o.callback)&&t(),this.xMotion=null):!0===o.relative?(o.motion.update_mx4ult$(e),this.position.x=this.position.x+o.motion.GetPositionDelta()):this.position.x=o.motion.update_mx4ult$(e)),null!=(o=this.yMotion)&&(-1!==o.time&&o.startTime+o.time<this.age||!0===o.motion.isFinish()?(null!=(i=o.callback)&&i(),this.yMotion=null):!0===o.relative?(o.motion.update_mx4ult$(e),this.position.y=this.position.y+o.motion.GetPositionDelta()):this.position.y=o.motion.update_mx4ult$(e)),null!=(o=this.zMotion)&&(-1!==o.time&&o.startTime+o.time<this.age||!0===o.motion.isFinish()?(null!=(r=o.callback)&&r(),this.zMotion=null):!0===o.relative?(o.motion.update_mx4ult$(e),this.position.z=this.position.z+o.motion.GetPositionDelta()):this.position.z=o.motion.update_mx4ult$(e))},vi.prototype.screenHitTestCircle_y2kzbl$=function(e,t,i){if(void 0===i&&(i=1),0===this.currentAlpha_o3wgi0$_0)return!1;var r=this.screenPosition.x-e,o=this.screenPosition.y-t,n=r*r+o*o;return Yt.sqrt(n)<=this.screenSize.width/2*i},vi.prototype.screenHitTestSquare_dleff0$=function(e,t){return 0!==this.currentAlpha_o3wgi0$_0&&(e>=this.screenPosition.x&&e<=this.screenPosition.x+this.screenSize.width&&t>=this.screenPosition.y&&t<=this.screenPosition.y+this.screenSize.height)},vi.$metadata$={kind:o,simpleName:"Object3D",interfaces:[]},$i.prototype.SetLength_mx4ult$=function(e){this.length=e,this.calculate()},$i.prototype.GetLength=function(){return this.length},$i.prototype.SetDegree_mx4ult$=function(e){this.degree=e,this.calculate()},$i.prototype.GetDegree=function(){return this.degree},$i.prototype.GetX=function(){return this.point.x},$i.prototype.GetY=function(){return this.point.y},$i.prototype.calculate=function(){this.theta=this.degree*(te.PI/180);var e=this.point,t=this.length,i=this.theta;e.x=t*Yt.cos(i);var r=this.point,o=this.length,n=this.theta;r.y=o*Yt.sin(n)},$i.prototype.angleBetween_qgvyiu$=function(e){var t=wi(e.x,e.y);return this.angleBetween_xsbbqk$(t)},$i.prototype.angleBetween_xsbbqk$=function(e){return e.GetDegree()-this.degree},bi.prototype.copy_xsbbqk$=function(e){var t=wi();return t.length=e.length,t.degree=e.degree,t.calculate(),t},bi.$metadata$={kind:a,simpleName:"Companion",interfaces:[]};var Si=null;function ki(){return null===Si&&new bi,Si}function wi(e,t,i){void 0===e&&(e=1),void 0===t&&(t=1),i=i||Object.create($i.prototype),$i.call(i);var r=(i.point.x=e)*e+(i.point.y=t)*t;return i.length=Yt.sqrt(r),i.theta=Yt.atan2(e,t),i.degree=i.theta/(te.PI/180),i}function xi(e,t,i){i=i||Object.create($i.prototype),$i.call(i);var r=t.x-e.x,o=t.y-e.y,n=(i.point.x=r)*r+(i.point.y=o)*o;return i.length=Yt.sqrt(n),i.theta=Yt.atan2(r,o),i.degree=i.theta/(te.PI/180),i}function Ci(){Ai(),this.x=0,this.y=0,this.z=0,this.length=0,this.normalX=0,this.normalY=0,this.normalZ=0}function zi(){Ti=this}$i.$metadata$={kind:o,simpleName:"Vector",interfaces:[]},Ci.prototype.length2D=function(){var e=this.x*this.x+this.y*this.y;return Yt.sqrt(e)},Ci.prototype.SetLength2D_mx4ult$=function(e){var t=this.x*this.x+this.y*this.y,i=Yt.sqrt(t),r=this.x/i,o=this.y/i;this.x=r*e,this.y=o*e},Ci.prototype.distance2D_qgvyiu$=function(e){var t=e.x-this.x,i=e.y-this.y,r=t*t+i*i;return Yt.sqrt(r)},Ci.prototype.normalize=function(){var e=this.x*this.x+this.y*this.y+this.z*this.z;this.length=Yt.sqrt(e),this.normalX=this.x/this.length,this.normalY=this.y/this.length,this.normalZ=this.z/this.length},Ci.prototype.GetDegree=function(){var e=this.x,t=this.y;return Yt.atan2(e,t)/(te.PI/180)},Ci.prototype.rotateX_mx4ult$=function(e){var t=e%360;if(0!==t){var i=t*(te.PI/180),r=this.y*Yt.cos(i)-this.z*Yt.sin(i),o=this.y*Yt.sin(i)+this.z*Yt.cos(i);this.y=r,this.z=o}},Ci.prototype.rotateY_mx4ult$=function(e){var t=e%360;if(0!==t){var i=t*(te.PI/180),r=this.x*Yt.cos(i)+this.z*Yt.sin(i),o=-this.x*Yt.sin(i)+this.z*Yt.cos(i);this.x=r,this.z=o}},Ci.prototype.rotateZ_mx4ult$=function(e){var t=e%360;if(0!==t){var i=t*(te.PI/180),r=this.x*Yt.cos(i)-this.y*Yt.sin(i),o=this.x*Yt.sin(i)+this.y*Yt.cos(i);this.x=r,this.y=o}},zi.prototype.distanceToSegment_tnhs7q$=function(e,t,i){var r=t.x-e.x,o=t.y-e.y;if(0===r&&0===o)return e.distance2D_qgvyiu$(i);var n=((i.x-e.x)*r+(i.y-e.y)*o)/(r*r+o*o);Gi();return(n<0?e:1<n?t:Gi(e.x+n*r,e.y+n*o)).distance2D_qgvyiu$(i)},zi.prototype.copy_qgvyiu$=function(e){return Gi(e.x,e.y,e.z)},zi.$metadata$={kind:a,simpleName:"Companion",interfaces:[]};var Ti=null;function Ai(){return null===Ti&&new zi,Ti}function Gi(e,t,i,r){return void 0===e&&(e=0),void 0===t&&(t=0),void 0===i&&(i=0),r=r||Object.create(Ci.prototype),Ci.call(r),r.x=e,r.y=t,r.z=i,r}function Ii(){this.a=0,this.b=0,this.c=0,this.d=0}function Ni(e,t,i,r,o){return void 0===e&&(e=0),void 0===t&&(t=0),void 0===i&&(i=0),void 0===r&&(r=0),o=o||Object.create(Ii.prototype),Ii.call(o),o.a=e,o.b=t,o.c=i,o.d=r,o}function Oi(){Pi(),this.width=0,this.height=0}function Mi(){Ri=this}Ci.$metadata$={kind:o,simpleName:"Position",interfaces:[]},Ii.prototype.test_qgvyiu$=function(e){return this.a*e.x+this.b*e.y+this.c*e.z+this.d},Ii.$metadata$={kind:o,simpleName:"Plane",interfaces:[]},Mi.prototype.copy_g5e0xa$=function(e){return ji(e.width,e.height)},Mi.$metadata$={kind:a,simpleName:"Companion",interfaces:[]};var Ri=null;function Pi(){return null===Ri&&new Mi,Ri}function ji(e,t,i){return void 0===e&&(e=0),void 0===t&&(t=0),i=i||Object.create(Oi.prototype),Oi.call(i),i.width=e,i.height=t,i}function Bi(){Fi(),this.x=0,this.y=0,this.width=0,this.height=0}function Ei(){Li=this}Oi.$metadata$={kind:o,simpleName:"Size",interfaces:[]},Ei.prototype.copy_g5erez$=function(e){return Di(e.x,e.y,e.width,e.height)},Ei.$metadata$={kind:a,simpleName:"Companion",interfaces:[]};var Li=null;function Fi(){return null===Li&&new Ei,Li}function Di(e,t,i,r,o){return void 0===e&&(e=0),void 0===t&&(t=0),void 0===i&&(i=0),void 0===r&&(r=0),o=o||Object.create(Bi.prototype),Bi.call(o),o.x=e,o.y=t,o.width=i,o.height=r,o}function Vi(e,t,i,r,o,n){fr(),void 0===e&&(e=320),void 0===t&&(t=480),void 0===i&&(i=-1),void 0===r&&(r=-1),void 0===o&&(o=-1),void 0===n&&(n=-1),this.originX=0,this.originY=0,this.newX=0,this.newY=0,this.xRatio=0,this.yRatio=0,this.originalRatio=0,this.originX=e,this.originY=t,-1!==i&&-1!==r?(this.xRatio=i,this.yRatio=r,this.newX=this.originX*i,this.newY=this.originY*r):-1!==o&&-1!==n?(this.newX=o,this.newY=n,this.xRatio=o/e,this.yRatio=n/t):(this.xRatio=1,this.yRatio=1,this.newX=this.originX*i,this.newY=this.originY*r),this.originalRatio=this.originX/this.originY}function Ui(){pr=this}Bi.$metadata$={kind:o,simpleName:"Rect",interfaces:[]},Vi.prototype.SetSize_dleff0$=function(e,t){this.originX=this.newX,this.originY=this.newY,this.newX=e,this.newY=t,this.xRatio=this.newX/this.originX,this.yRatio=this.newY/this.originY,this.originalRatio=this.originX/this.originY},Vi.prototype.GetConstraintSmall=function(){return this.xRatio<this.yRatio?this.xRatio:this.yRatio},Vi.prototype.GetConstraintBig=function(){return this.xRatio>this.yRatio?this.xRatio:this.yRatio},Vi.prototype.keepOriginalRatio_6taknv$=function(e){void 0===e&&(e=!0),!0===e?this.xRatio<this.yRatio?(this.newY=this.newX/this.originalRatio,this.yRatio=this.newY/this.originY):(this.newX=this.newY*this.originalRatio,this.xRatio=this.newX/this.originX):this.xRatio<this.yRatio?(this.newX=this.newY*this.originalRatio,this.xRatio=this.newX/this.originX):(this.newY=this.newX/this.originalRatio,this.yRatio=this.newY/this.originY)},Ui.prototype.copy_3fer1j$=function(e){return new Vi(e.originX,e.originY,void 0,void 0,e.newX,e.newY)},Ui.$metadata$={kind:a,simpleName:"Companion",interfaces:[]};var qi,Hi,Wi,Yi,Xi,Ki,Zi,Qi,Ji,er,tr,ir,rr,or,nr,ar,sr,lr,hr,ur,cr,dr,pr=null;function fr(){return null===pr&&new Ui,pr}function mr(e,t){s.call(this),this.name$=e,this.ordinal$=t}function vr(){vr=function(){},qi=new mr("touch_BEGIN",0),Hi=new mr("touch_DRAG",1),Wi=new mr("touch_END",2),Yi=new mr("touch_CANCEL",3),Xi=new mr("window_CLOSE",4),Ki=new mr("window_CANCEL",5),Zi=new mr("window_OK",6),Qi=new mr("window_SIZE",7),Ji=new mr("window_MOVE",8),er=new mr("window_SHOW",9),tr=new mr("window_HIDE",10),ir=new mr("button_PRESS",11),rr=new mr("button_DISABLED_PRESS",12),or=new mr("button_RELEASE",13),nr=new mr("button_DISABLED_RELEASE",14),ar=new mr("button_CANCEL",15),sr=new mr("button_STARTDRAG",16),lr=new mr("button_DRAGGING",17),hr=new mr("button_ENDDRAG",18),ur=new mr("slider_MOVE",19),cr=new mr("move",20),dr=new mr("update",21)}function gr(){return vr(),qi}function _r(){return vr(),Hi}function yr(){return vr(),Wi}function $r(){return vr(),Yi}function br(){return vr(),Xi}function Sr(){return vr(),Ki}function kr(){return vr(),Zi}function wr(){return vr(),Qi}function xr(){return vr(),Ji}function Cr(){return vr(),er}function zr(){return vr(),tr}function Tr(){return vr(),ir}function Ar(){return vr(),rr}function Gr(){return vr(),or}function Ir(){return vr(),nr}function Nr(){return vr(),ar}function Or(){return vr(),sr}function Mr(){return vr(),lr}function Rr(){return vr(),hr}function Pr(){return vr(),ur}function jr(){return vr(),cr}function Br(){return vr(),dr}Vi.$metadata$={kind:o,simpleName:"Scale",interfaces:[]},mr.$metadata$={kind:o,simpleName:"Event",interfaces:[s]},mr.values=function(){return[gr(),_r(),yr(),$r(),br(),Sr(),kr(),wr(),xr(),Cr(),zr(),Tr(),Ar(),Gr(),Ir(),Nr(),Or(),Mr(),Rr(),Pr(),jr(),Br()]},mr.valueOf_61zpoe$=function(e){switch(e){case"touch_BEGIN":return gr();case"touch_DRAG":return _r();case"touch_END":return yr();case"touch_CANCEL":return $r();case"window_CLOSE":return br();case"window_CANCEL":return Sr();case"window_OK":return kr();case"window_SIZE":return wr();case"window_MOVE":return xr();case"window_SHOW":return Cr();case"window_HIDE":return zr();case"button_PRESS":return Tr();case"button_DISABLED_PRESS":return Ar();case"button_RELEASE":return Gr();case"button_DISABLED_RELEASE":return Ir();case"button_CANCEL":return Nr();case"button_STARTDRAG":return Or();case"button_DRAGGING":return Mr();case"button_ENDDRAG":return Rr();case"slider_MOVE":return Pr();case"move":return jr();case"update":return Br();default:c("No enum constant com.blindcatstudio.phantom.graphic.Event."+e)}};var Er,Lr,Fr,Dr,Vr,Ur,qr=Ke.kotlin.collections.emptyList_287e2$;function Hr(e,t,i,r,o,n,a){void 0===t&&(t=null),void 0===i&&(i=null),void 0===r&&(r=qr()),void 0===o&&(o=-1),void 0===n&&(n=0),void 0===a&&(a=!1),this.event=e,this.sender=t,this.receiver=i,this.parameter=r,this.value=o,this.valueFloat=n,this.isBroadcast=!1}function Wr(){this.autoSizeAdjust=!1,this.text="",this.fontColor=null,this.fontName="",this.fontSize=0}function Yr(e,t,i,r,o,n,a,s){var l;void 0===i&&(i=0),void 0===r&&(r=""),void 0===o&&(o="ChalkboardSE-Bold"),void 0===n&&(n=10),void 0===a&&(a=ui().white_mx4ult$()),fo(e,t,i,s=s||Object.create(Wr.prototype)),Wr.call(s),s.fontColor=a,s.fontName=o,s.fontSize=n;var h=Ie().shared().createGuestLabel_61zpoe$(o);return h.SetText_61zpoe$(r),h.SetFontSize_mx4ult$(n),s.addObject_s8jyv4$(Ke.isType(l=h,b)?l:Ee()),!0===s.autoSizeAdjust&&s.SetSize_dleff0$(h.GetFrameSize().width,h.GetFrameSize().height),s.SetFontColor_3nzkge$(a),s.SetVerticalAlign_qn2em6$(ro()),s.SetHorizontalAlign_jdpdm8$(lo()),s.text=r,s}function Xr(){this.delegateConvertCoordinate=!0}function Kr(e,t,i,r,o,n,a,s){var l;void 0===i&&(i=0),void 0===o&&(o=0),void 0===n&&(n=0),void 0===a&&(a=!0),fo(e,t,i,s=s||Object.create(Xr.prototype)),Xr.call(s),s.delegateConvertCoordinate=a;var h=Ie().shared().createGuestMask_h2vgz3$(qe().shared().GetTexture_61zpoe$(r));return h.SetZPosition_mx4ult$(i),s.addObject_s8jyv4$(Ke.isType(l=h,b)?l:Ee()),0<o?s.SetSize_dleff0$(o,n):po.prototype.SetSize_dleff0$.call(s,h.GetSize().width,h.GetSize().height),s}function Zr(e,t,i,r,o){this.motion=e,this.relative=t,this.time=i,this.startTime=r,this.callback=o}function Qr(e,t,i,r,o,n,a){void 0===t&&(t=""),void 0===i&&(i=!1),void 0===r&&(r=-1),void 0===o&&(o=0),void 0===n&&(n=0),this.caller=e,this.name=t,this.exclusive=i,this.timeToLive=r,this.interval=o,this.mode=n,this.age=0,this.elapsed=0,this.count=0,this.callback=a}function Jr(){this.parameter=Fe(),this.value=null,this.floatValue=0}function eo(e,t){s.call(this),this.name$=e,this.ordinal$=t}function to(){to=function(){},Er=new eo("top",0),Lr=new eo("center",1),Fr=new eo("bottom",2)}function io(){return to(),Er}function ro(){return to(),Lr}function oo(){return to(),Fr}function no(e,t){s.call(this),this.name$=e,this.ordinal$=t}function ao(){ao=function(){},Dr=new no("left",0),Vr=new no("center",1),Ur=new no("right",2)}function so(){return ao(),Dr}function lo(){return ao(),Vr}function ho(){return ao(),Ur}function uo(){this.active=!0,this.name="",this.x_nkfebn$_0=0,this.y_nkfeas$_0=0,this.z_nkfe9x$_0=0,this.parent=null,this.verticalAlign=io(),this.horizontalAlign=so(),this.positionOffset=Gi(),this.percentCoordinate=!1,this.originalSize=ji(),this.size=ji(),this.scale=1,this.positionScale=new Vi,this.sizeScale=new Vi,this.color=ui().white_mx4ult$(),this.masterAlpha=1,this.originalAlpha=1,this.childList=Fe(),this.objectList=Fe(),this.timeToLive=-1,this.age=0,this.timeScale=1,this.updateCallback=Fe(),this.inputOwner=null,this.drag=!1,this.show=!0,this.modal=!1,this.localVariables=new Jr,this.messageHandler=null,this.xMotion=null,this.yMotion=null,this.zMotion=null,this.motionAdjust=Gi()}function co(e,t,i,r){return void 0===e&&(e=0),void 0===t&&(t=0),void 0===i&&(i=0),r=r||Object.create(uo.prototype),uo.call(r),r.SetPosition_dleff0$(e,t),r.SetZPosition_8ca0d4$(i),r}function po(){this.anchor=Gi(0,1),this.rotation=0,this.colorBlendFactor=1,this.blendMode=ei()}function fo(e,t,i,r){return void 0===i&&(i=0),co(e,t,i,r=r||Object.create(po.prototype)),po.call(r),r.anchor=Gi(.5,.5),r}function mo(){vo=this}Hr.$metadata$={kind:o,simpleName:"Message",interfaces:[]},Wr.prototype.SetRotation_mx4ult$$default=function(e){var t;if(this.rotation!==e){var i=Ke.isType(t=this.GetObject(),Se)?t:null;null!=i&&(i.SetZRotation_mx4ult$(e),this.rotation=e)}},Wr.prototype.SetAlign_vkgmrm$=function(e,t){this.SetVerticalAlign_qn2em6$(e),this.SetHorizontalAlign_jdpdm8$(t)},Wr.prototype.SetVerticalAlign_qn2em6$=function(e){switch((this.verticalAlign=e).name){case"top":this.positionOffset.y=0;break;case"center":this.positionOffset.y=-1*(this.GetSize().height+1)*.5;break;case"bottom":this.positionOffset.y=-1*(this.GetSize().height+1)}},Wr.prototype.GetVerticalAlign=function(){return this.verticalAlign},Wr.prototype.GetHorizontalAlign=function(){return this.horizontalAlign},Wr.prototype.GetText=function(){return this.text},Wr.prototype.SetText_61zpoe$=function(e){var t,i=Ke.isType(t=this.GetObject(),Se)?t:null;null!=i&&(i.SetText_61zpoe$(e),this.text=e,!0===this.autoSizeAdjust&&this.SetSize_dleff0$(i.GetFrameSize().width,i.GetFrameSize().height))},Wr.prototype.SetFontColor_hu04m1$=function(e,t,i,r){void 0===e&&(e=255),void 0===t&&(t=255),void 0===i&&(i=255),void 0===r&&(r=1),this.SetFontColor_7b5o5w$(e/255,t/255,i/255,r)},Wr.prototype.SetFontColor_7b5o5w$=function(e,t,i,r){var o;void 0===e&&(e=1),void 0===t&&(t=1),void 0===i&&(i=1),void 0===r&&(r=1);var n=Ke.isType(o=this.GetObject(),Se)?o:null;null!=n&&n.SetFontColor_7b5o5w$(e,t,i,r),this.fontColor.r=e,this.fontColor.g=t,this.fontColor.b=i,this.fontColor.a=r},Wr.prototype.GetFontColor=function(){return this.fontColor},Wr.prototype.SetFontAlpha_mx4ult$=function(e){void 0===e&&(e=1),this.SetFontColor_7b5o5w$(this.fontColor.r,this.fontColor.g,this.fontColor.b,e)},Wr.prototype.SetFontColor_3nzkge$=function(e){var t;void 0===e&&(e=ui().white_mx4ult$());var i=Ke.isType(t=this.GetObject(),Se)?t:null;null!=i&&i.SetFontColor_7b5o5w$(e.r,e.g,e.b,e.a)},Wr.prototype.SetFontSize_mx4ult$=function(e){var t;void 0===e&&(e=32);var i=Ke.isType(t=this.GetObject(),Se)?t:null;null!=i&&(i.SetFontSize_mx4ult$(e),!0===this.autoSizeAdjust&&this.SetSize_dleff0$(i.GetFrameSize().width,i.GetFrameSize().height)),this.fontSize=e},Wr.prototype.GetSize=function(){var e,t=Ke.isType(e=this.GetObject(),Se)?e:null;return null!=t?t.GetSize():ji()},Wr.prototype.SetSize_dleff0$=function(e,t){var i,r=Ke.isType(i=this.GetObject(),Se)?i:null;null!=r&&(r.SetSize_dleff0$(e,t),this.originalSize=ji(e,t)),this.SetAlign_vkgmrm$(this.verticalAlign,this.horizontalAlign)},Wr.prototype.SetScaleOriginal_mx4ult$=function(e){var t,i=this.originalSize.height*e,r=Ke.isType(t=this.GetObject(),Se)?t:null;null!=r&&r.SetSize_dleff0$(-1,i),this.SetAlign_vkgmrm$(this.verticalAlign,this.horizontalAlign)},Wr.prototype.GetScaleOriginal=function(){return this.GetSize().height/this.originalSize.height},Wr.prototype.GetFontSize=function(){return this.fontSize},Wr.prototype.SetColor_sczwbf$$default=function(e,t,i,r,o){var n;this.SetColor_sczwbf$(e,t,i,r,o,po.prototype.SetColor_sczwbf$$default.bind(this));var a=Ke.isType(n=this.GetObject(),Se)?n:null;null!=a&&a.SetColor_7b5o5w$(e,t,i,r)},Wr.prototype.SetAlpha_8ca0d4$$default=function(e,t){var i;this.SetAlpha_8ca0d4$(e,t,po.prototype.SetAlpha_8ca0d4$$default.bind(this));var r=Ke.isType(i=this.GetObject(),Se)?i:null;null!=r&&r.SetAlpha_mx4ult$(this.color.a)},Wr.prototype.SetBlendFactor_mx4ult$$default=function(e){var t,i=Ke.isType(t=this.GetObject(),Se)?t:null;null!=i&&i.SetColorBlendFactor_mx4ult$(e),this.SetBlendFactor_mx4ult$(e,po.prototype.SetBlendFactor_mx4ult$$default.bind(this))},Wr.prototype.SetBlendMode_ieo8yr$=function(e){var t,i=Ke.isType(t=this.GetObject(),Se)?t:null;null!=i&&i.SetBlendMode_ieo8yr$(e),po.prototype.SetBlendMode_ieo8yr$.call(this,e)},Wr.$metadata$={kind:o,simpleName:"Label",interfaces:[po]},Xr.prototype.SetSize_dleff0$=function(e,t){var i,r=Ke.isType(i=this.GetObject(),be)?i:null;null!=r&&(r.SetSize_dleff0$(e,t),po.prototype.SetSize_dleff0$.call(this,e,t))},Xr.prototype.GetTextureSize=function(){var e,t=Ke.isType(e=this.GetObject(),be)?e:null;return null!=t?t.GetTextureSize():null},Xr.prototype.SetColor_sczwbf$$default=function(e,t,i,r,o){var n;this.SetColor_sczwbf$(e,t,i,r,o,po.prototype.SetColor_sczwbf$$default.bind(this));var a=Ke.isType(n=this.GetObject(),be)?n:null;null!=a&&a.SetColor_7b5o5w$(this.color.r,this.color.g,this.color.b,this.color.a)},Xr.$metadata$={kind:o,simpleName:"Mask",interfaces:[po]},Zr.$metadata$={kind:o,simpleName:"MotionInfo",interfaces:[]},Zr.prototype.component1=function(){return this.motion},Zr.prototype.component2=function(){return this.relative},Zr.prototype.component3=function(){return this.time},Zr.prototype.component4=function(){return this.startTime},Zr.prototype.component5=function(){return this.callback},Zr.prototype.copy_yrjqrw$=function(e,t,i,r,o){return new Zr(void 0===e?this.motion:e,void 0===t?this.relative:t,void 0===i?this.time:i,void 0===r?this.startTime:r,void 0===o?this.callback:o)},Zr.prototype.toString=function(){return"MotionInfo(motion="+Ke.toString(this.motion)+", relative="+Ke.toString(this.relative)+", time="+Ke.toString(this.time)+", startTime="+Ke.toString(this.startTime)+", callback="+Ke.toString(this.callback)+")"},Zr.prototype.hashCode=function(){var e=0;return e=31*(e=31*(e=31*(e=31*(e=31*e+Ke.hashCode(this.motion)|0)+Ke.hashCode(this.relative)|0)+Ke.hashCode(this.time)|0)+Ke.hashCode(this.startTime)|0)+Ke.hashCode(this.callback)|0},Zr.prototype.equals=function(e){return this===e||null!==e&&"object"==typeof e&&Object.getPrototypeOf(this)===Object.getPrototypeOf(e)&&Ke.equals(this.motion,e.motion)&&Ke.equals(this.relative,e.relative)&&Ke.equals(this.time,e.time)&&Ke.equals(this.startTime,e.startTime)&&Ke.equals(this.callback,e.callback)},Qr.$metadata$={kind:o,simpleName:"CallbackInfo",interfaces:[]},Jr.$metadata$={kind:o,simpleName:"LocalVariables",interfaces:[]},eo.$metadata$={kind:o,simpleName:"VerticalAlign",interfaces:[s]},eo.values=function(){return[io(),ro(),oo()]},eo.valueOf_61zpoe$=function(e){switch(e){case"top":return io();case"center":return ro();case"bottom":return oo();default:c("No enum constant com.blindcatstudio.phantom.graphic.VerticalAlign."+e)}},no.$metadata$={kind:o,simpleName:"HorizontalAlign",interfaces:[s]},no.values=function(){return[so(),lo(),ho()]},no.valueOf_61zpoe$=function(e){switch(e){case"left":return so();case"center":return lo();case"right":return ho();default:c("No enum constant com.blindcatstudio.phantom.graphic.HorizontalAlign."+e)}},Object.defineProperty(uo.prototype,"x",{get:function(){return this.x_nkfebn$_0+this.motionAdjust.x},set:function(e){this.x_nkfebn$_0=e}}),Object.defineProperty(uo.prototype,"y",{get:function(){return this.y_nkfeas$_0+this.motionAdjust.y},set:function(e){this.y_nkfeas$_0=e}}),Object.defineProperty(uo.prototype,"z",{get:function(){return this.z_nkfe9x$_0+this.motionAdjust.z},set:function(e){this.z_nkfe9x$_0=e}}),uo.prototype.afterAttached=function(){},uo.prototype.beforeDetached=function(){},uo.prototype.SetTimeToLive_mx4ult$=function(e){this.timeToLive=this.age+e},uo.prototype.GetTimeToLive=function(){return this.timeToLive},uo.prototype.SetInactive=function(){this.active=!1,this.updateCallback.clear(),null!=this.messageHandler&&(this.messageHandler=null),this.xMotion=null,this.yMotion=null,this.zMotion=null},uo.prototype.SetActive=function(){this.active=!0},uo.prototype.SetName_61zpoe$=function(e){this.name=e},uo.prototype.GetName=function(){return this.name},uo.prototype.SetParent_3hy050$=function(e){this.parent=e},uo.prototype.SetSizeScale_3fer1j$=function(e){this.sizeScale=e},uo.prototype.GetSizeScale=function(){return this.sizeScale},uo.prototype.GetParent=function(){return this.parent},uo.prototype.GetRoot=function(){var e=this.GetParent();return null!=e?e.GetRoot():this},uo.prototype.GetObjectList=function(){return this.objectList},uo.prototype.GetObject=function(){return 0===this.objectList.size?null:this.objectList.get_za3lpa$(0)},uo.prototype.GetObject_za3lpa$=function(e){return e<this.objectList.size?this.objectList.get_za3lpa$(e):null},uo.prototype.addObject_s8jyv4$=function(e){this.objectList.add_11rb$(e)},uo.prototype.addChild_g5h3xp$=function(e){e.SetParent_3hy050$(this),this.childList.add_11rb$(e),e.afterAttached()},uo.prototype.removeObject_za3lpa$=function(e){e<this.objectList.size&&null!=this.objectList.get_za3lpa$(e)&&this.objectList.removeAt_za3lpa$(e)},uo.prototype.detachChild_g5h3xp$=function(e){var t,i=0;for(t=this.childList.iterator();t.hasNext();){var r=t.next();if(r===e){r.beforeDetached(),r.SetParent_3hy050$(null),this.childList.removeAt_za3lpa$(i);break}i=i+1|0}},uo.prototype.freeAdditionalResource=function(){},uo.prototype.freeObject=function(){var e;e=this.objectList;for(var t=0;t!==e.size;++t)this.objectList.set_wxm5ur$(t,null);this.objectList.clear()},uo.prototype.removeFromParent=function(){var e,t;for(this.update_mx4ult$(0),this.updateCallback.clear(),this.xMotion=null,this.yMotion=null,this.zMotion=null,e=ge(this.childList).iterator();e.hasNext();){e.next().removeFromParent()}this.childList.clear(),null!=this.messageHandler&&(this.messageHandler=null),this.freeAdditionalResource(),this.freeObject(),null!=this.parent&&null!=(t=this.parent)&&t.detachChild_g5h3xp$(this)},uo.prototype.isChild_g5h3xp$=function(e){var t;for(t=this.childList.iterator();t.hasNext();){var i=t.next();if(i===e)return!0;if(!0===i.isChild_g5h3xp$(e))return!0}return!1},uo.prototype.GetChildList=function(){return this.childList},uo.prototype.GetChild_za3lpa$=function(e){return e>=this.childList.size?null:this.childList.get_za3lpa$(e)},uo.prototype.GetInputOwner=function(){return this.inputOwner},uo.prototype.SetInputOwner_3hy050$=function(e){this.inputOwner=null==e?null:e},uo.prototype.GetDrag=function(){return this.drag},uo.prototype.SetDrag_6taknv$=function(e){this.drag=e},uo.prototype.GetPosition=function(){return Gi(this.x,this.y)},uo.prototype.SetPosition_dleff0$=function(e,t){this.x=e,this.y=t},uo.prototype.convertCoordinateUniversal_f8jzzg$=function(e,t){void 0===t&&(t=null);var i=t;null==i&&(i=this.positionScale);var r=e.x,o=e.y;return Gi(r*i.xRatio,o*i.yRatio)},uo.prototype.SetPositionUniversal_8nqnh6$=function(e,t,i){var r;void 0===i&&(i=null);var o=i;null==o&&(o=null!=(r=this.parent)?r.sizeScale:null);var n=this.convertCoordinateUniversal_f8jzzg$(Gi(e,t),o);this.SetPosition_dleff0$(n.x,n.y)},uo.prototype.GetZPosition=function(){return this.z},uo.prototype.SetZPosition_8ca0d4$=function(e,t){var i;if(void 0===t&&(t=!1),this.z=e,!0===t)for(i=this.childList.iterator();i.hasNext();){i.next().SetZPosition_8ca0d4$(e,!0)}},uo.prototype.addZPosition_8ca0d4$=function(e,t){var i;if(void 0===t&&(t=!1),this.z=this.z+e,!0===t)for(i=this.childList.iterator();i.hasNext();){i.next().addZPosition_8ca0d4$(e,!0)}},uo.prototype.SetOriginalSize_dleff0$=function(e,t){this.originalSize.width=e,this.originalSize.height=t},uo.prototype.GetOriginalSize=function(){return this.originalSize},uo.prototype.SetSize_dleff0$=function(e,t){this.size.width=e,this.size.height=t},uo.prototype.GetSize=function(){return this.size},uo.prototype.SetScale_mx4ult$$default=function(e){this.scale=e},uo.prototype.SetScale_mx4ult$=function(e,t){void 0===e&&(e=1),t?t(e):this.SetScale_mx4ult$$default(e)},uo.prototype.GetScale=function(){return this.scale},uo.prototype.SetPercentCoordinate_6taknv$=function(e){this.percentCoordinate=e},uo.prototype.GetPercentCoordinate=function(){return this.percentCoordinate},uo.prototype.GetDrawingCoordinate_dleff0$=function(e,t){return null!=this.parent?!0===this.percentCoordinate?Je(this.parent).convertCoordinatePercent_dleff0$(e,t):Gi(e,t):Gi()},uo.prototype.convertCoordinate_dleff0$=function(e,t){return Gi(e,t)},uo.prototype.convertCoordinatePercent_dleff0$=function(e,t){return Gi(this.GetSize().width*e,this.GetSize().height*t)},uo.prototype.convertChildToParentCoordinate_dleff0$=function(e,t){return!0===this.percentCoordinate?new Le(this.x+this.GetSize().width*e,this.y+this.GetSize().height*t):new Le(this.x+e,this.y+t)},uo.prototype.convertLocalToGlobalCoordinate_dleff0$=function(e,t){var i=this.convertChildToParentCoordinate_dleff0$(e,t);return null!=this.parent?Je(this.parent).convertLocalToGlobalCoordinate_dleff0$(i.first,i.second):new Le(i.first,i.second)},uo.prototype.convertGlobalToLocalCoordinate_dleff0$=function(e,t){var i=this.convertLocalToGlobalCoordinate_dleff0$(0,0);return new Le(e-i.first,t-i.second)},uo.prototype.SetColor_sczwbf$$default=function(e,t,i,r,o){var n;this.color.r=e,this.color.g=t,this.color.b=i,this.color.a=r,this.color.r<0?this.color.r=0:1<this.color.r&&(this.color.r=1),this.color.g<0?this.color.g=0:1<this.color.g&&(this.color.g=1),this.color.b<0?this.color.b=0:1<this.color.b&&(this.color.b=1);var a=r;if(a<0?a=0:1<a&&(a=1),this.originalAlpha=a,this.color.a=a*this.masterAlpha,!0===o)for(n=this.childList.iterator();n.hasNext();){var s=n.next();Ke.isType(s,po)&&s.SetColor_sczwbf$(e,t,i,a)}},uo.prototype.SetColor_sczwbf$=function(e,t,i,r,o,n){void 0===r&&(r=1),void 0===o&&(o=!0),n?n(e,t,i,r,o):this.SetColor_sczwbf$$default(e,t,i,r,o)},uo.prototype.SetColor_b53zri$$default=function(e,t,i,r,o){this.SetColor_sczwbf$(e/255,t/255,i/255,r,o)},uo.prototype.SetColor_b53zri$=function(e,t,i,r,o,n){void 0===e&&(e=255),void 0===t&&(t=255),void 0===i&&(i=255),void 0===r&&(r=1),void 0===o&&(o=!0),n?n(e,t,i,r,o):this.SetColor_b53zri$$default(e,t,i,r,o)},uo.prototype.SetColor_vnjrmz$$default=function(e,t){this.SetColor_sczwbf$(e.r,e.g,e.b,e.a,t)},uo.prototype.SetColor_vnjrmz$=function(e,t,i){void 0===t&&(t=!0),i?i(e,t):this.SetColor_vnjrmz$$default(e,t)},uo.prototype.SetChildColor_edr4a3$$default=function(e,t,i,r){var o,n,a=t;(-1===a||a>this.childList.size)&&(a=this.childList.size),o=a-1|0;for(var s=e;s<=o;s++){var l=Ke.isType(n=this.GetChild_za3lpa$(s),po)?n:null;null!=l&&l.SetColor_vnjrmz$(i)}},uo.prototype.SetChildColor_edr4a3$=function(e,t,i,r,o){void 0===e&&(e=0),void 0===t&&(t=-1),void 0===r&&(r=!0),o?o(e,t,i,r):this.SetChildColor_edr4a3$$default(e,t,i,r)},uo.prototype.SetChildAlpha_qiya20$$default=function(e,t,i,r){var o,n,a=t;(-1===a||a>this.childList.size)&&(a=this.childList.size),o=a-1|0;for(var s=e;s<=o;s++){var l=Ke.isType(n=this.GetChild_za3lpa$(s),po)?n:null;null!=l&&l.SetAlpha_8ca0d4$(i)}},uo.prototype.SetChildAlpha_qiya20$=function(e,t,i,r,o){void 0===e&&(e=0),void 0===t&&(t=-1),void 0===r&&(r=!0),o?o(e,t,i,r):this.SetChildAlpha_qiya20$$default(e,t,i,r)},uo.prototype.GetColor=function(){return this.color},uo.prototype.GetMasterAlpha=function(){return this.masterAlpha},uo.prototype.SetMasterAlpha_mx4ult$=function(e){var t,i,r=e;for(r<0?r=0:1<r&&(r=1),this.masterAlpha=r,this.color.a=r*this.originalAlpha,t=this.childList.iterator();t.hasNext();){var o=t.next(),n=Ke.isType(i=o,po)?i:null;null!=n&&n.SetMasterAlpha_mx4ult$(r)}},uo.prototype.GetAlpha=function(){return this.originalAlpha},uo.prototype.SetAlpha_8ca0d4$$default=function(e,t){var i,r,o=e;if(o<0?o=0:1<o&&(o=1),this.originalAlpha=o,this.color.a=o*this.masterAlpha,!0===t)for(i=this.childList.iterator();i.hasNext();){var n=i.next(),a=Ke.isType(r=n,po)?r:null;null!=a&&a.SetAlpha_8ca0d4$(o,t)}},uo.prototype.SetAlpha_8ca0d4$=function(e,t,i){void 0===t&&(t=!0),i?i(e,t):this.SetAlpha_8ca0d4$$default(e,t)},uo.prototype.update_mx4ult$=function(e){var t,i,r,o,n;if((t=Ie().shared()).nodeUpdateCounter=t.nodeUpdateCounter+1|0,0<e&&(this.age+=e*this.timeScale,0<=this.timeToLive&&this.age>this.timeToLive))this.removeFromParent();else{for(var a=le(),s=0;s<this.updateCallback.size;){var l=this.updateCallback.get_za3lpa$(s);if(0!==e)if(l.elapsed=l.elapsed+e*this.timeScale,l.age=l.age+e*this.timeScale,0!==l.mode||!1!==this.GetShow()){if(!0===l.exclusive){var h=l.name;if(null!=a.get_11rb$(h)){s=s+1|0;continue}a.put_xwzc9p$(h,1)}if(-1!==l.timeToLive&&l.timeToLive<l.age)l.elapsed=0,l.count=l.count+1|0,l.callback(l),this.updateCallback.removeAt_za3lpa$(s);else{if(0===l.count){if(l.count=l.count+1|0,!1===l.callback(l)){this.updateCallback.removeAt_za3lpa$(s);continue}l.elapsed=0}else if(l.elapsed>l.interval){if(l.count=l.count+1|0,!1===l.callback(l)){this.updateCallback.removeAt_za3lpa$(s);continue}l.elapsed=0}s=s+1|0}}else s=s+1|0;else l.elapsed=0,l.count=l.count+1|0,s=s+1|0,l.callback(l)}for(this.name.length,i=g(this.childList).iterator();i.hasNext();){var u=i.next();!0===u.active&&u.update_mx4ult$(e*this.timeScale)}if(null!=(r=this.xMotion)){var c,d=r;-1!==d.time&&d.startTime+d.time<this.age?(null!=(c=d.callback)&&c(),this.xMotion=null):!0===d.relative?(d.motion.update_mx4ult$(e*this.timeScale),this.motionAdjust.x=this.motionAdjust.x+d.motion.GetPositionDelta()):this.x=d.motion.update_mx4ult$(e*this.timeScale)}if(null!=(o=this.yMotion)){var p,f=o;-1!==f.time&&f.startTime+f.time<this.age?(null!=(p=f.callback)&&p(),this.yMotion=null):!0===f.relative?(f.motion.update_mx4ult$(e*this.timeScale),this.motionAdjust.y=this.motionAdjust.y+f.motion.GetPositionDelta()):this.y=f.motion.update_mx4ult$(e*this.timeScale)}if(null!=(n=this.zMotion)){var m,v=n;-1!==v.time&&v.startTime+v.time<this.age?(null!=(m=v.callback)&&m(),this.zMotion=null):!0===v.relative?(v.motion.update_mx4ult$(e*this.timeScale),this.motionAdjust.z=this.motionAdjust.z+v.motion.GetPositionDelta()):this.z=v.motion.update_mx4ult$(e*this.timeScale)}}},uo.prototype.draw=function(){var e;if(!0===this.show)for(e=this.childList.iterator();e.hasNext();){e.next().draw()}},uo.prototype.findChildByName_3m52m6$=function(e,t,i){var r,o;for(void 0===t&&(t=999),void 0===i&&(i=0),r=this.childList.iterator();r.hasNext();){var n=r.next();if(ue(n.GetName(),e))return n}if(t<=i)return null;for(o=this.childList.iterator();o.hasNext();){var a=o.next().findChildByName_3m52m6$(e,t,i+1|0);if(null!=a)return a}return null},uo.prototype.findAllChildByName_ay8g63$=function(e,t){var i;for(i=this.childList.iterator();i.hasNext();){var r=i.next();ue(r.GetName(),e)&&t.add_11rb$(r),r.findAllChildByName_ay8g63$(e,t)}},uo.prototype.findNodeByObject_wympo9$=function(e,t){var i,r;for(void 0===t&&(t=null),i=this.objectList.iterator();i.hasNext();){if(i.next()===e)return this}for(r=this.childList.iterator();r.hasNext();){var o=r.next();if(o!==t){var n=o.findNodeByObject_wympo9$(e);if(null!=n)return n}}return null},uo.prototype.findUIResponseNodeByObject_wympo9$=function(e,t){var i;void 0===t&&(t=null);var r=this.findNodeByObject_wympo9$(e,t);if(null!=r&&null!=r.GetInputOwner()){for(i=r.GetInputOwner();null!=(null!=i?i.GetInputOwner():null)&&(null!=i?i.GetInputOwner():null)!==i;)i=null!=i?i.GetInputOwner():null;return i}return null},uo.prototype.onPress_dleff0$=function(e,t){var i=this.convertGlobalToLocalCoordinate_dleff0$(e,t);return this.sendMessage_79egny$(new Hr(gr(),void 0,void 0,C([Gi(i.first,i.second),Gi(e,t)])),this),!0},uo.prototype.onDrag_dleff0$=function(e,t){return!0},uo.prototype.onRelease_fzxzdm$=function(e,t,i){return!0},uo.prototype.onCancel=function(){return!0},uo.prototype.addUpdateCallback_sds54w$=function(e,t,i,r,o,n,a){var s;if(void 0===e&&(e=""),void 0===t&&(t=!0),void 0===i&&(i=!1),void 0===r&&(r=!1),void 0===o&&(o=-1),void 0===n&&(n=0),!1===t)for(s=$(y(this.updateCallback)).iterator();s.hasNext();){var l=s.next(),h=this.updateCallback.get_za3lpa$(l);if(ue(h.name,e)){if(!1===i)return;h.elapsed=0,h.age=h.age+0,h.count=h.count+1|0,h.callback(h),this.updateCallback.removeAt_za3lpa$(l);var u=new Qr(this,e,r,o,n,void 0,a);return void this.updateCallback.add_11rb$(u)}}var c=new Qr(this,e,r,o,n,void 0,a);this.updateCallback.add_11rb$(c)},uo.prototype.removeUpdateCallback_9sobi5$=function(e,t){var i;for(void 0===t&&(t=0),i=ge(ve(this.updateCallback)).iterator();i.hasNext();){var r=i.next(),o=r.component1(),n=r.component2();if(ue(n.name,e))if(0<t)n.timeToLive=n.age+t;else{var a=this.updateCallback.get_za3lpa$(o);a.elapsed=0,a.age=a.age+0,a.count=a.count+1|0,a.callback(a),this.updateCallback.removeAt_za3lpa$(o)}}return!1},uo.prototype.removeAllUpdateCallback_6taknv$=function(e){var t;for(void 0===e&&(e=!0),t=$(y(this.updateCallback)).iterator();t.hasNext();){var i=t.next(),r=this.updateCallback.get_za3lpa$(i);r.elapsed=0,r.age=r.age+0,r.count=r.count+1|0,!0===e&&r.callback(r),this.updateCallback.removeAt_za3lpa$(i)}},uo.prototype.GetShow=function(){return this.show},uo.prototype.SetShow_6taknv$=function(e){this.show=e},uo.prototype.SetModal_6taknv$=function(e){this.modal=e},uo.prototype.isModal=function(){return this.modal},uo.prototype.SetMessageHandler_4mjqr2$=function(e){this.messageHandler=null,this.messageHandler=e},uo.prototype.SetLocalVariables_za3lpa$=function(e){this.localVariables.value=e},uo.prototype.GetLocalVariables=function(){return this.localVariables.value},uo.prototype.SetLocalVariablesFloat_mx4ult$=function(e){this.localVariables.floatValue=e},uo.prototype.GetLocalVariablesFloat=function(){return this.localVariables.floatValue},uo.prototype.addLocalVariablesObject_za3rmp$=function(e){this.localVariables.parameter.add_11rb$(e)},uo.prototype.GetLocalVariablesObjectList=function(){return g(this.localVariables.parameter)},uo.prototype.GetLocalVariablesObject_za3lpa$=function(e){return this.localVariables.parameter.get_za3lpa$(e)},uo.prototype.sendMessage_iaw1dj$=function(e,t,i){void 0===t&&(t=null),void 0===i&&(i=qr());var r=new Hr(e,this,t,i);return null!=t?t.processMessage_sad1na$(r):(r.receiver=this).processMessage_sad1na$(r)},uo.prototype.sendMessage_79egny$=function(e,t){void 0===t&&(t=null);var i=e;return i.sender=this,null!=t?t.processMessage_sad1na$(i):(i.receiver=this).processMessage_sad1na$(i)},uo.prototype.sendMessageParent_4hc9e7$=function(e,t){void 0===t&&(t=qr());var i=this.parent;if(null!=i){var r=new Hr(e,this,i,t);return i.processMessage_sad1na$(r)}return!1},uo.prototype.sendMessage_2iuq6n$=function(e,t){var i=t;return(i.receiver=e).processMessage_sad1na$(i)},uo.prototype.sendMessage_cpy62s$=function(e,t){var i=t,r=this.GetRoot().findChildByName_3m52m6$(e);return null!=r&&(i.receiver=r).processMessage_sad1na$(i)},uo.prototype.postMessage_cpy62s$=function(e,t){var i,r=t,o=Fe();for(this.GetRoot().findAllChildByName_ay8g63$(e,o),i=o.iterator();i.hasNext();){var n=i.next();r.sender!==n&&(r.receiver=n).processMessage_sad1na$(r)}},uo.prototype.broadcastMessage_4hc9e7$=function(e,t){var i;void 0===t&&(t=qr());var r=new Hr(e,this,void 0,t,void 0,void 0,!0);for(i=this.GetChildList().iterator();i.hasNext();){var o=i.next();o.processMessage_sad1na$(r),o.broadcastMessage_sad1na$(r)}},uo.prototype.broadcastMessage_sad1na$=function(e){var t;for(t=this.GetChildList().iterator();t.hasNext();){var i=t.next();i.processMessage_sad1na$(e),i.broadcastMessage_sad1na$(e)}},uo.prototype.processMessage_sad1na$=function(e){var t;return(null==this.messageHandler||!1!==(null!=(t=this.messageHandler)?t(e):null))&&this.defaultMessageHandler_sad1na$(e)},uo.prototype.defaultMessageHandler_sad1na$=function(e){var t=e,i=this.GetParent();return null==i||(t.receiver=i).processMessage_sad1na$(t)},uo.prototype.SetXMotion_vn0wwp$=function(e,t,i,r){void 0===t&&(t=!1),void 0===i&&(i=-1),void 0===r&&(r=null),this.xMotion=null,this.xMotion=new Zr(e,t,i,this.age,r)},uo.prototype.SetYMotion_vn0wwp$=function(e,t,i,r){void 0===t&&(t=!1),void 0===i&&(i=-1),void 0===r&&(r=null),this.yMotion=null,this.yMotion=new Zr(e,t,i,this.age,r)},uo.prototype.SetZMotion_vn0wwp$=function(e,t,i,r){void 0===t&&(t=!1),void 0===i&&(i=-1),void 0===r&&(r=null),this.zMotion=null,this.zMotion=new Zr(e,t,i,this.age,r)},uo.$metadata$={kind:o,simpleName:"Node",interfaces:[]},po.prototype.freeObject=function(){var e;for(e=this.GetObjectList().iterator();e.hasNext();){var t=e.next();Ke.isType(t,_e)&&t.remove()}uo.prototype.freeObject.call(this)},po.prototype.addChild_g5h3xp$=function(e){var t,i,r;if(null==e.GetParent()){e.SetMasterAlpha_mx4ult$(this.masterAlpha),uo.prototype.addChild_g5h3xp$.call(this,e);var o=Ke.isType(t=this.GetObject(),_e)?t:null;if(null!=o)for(i=e.GetObjectList().iterator();i.hasNext();){var n=i.next(),a=Ke.isType(r=n,_e)?r:null;if(null!=a){o.addChild_jrj3jl$(a);break}}}},po.prototype.addChildByObjectSelection_nacd7f$=function(e,t){var i,r;if(void 0===t&&(t=0),null==e.GetParent()){uo.prototype.addChild_g5h3xp$.call(this,e);var o=Ke.isType(i=this.GetObject_za3lpa$(t),_e)?i:null;if(null!=o){var n=Ke.isType(r=e.GetObject(),_e)?r:null;null!=n&&o.addChild_jrj3jl$(n)}}},po.prototype.SetShow_6taknv$=function(e){var t,i;if(!1===e){var r=Ke.isType(t=this.GetObject(),_e)?t:null;null!=r&&r.SetShow_6taknv$(e)}else{var o=Ke.isType(i=this.GetObject(),_e)?i:null;null!=o&&o.SetShow_6taknv$(e)}uo.prototype.SetShow_6taknv$.call(this,e),this.processModal_6taknv$(e)},po.prototype.processModal_6taknv$=function(e){var t,i;if(!0===this.modal)if(!0===e){var r=Ke.isType(t=this.GetRoot(),Qn)?t:null;null!=r&&r.pushModal_g5h3xp$(this)}else{var o=Ke.isType(i=this.GetRoot(),Qn)?i:null;null!=o&&o.popModal_g5h3xp$(this)}},po.prototype.SetPosition_dleff0$=function(e,t){uo.prototype.SetPosition_dleff0$.call(this,e,t),this.SetVerticalAlign_qn2em6$(this.verticalAlign),this.SetHorizontalAlign_jdpdm8$(this.horizontalAlign)},po.prototype.draw=function(){var e,t,i=Ke.isType(e=this.GetObject(),_e)?e:null;if(null!=i){var r=this.GetDrawingCoordinate_dleff0$(this.x,this.y);r.x=r.x+this.positionOffset.x,r.y=r.y+this.positionOffset.y;var o=this.GetParent();if(null!=o){var n=Ke.isType(t=o.GetObject(),_e)?t:null;null!=n&&(r=n.convertCoordinate_dleff0$(r.x,r.y))}i.draw_4tzqwv$(r,this.GetZPosition())}uo.prototype.draw.call(this)},po.prototype.convertChildToParentCoordinate_dleff0$=function(e,t){return!0===this.percentCoordinate?new Le(this.GetPosition().x+this.positionOffset.x+this.GetSize().width*e,this.GetPosition().y+this.positionOffset.y+this.GetSize().height*t):new Le(this.GetPosition().x+this.positionOffset.x+e,this.GetPosition().y+this.positionOffset.y+t)},po.prototype.SetVerticalAlign_qn2em6$=function(e){switch((this.verticalAlign=e).name){case"top":this.positionOffset.y=1*this.GetSize().height/2;break;case"center":this.positionOffset.y=0;break;case"bottom":this.positionOffset.y=-1*this.GetSize().height/2}},po.prototype.SetHorizontalAlign_jdpdm8$=function(e){switch((this.horizontalAlign=e).name){case"left":this.positionOffset.x=1*this.GetSize().width/2;break;case"center":this.positionOffset.x=0;break;case"right":this.positionOffset.x=-1*this.GetSize().width/2}},po.prototype.GetVerticalAlign=function(){return this.verticalAlign},po.prototype.GetHorizontalAlign=function(){return this.horizontalAlign},po.prototype.SetBlendFactor_mx4ult$$default=function(e){this.colorBlendFactor=e},po.prototype.SetBlendFactor_mx4ult$=function(e,t){void 0===e&&(e=0),t?t(e):this.SetBlendFactor_mx4ult$$default(e)},po.prototype.GetBlendFactor=function(){return this.colorBlendFactor},po.prototype.SetBlendMode_ieo8yr$=function(e){this.blendMode=e},po.prototype.GetBlendMode=function(){return this.blendMode},po.prototype.SetRotation_mx4ult$$default=function(e){},po.prototype.SetRotation_mx4ult$=function(e,t){void 0===e&&(e=0),t?t(e):this.SetRotation_mx4ult$$default(e)},po.$metadata$={kind:o,simpleName:"NodeWrapper",interfaces:[uo]},mo.prototype.arc4random_uniform_za3lpa$=function(e){return et(Math.random()*e)},mo.$metadata$={kind:a,simpleName:"Random",interfaces:[]};var vo=null;function go(){return null===vo&&new mo,vo}function _o(){bo(),this.projection=0,this.lensSize=100,this.focalLength=50,this.farMost=500,this.farFog=250,this.nearFog=100,this.sinCalcX=0,this.cosCalcX=0,this.sinCalcY=0,this.cosCalcY=0,this.sinCalcZ=0,this.cosCalcZ=0}function yo(){$o=this}_o.prototype.rotate_y2kzbl$=function(e,t,i){void 0===e&&(e=0),void 0===t&&(t=0),void 0===i&&(i=0);var r=e*(te.PI/180),o=t*(te.PI/180),n=i*(te.PI/180),a=Yt.sin(r),s=Yt.cos(r),l=this.direction.y*s-this.direction.z*a,h=this.direction.y*a+this.direction.z*s;this.direction.y=l,this.direction.z=h,a=Yt.sin(o),s=Yt.cos(o);var u=this.direction.x*s+this.direction.z*a;h=-this.direction.x*a+this.direction.z*s,this.direction.x=u,this.direction.z=h,a=Yt.sin(n),s=Yt.cos(n),u=this.direction.x*s-this.direction.y*a,l=this.direction.x*a+this.direction.y*s,this.direction.x=u,this.direction.y=l},_o.prototype.SetFOV_mx4ult$=function(e){var t=e/2*(te.PI/180);this.focalLength=this.lensSize/2*Yt.cos(t)/Yt.sin(t)},_o.prototype.SetFOV_dleff0$=function(e,t){var i=e/2*(te.PI/180);this.lensSize=t*Yt.sin(i)/Yt.cos(i)*2,this.focalLength=t},_o.prototype.prepare=function(){var e=(360-this.direction.x)*(te.PI/180);this.sinCalcX=Yt.sin(e),this.cosCalcX=Yt.cos(e);var t=(360-this.direction.y)*(te.PI/180);this.sinCalcY=Yt.sin(t),this.cosCalcY=Yt.cos(t);var i=(360-this.direction.z)*(te.PI/180);this.sinCalcZ=Yt.sin(i),this.cosCalcZ=Yt.cos(i)},_o.prototype.convertToLocal_qgvyiu$=function(e){var t=e.x-this.position.x,i=e.y-this.position.y,r=e.z-this.position.z,o=t*this.cosCalcY+r*this.sinCalcY,n=-t*this.sinCalcY+r*this.cosCalcY,a=i*this.cosCalcX-n*this.sinCalcX,s=i*this.sinCalcX+n*this.cosCalcX,l=o*this.cosCalcZ-a*this.sinCalcZ,h=o*this.sinCalcZ+a*this.cosCalcZ;e.x=l,e.y=h,e.z=s},_o.prototype.convertToLocal_xovnep$=function(e){var t,i;e.convertPosition.x=e.position.x+e.local.x,e.convertPosition.y=e.position.y+e.local.y,e.convertPosition.z=e.position.z+e.local.z,this.convertToLocal_qgvyiu$(e.convertPosition);var r=Ke.isType(t=e,on)?t:null;if(null!=r){i=r.GetVertexCount()-1|0;for(var o=0;o<=i;o++)r.convertedVertex.get_za3lpa$(o).x=e.position.x+r.vertex.get_za3lpa$(o).x,r.convertedVertex.get_za3lpa$(o).y=e.position.y+r.vertex.get_za3lpa$(o).y,r.convertedVertex.get_za3lpa$(o).z=e.position.z+r.vertex.get_za3lpa$(o).z,this.convertToLocal_qgvyiu$(r.convertedVertex.get_za3lpa$(o))}},_o.prototype.convertToScreen_yjiq68$=function(e,t,i){var r=1;0===this.projection?(e.screenPosition.x=this.focalLength/e.convertPosition.z*e.convertPosition.x,e.screenPosition.y=this.focalLength/e.convertPosition.z*e.convertPosition.y,r=t.width/this.lensSize,!1===i&&(r=t.height/this.lensSize),e.screenPosition.x=e.screenPosition.x*r,e.screenPosition.y=e.screenPosition.y*r,e.screenPosition.y=-1*e.screenPosition.y,e.screenPosition.x=e.screenPosition.x+t.width/2,e.screenPosition.y=e.screenPosition.y+t.height/2):(e.screenPosition.x=e.convertPosition.x,e.screenPosition.y=e.convertPosition.y);var o=this.focalLength/e.convertPosition.z*e.size;e.screenSize.width=o*r,e.screenSize.height=o*r},_o.prototype.convertToScreen_l3vh3t$=function(e,t,i){var r=Gi();r.x=this.focalLength/e.z*e.x,r.y=this.focalLength/e.z*e.y;var o=1;return o=t.width/this.lensSize,!1===i&&(o=t.height/this.lensSize),r.x=r.x*o,r.y=r.y*o,r.y=-1*r.y,r.x=r.x+t.width/2,r.y=r.y+t.height/2,r},yo.prototype.copy_s6wt6e$=function(e){var t=So(e.lensSize,void 0,void 0,void 0,e.focalLength,e.farMost);return t.position=Ai().copy_qgvyiu$(e.position),t.direction=Ai().copy_qgvyiu$(e.direction),t.movement=Ai().copy_qgvyiu$(e.movement),t.size=e.size,t.rotation=Ai().copy_qgvyiu$(e.rotation),t.screenPosition=Ai().copy_qgvyiu$(e.screenPosition),t.screenSize=Pi().copy_g5e0xa$(e.screenSize),t.farFog=e.farFog,t.nearFog=e.nearFog,t},yo.$metadata$={kind:a,simpleName:"Companion",interfaces:[]};var $o=null;function bo(){return null===$o&&new yo,$o}function So(e,t,i,r,o,n,a){return void 0===t&&(t=Gi()),void 0===i&&(i=Gi(0,0,0)),void 0===r&&(r=Gi()),void 0===o&&(o=10),void 0===n&&(n=500),a=a||Object.create(_o.prototype),vi.call(a),_o.call(a),a.lensSize=e,a.position=t,a.direction=i,a.movement=r,a.focalLength=o,a.farMost=n,a}function ko(e,t,i,r,o,n,a,s,l){return void 0===t&&(t=Gi()),void 0===i&&(i=Gi(0,0,0)),void 0===r&&(r=Gi()),void 0===o&&(o=90),void 0===n&&(n=500),void 0===a&&(a=250),void 0===s&&(s=100),l=l||Object.create(_o.prototype),vi.call(l),_o.call(l),l.lensSize=e,l.position=t,l.direction=i,l.movement=r,l.farMost=n,l.farFog=a,l.nearFog=s,l.SetFOV_mx4ult$(o),l}function wo(){tn(),vi.call(this),this.poolable=!1,this.sprite=null}function xo(){en=this}_o.$metadata$={kind:o,simpleName:"Camera",interfaces:[vi]},wo.prototype.destroy=function(){var e;null!=this.sprite&&(null!=(e=this.sprite)&&e.removeFromParent(),this.sprite=null),vi.prototype.destroy.call(this)},wo.prototype.SetSprite_eyqfr4$=function(e){var t;null!=this.sprite&&(null!=(t=this.sprite)&&t.removeFromParent(),this.sprite=null),this.sprite=e},wo.prototype.GetSprite=function(){return this.sprite},wo.prototype.changeImage_61zpoe$=function(e){var t,i=Ke.isType(t=this.sprite,sa)?t:null;null!=i&&(i.SetRotation_mx4ult$(0),i.SetImage_9xt0da$(e))},wo.prototype.SetSubAlpha_mx4ult$$default=function(e){var t;this.SetSubAlpha_mx4ult$(e,vi.prototype.SetSubAlpha_mx4ult$$default.bind(this)),null!=(t=this.sprite)&&t.SetAlpha_8ca0d4$(this.GetCurrentAlpha())},xo.prototype.copy_j6asyx$=function(e){var t=new wo;return t.position=Ai().copy_qgvyiu$(e.position),t.direction=Ai().copy_qgvyiu$(e.direction),t.movement=Ai().copy_qgvyiu$(e.movement),t.size=e.size,t.rotation=Ai().copy_qgvyiu$(e.rotation),t.screenPosition=Ai().copy_qgvyiu$(e.screenPosition),t.screenSize=Pi().copy_g5e0xa$(e.screenSize),t.timeToLive=e.timeToLive,t.SetOriginalAlpha_mx4ult$(e.GetOriginalAlpha()),t.SetSubAlpha_mx4ult$(e.GetSubAlpha()),t.accel=Ai().copy_qgvyiu$(e.accel),t.accelRetain=Ai().copy_qgvyiu$(e.accelRetain),t.drag=Ai().copy_qgvyiu$(e.drag),t},xo.$metadata$={kind:a,simpleName:"Companion",interfaces:[]};var Co,zo,To,Ao,Go,Io,No,Oo,Mo,Ro,Po,jo,Bo,Eo,Lo,Fo,Do,Vo,Uo,qo,Ho,Wo,Yo,Xo,Ko,Zo,Qo,Jo,en=null;function tn(){return null===en&&new xo,en}function rn(){wo.call(this)}function on(){this.vertex=Fe(),this.convertedVertex=Fe(),this.isLined=!0,this.isClosed=!0,this.spriteList=Fe()}function nn(e,t,i,r){void 0===i&&(i=!0),r=r||Object.create(on.prototype),vi.call(r),on.call(r);for(var o=0,n=e.iterator();n.hasNext();++o){var a=n.next();r.vertex.add_11rb$(a),r.convertedVertex.add_11rb$(Gi()),r.spriteList.add_11rb$(t.get_za3lpa$(o))}return r.isClosed=i,r}function an(){this.screen=null,this.spriteParent=null,this.objList=Fe(),this.particlePool=Fe(),this.camera=null,this.gravity=0,this.maxParticle=100,this.paused=!1,this.timeScale=1}function sn(r){return function(e,t,i){return e.age>e.timeToLive-1&&r.SetOriginalAlpha_mx4ult$(1-(e.age-(e.timeToLive-1))),!1}}function ln(o,n,a){return function(e,t,i){if(e.age<.5)o.SetOriginalAlpha_mx4ult$(n.a*(2*e.age));else if(e.age>e.timeToLive-1)o.SetOriginalAlpha_mx4ult$(n.a-(e.age-(e.timeToLive-1)));else if(!0===a){var r=go().arc4random_uniform_za3lpa$(200);r<5?o.SetOriginalAlpha_mx4ult$(.5*n.a):r<10?o.SetOriginalAlpha_mx4ult$(0):o.SetOriginalAlpha_mx4ult$(n.a)}return!1}}function hn(l,h,u,c){return function(e,t,i){if(e.age>e.timeToLive-1&&l.SetOriginalAlpha_mx4ult$(1-(e.age-(e.timeToLive-1))),e.age<.25)return!1;var r=xi(l.position,h),o=Ai().distanceToSegment_tnhs7q$(e.prevPosition,e.position,h);if(0<=o&&o<10?(e.accel.x=0,e.accel.y=0,e.movement.x=0,e.movement.y=0):e.position.y-h.y<10&&(u.v=!1,c.v=r.angleBetween_qgvyiu$(l.movement),180<c.v&&(c.v-=360),c.v<-180&&(c.v+=360),c.v=c.v/.05),!0===u.v)e.accel.x=20*r.point.x,e.accel.y=20*r.point.y;else{e.accel.x=15*r.point.x,e.accel.y=15*r.point.y;var n=r.angleBetween_qgvyiu$(e.movement);180<n&&(n-=360),n<-180&&(n+=360);var a=c.v*i,s=a;Yt.abs(s)>=n&&(a=n,e.accel.x=20*r.point.x,e.accel.y=20*r.point.y,u.v=!0),e.movement.rotateZ_mx4ult$(a)}return!1}}function un(o,n,a){return function(e,t,i){if(e.age>e.timeToLive-1&&o.SetOriginalAlpha_mx4ult$(1-(e.age-(e.timeToLive-1))),e.age<.2)return!1;if(!0===n.v){var r=xi(o.position,a);e.accel.x=15*r.point.x,e.accel.y=15*r.point.y}else e.movement.x=0,e.movement.y=0,e.movement.z=0,e.accel.x=0,e.accel.y=0,e.accel.z=0,n.v=!0;return e.position.y<a.y&&(e.movement.y=e.movement.y/e.movement.y,e.movement.y=3*e.movement.y,e.movement.x=e.movement.x/e.movement.x,e.movement.x=3*e.movement.x),!1}}function cn(e,t,i){return void 0===t&&(t=null),i=i||Object.create(an.prototype),an.call(i),i.screen=e,i.spriteParent=null==t?e:t,i.camera=ko(20,Gi(0,0,0),Gi(0,0,0),Gi(0,0,0),90,1600,200,100),i}function dn(e,t,i){void 0===e&&(e=0),void 0===t&&(t=0),void 0===i&&(i=0),this.scale=1,this.time=0,this.timeMultiplier=1,this.initialSpeed=e,this.initialAccel=t,this.initialPosition=i,this.speed=e,this.accel=t,this.position=i,this.speedDelta=0,this.accelDelta=0,this.positionDelta=0,this.flip=!1,this.peakRetain=0,this.peakHeight=0,this.targetTime=0,this.reentryTime=0,this.finish=!1}function pn(){this.baseline=0,this.reflection=0,this.terminalVelocity=0,this.bounceCount=0,this.targetBounce=-1}function fn(e,t,i,r,o,n){void 0===e&&(e=0),void 0===t&&(t=0),void 0===i&&(i=0),void 0===r&&(r=0),void 0===o&&(o=0),n=n||Object.create(pn.prototype),dn.call(n,e,t,i),pn.call(n);var a=r-i;n.baseline=r,n.reflection=o;var s=2*t*a+e,l=Yt.abs(s);if(n.terminalVelocity=Yt.sqrt(l),t<0){var h=n.terminalVelocity;n.terminalVelocity=-1*Yt.abs(h)}if(0<t){var u=n.terminalVelocity;n.terminalVelocity=Yt.abs(u)}return n}function mn(){this.initialAmplitude=1,this.ampAccel=0,this.theta=0,this.thetaAccum=0,this.adjust=0,this.amplitude=1}function vn(e,t,i,r,o){return void 0===e&&(e=1),void 0===t&&(t=0),void 0===i&&(i=0),void 0===r&&(r=0),o=o||Object.create(mn.prototype),dn.call(o,e,t,i),mn.call(o),o.scale=1,o.initialSpeed=e,o.initialAccel=t,o.initialPosition=i,o.ampAccel=r,o.speed=o.initialSpeed,o.accel=o.initialAccel,o.position=o.initialPosition,o}function gn(e,t,i,r,o,n){void 0===t&&(t=1),void 0===i&&(i=0),void 0===r&&(r=0),void 0===o&&(o=0),vn(t,i,r,void 0,n=n||Object.create(mn.prototype));var a=e;return a%=360,n.initialPosition=a,n.position=a,n}function _n(){}function yn(e,t,i,r){return void 0===e&&(e=0),void 0===t&&(t=0),void 0===i&&(i=0),r=r||Object.create(_n.prototype),dn.call(r,e,t,i),_n.call(r),r}function $n(e,t,i){s.call(this),this.value=i,this.name$=e,this.ordinal$=t}function bn(){bn=function(){},Co=new $n("spaceDeep",0,-1e4),zo=new $n("backgroundBottom",1,0),To=new $n("background",2,1),Ao=new $n("backgroundTop",3,2),Go=new $n("gameBoardBottom",4,3),Io=new $n("gameBoard",5,4),No=new $n("gameBoardTop",6,5),Oo=new $n("gameTileBottom",7,6),Mo=new $n("gameTile",8,7),Ro=new $n("gameTileTop",9,8),Po=new $n("gameEffectBottom",10,9),jo=new $n("gameEffect",11,10),Bo=new $n("gameEffectTop",12,11),Eo=new $n("uiBottom",13,12),Lo=new $n("ui",14,13),Fo=new $n("uiTop",15,14),Do=new $n("uiForemost",16,16),Vo=new $n("uiModalMask",17,50),Uo=new $n("uiModal",18,51),qo=new $n("parent",19,99)}function Sn(){return bn(),Co}function kn(){return bn(),zo}function wn(){return bn(),To}function xn(){return bn(),Ao}function Cn(){return bn(),Go}function zn(){return bn(),Io}function Tn(){return bn(),No}function An(){return bn(),Oo}function Gn(){return bn(),Mo}function In(){return bn(),Ro}function Nn(){return bn(),Po}function On(){return bn(),jo}function Mn(){return bn(),Bo}function Rn(){return bn(),Eo}function Pn(){return bn(),Lo}function jn(){return bn(),Fo}function Bn(){return bn(),Do}function En(){return bn(),Vo}function Ln(){return bn(),Uo}function Fn(){return bn(),qo}function Dn(e,t,i){s.call(this),this.mask=i,this.name$=e,this.ordinal$=t}function Vn(){Vn=function(){},Ho=new Dn("None",0,0),Wo=new Dn("CloseButton",1,1),Yo=new Dn("OkButton",2,2),Xo=new Dn("CancelButton",3,4),Ko=new Dn("Sizable",4,8),Zo=new Dn("Movable",5,16),Qo=new Dn("Modal",6,32),Jo=new Dn("Tab",7,64)}function Un(){return Vn(),Ho}function qn(){return Vn(),Wo}function Hn(){return Vn(),Yo}function Wn(){return Vn(),Xo}function Yn(){return Vn(),Ko}function Xn(){return Vn(),Zo}function Kn(){return Vn(),Qo}function Zn(){return Vn(),Jo}function Qn(){this.view=null,this.viewChanging=!1,this.prevViewName="",this.mask=null,this.textArea=null,this.logging=!1,this.touchListener=Fe(),this.scrollListener=null,this.keydownListener=Fe(),this.modalList=Fe(),this.touchSensitivity=1,this.currentFocus=null,this.previousPos=null,this.speed=null,this.previousUIFireTime=0,this.skipFindUI=!1,this.fontName="ChalkboardSE-Bold",this.fontSize=16,this.fontColor=null,this.testColor=null,this.fontVerticalAlign=io(),this.fontHorizontalAlign=so(),this.modalColor=ui().black_mx4ult$(.95),this.modalAlpha=.95,this.isDrawTouchMark=!1,this.prevMarkerCreated=0,this.debug=null,this.count=0,this.accum=0,this.fps=0}wo.$metadata$={kind:o,simpleName:"Particle",interfaces:[vi]},rn.$metadata$={kind:o,simpleName:"Background",interfaces:[wo]},on.prototype.destroy=function(){var e;for(e=this.spriteList.iterator();e.hasNext();){e.next().removeFromParent()}this.spriteList.clear(),vi.prototype.destroy.call(this)},on.prototype.addVertex_vwn7ta$=function(e,t){this.vertex.add_11rb$(e),this.convertedVertex.add_11rb$(Gi()),this.spriteList.add_11rb$(t)},on.prototype.GetVertex_za3lpa$=function(e){return e>=this.vertex.size?null:this.vertex.get_za3lpa$(e)},on.prototype.GetVertexCount=function(){return this.vertex.size},on.prototype.GetSprite_za3lpa$=function(e){return e>=this.spriteList.size?null:this.spriteList.get_za3lpa$(e)},on.prototype.SetSubAlpha_mx4ult$$default=function(e){var t;for(this.SetSubAlpha_mx4ult$(e,vi.prototype.SetSubAlpha_mx4ult$$default.bind(this)),t=this.spriteList.iterator();t.hasNext();){t.next().SetAlpha_8ca0d4$(this.GetCurrentAlpha())}},on.$metadata$={kind:o,simpleName:"Polygon",interfaces:[vi]},an.prototype.SetCamera_s6wt6e$=function(e){this.camera=e},an.prototype.SetMaxParticle_za3lpa$=function(e){this.maxParticle=e},an.prototype.GetMaxParticle=function(){return this.maxParticle},an.prototype.GetAvailableParticleAmount=function(){return this.maxParticle-this.objList.size|0},an.prototype.clearParticlePool=function(){var e;for(e=this.particlePool.iterator();e.hasNext();){var t=e.next().sprite;null!=t&&t.removeFromParent()}this.particlePool.clear()},an.prototype.pause=function(){this.paused=!0},an.prototype.resume=function(){this.paused=!1},an.prototype.SetTimeScale_mx4ult$=function(e){this.timeScale=e},an.prototype.GetTotalParticleCount=function(){return this.objList.size+this.particlePool.size|0},an.prototype.GetCurrentParticleCount=function(){return this.objList.size},an.prototype.addObject_293dsg$=function(e,t){void 0===t&&(t=!1),this.objList.add_11rb$(e)},an.prototype.removeObject_xovnep$=function(e){e.timeToLive=0},an.prototype.GetObjectList=function(){return this.objList},an.prototype.SetGravity_mx4ult$=function(e){this.gravity=e},an.prototype.updateObject_mx4ult$=function(e){var t;null!=(t=this.camera)&&t.update_mx4ult$(e),!1===this.paused&&this.updateObject_38oe80$(this.objList,e*this.timeScale)},an.prototype.updateObject_38oe80$=function(e,t){for(var i,r,o,n,a=.5*t*t,s=e.size-1|0;0<=s;){var l=e.get_za3lpa$(s);if(l.update_mx4ult$(t),0<=l.timeToLive&&l.age>l.timeToLive){null!=(i=l.willBeDestroyed)&&i(l,Je(this.camera),0);var h=Ke.isType(r=l,wo)?r:null;null!=h?h.destroy():l.destroy(),e.removeAt_za3lpa$(s),s=s-1|0}else if(null==l.willBeDestroyed||!0!==(null!=(o=l.willBeDestroyed)?o(l,Je(this.camera),t):null)){if(l.prevPosition.x=l.position.x,l.prevPosition.y=l.position.y,l.prevPosition.z=l.position.z,0<l.accelRetain.x&&(l.accelRetain.x=l.accelRetain.x-t,l.accelRetain.x<=0&&(l.accelRetain.x=0,l.accel.x=0)),0<l.accelRetain.y&&(l.accelRetain.y=l.accelRetain.y-t,l.accelRetain.y<=0&&(l.accelRetain.y=0,l.accel.y=0)),0<l.accelRetain.z&&(l.accelRetain.z=l.accelRetain.z-t,l.accelRetain.z<=0&&(l.accelRetain.z=0,l.accel.z=0)),0===l.accel.x&&0!==l.movement.x){var u=l.movement.x,c=l.movement.x,d=u/Yt.abs(c),p=l.movement.x,f=Yt.abs(p)-l.drag.x*t;f<0&&(f=0),l.movement.x=d*f}if(0===l.accel.y&&0!==l.movement.y){var m=l.movement.y,v=l.movement.y,g=m/Yt.abs(v),_=l.movement.y,y=Yt.abs(_)-l.drag.y*t;y<0&&(y=0),l.movement.y=g*y}if(0===l.accel.z&&0!==l.movement.z){var $=l.movement.z,b=l.movement.z,S=$/Yt.abs(b),k=l.movement.z,w=Yt.abs(k)-l.drag.z*t;w<0&&(w=0),l.movement.z=S*w}l.position.x=l.position.x+(l.movement.x*t+l.accel.x*a),l.movement.x=l.movement.x+l.accel.x*t,l.position.y=l.position.y+(l.movement.y*t+(l.accel.y+this.gravity)*a),l.movement.y=l.movement.y+(l.accel.y+this.gravity)*t,l.movement.length2D()>l.movementMax&&l.movement.SetLength2D_mx4ult$(l.movementMax),l.position.z=l.position.z+(l.movement.z*t+l.accel.z*a),l.movement.z=l.movement.z+l.accel.z*t,l.rotateLocalX_mx4ult$(t*l.rotation.x),l.rotateLocalY_mx4ult$(t*l.rotation.y),l.rotateLocalZ_mx4ult$(t*l.rotation.z),s=s-1|0}else{var x=Ke.isType(n=l,wo)?n:null;null!=x?x.destroy():l.destroy(),e.removeAt_za3lpa$(s),s=s-1|0}}},an.prototype.projection_1s1xds$=function(e,t,i,r){var o;void 0===t&&(t=Gi()),void 0===i&&(i=!0),void 0===r&&(r=!0),null!=(o=this.camera)&&o.prepare(),this.projection_xjshzw$(this.objList,e,t,i,r)},an.prototype.vectorCross_g3jz9k$=function(e,t){var i=Gi();return i.x=e.y*t.z-e.z*t.y,i.y=e.z*t.x-e.x*t.z,i.z=e.x*t.y-e.y*t.x,i},an.prototype.vectorMinus_g3jz9k$=function(e,t){var i=Gi();return i.x=e.x-t.x,i.y=e.y-t.y,i.z=e.z-t.z,i},an.prototype.planeFromPoints_tnhs7q$=function(e,t,i){var r=this.vectorMinus_g3jz9k$(t,e),o=this.vectorMinus_g3jz9k$(i,e),n=this.vectorCross_g3jz9k$(r,o),a=-(n.x*e.x+n.y*e.y+n.z*e.z);return Ni(n.x,n.y,n.z,a)},an.prototype.projection_xjshzw$=function(e,t,i,r,o){var n,a,s,l,h,u,c,d,p,f,m,v,g,_,y,$,b,S=this.camera;if(null!=S)for(var k=0;k<e.size;){var w=e.get_za3lpa$(k);if(null!=S&&S.convertToLocal_xovnep$(w),!Ke.isType(w,rn)){var x=w.distance_jfpljn$(S,S.projection);x<S.focalLength+S.nearFog?w.SetSubAlpha_mx4ult$((x-S.focalLength)/S.nearFog):x>S.farMost-S.farFog?w.SetSubAlpha_mx4ult$((S.farMost-x)/S.farFog):w.SetSubAlpha_mx4ult$(1)}if(w.convertPosition.z>S.focalLength&&w.convertPosition.z<S.farMost||w.convertPosition.z>S.focalLength&&Ke.isType(w,rn)){var C=Ke.isType(n=w,wo)?n:null;if(null!=C)if(S.convertToScreen_yjiq68$(w,this.screen.size,r),null!=(a=C.sprite)&&a.SetPosition_dleff0$(w.screenPosition.x+i.x,w.screenPosition.y+i.y),!0===C.fixScreenZ?null!=(s=C.sprite)&&s.SetZPosition_8ca0d4$(C.screenZ):null!=(l=C.sprite)&&l.SetZPosition_8ca0d4$(-w.convertPosition.z+i.z),null!=(h=C.sprite)&&h.SetRotation_mx4ult$(w.direction.z*(te.PI/180)),Ke.isType(w,rn))null!=(u=C.sprite)&&u.SetSize_dleff0$(w.size,w.size);else{var z=w.screenSize.width,T=w.direction.x,A=Yt.cos(T),G=z*Yt.abs(A),I=w.screenSize.height,N=w.direction.y,O=Yt.cos(N),M=I*Yt.abs(O);null!=(c=C.sprite)&&c.SetSize_dleff0$(G,M)}var R=Ke.isType(d=w,on)?d:null;if(null!=R){var P=!1,j=Fe();p=R.GetVertexCount()-1|0;for(var B=0;B<=p;B++)if(R.convertedVertex.get_za3lpa$(B).z>S.focalLength&&R.convertedVertex.get_za3lpa$(B).z<S.farMost){var E=S.convertToScreen_l3vh3t$(R.convertedVertex.get_za3lpa$(B),this.screen.size,r);j.add_11rb$(E),null!=(f=R.GetSprite_za3lpa$(B))&&f.SetPosition_dleff0$(E.x+i.x,E.y+i.y),null!=(m=R.GetSprite_za3lpa$(B))&&m.SetZPosition_8ca0d4$(-E.z)}else P=!0;if(!1===P){if(!0===R.isLined){v=R.GetVertexCount()-1|0;for(var L=0;L<=v;L++){var F=j.get_za3lpa$(L+1|0).x-j.get_za3lpa$(L).x,D=j.get_za3lpa$(L+1|0).y-j.get_za3lpa$(L).y,V=F*F+D*D,U=Yt.sqrt(V);null!=(g=R.GetSprite_za3lpa$(L))&&g.SetSize_dleff0$(U,1);var q=-D,H=Yt.atan2(q,F);null!=(_=R.GetSprite_za3lpa$(L))&&_.SetRotation_mx4ult$(H)}var W=R.GetVertexCount()-1|0;if(!0===R.isClosed){var Y=R.GetVertexCount()-1|0,X=j.get_za3lpa$(0).x-j.get_za3lpa$(Y).x,K=j.get_za3lpa$(0).y-j.get_za3lpa$(Y).y,Z=X*X+K*K,Q=Yt.sqrt(Z);null!=(y=R.GetSprite_za3lpa$(Y))&&y.SetSize_dleff0$(Q,1);var J=-K,ee=Yt.atan2(J,X);null!=($=R.GetSprite_za3lpa$(Y))&&$.SetRotation_mx4ult$(ee)}else null!=(b=R.GetSprite_za3lpa$(W))&&b.SetSize_dleff0$(0,0)}}else R.SetSubAlpha_mx4ult$(0)}}else w.SetSubAlpha_mx4ult$(0);k=k+1|0}},an.prototype.GetParticle_dqye30$=function(e,t){if(void 0===e&&(e=!1),!0===e||this.GetTotalParticleCount()<this.maxParticle){var i=new wo;return this.GetTotalParticleCount()>=this.maxParticle?this.addObject_293dsg$(i,!1):this.addObject_293dsg$(i,t),i}return null},an.prototype.createParticle_t3d6nt$=function(e,t,i,r,o,n,a,s,l,h,u,c,d,p,f,m,v,g){var _;void 0===e&&(e=0),void 0===t&&(t=0),void 0===i&&(i=0),void 0===r&&(r=0),void 0===o&&(o=0),void 0===n&&(n=0),void 0===a&&(a=0),void 0===s&&(s=0),void 0===l&&(l=0),void 0===h&&(h=1),void 0===u&&(u=-1),void 0===d&&(d=!1),void 0===p&&(p=!1),void 0===f&&(f=!1),void 0===m&&(m=0),void 0===v&&(v=null),void 0===g&&(g=null);var y=this.GetParticle_dqye30$(d,p);if(null!=y){y.position.x=e,y.position.y=t,y.position.z=i,y.movement.x=r,y.movement.y=o,y.movement.z=n,y.rotation.x=a,y.rotation.y=s,y.rotation.z=l,y.size=h,y.fixScreenZ=f,y.screenZ=m,y.timeToLive=u,y.poolable=p;var $=la(e,t,i,c);$.SetVerticalAlign_qn2em6$(ro()),$.SetHorizontalAlign_jdpdm8$(lo());var b=v;return null==b&&(b=this.spriteParent),Je(b).addChild_g5h3xp$($),null!=y.sprite&&(null!=(_=y.sprite)&&_.removeFromParent(),y.sprite=null),y.sprite=$,y.SetOriginalAlpha_mx4ult$(0),(y.willBeDestroyed=null)!=g&&(y.willBeDestroyed=g),y}return null},an.prototype.createParticle_eg0pll$=function(e,t,i,r,o,n,a,s,l,h,u,c,d,p,f,m,v){var g;void 0===e&&(e=0),void 0===t&&(t=0),void 0===i&&(i=0),void 0===r&&(r=0),void 0===o&&(o=0),void 0===n&&(n=0),void 0===a&&(a=0),void 0===s&&(s=0),void 0===l&&(l=0),void 0===h&&(h=1),void 0===u&&(u=-1),void 0===d&&(d=!1),void 0===p&&(p=!1),void 0===f&&(f=!1),void 0===m&&(m=0),void 0===v&&(v=null);var _=this.GetParticle_dqye30$(d,p);return null!=_?(_.position.x=e,_.position.y=t,_.position.z=i,_.movement.x=r,_.movement.y=o,_.movement.z=n,_.rotation.x=a,_.rotation.y=s,_.rotation.z=l,_.size=h,_.fixScreenZ=f,_.screenZ=m,_.timeToLive=u,_.poolable=!1,null!=_.sprite&&null!=(g=_.sprite)&&g.removeFromParent(),_.sprite=c,_.SetOriginalAlpha_mx4ult$(0),(_.willBeDestroyed=null)!=v&&(_.willBeDestroyed=v),_):null},an.prototype.createBackground_sabvgg$=function(e,t,i,r,o,n,a,s,l,h,u,c,d,p){void 0===e&&(e=0),void 0===t&&(t=0),void 0===i&&(i=0),void 0===r&&(r=0),void 0===o&&(o=0),void 0===n&&(n=0),void 0===a&&(a=0),void 0===s&&(s=0),void 0===l&&(l=0),void 0===h&&(h=1),void 0===u&&(u=-1),void 0===d&&(d=!1),void 0===p&&(p=null);var f=new rn;return f.position.x=e,f.position.y=t,f.position.z=i,f.movement.x=r,f.movement.y=o,f.movement.z=n,f.rotation.x=a,f.rotation.y=s,f.rotation.z=l,f.size=h,f.timeToLive=u,f.poolable=!1,f.sprite=c,null!=p&&(f.willBeDestroyed=p),this.addObject_293dsg$(f,!1),f},an.prototype.createPolygon_r7vjov$=function(e,t,i,r,o,n){return void 0===n&&(n=!0),this.createPolygon_yfyqk0$(e,S([t,i,r]),o,n)},an.prototype.createPolygon_yfyqk0$=function(e,t,i,r){var o,n;void 0===r&&(r=!0);var a=Fe();for(o=t.iterator();o.hasNext();){o.next();var s=la(0,0,0,i);s.SetAlpha_8ca0d4$(0),s.SetVerticalAlign_qn2em6$(ro()),s.SetHorizontalAlign_jdpdm8$(so()),null!=(n=this.spriteParent)&&n.addChild_g5h3xp$(s),a.add_11rb$(s)}var l=nn(t,a,r);return l.position=Ai().copy_qgvyiu$(e),this.objList.add_11rb$(l),l},an.prototype.createBackground_yde864$=function(e,t,i,r,o,n,a,s){var l;void 0===n&&(n=ui().white_mx4ult$()),void 0===a&&(a=0),void 0===s&&(s=null);var h=la(e,t,i,o);return h.SetVerticalAlign_qn2em6$(ro()),h.SetHorizontalAlign_jdpdm8$(lo()),h.SetColor_vnjrmz$(n),h.SetAlpha_8ca0d4$(1),h.SetBlendFactor_mx4ult$(1),0===a&&h.SetBlendMode_ieo8yr$(ei()),1===a&&h.SetBlendMode_ieo8yr$(ti()),null!=(l=this.spriteParent)&&l.addChild_g5h3xp$(h),this.createBackground_sabvgg$(e,t,i,void 0,void 0,void 0,void 0,void 0,void 0,r,void 0,h,void 0,s)},an.prototype.createStar_2a19qk$=function(e,t,i,r,o,n,a,s,l,h,u,c,d){void 0===n&&(n=ui().white_mx4ult$()),void 0===a&&(a=1),void 0===s&&(s=!1),void 0===l&&(l=!1),void 0===h&&(h=!1),void 0===u&&(u=0),void 0===c&&(c=null),void 0===d&&(d=null);var p=this.createParticle_t3d6nt$(e,t,i,void 0,void 0,void 0,void 0,void 0,void 0,r,void 0,o,s,l,h,u,c,d);if(null!=p){var f=p.GetSprite();return null!=f&&(f.SetColor_vnjrmz$(n),f.SetAlpha_8ca0d4$(0),f.SetBlendFactor_mx4ult$(1),0===a&&f.SetBlendMode_ieo8yr$(ei()),1===a&&f.SetBlendMode_ieo8yr$(ti())),p.SetOriginalAlpha_mx4ult$(1),p}return null},an.prototype.createPaper_k1bx6r$=function(e,t,i,r,o,n,a,s,l,h,u){void 0===i&&(i=100),void 0===a&&(a=ui().white_mx4ult$()),void 0===s&&(s=!1),void 0===l&&(l=!1),void 0===h&&(h=0),void 0===u&&(u=null);var c=this.createParticle_t3d6nt$(e,t,i,void 0,void 0,void 0,void 0,void 0,void 0,o,void 0,n,void 0,s,l,h,void 0,u);if(null!=c){var d=c.GetSprite();return null!=d&&(d.SetColor_vnjrmz$(a),d.SetBlendFactor_mx4ult$(1)),c.rotation.z=go().arc4random_uniform_za3lpa$(10)-5,0===c.rotation.z&&(c.rotation.z=1),c.rotation.x=go().arc4random_uniform_za3lpa$(10)+10,c.rotation.x=c.rotation.x*(0===go().arc4random_uniform_za3lpa$(2)?1:-1),c.rotation.x=c.rotation.x/10,c.rotation.y=0,(c.movement.y=0)<c.position.x&&(c.movement.x=-1*c.movement.x),c.accel.x=r.x,c.accel.y=r.y,c}return null},an.prototype.createExplosion_3jyyep$=function(e,t,i,r,o,n,a,s,l,h,u){var c;void 0===a&&(a=ui().white_mx4ult$()),void 0===h&&(h=!1),void 0===u&&(u=0);var d=go().arc4random_uniform_za3lpa$(360),p=360/i;c=i-1|0;for(var f=0;f<=c;f++){var m=Gi(t,0,0);m.rotateZ_mx4ult$(d+f*p);var v=this.createStar_2a19qk$(e.x+m.x,e.y+m.y,e.z,r,n,a,void 0,void 0,!0,h,u);if(null!=v){v.timeToLive=o+go().arc4random_uniform_za3lpa$(3)/10,v.SetOriginalAlpha_mx4ult$(1),m.normalize();var g=l.x-s.x,_=et(Yt.abs(g));v.movement.x=m.normalX*(go().arc4random_uniform_za3lpa$(_)+s.x);var y=l.y-s.y,$=et(Yt.abs(y));v.movement.y=m.normalY*(go().arc4random_uniform_za3lpa$($)+s.y);var b=l.z-s.z,S=et(Yt.abs(b));l.z<s.z?v.movement.z=(-1*go().arc4random_uniform_za3lpa$(S)|0)+s.z:v.movement.z=go().arc4random_uniform_za3lpa$(S)+s.z,v.rotation.z=(go().arc4random_uniform_za3lpa$(20)-10)/10,v.keepDirection=!0,v.SetCallback_lnidq9$(sn(v))}}},an.prototype.createFairy_hcj0m5$=function(e,t,i,r,o,n,a,s,l,h,u,c,d,p){var f;void 0===a&&(a=ui().white_mx4ult$()),void 0===h&&(h=w.POSITIVE_INFINITY),void 0===u&&(u=!1),void 0===c&&(c=!1),void 0===d&&(d=0),void 0===p&&(p=null),f=i-1|0;for(var m=0;m<=f;m++){var v=Gi(t,0,0);v.rotateZ_mx4ult$(go().arc4random_uniform_za3lpa$(360));var g=this.createStar_2a19qk$(e.x+v.x,e.y+v.y,e.z,r,n,a,void 0,void 0,!0,c,d,p);if(null!=g){g.timeToLive=o+go().arc4random_uniform_za3lpa$(5)/10,g.SetOriginalAlpha_mx4ult$(a.a),v.normalize();var _=l.x-s.x,y=et(Yt.abs(_));g.movement.x=v.normalX*(go().arc4random_uniform_za3lpa$(y)+s.x);var $=l.y-s.y,b=et(Yt.abs($));g.movement.y=v.normalY*(go().arc4random_uniform_za3lpa$(b)+s.y),g.movementMax=h;var S=l.z-s.z,k=et(Yt.abs(S));l.z<s.z?g.movement.z=(-1*go().arc4random_uniform_za3lpa$(k)|0)+s.z:g.movement.z=go().arc4random_uniform_za3lpa$(k)+s.z,g.rotation.z=(go().arc4random_uniform_za3lpa$(20)-10|0)/10,g.keepDirection=!0,g.SetCallback_lnidq9$(ln(g,a,u))}}},an.prototype.createFairy2_emwd81$=function(e,t,i,r,o,n,a,s,l,h,u,c,d){void 0===n&&(n=ui().white_mx4ult$()),void 0===l&&(l=w.POSITIVE_INFINITY),void 0===h&&(h=!1),void 0===u&&(u=!1),void 0===c&&(c=0),void 0===d&&(d=null);var p=Gi(t,0,0);p.rotateZ_mx4ult$(go().arc4random_uniform_za3lpa$(360));var f,m,v,g=this.createStar_2a19qk$(e.x,e.y,e.z,i,o,n,void 0,void 0,!0,u,c,d);if(null!=g){g.timeToLive=r+go().arc4random_uniform_za3lpa$(5)/10,g.SetOriginalAlpha_mx4ult$(n.a),p.normalize();var _=s.x-a.x,y=et(Yt.abs(_));g.movement.x=p.normalX*(go().arc4random_uniform_za3lpa$(y)+a.x);var $=s.y-a.y,b=et(Yt.abs($));g.movement.y=p.normalY*(go().arc4random_uniform_za3lpa$(b)+a.y),g.movementMax=l;var S=s.z-a.z,k=et(Yt.abs(S));return s.z<a.z?g.movement.z=(-1*go().arc4random_uniform_za3lpa$(k)|0)+a.z:g.movement.z=go().arc4random_uniform_za3lpa$(k)+a.z,g.SetCallback_lnidq9$((f=g,m=n,v=h,function(e,t,i){e.age<.5?f.SetOriginalAlpha_mx4ult$(m.a*(2*e.age)):e.age>e.timeToLive-1?f.SetOriginalAlpha_mx4ult$(m.a-(e.age-(e.timeToLive-1))):!0===v&&(0===f.GetOriginalAlpha()?go().arc4random_uniform_za3lpa$(100)<50&&f.SetOriginalAlpha_mx4ult$(m.a):go().arc4random_uniform_za3lpa$(200)<5&&f.SetOriginalAlpha_mx4ult$(0));var r=go().arc4random_uniform_za3lpa$(300);return r<60&&f.movement.rotateZ_mx4ult$(r-30|0),!1})),g}return null},an.prototype.createHoming_nxmntm$=function(e,t,i,r,o,n,a,s,l,h,u,c,d){var p;void 0===s&&(s=ui().white_mx4ult$()),void 0===u&&(u=!1),void 0===c&&(c=0),void 0===d&&(d=!1),p=r-1|0;for(var f=0;f<=p;f++){var m=Gi(i,0,0);m.rotateZ_mx4ult$(go().arc4random_uniform_za3lpa$(360));var v=this.createStar_2a19qk$(t.x,t.y,t.z,o,a,s,1,d,!0,u,c);if(null!=v){v.timeToLive=n,v.SetOriginalAlpha_mx4ult$(1),m.normalize();var g=h.x-l.x,_=et(Yt.abs(g));v.movement.x=m.normalX*(go().arc4random_uniform_za3lpa$(_)+l.x)*4;var y=h.y-l.y,$=et(Yt.abs(y));v.movement.y=m.normalY*(go().arc4random_uniform_za3lpa$($)+l.y)*4;var b=h.z-l.z,S=et(Yt.abs(b));h.z<l.z?v.movement.z=(-1*go().arc4random_uniform_za3lpa$(S)|0)+l.z:v.movement.z=go().arc4random_uniform_za3lpa$(S)+l.z,v.accel.x=3*v.movement.x,v.accel.y=3*v.movement.y,v.accel.z=0,v.rotation.z=(go().arc4random_uniform_za3lpa$(20)-10|0)/10;v.keepDirection=!0;var k={v:xi(v.position,e).angleBetween_qgvyiu$(v.movement)};180<k.v&&(k.v-=360),k.v<-180&&(k.v+=360),k.v=k.v/.3,v.SetCallback_lnidq9$(hn(v,e,{v:!1},k))}}},an.prototype.createHoming2_nxmntm$=function(e,t,i,r,o,n,a,s,l,h,u,c,d){var p;void 0===s&&(s=ui().white_mx4ult$()),void 0===u&&(u=!1),void 0===c&&(c=0),void 0===d&&(d=!1),p=r-1|0;for(var f=0;f<=p;f++){var m=Gi(i,0,0);m.rotateZ_mx4ult$(go().arc4random_uniform_za3lpa$(360));var v=this.createStar_2a19qk$(t.x,t.y,t.z,o,a,s,1,d,!0,u,c);if(null!=v){v.timeToLive=n,v.SetOriginalAlpha_mx4ult$(1),m.normalize();var g=h.x-l.x,_=et(Yt.abs(g));v.movement.x=m.normalX*(go().arc4random_uniform_za3lpa$(_)+l.x)*4,v.accel.x=10*v.movement.x;var y=h.y-l.y,$=et(Yt.abs(y));v.movement.y=m.normalY*(go().arc4random_uniform_za3lpa$($)+l.y)*4,v.accel.y=10*v.movement.y;var b=h.z-l.z,S=et(Yt.abs(b));h.z<l.z?v.movement.z=(-1*go().arc4random_uniform_za3lpa$(S)|0)+l.z:v.movement.z=go().arc4random_uniform_za3lpa$(S)+l.z,v.rotation.z=(go().arc4random_uniform_za3lpa$(20)-10|0)/10;v.keepDirection=!0;v.SetCallback_lnidq9$(un(v,{v:!1},e))}}},an.$metadata$={kind:o,simpleName:"ParticleManager",interfaces:[]},dn.prototype.reset_y2kzbl$=function(e,t,i){void 0===e&&(e=0),void 0===t&&(t=0),void 0===i&&(i=0),this.initialSpeed=e,this.initialAccel=t,this.initialPosition=i,this.speed=this.initialSpeed,this.accel=this.initialAccel,this.position=this.initialPosition,this.speedDelta=0,this.accelDelta=0,this.positionDelta=0,this.time=0,this.timeMultiplier=1,this.flip=!1,this.peakRetain=0,this.peakHeight=0,this.targetTime=0,this.reentryTime=0},dn.prototype.SetTarget_nfvrp9$=function(e,t,i,r,o){void 0===i&&(i=0),void 0===r&&(r=!1),void 0===o&&(o=0);var n=2*t*(e-this.initialPosition),a=Yt.abs(n),s=Yt.sqrt(a);if(t<0){var l=s;s=Yt.abs(l)}if(0<t){var h=s;s=-1*Yt.abs(h)}this.initialSpeed=s,this.initialAccel=t,this.speed=this.initialSpeed,this.accel=this.initialAccel;var u=-1*s/t;0!==i&&(this.timeMultiplier=u/i),this.peakHeight=e,this.flip=r,this.peakRetain=o,this.targetTime=i*this.timeMultiplier},dn.prototype.SetScale_mx4ult$=function(e){void 0===e&&(e=1),this.scale=e},dn.prototype.SetTimeMultiplier_mx4ult$=function(e){void 0===e&&(e=1),this.timeMultiplier=e},dn.prototype.update_mx4ult$=function(e){var t=e*this.timeMultiplier;if(this.time=this.time+t,this.time<this.reentryTime||-1===this.reentryTime)return this.positionDelta=0,this.GetPosition();var i=this.speed,r=this.position;if(this.speed=this.speed+this.accel*t,this.speedDelta=this.speed-i,0!==this.targetTime&&this.time>=this.targetTime){var o=!1;if(!0===this.flip&&(this.accel=-1*this.accel,this.speed=0,this.speedDelta=this.speed-i,this.position=this.peakHeight,this.positionDelta=this.position-r,this.flip=!1,o=!(this.targetTime=0)),0!==this.peakRetain&&(this.speedDelta=0-i,this.position=this.peakHeight,this.positionDelta=this.peakHeight-r,-1===this.peakRetain?(this.reentryTime=-1,this.finish=!0):this.reentryTime=this.time+this.peakRetain*this.timeMultiplier,o=!0),!0===o)return this.GetPosition()}return this.position=r+i*t+this.accel*t*t*.5,this.positionDelta=this.position-r,this.GetPosition()},dn.prototype.GetSpeed=function(){return this.speed},dn.prototype.GetAccel=function(){return this.accel},dn.prototype.GetPosition=function(){return this.position*this.scale},dn.prototype.GetInitialSpeed=function(){return this.initialSpeed},dn.prototype.GetInitialAccel=function(){return this.initialAccel},dn.prototype.GetInitialPosition=function(){return this.initialPosition},dn.prototype.GetSpeedDelta=function(){return this.speedDelta},dn.prototype.GetAccelDelta=function(){return this.accelDelta},dn.prototype.GetPositionDelta=function(){return this.positionDelta*this.scale},dn.prototype.isFinish=function(){return this.finish},dn.$metadata$={kind:o,simpleName:"Motion",interfaces:[]},pn.prototype.SetTargetBounce_za3lpa$=function(e){this.targetBounce=e},pn.prototype.update_mx4ult$=function(e){-1!==this.targetBounce&&this.bounceCount>=this.targetBounce&&(this.finish=!0);var t=e*this.timeMultiplier;this.time=this.time+t;var i=this.speed;this.speed=this.initialSpeed+this.accel*this.time;var r=this.position;if(this.position=this.initialPosition+this.initialSpeed*this.time+this.accel*this.time*this.time*.5,this.position<=this.baseline&&this.baseline<r||r<this.baseline&&this.baseline<=this.position){var o=this.terminalVelocity,n=t-(o-i)/this.accel;n<0&&(n=0),this.initialSpeed=-o*this.reflection,this.initialPosition=this.baseline,this.time=n,this.terminalVelocity=-this.initialSpeed,this.speed=this.initialSpeed+this.accel*this.time,this.position=this.initialPosition+this.initialSpeed*this.time+this.accel*this.time*this.time*.5,0<this.accel&&this.position>=this.baseline&&(this.position=this.baseline,this.initialSpeed=0,this.initialPosition=this.baseline,this.accel=0,this.speed=0),this.accel<0&&this.position<=this.baseline&&(this.position=this.baseline,this.initialSpeed=0,this.initialPosition=this.baseline,this.accel=0,this.speed=0),this.bounceCount=this.bounceCount+1|0}return this.speedDelta=this.speed-i,this.positionDelta=this.position-r,this.GetPosition()},pn.prototype.GetBounceCount=function(){return this.bounceCount},pn.$metadata$={kind:o,simpleName:"Bounce",interfaces:[dn]},mn.prototype.update_mx4ult$=function(e){var t=e*this.timeMultiplier;this.time=this.time+t,this.speedDelta=this.speed,this.speed=this.initialSpeed+this.accel*this.time,this.speed<0&&(this.speed=0),this.speedDelta=this.speed-this.speedDelta,this.amplitude=this.amplitude+this.ampAccel*t,this.amplitude<0&&(this.amplitude=0),this.thetaAccum=this.initialPosition+this.initialSpeed*this.time+this.accel*this.time*this.time*.5,this.theta=this.thetaAccum*(2*te.PI),this.theta=this.theta%(2*te.PI);var i=this.position,r=this.theta;return this.position=(Yt.sin(r)+this.adjust)*this.amplitude,this.positionDelta=this.position-i,this.initialPosition+this.GetPosition()},mn.prototype.updateNew_mx4ult$=function(e){var t=e*this.timeMultiplier;this.time=this.time+t,this.speedDelta=this.speed,this.speed=this.speed+this.accel*t,this.speed<0&&(this.speed=0),this.speedDelta=this.speed-this.speedDelta,this.amplitude=this.amplitude+this.ampAccel*t,this.amplitude<0&&(this.amplitude=0);var i=this.speed*t+this.accel*t*t*.5;this.theta=this.theta+i*(2*te.PI),this.theta=this.theta%(2*te.PI),this.positionDelta=this.position;var r=this.theta;return this.position=(Yt.sin(r)+this.adjust)*this.amplitude,this.positionDelta=this.position-this.positionDelta,this.GetPosition()},mn.prototype.SetAmplitude_mx4ult$=function(e){this.amplitude=e},mn.prototype.GetTheta=function(){return this.theta},mn.prototype.GetDegree=function(){return this.theta*(180/te.PI)},mn.prototype.GetAccumulateDegree=function(){return 360*this.thetaAccum},mn.$metadata$={kind:o,simpleName:"Wave",interfaces:[dn]},_n.prototype.update_mx4ult$=function(e){var t=e*this.timeMultiplier;this.time=this.time+t,this.speedDelta=this.speed,this.speed=this.initialSpeed+this.accel*this.time,this.speedDelta=this.speed-this.speedDelta,this.positionDelta=this.position;var i=this.time*this.initialSpeed;return this.position=Yt.tanh(i),this.positionDelta=this.position-this.positionDelta,this.GetPosition()},_n.$metadata$={kind:o,simpleName:"HyperTan",interfaces:[dn]},$n.$metadata$={kind:o,simpleName:"SceneLayer",interfaces:[s]},$n.values=function(){return[Sn(),kn(),wn(),xn(),Cn(),zn(),Tn(),An(),Gn(),In(),Nn(),On(),Mn(),Rn(),Pn(),jn(),Bn(),En(),Ln(),Fn()]},$n.valueOf_61zpoe$=function(e){switch(e){case"spaceDeep":return Sn();case"backgroundBottom":return kn();case"background":return wn();case"backgroundTop":return xn();case"gameBoardBottom":return Cn();case"gameBoard":return zn();case"gameBoardTop":return Tn();case"gameTileBottom":return An();case"gameTile":return Gn();case"gameTileTop":return In();case"gameEffectBottom":return Nn();case"gameEffect":return On();case"gameEffectTop":return Mn();case"uiBottom":return Rn();case"ui":return Pn();case"uiTop":return jn();case"uiForemost":return Bn();case"uiModalMask":return En();case"uiModal":return Ln();case"parent":return Fn();default:c("No enum constant com.blindcatstudio.phantom.graphic.SceneLayer."+e)}},Dn.$metadata$={kind:o,simpleName:"WindowProperty",interfaces:[s]},Dn.values=function(){return[Un(),qn(),Hn(),Wn(),Yn(),Xn(),Kn(),Zn()]},Dn.valueOf_61zpoe$=function(e){switch(e){case"None":return Un();case"CloseButton":return qn();case"OkButton":return Hn();case"CancelButton":return Wn();case"Sizable":return Yn();case"Movable":return Xn();case"Modal":return Kn();case"Tab":return Zn();default:c("No enum constant com.blindcatstudio.phantom.graphic.WindowProperty."+e)}},Qn.prototype.afterAttached=function(){var e=la(0,0,En().value,"Resource/UI/Background",this.GetSize().width,this.GetSize().height);e.SetName_61zpoe$("Fade Mask"),e.SetBlendFactor_mx4ult$(1),e.SetAlpha_8ca0d4$(0),e.SetShow_6taknv$(!0),this.addChild_g5h3xp$(e),1===zf().GetInteger_rjan26$("Draw FPS",void 0,0)&&(this.debug=Yr(.5*this.size.width,5,Ln().value,""),Je(this.debug).SetHorizontalAlign_jdpdm8$(lo()),Je(this.debug).SetVerticalAlign_qn2em6$(io()),Je(this.debug).SetShow_6taknv$(!0),Je(this.debug).SetSize_dleff0$(-1,.02*this.size.height),this.addChild_g5h3xp$(Je(this.debug))),uo.prototype.afterAttached.call(this)},Qn.prototype.freeAdditionalResource=function(){var e;null!=(e=this.mask)&&e.removeFromParent(),this.mask=null,this.currentFocus=null,this.touchListener.clear()},Qn.prototype.removeFromParent=function(){uo.prototype.removeFromParent.call(this)};var Jn,ea,ta=Ke.kotlin.Exception;function ia(t,i,r,o){return function(){var e;return null!=t.view&&(Je(t.view).SetShow_6taknv$(!1),Je(t.view).SetTimeToLive_mx4ult$(0),t.prevViewName=Je(t.view).GetName()),i.screen=t,i.positionScale=fr().copy_3fer1j$(t.positionScale),i.sizeScale=fr().copy_3fer1j$(t.sizeScale),i.SetSize_dleff0$(t.size.width,t.size.height),Ie().shared().clearInputQueue(),Ie().shared().SetInputMode_za3lpa$(0),Ie().shared().SetInputPending_6taknv$(!1),t.view=i,t.addChild_g5h3xp$(i),t.addConsole(),t.actionFadeOut_7vo5wp$(r,void 0,void 0,o,void 0,void 0,void 0,(e=t,function(){return e.viewChanging=!1,Ze})),Ze}}function ra(){return Ze}function oa(i,r,o,n,a,s,l,h,u){return function(e){return 0===e.elapsed?(!0===i?r.SetMasterAlpha_mx4ult$(o):r.SetAlpha_8ca0d4$(o,n),a.actionDelay_ab0iom$(0,s.v,(t=l,function(){return null!=t&&t(),Ze})),!1):(!0===i?r.SetMasterAlpha_mx4ult$(h+e.age*((o-h)/u)):r.SetAlpha_8ca0d4$(h+e.age*((o-h)/u),n),!0);var t}}function na(i,r,o,n,a,s,l,h){return function(e){return 0===e.elapsed?(!0===i?r.SetMasterAlpha_mx4ult$(0):r.SetAlpha_8ca0d4$(0,o),n.actionDelay_ab0iom$(0,a.v,(t=s,function(){return null!=t&&t(),Ze})),!1):(!0===i?r.SetMasterAlpha_mx4ult$(l-e.age*h):r.SetAlpha_8ca0d4$(l-e.age*h,o),!0);var t}}function aa(e,t){return co(void 0,void 0,void 0,t=t||Object.create(Qn.prototype)),Qn.call(t),t.previousPos=Gi(),t.speed=Gi(),t.fontColor=di(),t.testColor=di(),t.SetName_61zpoe$("Screen"),t.addObject_s8jyv4$(e),t.SetSize_dleff0$(e.GetSize().width,e.GetSize().height),t.positionScale=new Vi(320,480,void 0,void 0,t.GetSize().width,t.GetSize().height),t.sizeScale=new Vi(320,480,void 0,void 0,t.GetSize().width,t.GetSize().height),t}function sa(){this.image=null,this.animation=null,this.centerRect=null}function la(e,t,i,r,o,n,a){var s;void 0===i&&(i=0),void 0===r&&(r=null),void 0===o&&(o=-1),void 0===n&&(n=-1),fo(e,t,i,a=a||Object.create(sa.prototype)),sa.call(a);var l=o,h=n;if(null!=r&&(a.name=r),null!=r)a.SetImage_9xt0da$(r,l,h);else{(l<0||h<0)&&(h=l=0);var u=Ie().shared().createGuestSprite();u.SetAnchorPoint_qgvyiu$(Gi(.5,.5)),a.addObject_s8jyv4$(Ke.isType(s=u,b)?s:Ee())}return a.SetColor_sczwbf$(1,1,1,1),a.SetSize_dleff0$(l,h),a.SetOriginalSize_dleff0$(a.GetSize().width,a.GetSize().height),a}function ha(e,t){s.call(this),this.name$=e,this.ordinal$=t}function ua(){ua=function(){},Jn=new ha("on",0),ea=new ha("off",1)}function ca(){return ua(),Jn}function da(){return ua(),ea}function pa(){this.isOn=ca()}function fa(e,t,i,r,o,n,a,s,l){return void 0===i&&(i=0),void 0===r&&(r=null),void 0===o&&(o=""),void 0===n&&(n="Main/"),void 0===a&&(a=ui().white_mx4ult$()),void 0===s&&(s=24),Zt(e,t,i,r,o,n,a,s,l=l||Object.create(pa.prototype)),pa.call(l),l}function ma(){this.fontNameDefault="",this.fontName="",this.fontSize=10,this.fontScale=1,this.defaultFontColor=null,this.fontColor=null,this.fontSpace=.1,this.whiteSpace=.5,this.lineGap=10,this.lineMax=30,this.heightAdjust=1,this.characterPerLine=20,this.wrapType=0,this.lineCount=0,this.lineOffset=0,this.textHeight=0,this.fontHeight=0,this.periodCharacterHeight=0,this.characterCount=0,this.currentContainer=null,this.textVerticalAlign=io(),this.textHorizontalAlign=so(),this.labelType=0,this.buttonCount=0,this.fadeMode=0}Qn.prototype.update_mx4ult$=function(e){if(uo.prototype.update_mx4ult$.call(this,e),this.count=this.count+1|0,this.accum+=e,1<this.accum){var t,i=1/(this.accum/this.count);e:do{if(null==i){t=0;break e}if(Ke.isNumber(i)){t=et(i);break e}if("string"==typeof i)try{t=tt(i);break e}catch(e){if(Ke.isType(e,ta)){t=0;break e}throw e}t=0}while(0);this.fps=t,this.count=0,this.accum=0;var r=this.fps.toString()+" FPS, Node : "+Ie().shared().nodeUpdateCounter.toString();null!=this.debug&&(Je(this.debug).SetText_61zpoe$(r),Je(this.debug).SetSize_dleff0$(-1,.02*this.size.height))}},Qn.prototype.moveToBackground=function(){var e;null!=(e=this.view)&&e.moveToBackground()},Qn.prototype.resume=function(){var e;null!=(e=this.view)&&e.resume()},Qn.prototype.printLog_61zpoe$=function(e){var t;!1!==this.logging&&null!=(t=this.textArea)&&t.addText_r4v59z$(e+"\n")},Qn.prototype.clearLog=function(){var e;!1!==this.logging&&null!=(e=this.textArea)&&e.clearText_gam257$()},Qn.prototype.presentView_xl35ob$=function(e,t){var i;if(void 0===t&&(t=.3),!0!==this.viewChanging){this.viewChanging=!0,this.resetModal(),this.removeTouchListenerAll();var r=Ke.isType(i=this.findChildByName_3m52m6$("Fade Mask"),sa)?i:null;null!=r&&this.actionFadeIn_hkbjms$(r,void 0,void 0,void 0,t,void 0,void 0,void 0,ia(this,e,r,t))}},Qn.prototype.addConsole=function(){var l;if(!0===Ie().shared().GetDebug()&&this.addTouchListener_dal58m$(new Ct("For Console",0,0,this.GetSize().width,this.GetSize().height,void 0,(l=this,function(e,t,i,r,o){var n;if(ue(r,It())){if(e.y<30){var a=l.findChildByName_3m52m6$("Console");null!=a&&(!1===a.GetShow()?a.SetShow_6taknv$(!0):a.SetShow_6taknv$(!1))}if(e.y>l.GetSize().height-30){var s=l.findChildByName_3m52m6$("Console");null!=s&&!0===s.GetShow()&&null!=(n=l.textArea)&&n.clearText_gam257$()}}}))),!0===Ie().shared().GetDebug()){this.logging=!0;var e=la(0,0,Bn().value,void 0,this.GetSize().width,this.GetSize().height);e.SetName_61zpoe$("Console"),e.SetBlendFactor_mx4ult$(1),e.SetColor_b53zri$(0,0,0,.9),e.SetShow_6taknv$(!1),this.addChild_g5h3xp$(e),this.textArea=_a(0,0,Bn().value,this.GetSize().width,this.GetSize().height,"Avenir-Book",12*Je(this.view).sizeScale.yRatio,void 0,void 0,1,et(this.GetSize().height/16),void 0,void 0,void 0,void 0,1),Je(this.textArea).SetName_61zpoe$("Console Text Area"),Je(this.textArea).SetShow_6taknv$(!0),Je(this.textArea).addText_r4v59z$("Welcome"),e.addChild_g5h3xp$(Je(this.textArea))}},Qn.prototype.GetCurrentView=function(){return this.view},Qn.prototype.GetMask=function(){return null==this.mask?this:Je(this.mask)},Qn.prototype.createMask_vl24u5$=function(e,t,i,r){void 0===r&&(r=0);var o=Kr(e,t,r,i);return this.addChild_g5h3xp$(o),this.mask=o},Qn.prototype.addTouchListener_dal58m$=function(e){this.touchListener.add_11rb$(e)},Qn.prototype.removeTouchListenerAll=function(){this.touchListener.clear(),this.removeAllKeydownListener(),this.removeScrollListener()},Qn.prototype.removeTouchListener_61zpoe$=function(e){var t;for(t=ge(ve(this.touchListener)).iterator();t.hasNext();){var i=t.next(),r=i.component1(),o=i.component2();ue(o.name,e)&&this.touchListener.removeAt_za3lpa$(r)}},Qn.prototype.addScrollListener_d6xl6w$=function(e){this.scrollListener=e},Qn.prototype.removeScrollListener=function(){this.scrollListener=null},Qn.prototype.addKeydownListener_5ol7k9$=function(e,t){this.keydownListener.add_11rb$(new Le(e,t))},Qn.prototype.removeKeydownListener_61zpoe$=function(e){for(var t=0,i=ge(this.keydownListener).iterator();i.hasNext();++t){var r=i.next();if(ue(r.first,e)){this.keydownListener.removeAt_za3lpa$(t);break}}},Qn.prototype.removeAllKeydownListener=function(){this.keydownListener.clear()},Qn.prototype.SetSkipFindUI_6taknv$=function(e){this.skipFindUI=e},Qn.prototype.GetScreenRect=function(){var e,t=Ke.isType(e=this.GetObject(),ye)?e:null;return null!=t?new Le(et(t.GetSize().width),et(t.GetSize().height)):new Le(0,0)},Qn.prototype.addChild_g5h3xp$=function(e){var t,i,r;if(null==e.GetParent()){var o=Ke.isType(t=this.GetObject(),ye)?t:null;if(null!=o)for(i=e.GetObjectList().iterator();i.hasNext();){var n=i.next(),a=Ke.isType(r=n,_e)?r:null;null!=a&&o.addChild_jrj3jl$(a)}uo.prototype.addChild_g5h3xp$.call(this,e)}},Qn.prototype.SetModalColor_3nzkge$=function(e){var t;this.modalColor=ui().copy_3nzkge$(e);var i=null!=(t=this.view)?t.GetModalMask():null;null!=i&&i.SetColor_vnjrmz$(di(e.r,e.g,e.b,i.color.a))},Qn.prototype.SetModalAlpha_mx4ult$=function(e){void 0===e&&(e=.95),this.modalAlpha=e},Qn.prototype.pushModal_g5h3xp$=function(e){var t,i,r;for(t=this.modalList.iterator();t.hasNext();){if(t.next()===e)return this.modalList.size}this.modalList.add_11rb$(e);var o=this.modalList.size;if(e.SetZPosition_8ca0d4$(Ln().value+(2*o|0),!0),1===this.modalList.size){var n=null!=(i=this.view)?i.GetModalMask():null;null!=n&&this.actionFadeIn_hkbjms$(n,void 0,this.modalAlpha,void 0,.3,void 0,void 0,void 0,ra)}else{var a=null!=(r=this.view)?r.GetModalMask():null;null!=a&&a.SetZPosition_8ca0d4$(e.GetZPosition()-1)}return this.modalList.size},Qn.prototype.popModal_g5h3xp$=function(e){var t,i,r,o;if(!(0<this.modalList.size))return 0;var n=0;for(t=this.modalList.iterator();t.hasNext();){if(t.next()===e){this.modalList.removeAt_za3lpa$(n);break}n=n+1|0}var a,s=this.modalList.size;if(e.SetZPosition_8ca0d4$(Ln().value+(2*s|0),!0),0===this.modalList.size){var l=Ke.isType(i=this.findChildByName_3m52m6$("Modal Mask"),sa)?i:null;null!=l&&this.actionFadeOut_7vo5wp$(l,void 0,void 0,.3,void 0,void 0,void 0,(a=l,function(){return a.SetZPosition_8ca0d4$(En().value),Ze}))}else{var h=Ke.isType(r=this.findChildByName_3m52m6$("Modal Mask"),sa)?r:null;if(null!=h){var u=Ke.isType(o=z(this.modalList),uo)?o:null;null!=u&&h.SetZPosition_8ca0d4$(u.GetZPosition()-1)}}return this.modalList.size},Qn.prototype.resetModal=function(){var e;for(e=$(y(this.modalList)).iterator();e.hasNext();){var t=e.next();this.modalList.removeAt_za3lpa$(t)}},Qn.prototype.GetTopModal=function(){return 0===this.modalList.size?null:z(this.modalList)},Qn.prototype.GetUIResponseNodeAtPointNew_dleff0$=function(e,t){var i,r,o=Ke.isType(i=this.GetObject(),ye)?i:null,n=Ie().shared().convertCoordinate_dleff0$(e,t);for(r=Je(o).nodeListAtPoint_qgvyiu$(n).iterator();r.hasNext();){var a=r.next(),s=this.findUIResponseNodeByObject_wympo9$(a,this.mask);if(null!=s)return s}return null},Qn.prototype.drawTouchMark_r6mt3r$=function(e,t,i){switch(i.name){case"began":this.prevMarkerCreated=this.age;var r=la(0,0,jn().value,"Resource/UI/IconMarker",40*this.sizeScale.xRatio,40*this.sizeScale.xRatio);r.SetVerticalAlign_qn2em6$(ro()),r.SetHorizontalAlign_jdpdm8$(lo()),r.SetBlendMode_ieo8yr$(ti()),r.SetBlendFactor_mx4ult$(1),r.SetColor_vnjrmz$(ui().puzzleBlue_mx4ult$()),r.SetAlpha_8ca0d4$(0),this.addChild_g5h3xp$(r),r.SetPosition_dleff0$(e,t),r.addUpdateCallback_sds54w$("Marker",void 0,void 0,void 0,void 0,void 0,(o=r,n={v:0},function(e){return o.SetScaleFromOriginal_mx4ult$(n.v),1<n.v?o.SetAlpha_8ca0d4$(1-(n.v-1)):.2<n.v?o.SetAlpha_8ca0d4$(1):o.SetAlpha_8ca0d4$(0),n.v+=3*e.elapsed,!(2<n.v&&(o.SetTimeToLive_mx4ult$(0),1))}))}var o,n},Qn.prototype.onTouchEvent_a3vp0k$=function(e,t,i,r,o){var n,a,s,l,h,u,c,d,p,f,m,v,g,_,y,$,b,S;if(!0!==this.viewChanging)if(i!==Ot())if(i!==Rt()){var k=Ie().shared().convertCoordinate_dleff0$(e,t),w=this.GetTopModal(),x=null,C=Gi();!0===this.isDrawTouchMark&&this.drawTouchMark_r6mt3r$(k.x,k.y,i);var z=!1;if(!0===this.skipFindUI&&null==w)for(s=this.touchListener.iterator();s.hasNext();){var T=s.next();if(k.x>=T.x&&k.x<=T.x+T.width&&k.y>=T.y&&k.y<=T.y+T.height){z=!0;break}}if(!1===z&&(x=this.GetUIResponseNodeAtPointNew_dleff0$(k.x,k.y)),null!=x){if(null!=w&&x!==w&&!1===w.isChild_g5h3xp$(x))return void(null!=this.currentFocus&&(null!=(l=this.currentFocus)&&l.onCancel(),this.currentFocus=null));switch(i.name){case"began":this.previousUIFireTime+.3<=this.age&&(this.speed.x=0,this.speed.y=0,this.previousPos=k,null!=this.currentFocus&&this.currentFocus!==x&&null!=(h=this.currentFocus)&&h.onCancel(),!0===x.onPress_dleff0$(k.x,k.y)?this.currentFocus=x:this.currentFocus=null);break;case"moved":var A=r;0!==A&&(C.x=k.x-this.previousPos.x,C.y=k.y-this.previousPos.y,this.speed.x=C.x/A,this.speed.y=C.y/A,null!=this.currentFocus&&(!0===(null!=(u=this.currentFocus)?u.drag:null)?null!=(c=this.currentFocus)&&c.onDrag_dleff0$(C.x,C.y):this.currentFocus!==x&&(null!=(d=this.currentFocus)&&d.onCancel(),this.currentFocus=null)),this.previousPos=k);break;case"ended":var G=r;0!==G&&(C.x=k.x-this.previousPos.x,C.y=k.y-this.previousPos.y,this.speed.x=C.x/G,this.speed.y=C.y/G,this.currentFocus===x?(x.onRelease_fzxzdm$(k.x,k.y,this.speed),this.previousUIFireTime=this.age,this.currentFocus=null):null!=this.currentFocus&&(!1===(null!=(p=this.currentFocus)?p.isChild_g5h3xp$(x):null)?null!=(f=this.currentFocus)&&f.onCancel():null!=(m=this.currentFocus)&&m.onRelease_fzxzdm$(k.x,k.y,this.speed),this.currentFocus=null));break;case"cancelled":null!=this.currentFocus&&(null!=(v=this.currentFocus)&&v.onCancel(),this.currentFocus=null)}}else switch(i.name){case"began":this.speed.x=0,this.speed.y=0,this.previousPos=k;break;case"moved":var I=r;0!==I&&(C.x=k.x-this.previousPos.x,C.y=k.y-this.previousPos.y,this.speed.x=C.y/I,this.speed.y=C.y/I,null!=this.currentFocus&&!0===(null!=(g=this.currentFocus)?g.drag:null)?null!=(_=this.currentFocus)&&_.onDrag_dleff0$(C.x,C.y):null!=this.currentFocus&&(null!=(y=this.currentFocus)&&y.onCancel(),this.currentFocus=null),this.previousPos=k);break;case"ended":var N=r;0!==N&&(C.x=k.x-this.previousPos.x,C.y=k.y-this.previousPos.y,this.speed.x=C.x/N,this.speed.y=C.y/N,null!=this.currentFocus&&(null!=($=this.currentFocus)&&$.onCancel(),this.currentFocus=null));break;default:null!=this.currentFocus&&(null!=(b=this.currentFocus)&&b.onCancel(),this.currentFocus=null)}if(null==w)for(S=this.touchListener.iterator();S.hasNext();){var O=S.next();if(k.x>=O.x&&k.x<=O.x+O.width&&k.y>=O.y&&k.y<=O.y+O.height){if(!1===O.receiveAlways&&(null!=x||null!=this.currentFocus))continue;O.callback(k,C,this.speed,i,r)}}}else for(a=ge(this.keydownListener).iterator();a.hasNext();){if(!0===a.next().second(o))break}else null!=this.scrollListener&&null!=(n=this.scrollListener)&&n(t)},Qn.prototype.GetModalNode_g5h3xp$=function(e){var t;for(t=e.childList.iterator();t.hasNext();){var i=t.next();if(!0===i.isModal()&&!0===i.GetShow())return i;var r=this.GetModalNode_g5h3xp$(i);if(null!=r)return r}return null},Qn.prototype.reloadTexture_g5h3xp$=function(e){var t,i,r=Ke.isType(t=e,sa)?t:null;for(null!=r&&r.reloadTexture(),i=e.GetChildList().iterator();i.hasNext();){var o=i.next();this.reloadTexture_g5h3xp$(o)}},Qn.prototype.createAction_xcdeti$=function(e,t,i,r,o,n,a,s){void 0===t&&(t=!1),void 0===i&&(i=!1),void 0===r&&(r=!1),void 0===o&&(o=-1),void 0===n&&(n=0),void 0===a&&(a=null);var l=a;null==l&&(l=this);var h=Je(l).findChildByName_3m52m6$("NodeForAction",0);if(null!=h)h.addUpdateCallback_sds54w$(e,t,i,r,o,n,s);else{var u=co();u.SetName_61zpoe$("NodeForAction"),Je(l).addChild_g5h3xp$(u),ue(Je(l).GetName(),"GameView"),u.addUpdateCallback_sds54w$(e,t,i,r,o,n,s)}},Qn.prototype.removeAction_81ngrp$=function(e,t,i){void 0===t&&(t=0),void 0===i&&(i=null);var r=i;null==r&&(r=this);var o=Je(r).findChildByName_3m52m6$("NodeForAction",0);null!=o&&o.removeUpdateCallback_9sobi5$(e,t)},Qn.prototype.removeAllAction_3hy050$=function(e){void 0===e&&(e=null);var t=e;null==t&&(t=this);var i=Je(t).findChildByName_3m52m6$("NodeForAction",0);null!=i&&i.removeAllUpdateCallback_6taknv$()},Qn.prototype.actionInstant_cinp1s$=function(e,t,i,r,o){void 0===e&&(e=0),void 0===t&&(t=-1),void 0===i&&(i=0),void 0===r&&(r=null);var n,a,s,l,h,u={v:r};null==u.v&&(u.v=this),this.actionDelay_ab0iom$(e,u.v,(n=this,a=t,s=i,l=u,h=o,function(){var t;return n.createAction_xcdeti$("Instant Action",!0,void 0,void 0,a,s,l.v,(t=h,function(e){return 0===e.elapsed?(t(e),!1):(t(e),!0)})),Ze}))},Qn.prototype.actionOnce_ab0iom$=function(e,t,i){void 0===e&&(e=0),void 0===t&&(t=null);var r=t;null==r&&(r=this);var o,n,a,s=co();Je(r).addChild_g5h3xp$(s),s.addUpdateCallback_sds54w$("One Time Action",!0,void 0,void 0,void 0,void 0,(o=e,n=i,a=s,function(e){return!(e.age>o&&(n(),a.SetTimeToLive_mx4ult$(0),1))}))},Qn.prototype.actionSequence_92c9p5$=function(e,t,i){void 0===e&&(e=0),void 0===t&&(t=null);var r=t;null==r&&(r=this);var o=co();Je(r).addChild_g5h3xp$(o);var n,a,s,l,h;o.addUpdateCallback_sds54w$("Sequence Action",!0,void 0,void 0,void 0,void 0,(n={v:!1},a={v:0},s=e,l=i,h={v:0},function(e){if(!1===n.v){if(e.age>a.v+s&&(l.get_za3lpa$(h.v)(),n.v=!0,h.v=h.v+1|0,h.v>=l.size))return!1}else a.v=e.age,n.v=!1;return!0}))},Qn.prototype.actionDelay_ab0iom$=function(e,t,i){void 0===t&&(t=null);var r,o=t;null==o&&(o=this),this.actionOnce_ab0iom$(e,o,(r=i,function(){return r(),Ze}))},Qn.prototype.actionFadeIn_hkbjms$=function(e,t,i,r,o,n,a,s,l){void 0===t&&(t=0),void 0===i&&(i=1),void 0===r&&(r=0),void 0===n&&(n=!1),void 0===a&&(a=!0),void 0===s&&(s=null),void 0===l&&(l=null);var h={v:s};null==h.v&&(h.v=this);var u,c,d,p,f,m,v,g,_,y=t;this.actionDelay_ab0iom$(r,h.v,(u=this,c=o,d=h,p=n,f=e,m=i,v=a,g=l,_=y,function(){return u.createAction_xcdeti$("Action Fade In",!0,void 0,void 0,c,void 0,d.v,oa(p,f,m,v,u,d,g,_,c)),Ze}))},Qn.prototype.actionFadeOut_7vo5wp$=function(e,t,i,r,o,n,a,s){void 0===t&&(t=1),void 0===i&&(i=0),void 0===o&&(o=null),void 0===n&&(n=!1),void 0===a&&(a=!0),void 0===s&&(s=null);var l={v:o};null==l.v&&(l.v=this);var h,u,c,d,p,f,m,v,g,_=t,y=_/r;this.actionDelay_ab0iom$(i,l.v,(h=this,u=r,c=l,d=n,p=e,f=a,m=s,v=_,g=y,function(){return h.createAction_xcdeti$("Action Fade Out",!0,void 0,void 0,u,void 0,c.v,na(d,p,f,h,c,m,v,g)),Ze}))},Qn.prototype.actionFade_ntk7i0$=function(e,t,i,r,o){if(void 0===r&&(r=null),t!==i){var n=r;null==n&&(n=this);var a,s,l,h,u=(i-t)/e;this.createAction_xcdeti$("Action Fade",!0,void 0,void 0,e,void 0,n,(a=o,s=i,l=t,h=u,function(e){if(0===e.elapsed)return a(s,!0),!1;var t=l+e.age*h;if(0<h){if(s<=t)return a(s,!0),!1;a(t,!1)}if(h<0){if(t<=s)return a(s,!0),!1;a(t,!1)}return!0}))}},Qn.prototype.actionFadeLoop_xukj3e$=function(e,t,i,r,o,n){if(void 0===o&&(o=null),i!==r){var a=o;null==a&&(a=this);var s,l,h,u,c,d,p=(r-i)/t,f=r-i,m={v:(r-i)/Yt.abs(f)},v={v:i};this.createAction_xcdeti$(e,void 0,void 0,void 0,void 0,void 0,a,(s=p,l=m,h=v,u=n,c=r,d=i,function(e){return h.v+=e.elapsed*s*l.v,0===e.elapsed?(u(0,!0),!1):(0<s?0<l.v?h.v>=c&&(h.v=c,l.v*=-1):h.v<=d&&(h.v=d,l.v*=-1):0<l.v?h.v<=c&&(h.v=c,l.v*=-1):h.v>=d&&(h.v=d,l.v*=-1),!1!==u(h.v,!1))}))}},Qn.$metadata$={kind:o,simpleName:"Screen",interfaces:[uo]},sa.prototype.SetSize_dleff0$=function(e,t){var i;if(this.size.width!==e||this.size.height!==t){var r=e,o=t,n=Ke.isType(i=this.GetObject(),$e)?i:null;if(null!=n){var a=n.GetTexture();if(null!=a)if(r<0&&(r=a.GetSize().width),o<0&&(o=a.GetSize().height),null!=this.centerRect){var s=r/a.GetSize().width,l=o/a.GetSize().height;n.SetScale_dleff0$(1,1),n.SetSize_dleff0$(r,o),n.SetScale_dleff0$(s,l)}else n.SetSize_dleff0$(r,o);else r<0&&(r=this.size.width),o<0&&(o=this.size.height),null!=this.centerRect?n.SetScale_dleff0$(1,1):n.SetSize_dleff0$(r,o);po.prototype.SetSize_dleff0$.call(this,r,o),this.SetVerticalAlign_qn2em6$(this.verticalAlign),this.SetHorizontalAlign_jdpdm8$(this.horizontalAlign)}}},sa.prototype.SetScale_mx4ult$$default=function(e){var t,i=Ke.isType(t=this.GetObject(),$e)?t:null;if(null!=i&&null!=i.GetTexture()){var r=this.GetSize().width*e,o=this.GetSize().height*e;i.SetSize_dleff0$(r,o),po.prototype.SetSize_dleff0$.call(this,r,o)}},sa.prototype.SetScaleFromOriginal_mx4ult$=function(e){var t,i=Ke.isType(t=this.GetObject(),$e)?t:null;if(null!=i&&null!=i.GetTexture()){var r=this.GetOriginalSize().width*e,o=this.GetOriginalSize().height*e;i.SetSize_dleff0$(r,o),po.prototype.SetSize_dleff0$.call(this,r,o),this.SetScale_mx4ult$(e,po.prototype.SetScale_mx4ult$$default.bind(this))}},sa.prototype.update_mx4ult$=function(e){if(po.prototype.update_mx4ult$.call(this,e),null!=this.animation){Je(this.animation).update_mx4ult$(e);var t=Je(this.animation).GetCurrentFrame();null!=t&&(this.SetImage_9xt0da$(t,Je(this.animation).GetWidth(),Je(this.animation).GetHeight()),this.SetBlendMode_ieo8yr$(this.blendMode),this.SetBlendFactor_mx4ult$(this.colorBlendFactor),this.SetColor_vnjrmz$(this.GetColor()),this.SetAlpha_8ca0d4$(this.GetAlpha()))}},sa.prototype.GetTextureSize=function(){var e,t=Ke.isType(e=this.GetObject(),$e)?e:null;if(null!=t){var i=t.GetTexture();if(null!=i)return ji(i.GetSize().width,i.GetSize().height)}return null},sa.prototype.GetImage=function(){return this.image},sa.prototype.SetCenterRect_3fx80m$=function(e){var t,i=this.centerRect=e;if(null!=i){var r=Ke.isType(t=this.GetObject(),$e)?t:null;if(null!=r){var o=r.GetTexture();if(null!=o){var n=o.GetSize();i.x=i.x/n.width,i.y=i.y/n.height,i.height=i.height/n.height,r.SetCenterRect_g5erez$(i)}}}var a=this.size.width,s=this.size.height;this.size.width=0,this.size.height=0,this.SetSize_dleff0$(a,s)},sa.prototype.SetImage_9xt0da$=function(e,t,i){var r,o;if(void 0===t&&(t=-1),void 0===i&&(i=-1),!ue(e,this.image)){var n=Ke.isType(r=this.GetObject(),$e)?r:null;if(null!=n)this.image=e,n.SetTexture_h2vgz3$(qe().shared().GetTexture_61zpoe$(e)),n.SetAnchorPoint_qgvyiu$(Gi(.5,.5)),this.SetCenterRect_3fx80m$(this.centerRect);else{this.image=e;var a=Ie().shared().createGuestSprite_h2vgz3$(qe().shared().GetTexture_61zpoe$(e));a.SetAnchorPoint_qgvyiu$(Gi(.5,.5)),this.SetCenterRect_3fx80m$(this.centerRect),this.addObject_s8jyv4$(Ke.isType(o=a,b)?o:Ee())}}this.SetSize_dleff0$(t,i)},sa.prototype.SetTexture_shkjqq$=function(e,t,i){var r,o;void 0===t&&(t=-1),void 0===i&&(i=-1),this.image=e.GetName();var n=Ke.isType(r=this.GetObject(),$e)?r:null;if(null!=n)n.SetTexture_h2vgz3$(e),this.SetCenterRect_3fx80m$(this.centerRect);else{var a=Ie().shared().createGuestSprite_h2vgz3$(e);null!=a&&(this.SetCenterRect_3fx80m$(this.centerRect),this.addObject_s8jyv4$(Ke.isType(o=a,b)?o:Ee()))}this.SetSize_dleff0$(t,i)},sa.prototype.SetColor_sczwbf$$default=function(e,t,i,r,o){var n;this.SetColor_sczwbf$(e,t,i,r,o,po.prototype.SetColor_sczwbf$$default.bind(this));var a=Ke.isType(n=this.GetObject(),$e)?n:null;null!=a&&(a.SetColor_7b5o5w$(this.color.r,this.color.g,this.color.b,this.color.a),a.SetAlpha_mx4ult$(this.color.a))},sa.prototype.SetAlpha_8ca0d4$$default=function(e,t){var i;this.SetAlpha_8ca0d4$(e,t,po.prototype.SetAlpha_8ca0d4$$default.bind(this));var r=Ke.isType(i=this.GetObject(),$e)?i:null;null!=r&&(r.SetColor_7b5o5w$(this.color.r,this.color.g,this.color.b,this.color.a),r.SetAlpha_mx4ult$(this.color.a))},sa.prototype.SetMasterAlpha_mx4ult$=function(e){var t;po.prototype.SetMasterAlpha_mx4ult$.call(this,e);var i=Ke.isType(t=this.GetObject(),$e)?t:null;null!=i&&i.SetAlpha_mx4ult$(this.color.a)},sa.prototype.SetBlendFactor_mx4ult$$default=function(e){var t,i=Ke.isType(t=this.GetObject(),$e)?t:null;null!=i&&i.SetColorBlendFactor_mx4ult$(e),this.SetBlendFactor_mx4ult$(e,po.prototype.SetBlendFactor_mx4ult$$default.bind(this))},sa.prototype.SetBlendMode_ieo8yr$=function(e){var t,i=Ke.isType(t=this.GetObject(),$e)?t:null;null!=i&&i.SetBlendMode_ieo8yr$(e),po.prototype.SetBlendMode_ieo8yr$.call(this,e)},sa.prototype.SetAnimation_pe1q5w$=function(e){this.animation=e},sa.prototype.reloadTexture=function(){var e;if(null!=this.image){var t=Ke.isType(e=this.GetObject(),$e)?e:null;null!=t&&(t.SetTexture_h2vgz3$(qe().shared().GetTexture_61zpoe$(Je(this.image))),this.SetCenterRect_3fx80m$(this.centerRect),this.SetSize_dleff0$(this.GetSize().width,this.GetSize().height))}},sa.prototype.SetRotation_mx4ult$$default=function(e){var t;if(this.rotation!==e){var i=Ke.isType(t=this.GetObject(),$e)?t:null;null!=i&&(i.SetZRotation_mx4ult$(e),this.rotation=e)}},sa.prototype.GetRotation=function(){return this.rotation},sa.prototype.SetRotationDegree_mx4ult$=function(e){void 0===e&&(e=0),this.SetRotation_mx4ult$(e*(te.PI/180))},sa.prototype.GetRotationDegree=function(){return this.rotation*(180/te.PI)},sa.$metadata$={kind:o,simpleName:"Sprite",interfaces:[po]},ha.$metadata$={kind:o,simpleName:"SwitchState",interfaces:[s]},ha.values=function(){return[ca(),da()]},ha.valueOf_61zpoe$=function(e){switch(e){case"on":return ca();case"off":return da();default:c("No enum constant com.blindcatstudio.phantom.graphic.SwitchState."+e)}},pa.prototype.changeState=function(){this.isOn===ca()?this.isOn=da():this.isOn=ca(),this.SetButtonImage()},pa.prototype.SetEnable_6taknv$=function(e){this.enable=e,this.SetButtonImage()},pa.prototype.SetButtonImage=function(){var e,t=Ke.isType(e=this.GetChild_za3lpa$(0),sa)?e:null;if(null!=t)if(!0===this.enable)if(this.GetOnOff()===ca()){var i=this.GetImageFrame()[0];null!=i&&t.SetImage_9xt0da$(i,this.GetSize().width,this.GetSize().height)}else{var r=this.GetImageFrame()[1];null!=r&&t.SetImage_9xt0da$(r,this.GetSize().width,this.GetSize().height)}else if(this.GetOnOff()===ca()){var o=this.GetImageFrame()[2];null!=o&&t.SetImage_9xt0da$(o,this.GetSize().width,this.GetSize().height)}else{var n=this.GetImageFrame()[3];null!=n&&t.SetImage_9xt0da$(n,this.GetSize().width,this.GetSize().height)}},pa.prototype.SetOnOff_abhado$=function(e){this.isOn!==e&&(this.isOn=e,this.SetButtonImage())},pa.prototype.GetOnOff=function(){return this.isOn},pa.prototype.toggle=function(){this.isOn===ca()?this.isOn=da():this.isOn=ca(),this.SetButtonImage()},pa.$metadata$={kind:o,simpleName:"Switch",interfaces:[Kt]},ma.prototype.SetFadeMode_za3lpa$=function(e){this.fadeMode=e},ma.prototype.addTextInternal_r4v59z$=function(e,t,i){var r,o,n,a;void 0===t&&(t=0),void 0===i&&(i=null),null==this.currentContainer&&(this.currentContainer=Xt(0,this.lineGap*this.lineCount+this.textHeight,0),this.addChild_g5h3xp$(Je(this.currentContainer)),Je(this.currentContainer).SetSize_dleff0$(0,this.fontHeight*this.fontScale),Je(this.currentContainer).SetVerticalAlign_qn2em6$(ro()),Je(this.currentContainer).SetHorizontalAlign_jdpdm8$(lo()),Je(this.currentContainer).SetInputOwner_3hy050$(this));var s,l=null;if(0===this.labelType?((l=mi(this.lineOffset,Je(this.currentContainer).GetSize().height/2,0,e,1,this.fontSpace,this.whiteSpace,null,this.fontName)).SetVerticalAlign_qn2em6$(ro()),l.SetHorizontalAlign_jdpdm8$(so()),l.SetColor_vnjrmz$(this.fontColor),l.SetBlendFactor_mx4ult$(1)):((l=Yr(this.lineOffset,Je(this.currentContainer).GetSize().height/2,0,e,this.fontName,this.fontSize*this.fontScale,this.fontColor)).SetVerticalAlign_qn2em6$(ro()),l.SetHorizontalAlign_jdpdm8$(so()),l.SetColor_vnjrmz$(this.fontColor)),l.SetSize_dleff0$(-1,this.fontSize*this.fontScale),0<this.wrapType&&this.lineOffset+l.GetSize().width>this.GetSize().width&&(this.lineOffset=0,this.lineCount=this.lineCount+1|0,this.characterCount=0,this.textHeight=this.textHeight+Je(this.currentContainer).GetSize().height,this.currentContainer=null,this.lineCount>this.lineMax&&this.clearTop(),this.currentContainer=Xt(0,this.lineGap*this.lineCount+this.textHeight,0),this.addChild_g5h3xp$(Je(this.currentContainer)),Je(this.currentContainer).SetSize_dleff0$(0,this.fontHeight*this.fontScale),Je(this.currentContainer).SetVerticalAlign_qn2em6$(ro()),Je(this.currentContainer).SetHorizontalAlign_jdpdm8$(lo()),Je(this.currentContainer).SetInputOwner_3hy050$(this),l.SetPosition_dleff0$(this.lineOffset,Je(this.currentContainer).GetSize().height/2)),null!=(r=this.currentContainer)&&r.addChild_g5h3xp$(l),l.SetInputOwner_3hy050$(this),0!==t){var h=Ke.isType(o=this.GetRoot(),Qn)?o:null;if(null!=h){var u=0;0===this.fadeMode&&(u=this.lineCount*t),l.SetAlpha_8ca0d4$(0,!0),h.actionFadeIn_hkbjms$(l,void 0,void 0,u,t,void 0,!0,void 0,(s=i,function(){return null!=s&&s(),Ze}))}}else null!=i&&i();for(this.lineOffset=this.lineOffset+l.GetSize().width,l.GetSize().height>Je(this.currentContainer).GetSize().height&&Je(this.currentContainer).SetSize_dleff0$(Je(this.currentContainer).GetSize().width,l.GetSize().height),n=Je(this.currentContainer).GetChildList().iterator();n.hasNext();){var c=n.next();c.SetPosition_dleff0$(c.GetPosition().x,Je(this.currentContainer).GetSize().height/2)}for(l.GetSize().height<this.fontHeight&&(ue(e,".")||ue(e,","))&&l.SetPosition_dleff0$(l.GetPosition().x,Je(this.currentContainer).GetSize().height/2+(this.fontHeight-this.periodCharacterHeight)),Je(this.currentContainer).SetSize_dleff0$(this.lineOffset,Je(this.currentContainer).GetSize().height*this.heightAdjust),Je(this.currentContainer).SetVerticalAlign_qn2em6$(ro()),Je(this.currentContainer).SetHorizontalAlign_jdpdm8$(lo()),a=Je(this.currentContainer).GetChildList().iterator();a.hasNext();){var d=a.next();d.SetPosition_dleff0$(d.GetPosition().x,Je(this.currentContainer).GetSize().height/2)}return this.adjustTextPosition(),l},ma.prototype.addImageInternal_1e04p$=function(e,t,i,r,o){var n,a,s;void 0===t&&(t=-1),void 0===i&&(i=-1),void 0===r&&(r=0),void 0===o&&(o=null),null==this.currentContainer&&(this.currentContainer=Xt(0,this.lineGap*this.lineCount+this.textHeight,0),this.addChild_g5h3xp$(Je(this.currentContainer)),Je(this.currentContainer).SetSize_dleff0$(0,this.fontHeight),Je(this.currentContainer).SetVerticalAlign_qn2em6$(ro()),Je(this.currentContainer).SetHorizontalAlign_jdpdm8$(lo()),Je(this.currentContainer).SetInputOwner_3hy050$(this));var l,h=la(this.lineOffset,Je(this.currentContainer).GetSize().height/2,0,e,t,i);if(h.SetVerticalAlign_qn2em6$(ro()),h.SetHorizontalAlign_jdpdm8$(so()),h.SetBlendFactor_mx4ult$(1),h.SetSize_dleff0$(t,i),null!=(n=this.currentContainer)&&n.addChild_g5h3xp$(h),h.SetInputOwner_3hy050$(this),0!==r){var u=Ke.isType(a=this.GetRoot(),Qn)?a:null;if(null!=u){var c=0;0===this.fadeMode&&(c=this.lineCount*r),h.SetAlpha_8ca0d4$(0,!0),u.actionFadeIn_hkbjms$(h,void 0,void 0,c,r,void 0,!0,void 0,(l=o,function(){return null!=l&&l(),Ze}))}}else null!=o&&o();for(this.lineOffset=this.lineOffset+h.GetSize().width,h.GetSize().height>Je(this.currentContainer).GetSize().height&&Je(this.currentContainer).SetSize_dleff0$(Je(this.currentContainer).GetSize().width,h.GetSize().height),s=Je(this.currentContainer).GetChildList().iterator();s.hasNext();){var d=s.next();d.SetPosition_dleff0$(d.GetPosition().x,Je(this.currentContainer).GetSize().height/2)}return Je(this.currentContainer).SetSize_dleff0$(this.lineOffset,Je(this.currentContainer).GetSize().height*this.heightAdjust),Je(this.currentContainer).SetVerticalAlign_qn2em6$(ro()),Je(this.currentContainer).SetHorizontalAlign_jdpdm8$(lo()),this.adjustTextPosition(),h},ma.prototype.addButtonInternal_1e04p$=function(e,t,i,r,o){var n,a,s;void 0===t&&(t=-1),void 0===i&&(i=-1),void 0===r&&(r=0),void 0===o&&(o=null),null==this.currentContainer&&(this.currentContainer=Xt(0,this.lineGap*this.lineCount+this.textHeight,0),this.addChild_g5h3xp$(Je(this.currentContainer)),Je(this.currentContainer).SetSize_dleff0$(0,this.fontHeight),Je(this.currentContainer).SetVerticalAlign_qn2em6$(ro()),Je(this.currentContainer).SetHorizontalAlign_jdpdm8$(lo()),Je(this.currentContainer).SetInputOwner_3hy050$(this));var l,h=Zt(this.lineOffset,Je(this.currentContainer).GetSize().height/2,0,[e,e+"Disabled"],"",this.fontName,this.fontColor);if(h.SetFontSize_mx4ult$(this.fontSize*this.fontScale),h.SetClickAdjust_dleff0$(0,0),h.SetSize_dleff0$(t,i),h.SetName_61zpoe$(this.buttonCount.toString()),this.buttonCount=this.buttonCount+1|0,h.SetVerticalAlign_qn2em6$(ro()),h.SetHorizontalAlign_jdpdm8$(so()),h.SetBlendFactor_mx4ult$(1),null!=(n=this.currentContainer)&&n.addChild_g5h3xp$(h),0!==r){var u=Ke.isType(a=this.GetRoot(),Qn)?a:null;if(null!=u){var c=0;0===this.fadeMode&&(c=this.lineCount*r),h.SetAlpha_8ca0d4$(0,!0),u.actionFadeIn_hkbjms$(h,void 0,void 0,c,r,void 0,!0,void 0,(l=o,function(){return null!=l&&l(),Ze}))}}else null!=o&&o();for(this.lineOffset=this.lineOffset+h.GetSize().width,h.GetSize().height>Je(this.currentContainer).GetSize().height&&Je(this.currentContainer).SetSize_dleff0$(Je(this.currentContainer).GetSize().width,h.GetSize().height),s=Je(this.currentContainer).GetChildList().iterator();s.hasNext();){var d=s.next();d.SetPosition_dleff0$(d.GetPosition().x,Je(this.currentContainer).GetSize().height/2)}return Je(this.currentContainer).SetSize_dleff0$(this.lineOffset,Je(this.currentContainer).GetSize().height*this.heightAdjust),Je(this.currentContainer).SetVerticalAlign_qn2em6$(ro()),Je(this.currentContainer).SetHorizontalAlign_jdpdm8$(lo()),this.adjustTextPosition(),h};var va=Ke.kotlin.text.toDoubleOrNull_pdl1vz$;function ga(e,t,i){return function(){return e.SetShow_6taknv$(!1),e.removeFromParent(),0===t.childList.size&&(t.lineOffset=0,t.lineCount=0,t.characterCount=0,t.textHeight=0,t.currentContainer=null,t.buttonCount=0,null!=i&&i()),Ze}}function _a(e,t,i,r,o,n,a,s,l,h,u,c,d,p,f,m,v){if(void 0===i&&(i=0),void 0===n&&(n="Main/"),void 0===a&&(a=12),void 0===s&&(s=.1),void 0===l&&(l=.5),void 0===h&&(h=1),void 0===u&&(u=10),void 0===c&&(c=-1),void 0===d&&(d=0),void 0===p&&(p=1),void 0===f&&(f=ui().white_mx4ult$()),void 0===m&&(m=1),Xt(e,t,i,v=v||Object.create(ma.prototype)),ma.call(v),v.defaultFontColor=ui().copy_3nzkge$(f),v.fontColor=ui().copy_3nzkge$(f),v.fontName=n,v.fontNameDefault=n,v.fontSize=1.2*a,v.fontSpace=s,v.whiteSpace=l,v.lineGap=h,v.lineMax=u,v.characterPerLine=c,v.wrapType=d,v.heightAdjust=p,v.labelType=m,v.SetSize_dleff0$(r,o),0===m){var g=mi(0,0,0,"0",1,s,l,null,n);g.SetSize_dleff0$(-1,a),v.fontHeight=g.GetSize().height,-1===c&&(v.characterPerLine=et(r/g.GetSize().width));var _=mi(0,0,0,".",1,s,l,null,n);g.SetSize_dleff0$(-1,a),v.periodCharacterHeight=_.GetSize().height}else v.fontHeight=a,-1===c&&(v.characterPerLine=et(r/a)),v.periodCharacterHeight=a;return v}function ya(){this.screen_hd7mxi$_0=null,this.mask=null,this.modalMask=null,this.fontName="Main/",this.fontSize=16,this.fontColor=di(),this.childVerticalAlign=io(),this.childHorizontalAlign=so(),this.fontVerticalAlign=io(),this.fontHorizontalAlign=so()}function $a(e,t,i,r){return void 0===e&&(e=0),void 0===t&&(t=0),void 0===i&&(i=Sn().value),Xt(e,t,i,r=r||Object.create(ya.prototype)),ya.call(r),r.SetName_61zpoe$("View"),r.modalMask=la(0,0,En().value,"Resource/UI/Background",r.GetSize().width,r.GetSize().height),Je(r.modalMask).SetName_61zpoe$("Modal Mask"),Je(r.modalMask).SetAlpha_8ca0d4$(0),Je(r.modalMask).SetShow_6taknv$(!0),r.addChild_g5h3xp$(Je(r.modalMask)),r}function ba(){za(),this.loadingProgress=0,this.currentBlockSetId="",this.currentBlockSetResource="",this.deviceScene=null,this.shutdown=!1,this.requestHandler_6kqtfy$_0=this.requestHandler_6kqtfy$_0}function Sa(){(ka=this).instance=null}ma.prototype.addText_r4v59z$=function(e,t,i){var r,o,n,a,s,l,h,u,c,d,p,f,m,v,g,_;void 0===t&&(t=0),void 0===i&&(i=null);var y="",$=!1,b=!1,S=Fe(),k="";for(r=oe(e);r.hasNext();){var w=ne(r.next());if(!0!==b||!1!==$)if(!0!==$)switch(w){case 32:y+=String.fromCharCode(w),this.addTextInternal_r4v59z$(y,t),y="";break;case 10:0<y.length?this.addTextInternal_r4v59z$(y,t):null==this.currentContainer&&(this.currentContainer=Xt(0,this.lineGap*this.lineCount+this.textHeight,0),this.addChild_g5h3xp$(Je(this.currentContainer)),Je(this.currentContainer).SetSize_dleff0$(0,this.fontHeight*this.fontScale),Je(this.currentContainer).SetVerticalAlign_qn2em6$(ro()),Je(this.currentContainer).SetHorizontalAlign_jdpdm8$(lo()),Je(this.currentContainer).SetInputOwner_3hy050$(this)),y="",this.lineOffset=0,this.lineCount=this.lineCount+1|0,this.characterCount=0,this.textHeight=this.textHeight+Je(this.currentContainer).GetSize().height,this.currentContainer=null,this.lineCount>this.lineMax&&this.clearTop();break;case 91:$=!0;break;case 34:b=!0;break;default:1===this.wrapType?this.addTextInternal_r4v59z$(String.fromCharCode(w),t):y+=String.fromCharCode(w)}else{if(!0===b){34===w?b=!1:k+=String.fromCharCode(w);continue}switch(w){case 91:$=!1,y+=String.fromCharCode(w);break;case 93:if($=!1,S.add_11rb$(k),k="",0<S.size){if(0!==y.length){if(1===this.wrapType){for(o=oe(y);o.hasNext();){var x=ne(o.next());this.addTextInternal_r4v59z$(String.fromCharCode(x),t)}this.addTextInternal_r4v59z$("",t,i)}else this.addTextInternal_r4v59z$(y,t);y=""}var C=S.get_za3lpa$(0).toLowerCase();if(ue(C,"button"))if(2===S.size){var z=S.get_za3lpa$(1);null!=z&&this.addButtonInternal_1e04p$(z,void 0,void 0,t)}else if(3===S.size){var T=va(S.get_za3lpa$(2));if(null!=T){var A=S.get_za3lpa$(1);if(null!=A){var G=Ke.isType(n=this.GetRoot(),Qn)?n:null;if(null!=G){var I=null!=(a=G.GetCurrentView())?a.sizeUniversalToDevice_1lj1ir$(A,T):null;null!=I&&this.addButtonInternal_1e04p$(A,I.width,I.height,t)}}}}else if(4===S.size){var N=S.get_za3lpa$(3),O=va(S.get_za3lpa$(2));if(null!=O){var M=S.get_za3lpa$(1);if(null!=M){var R=Ke.isType(s=this.GetRoot(),Qn)?s:null;if(null!=R){var P=null!=(l=R.GetCurrentView())?l.sizeUniversalToDevice_1lj1ir$(M,O):null;if(null!=P)this.addButtonInternal_1e04p$(M,P.width,P.height,t).SetName_61zpoe$(N)}}}}else if(5===S.size){var j=S.get_za3lpa$(4),B=S.get_za3lpa$(3),E=va(S.get_za3lpa$(2));if(null!=E){var L=S.get_za3lpa$(1);if(null!=L){var F=Ke.isType(h=this.GetRoot(),Qn)?h:null;if(null!=F){var D=null!=(u=F.GetCurrentView())?u.sizeUniversalToDevice_1lj1ir$(L,E):null;if(null!=D){var V=this.addButtonInternal_1e04p$(L,D.width,D.height,t);V.SetName_61zpoe$(B),ue(j,"false")&&V.SetEnable_6taknv$(!1)}}}}}if(ue(C,"image"))if(2===S.size){var U=S.get_za3lpa$(1);null!=U&&this.addImageInternal_1e04p$(U,void 0,void 0,t)}else if(3===S.size){var q=va(S.get_za3lpa$(2));if(null!=q){var H=S.get_za3lpa$(1);if(null!=H){var W=Ke.isType(c=this.GetRoot(),Qn)?c:null;if(null!=W){var Y=null!=(d=W.GetCurrentView())?d.sizeUniversalToDevice_1lj1ir$(H,q):null;null!=Y&&this.addImageInternal_1e04p$(H,Y.width,Y.height,t)}}}}if(ue(C,"font"))if(2===S.size){var X=S.get_za3lpa$(1);null!=X&&(this.fontName=X)}else this.fontName=this.fontNameDefault;if(ue(C,"scale"))if(2===S.size){var K=va(S.get_za3lpa$(1));null!=K&&(this.fontScale=K)}else this.fontScale=1;if(ue(C,"color")||ue(C,"c"))if(4<=S.size){var Z=null!=(p=ae(S.get_za3lpa$(1)))?p:0,Q=null!=(f=ae(S.get_za3lpa$(2)))?f:0,J=null!=(m=ae(S.get_za3lpa$(3)))?m:0,ee=1;5<=S.size&&(ee=(null!=(v=ae(S.get_za3lpa$(4)))?v:0)/255),this.fontColor=pi(Z,Q,J,ee)}else if(2<=S.size){var te=S.get_za3lpa$(1),ie=1;switch(3===S.size&&(ie=(null!=(g=va(S.get_za3lpa$(4)))?g:0)/255),te.toLowerCase()){case"yellow":this.fontColor=ui().puzzleYellow_mx4ult$(ie);break;case"green":this.fontColor=ui().puzzleGreen_mx4ult$(ie);break;case"red":this.fontColor=ui().puzzleRed_mx4ult$(ie);break;case"blue":this.fontColor=ui().puzzleBlue_mx4ult$(ie);break;case"gray":this.fontColor=pi(196,196,196);break;case"pink":this.fontColor=ui().puzzlePink_mx4ult$(ie);break;case"purple":this.fontColor=ui().puzzlePurple_mx4ult$(ie);break;case"white":this.fontColor=ui().white_mx4ult$(ie);break;default:this.fontColor=ci(te)}}else this.fontColor=this.defaultFontColor;S.clear(),k=""}break;case 32:S.add_11rb$(k),k="";break;case 34:b=!0;break;default:k+=String.fromCharCode(w)}}else 34===w?b=!1:y+=String.fromCharCode(w)}if(0<y.length)if(1===this.wrapType){for(_=oe(y);_.hasNext();){var re=ne(_.next());this.addTextInternal_r4v59z$(String.fromCharCode(re),t)}this.addTextInternal_r4v59z$("",t,i)}else this.addTextInternal_r4v59z$(y,t,i);else this.addTextInternal_r4v59z$("",t,i)},ma.prototype.addTextList_fux00f$=function(e,t){var i;void 0===e&&(e=null),void 0===t&&(t=0);if(null!=e)for(i=e.iterator();i.hasNext();){var r=i.next();this.addText_r4v59z$(r,t),this.addText_r4v59z$("\n"),this.currentContainer=null}},ma.prototype.clearText_gam257$=function(e,t){var i,r,o,n,a;if(void 0===e&&(e=0),void 0===t&&(t=null),0!==this.childList.size){var s,l=Ke.isType(r=this.GetRoot(),Qn)?r:null;if(null!=l)if(0<e){o=this.childList;for(var h=0;h!==o.size;++h){var u,c=Ke.isType(u=this.childList.get_za3lpa$(h),Lt)?u:null;null!=c&&l.actionFadeOut_7vo5wp$(c,void 0,void 0,e,void 0,void 0,!0,ga(c,this,t))}}else{for(n=$(y(this.childList)).iterator();n.hasNext();){var d=n.next(),p=Ke.isType(a=this.childList.get_za3lpa$(d),Lt)?a:null;null!=p&&p.removeFromParent()}this.lineOffset=0,this.lineCount=0,this.characterCount=0,this.textHeight=0,this.currentContainer=null,this.buttonCount=0,null!=t&&t()}}else{this.lineOffset=0,this.lineCount=0,this.characterCount=0,this.textHeight=0,this.currentContainer=null,this.buttonCount=0;var f=Ke.isType(i=this.GetRoot(),Qn)?i:null;null!=f&&f.actionDelay_ab0iom$(0,void 0,(s=t,function(){return null!=s&&s(),Ze}))}},ma.prototype.clearTop=function(){var e,t,i;for(e=$(y(this.childList)).iterator();e.hasNext();){var r=e.next();if(0===r){var o=Ke.isType(t=this.childList.get_za3lpa$(r),Lt)?t:null;null!=o&&(o.removeFromParent(),this.lineOffset=0,this.lineCount=this.lineCount-1|0,this.currentContainer=null,this.textHeight=this.textHeight-o.GetSize().height)}else{var n=Ke.isType(i=this.childList.get_za3lpa$(r),Lt)?i:null;null!=n&&n.SetPosition_dleff0$(n.GetPosition().x,n.GetPosition().y-this.lineGap)}}},ma.prototype.SetTextVerticalAlign_qn2em6$=function(e){void 0===e&&(e=io()),this.textVerticalAlign=e,this.adjustTextPosition()},ma.prototype.SetTextHorizontalAlign_jdpdm8$=function(e){void 0===e&&(e=so()),this.textHorizontalAlign=e,this.adjustTextPosition()},ma.prototype.adjustTextPosition=function(){var e,t,i=this.textHeight,r=0,o=0;switch(this.textVerticalAlign.name){case"center":o=.5*(this.GetSize().height-i);break;case"bottom":o=this.GetSize().height-i}switch(this.textHorizontalAlign.name){case"center":r=.5*this.GetSize().width;break;case"right":r=this.GetSize().width}var n=0;e=this.childList.size-1|0;for(var a=0;a<=e;a++){var s=Ke.isType(t=this.childList.get_za3lpa$(a),Lt)?t:null;if(null!=s){switch(this.textHorizontalAlign.name){case"left":s.SetHorizontalAlign_jdpdm8$(so());break;case"center":s.SetHorizontalAlign_jdpdm8$(lo());break;case"right":s.SetHorizontalAlign_jdpdm8$(ho())}var l=0;switch(this.textVerticalAlign.name){case"top":l=.5*s.GetSize().height;break;case"bottom":l=-1*s.GetSize().height*.5}s.SetPosition_dleff0$(r,o+n+l),n+=s.GetSize().height}}},ma.$metadata$={kind:o,simpleName:"TextArea",interfaces:[Lt]},Object.defineProperty(ya.prototype,"screen",{get:function(){var e;return Ke.isType(e=this.GetRoot(),Qn)?e:null},set:function(e){this.screen_hd7mxi$_0=e}}),ya.prototype.SetSize_dleff0$=function(e,t){var i;this.size.width=e,this.size.height=t,Lt.prototype.SetSize_dleff0$.call(this,e,t),null!=(i=this.modalMask)&&i.SetSize_dleff0$(e,t)},ya.prototype.moveToBackground=function(){},ya.prototype.resume=function(){},ya.prototype.SetMask_g5i0xv$=function(e){this.mask=e},ya.prototype.GetMask=function(){var e=this.mask;return null==e?this:e},ya.prototype.GetModalMask=function(){return this.modalMask},ya.prototype.addTouchListener_dal58m$=function(e){var t,i=Ke.isType(t=this.GetRoot(),Qn)?t:null;null!=i&&i.addTouchListener_dal58m$(e)},ya.prototype.removeTouchListener=function(){var e,t=Ke.isType(e=this.GetRoot(),Qn)?e:null;null!=t&&t.removeTouchListenerAll()},ya.prototype.SetFontName_61zpoe$=function(e){void 0===e&&(e="Main/"),this.fontName=e},ya.prototype.SetFontSize_mx4ult$=function(e){void 0===e&&(e=16),this.fontSize=e},ya.prototype.SetFontColor_hu04m1$=function(e,t,i,r){this.SetFontColor_7b5o5w$(e/255,t/255,i/255,r)},ya.prototype.SetFontColor_7b5o5w$=function(e,t,i,r){this.fontColor.r=e,this.fontColor.g=t,this.fontColor.b=i,this.fontColor.a=r},ya.prototype.SetFontColor_3nzkge$=function(e){void 0===e&&(e=ui().white_mx4ult$()),this.SetFontColor_7b5o5w$(e.r,e.g,e.b,e.a)},ya.prototype.GetFontColor=function(){return this.fontColor},ya.prototype.SetFontVerticalAlign_qn2em6$=function(e){void 0===e&&(e=io()),this.fontVerticalAlign=e},ya.prototype.SetFontHorizontalAlign_jdpdm8$=function(e){void 0===e&&(e=so()),this.fontHorizontalAlign=e},ya.prototype.SetChildVerticalAlign_qn2em6$=function(e){this.childVerticalAlign=e},ya.prototype.SetChildHorizontalAlign_jdpdm8$=function(e){this.childHorizontalAlign=e},ya.prototype.positionDeviceToUniversal_xpb3zu$=function(e,t,i,r){void 0===i&&(i=null),void 0===r&&(r=null);var o=r;return null==o?Gi(e/this.sizeScale.xRatio,t/this.sizeScale.yRatio):Gi(e/o.xRatio,t/o.yRatio)},ya.prototype.positionUniversalToDevice_xpb3zu$=function(e,t,i,r){void 0===i&&(i=null),void 0===r&&(r=null);var o=r;return null==o?Gi(e*this.sizeScale.xRatio,t*this.sizeScale.yRatio):Gi(e*o.xRatio,t*o.yRatio)},ya.prototype.sizeScaleUniversalToDevice_1lj1ir$=function(e,t,i,r,o,n,a,s){void 0===t&&(t=-1),void 0===i&&(i=-1),void 0===r&&(r=null),void 0===o&&(o=null),void 0===n&&(n=!0),void 0===a&&(a=!0),void 0===s&&(s=!1);var l=r,h=o;null==l&&(l=this),null==h&&(h=Je(l).sizeScale);var u=null;if(t<=0||i<=0){var c=gt().shared().GetTexture_61zpoe$(e);if(null!=c)if(0<t){var d=t/c.GetSize().width;u=new Vi(t,c.GetSize().height*d,h.xRatio,h.yRatio)}else if(0<i){var p=i/c.GetSize().height;u=new Vi(c.GetSize().width*p,i,h.xRatio,h.yRatio)}}else u=new Vi(t,i,h.xRatio,h.yRatio);return null==u&&(u=new Vi(t,i,h.xRatio,h.yRatio)),!0===n&&u.keepOriginalRatio_6taknv$(a),u},ya.prototype.sizeUniversalToDevice_1lj1ir$=function(e,t,i,r,o,n,a,s){void 0===t&&(t=-1),void 0===i&&(i=-1),void 0===r&&(r=null),void 0===o&&(o=null),void 0===n&&(n=!0),void 0===a&&(a=!0),void 0===s&&(s=!1);var l=this.sizeScaleUniversalToDevice_1lj1ir$(e,t,i,r,o,n,a,s);return ji(l.newX,l.newY)},ya.prototype.createMask_jga54f$=function(e,t,i,r,o,n,a,s,l,h,u,c){void 0===o&&(o=-1),void 0===n&&(n=-1),void 0===a&&(a=null),void 0===s&&(s=null),void 0===l&&(l=!0),void 0===h&&(h=!0),void 0===u&&(u=!1),void 0===c&&(c=!0);var d=a,p=s;null==d&&(d=this),null==p&&(p=this.sizeScale);var f=Gi(e,t);!1===u&&(f=this.convertCoordinateUniversal_f8jzzg$(f,p));var m=null;if(o<=0||n<=0){var v=gt().shared().GetTexture_61zpoe$(r);if(null!=v)if(0<o){var g=o/v.GetSize().width;m=new Vi(o,v.GetSize().height*g,p.xRatio,p.yRatio)}else if(0<n){var _=n/v.GetSize().height;m=new Vi(v.GetSize().width*_,n,p.xRatio,p.yRatio)}}else m=new Vi(o,n,p.xRatio,p.yRatio);null==m&&(m=new Vi(o,n,p.xRatio,p.yRatio)),!0===l&&m.keepOriginalRatio_6taknv$(h);var y=Kr(f.x,f.y,i,r,m.newX,m.newY,c);return y.SetPercentCoordinate_6taknv$(u),y.SetVerticalAlign_qn2em6$(this.childVerticalAlign),y.SetHorizontalAlign_jdpdm8$(this.childHorizontalAlign),d.addChild_g5h3xp$(y),y},ya.prototype.createSprite_vzsiy1$=function(e,t,i,r,o){return void 0===i&&(i=0),void 0===o&&(o=null),this.createSprite_591x4d$(e,t,i,r,void 0,void 0,o,null)},ya.prototype.createSprite_591x4d$=function(e,t,i,r,o,n,a,s,l,h,u){void 0===r&&(r=null),void 0===o&&(o=-1),void 0===n&&(n=-1),void 0===a&&(a=null),void 0===s&&(s=null),void 0===l&&(l=!0),void 0===h&&(h=!0),void 0===u&&(u=!1);var c=a,d=s;null==c&&(c=this),null==d&&(d=this.sizeScale);var p=Gi(e,t);!1===u&&(p=this.convertCoordinateUniversal_f8jzzg$(p,d));var f=null;if(o<=0||n<=0){if(null!=r){var m=gt().shared().GetTexture_61zpoe$(r);if(null!=m)if(0<o){var v=o/m.GetSize().width;f=new Vi(o,m.GetSize().height*v,d.xRatio,d.yRatio)}else if(0<n){var g=n/m.GetSize().height;f=new Vi(m.GetSize().width*g,n,d.xRatio,d.yRatio)}}}else f=new Vi(o,n,d.xRatio,d.yRatio);null==f&&(f=new Vi(o,n,d.xRatio,d.yRatio)),!0===l&&f.keepOriginalRatio_6taknv$(h);var _=la(p.x,p.y,i,r,f.newX,f.newY);return _.SetPercentCoordinate_6taknv$(u),_.SetVerticalAlign_qn2em6$(this.childVerticalAlign),_.SetHorizontalAlign_jdpdm8$(this.childHorizontalAlign),_.SetBlendFactor_mx4ult$(1),_.SetColor_vnjrmz$(ui().white_mx4ult$()),c.addChild_g5h3xp$(_),_},ya.prototype.createSprite_9wuqyc$=function(e,t,i,r,o,n,a,s,l,h,u){void 0===i&&(i=Fn()),void 0===r&&(r=null),void 0===o&&(o=-1),void 0===n&&(n=-1),void 0===a&&(a=null),void 0===s&&(s=null),void 0===l&&(l=!0),void 0===h&&(h=!0),void 0===u&&(u=!1);var c=i.value;return i===Fn()&&(c=0),this.createSprite_591x4d$(e,t,c,r,o,n,a,s,l,h,u)},ya.prototype.createLabel_hnp01c$=function(e,t,i,r,o,n,a,s,l){void 0===r&&(r=""),void 0===o&&(o=null),void 0===n&&(n=!1),void 0===a&&(a="Resource/UI/font_texture"),void 0===s&&(s=null),void 0===l&&(l=!1);var h=o,u=s;null==h&&(h=this),null==u&&(u=h.sizeScale);var c=Gi(e,t);!1===l&&(c=this.convertCoordinateUniversal_f8jzzg$(c,u));var d=Yr(c.x,c.y,i,r,this.fontName,this.fontSize*u.xRatio,this.fontColor);return d.SetPercentCoordinate_6taknv$(l),d.SetVerticalAlign_qn2em6$(this.fontVerticalAlign),d.SetHorizontalAlign_jdpdm8$(this.fontHorizontalAlign),h.addChild_g5h3xp$(d),d},ya.prototype.createLabel_17tgk7$=function(e,t,i,r,o,n,a,s,l){void 0===i&&(i=Fn()),void 0===r&&(r=""),void 0===o&&(o=null),void 0===n&&(n=!1),void 0===a&&(a="Resource/UI/font_texture"),void 0===s&&(s=null),void 0===l&&(l=!1);var h=i.value;return i===Fn()&&(h=0),this.createLabel_hnp01c$(e,t,h,r,o,n,a,s,l)},ya.prototype.createCompositeLabel_a1gu21$=function(e,t,i,r,o,n,a,s,l,h,u,c){void 0===i&&(i=Fn()),void 0===r&&(r=""),void 0===o&&(o=1),void 0===n&&(n=0),void 0===a&&(a=1),void 0===s&&(s=null),void 0===l&&(l=!1),void 0===h&&(h=null),void 0===c&&(c=null);var d=s,p=c;null==d&&(d=this);var f=i.value;i===Fn()&&(f=0),null==p&&(p=d.sizeScale);var m=this.convertCoordinateUniversal_f8jzzg$(Gi(e,t),p),v=mi(m.x,m.y,f,r,o,n,a,h,u);return v.SetVerticalAlign_qn2em6$(this.fontVerticalAlign),v.SetHorizontalAlign_jdpdm8$(this.fontHorizontalAlign),d.addChild_g5h3xp$(v),v},ya.prototype.createButton_2nezqx$=function(e,t,i,r,o,n,a,s,l,h,u,c){void 0===r&&(r=""),void 0===o&&(o=null),void 0===n&&(n=100),void 0===a&&(a=40),void 0===s&&(s=null),void 0===l&&(l=null),void 0===h&&(h=null),void 0===u&&(u=!0),void 0===c&&(c=null);var d=i.value;return i===Fn()&&(d=0),this.createButton_ix8ej2$(e,t,d,r,o,n,a,s,l,h,void 0,void 0,u,c)},ya.prototype.createButton_ix8ej2$=function(e,t,i,r,o,n,a,s,l,h,u,c,d,p){void 0===r&&(r=""),void 0===o&&(o=null),void 0===n&&(n=100),void 0===a&&(a=40),void 0===s&&(s=null),void 0===l&&(l=null),void 0===h&&(h=null),void 0===u&&(u=!0),void 0===c&&(c=!0),void 0===d&&(d=!0),void 0===p&&(p=null);var f=o,m=s,v=l,g=h;null==f&&(f=this),null==m&&(m=this.sizeScale);var _=Gi(e,t);!1===this.percentCoordinate&&(_=this.convertCoordinateUniversal_f8jzzg$(_,m));var y=null;if(n<=0||a<=0){if(null!=v){var $=gt().shared().GetTexture_61zpoe$(Je(v[0]));if(null!=$)if(0<n){var b=n/$.GetSize().width;y=new Vi(n,$.GetSize().height*b,m.xRatio,m.yRatio)}else if(0<a){var S=a/$.GetSize().height;y=new Vi($.GetSize().width*S,a,m.xRatio,m.yRatio)}}}else y=new Vi(n,a,m.xRatio,m.yRatio);null==y&&(y=new Vi(n,a,m.xRatio,m.yRatio)),!0===u&&y.keepOriginalRatio_6taknv$(c),null==g&&(g=Di(30,30,30,30)),null==v&&(this.GetSize().width,v=["Resource/UI/Button/ButtonFrame","Resource/UI/Button/ButtonFrame","Resource/UI/Button/ButtonFrame"],g=Di(30,30,30,30));var k=Zt(_.x,_.y,0,Je(v),r,this.fontName);return k.sizeScale=y,k.SetFontSize_mx4ult$(this.fontSize*m.xRatio),k.SetSize_dleff0$(y.newX,y.newY),k.SetCenterRect_3fx80m$(g),k.SetClickAdjust_dleff0$(0,0),k.SetReaction_6taknv$(d),k.SetMessageHandler_4mjqr2$(p),k.SetVerticalAlign_qn2em6$(this.childVerticalAlign),k.SetHorizontalAlign_jdpdm8$(this.childHorizontalAlign),Je(f).addChild_g5h3xp$(k),k},ya.prototype.createImageButton_uax0jn$=function(e,t,i,r,o,n,a,s,l,h,u){void 0===i&&(i=Pn()),void 0===r&&(r=""),void 0===o&&(o=-1),void 0===n&&(n=-1),void 0===a&&(a=null),void 0===s&&(s=null),void 0===l&&(l=null),void 0===h&&(h=!1),void 0===u&&(u=null);var c=i.value;return i===Fn()&&(c=0),this.createImageButton_nujlpm$(e,t,c,r,o,n,a,s,l,void 0,void 0,h,u)},ya.prototype.createImageButton_nujlpm$=function(e,t,i,r,o,n,a,s,l,h,u,c,d){void 0===r&&(r=""),void 0===o&&(o=-1),void 0===n&&(n=-1),void 0===a&&(a=null),void 0===s&&(s=null),void 0===l&&(l=null),void 0===h&&(h=!0),void 0===u&&(u=!0),void 0===c&&(c=!1),void 0===d&&(d=null);var p=a,f=s;null==p&&(p=this),null==f&&(f=Je(p).sizeScale);var m=Gi(e,t);!1===c&&(m=this.convertCoordinateUniversal_f8jzzg$(m,f));var v=null;if(o<=0||n<=0){var g=null!=l?l[0]:null;if(null!=g){var _=gt().shared().GetTexture_61zpoe$(g);if(null!=_)if(0<o){var y=o/_.GetSize().width;v=new Vi(o,_.GetSize().height*y,Je(f).xRatio,Je(f).yRatio)}else if(0<n){var $=n/_.GetSize().height;v=new Vi(_.GetSize().width*$,n,Je(f).xRatio,Je(f).yRatio)}}}else v=new Vi(o,n,Je(f).xRatio,Je(f).yRatio);null==v&&(v=new Vi(o,n,Je(f).xRatio,Je(f).yRatio)),!0===h&&v.keepOriginalRatio_6taknv$(u);var b=Zt(m.x,m.y,i,l,r,this.fontName,this.fontColor);return b.SetPercentCoordinate_6taknv$(c),b.sizeScale=v,b.SetFontSize_mx4ult$(this.fontSize*Je(f).xRatio),b.SetSize_dleff0$(v.newX,v.newY),b.SetClickAdjust_dleff0$(0,0),b.SetMessageHandler_4mjqr2$(d),b.SetVerticalAlign_qn2em6$(this.childVerticalAlign),b.SetHorizontalAlign_jdpdm8$(this.childHorizontalAlign),Je(p).addChild_g5h3xp$(b),b},ya.prototype.createTextArea_pvsv9g$=function(e,t,i,r,o,n,a,s,l,h,u,c,d,p,f,m){void 0===i&&(i=Fn()),void 0===n&&(n=.05),void 0===a&&(a=1),void 0===s&&(s=1),void 0===l&&(l=20),void 0===h&&(h=-1),void 0===u&&(u=0),void 0===c&&(c=1),void 0===d&&(d=1),void 0===p&&(p=null),void 0===f&&(f=null),void 0===m&&(m=null);var v=p,g=f;null==v&&(v=this),null==g&&(g=this.sizeScale);var _=this.convertCoordinateUniversal_f8jzzg$(Gi(e,t),g),y=new Vi(r,o,Je(g).xRatio,Je(g).yRatio),$=i.value;i===Fn()&&($=0);var b=ji(r*y.xRatio,o*y.yRatio),S=_a(_.x,_.y,$,b.width,b.height,this.fontName,this.fontSize*Je(g).yRatio,n,a,s*Je(g).yRatio,l,h,u,c,this.fontColor,d);return Je(v).addChild_g5h3xp$(S),S.SetVerticalAlign_qn2em6$(this.childVerticalAlign),S.SetHorizontalAlign_jdpdm8$(this.childHorizontalAlign),S},ya.prototype.createAction_xcdeti$=function(e,t,i,r,o,n,a,s){void 0===t&&(t=!1),void 0===i&&(i=!1),void 0===r&&(r=!1),void 0===o&&(o=-1),void 0===n&&(n=0),void 0===a&&(a=null);var l=a;null==l&&(l=this);var h=Je(l).findChildByName_3m52m6$("NodeForAction",0);if(null!=h)h.addUpdateCallback_sds54w$(e,t,i,r,o,n,s);else{var u=co();u.SetName_61zpoe$("NodeForAction"),Je(l).addChild_g5h3xp$(u),ue(Je(l).GetName(),"GameView"),u.addUpdateCallback_sds54w$(e,t,i,r,o,n,s)}},ya.prototype.removeAction_sbe383$=function(e,t,i,r){void 0===t&&(t=0),void 0===i&&(i=0),void 0===r&&(r=null);var o=r;null==o&&(o=this);var n=Je(o).findChildByName_3m52m6$("NodeForAction",0);null!=n&&n.removeUpdateCallback_9sobi5$(e,i)},ya.prototype.removeAllAction_jldc6z$=function(e,t){void 0===e&&(e=null),void 0===t&&(t=!0);var i=e;null==i&&(i=this);var r=Je(i).findChildByName_3m52m6$("NodeForAction",0);null!=r&&r.removeAllUpdateCallback_6taknv$(t)},ya.prototype.printActionInfo_3hy050$=function(e){void 0===e&&(e=null)},ya.$metadata$={kind:o,simpleName:"View",interfaces:[Lt]},Sa.$metadata$={kind:a,simpleName:"Holder",interfaces:[]};var ka=null;function wa(){return null===ka&&new Sa,ka}function xa(){(Ca=this).initialized=!1}xa.prototype.shared=function(){return null==wa().instance&&(wa().instance=new ba),Je(wa().instance)},xa.prototype.shutdown=function(){var e;null!=(e=wa().instance)&&e.Shutdown(),wa().instance=null},xa.$metadata$={kind:a,simpleName:"Companion",interfaces:[]};var Ca=null;function za(){return null===Ca&&new xa,Ca}function Ta(e){this.closure$callback=e}function Aa(e){this.closure$callback=e}function Ga(){return qe().shared().loadEffect_ho7uxo$("Resource/Sound/Basic/Effect/Score Count - Nonzerobot","score"),Ze}function Ia(){return qe().shared().loadEffect_ho7uxo$("Resource/Sound/Basic/Effect/Score Count - Nonzerobot_PITCHUP","ghostscore"),Ze}function Na(){return qe().shared().loadEffect_ho7uxo$("Resource/Sound/Basic/Effect/Bling - Nonzerobot","star"),Ze}function Oa(){return qe().shared().loadEffect_ho7uxo$("Resource/Sound/Basic/Effect/Happy-sound","angel",2),Ze}function Ma(){return qe().shared().loadEffect_ho7uxo$("Resource/Sound/Basic/Effect/Distorted Laser Blast 2","boom",2,50),Ze}function Ra(){return qe().shared().loadEffect_ho7uxo$("Resource/Sound/Basic/Effect/Squeezed-Spark-Burst_TTX021003","electricity",2,50),Ze}function Pa(){return qe().shared().loadEffect_ho7uxo$("Resource/Sound/Basic/Effect/Bomb Explosion","bomb",2),Ze}function ja(){return qe().shared().loadEffect_ho7uxo$("Resource/Sound/Basic/Effect/Dynamite Explosion","dynamite",2),Ze}function Ba(){return qe().shared().loadEffect_ho7uxo$("Resource/Sound/Basic/Effect/Ancient Game Ceramic or Ice Bomb Explosion 1","singlebomb",2,50),Ze}function Ea(){return qe().shared().loadEffect_ho7uxo$("Resource/Sound/Basic/Effect/Laser Gun","laser",2,50),Ze}function La(){return qe().shared().loadEffect_ho7uxo$("Resource/Sound/Basic/Effect/Gem Fall","landing",2),Ze}function Fa(){return qe().shared().loadEffect_ho7uxo$("Resource/Sound/Basic/Effect/Timer End 2","shake",16),Ze}function Da(){return qe().shared().loadEffect_ho7uxo$("Resource/Sound/Basic/Effect/Message","change",16),Ze}function Va(){return qe().shared().loadEffect_ho7uxo$("Resource/Sound/Basic/Effect/Ghost Disappear Bleeps","ghost",1,50),Ze}function Ua(){return qe().shared().loadEffect_ho7uxo$("Resource/Sound/Basic/Effect/Explosion 1","feverPop0",16),Ze}function qa(){return qe().shared().loadEffect_ho7uxo$("Resource/Sound/Basic/Effect/Explosion 2","feverPop1",16),Ze}function Ha(){return qe().shared().loadEffect_ho7uxo$("Resource/Sound/Basic/Effect/Explosion 3","feverPop2",16),Ze}function Wa(){return qe().shared().loadEffect_ho7uxo$("Resource/Sound/Basic/Effect/Explosion 4","feverPop3",16),Ze}function Ya(){return qe().shared().loadEffect_ho7uxo$("Resource/Sound/Basic/Effect/Explosion 5","feverPop4",16),Ze}function Xa(){return qe().shared().loadEffect_ho7uxo$("Resource/Sound/Basic/Effect/Explosion 6","feverPop5",16),Ze}function Ka(){return qe().shared().loadEffect_ho7uxo$("Resource/Sound/Basic/Effect/Pops 5","pop9"),Ze}function Za(){return qe().shared().loadEffect_ho7uxo$("Resource/Sound/Basic/Effect/Message","click",1),Ze}function Qa(){return qe().shared().loadEffect_ho7uxo$("Resource/Sound/Basic/Effect/Buy","buy"),Ze}function Ja(){return qe().shared().loadEffect_ho7uxo$("Resource/Sound/Basic/Effect/Timer","timer"),Ze}function es(){return qe().shared().loadBGM_icsyi4$("Resource/Sound/Basic/BGM/LLS - Paper Turtles_small","TutorialBGM",20),Ze}function ts(){return qe().shared().loadBGM_icsyi4$("Resource/Sound/Basic/BGM/LLS - Facing Danger_small","FeverBGM",20),Ze}function is(){return qe().shared().loadBGM_icsyi4$("Resource/Sound/Basic/BGM/LLS - Results_small","GameOverBGM",20),Ze}function rs(){return qe().shared().loadBGM_icsyi4$("Resource/Sound/Basic/BGM/LLS - Victory-LN_small","NewRecordBGM",20),Ze}function os(){return qe().shared().loadTexture_jyasbz$("Resource/UI/Background"),Ze}function ns(){return gt().shared().loadAtlas_qz9155$("UI","Resource/UI/"),Ze}function as(){return gt().shared().addAlias_puj7f4$("Resource/UI/IconMarker","IconMarker"),Ze}function ss(){return gt().shared().addAlias_puj7f4$("Resource/UI/TextNirvanic","Resource/UI/FEVER"),Ze}function ls(){return gt().shared().addAlias_puj7f4$("Resource/UI/TextNoMoreMatch","Resource/UI/NOMOREMATCH"),Ze}function hs(){return gt().shared().addAlias_puj7f4$("Resource/UI/TextReady","Resource/UI/READY"),Ze}function us(){return gt().shared().addAlias_puj7f4$("Resource/UI/TextStart","Resource/UI/START"),Ze}function cs(){return gt().shared().addAlias_puj7f4$("Resource/UI/TextNoMoreMatch","Resource/UI/NOMOREMATCH"),Ze}function ds(){return gt().shared().addAlias_puj7f4$("Resource/UI/TextTimeOver","Resource/UI/GAMEOVER"),Ze}function ps(){return gt().shared().addAlias_puj7f4$("Resource/UI/TextLastChance","Resource/UI/LASTCHANCE"),Ze}function fs(){return gt().shared().loadAtlas_qz9155$("Match"),Ze}function ms(){return gt().shared().loadAtlas_qz9155$("Block"),Ze}function vs(){return gt().shared().loadAtlas_qz9155$("Effect"),Ze}function gs(){return gt().shared().loadAtlas_qz9155$("BlockSet","Resource/BlockSet/"),Ze}function _s(){var e,t,i="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123=_-,.!()[]%+?=>/'";return i+=Os(4567.89),null!=(t=Ke.isType(e=Ie().shared().GetGuestScreen(),Ol)?e:null)&&t.createFont_basrv3$("Number/",i,20,1),Ze}function ys(){var e,t;return null!=(t=Ke.isType(e=Ie().shared().GetGuestScreen(),Ol)?e:null)&&t.createFont_basrv3$("BigScore/","0123456789:,.CombosK+s",40,1,"Roboto-Black.ttf"),Ze}function $s(){var e,t;return null!=(t=Ke.isType(e=Ie().shared().GetGuestScreen(),Ol)?e:null)&&t.addFontAlias_puj7f4$("BigScore/","Gage/"),Ze}Object.defineProperty(ba.prototype,"requestHandler",{get:function(){return null==this.requestHandler_6kqtfy$_0?T("requestHandler"):this.requestHandler_6kqtfy$_0},set:function(e){this.requestHandler_6kqtfy$_0=e}}),ba.prototype.initialize_hmf0yx$=function(e){this.shutdown=!1,this.requestHandler=e},ba.prototype.Shutdown=function(){this.shutdown=!0},ba.prototype.isBannerReady=function(){return this.requestHandler.isBannerReady()},ba.prototype.showAds_6taknv$=function(e){this.requestHandler.showAds_6taknv$(e)},ba.prototype.getAdsHeight=function(){return this.requestHandler.getHeight()},Ta.prototype.callbackMethod_8kj6y5$=function(e,t){this.closure$callback(e)},Ta.$metadata$={kind:o,interfaces:[qs]},ba.prototype.showInterstitial_y8twos$=function(e){return this.requestHandler.showInterstitial_6zcd6v$(new Ta(e))},ba.prototype.isRewardReady=function(){return this.requestHandler.isRewardReady()},Aa.prototype.callbackMethod_8kj6y5$=function(e,t){this.closure$callback(e)},Aa.$metadata$={kind:o,interfaces:[qs]},ba.prototype.playRewarded_y8twos$=function(e){return this.requestHandler.playRewarded_6zcd6v$(new Aa(e))},ba.prototype.setAdsMute_6taknv$=function(e){this.requestHandler.setAdsMute_6taknv$(e)},ba.prototype.showLeaderboard=function(){this.requestHandler.showLeaderboard()},ba.prototype.submitScore_ds2soj$=function(e,t,i){this.requestHandler.submitScore_ds2soj$(e,t,i)},ba.prototype.isLogin=function(){return this.requestHandler.isLogin()},ba.prototype.loginIntent=function(){this.requestHandler.loginIntent()},ba.prototype.getVersionName=function(){return this.requestHandler.getVersionName()},ba.prototype.getVersionCode=function(){return this.requestHandler.getVersionCode()},ba.prototype.isDesktop=function(){return!0},ba.prototype.isWeb=function(){return!0},ba.prototype.printLog_7z05hs$=function(e,t,i,r){void 0===t&&(t=""),void 0===i&&(i=0),void 0===r&&(r="")},ba.prototype.clearLog=function(){var e;null!=(e=this.deviceScene)&&e.clearLog()},ba.prototype.shareSocial_3yj0dh$=function(e,t,i,r){void 0===i&&(i=null)},ba.prototype.SetTitle_61zpoe$=function(e){},ba.prototype.changeFPS_za3lpa$=function(e){},ba.prototype.GetScreenshot_3fx80m$=function(e){return void 0===e&&(e=null),Ie().shared().GetScreenshot_3fx80m$(e)},ba.prototype.pause=function(){},ba.prototype.resume=function(){var e;null!=(e=this.deviceScene)&&e.resume()},ba.prototype.SetLoadingProgress_mx4ult$=function(e){this.loadingProgress=e},ba.prototype.GetLoadingProgress=function(){return this.loadingProgress},ba.prototype.loadSoundResource=function(){return S([Ga,Ia,Na,Oa,Ma,Ra,Pa,ja,Ba,Ea,La,Fa,Da,Va,Ua,qa,Ha,Wa,Ya,Xa,Ka,Za,Qa,Ja,es,ts,is,rs])},ba.prototype.loadDefaultResource_dleff0$=function(e,t){var a,s,l,h,i=new Vi(320,480,void 0,void 0,e,t);return S([os,ns,as,ss,ls,hs,us,cs,ds,ps,fs,ms,vs,gs,_s,ys,$s,(a=i,s=e,l=t,h=this,function(){var e,t="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123=_-,.!()[]%+?=>/'";for(t+=Os(4567.89),e=oe(t);e.hasNext();){var i,r=ne(e.next()),o=x(r);e:do{if(Ke.isNumber(o)){i=o.toString();break e}if("string"==typeof o){i=o;break e}if("boolean"==typeof o){i=o.toString();break e}if(Ke.isChar(o)){i=o.toString();break e}i=""}while(0);var n=i;qe().shared().createStringTexture_49g1x9$(n," ",96*a.xRatio,ui().white_mx4ult$(),ui().puzzleTileGray_mx4ult$(),-2,void 0,void 0,"Main_Outlined/"+n)}return h.generateLocalFont_dleff0$(s,l),Ze})])},ba.prototype.generateLocalFont_dleff0$=function(e,t){var i=new Vi(320,480,void 0,void 0,e,t),r="NanumGothicBold.ttf";ue(zs(),"kr")&&(r="NanumGothicBold.ttf");var o,n=As("MENU_COUNT");e:do{if(null==n){o=0;break e}if(Ke.isNumber(n)){o=et(n);break e}if("string"==typeof n)try{o=tt(n);break e}catch(e){if(Ke.isType(e,ta)){o=0;break e}throw e}o=0}while(0);var a=o;null!=a&&this.generateLocalFontTexture_5a9l1g$("MENU_",0,a-1|0,r,i,S(["MENU_/","Menu_Mode/"]));var s,l=As("TUTORIAL_COUNT");e:do{if(null==l){s=0;break e}if(Ke.isNumber(l)){s=et(l);break e}if("string"==typeof l)try{s=tt(l);break e}catch(e){if(Ke.isType(e,ta)){s=0;break e}throw e}s=0}while(0);null!=(a=s)&&this.generateLocalFontTexture_5a9l1g$("TUTORIAL_",0,a-1|0,r,i,S(["TUTORIAL_/","Number_Outlined/"])),this.SetLoadingProgress_mx4ult$(95);var h,u=As("BEGINNER_TIP_COUNT");e:do{if(null==u){h=0;break e}if(Ke.isNumber(u)){h=et(u);break e}if("string"==typeof u)try{h=tt(u);break e}catch(e){if(Ke.isType(e,ta)){h=0;break e}throw e}h=0}while(0);null!=(a=h)&&this.generateLocalFontTexture_5a9l1g$("BEGINNER_TIP_",0,a-1|0,r,i,S(["BEGINNER_TIP_/","Number_Outlined/"]));var c,d=As("BEGINNER6x6_TIP_COUNT");e:do{if(null==d){c=0;break e}if(Ke.isNumber(d)){c=et(d);break e}if("string"==typeof d)try{c=tt(d);break e}catch(e){if(Ke.isType(e,ta)){c=0;break e}throw e}c=0}while(0);null!=(a=c)&&this.generateLocalFontTexture_5a9l1g$("BEGINNER6x6_TIP_",0,a-1|0,r,i,S(["BEGINNER6x6_TIP_/","Number_Outlined/"]));var p,f=As("Classic_TIP_COUNT");e:do{if(null==f){p=0;break e}if(Ke.isNumber(f)){p=et(f);break e}if("string"==typeof f)try{p=tt(f);break e}catch(e){if(Ke.isType(e,ta)){p=0;break e}throw e}p=0}while(0);null!=(a=p)&&this.generateLocalFontTexture_5a9l1g$("Classic_TIP_",0,a-1|0,r,i,S(["Classic_TIP_/","Number_Outlined/"]))};var bs,Ss,ks,ws,xs=Ke.kotlin.collections.LinkedHashSet_init_287e2$;function Cs(e){ws=ue(ks=e,"kr")?Ss:bs}function zs(){return ks}function Ts(e){return 0===e.length}function As(e){var t=ws.get_11rb$(e);return null!=t?t:e}ba.prototype.generateLocalFontTexture_5a9l1g$=function(e,t,i,r,o,n){var a,s,l,h;void 0===r&&(r=" ");for(var u=xs(),c=t;c<=i;c++){var d="";if(-1===t)d=As(e);else{var p;e:do{if(Ke.isNumber(c)){p=c.toString();break e}if("string"==typeof c){p=c;break e}if("boolean"==typeof c){p=c.toString();break e}if(Ke.isChar(c)){p=c.toString();break e}p=""}while(0);d=As(e+p)}if(0===d.length!=!0){var f=!1;for(a=oe(d);a.hasNext();){var m,v=ne(a.next()),g=x(v);e:do{if(Ke.isNumber(g)){m=g.toString();break e}if("string"==typeof g){m=g;break e}if("boolean"==typeof g){m=g.toString();break e}if(Ke.isChar(g)){m=g.toString();break e}m=""}while(0);var _=m;!0!==f?ue(_,"\n")||(ue(_,"[")?f=!0:u.add_11rb$(_)):ue(_,"]")&&(f=!1)}}}var y="";for(s=u.iterator();s.hasNext();){y+=s.next()}null!=(h=Ke.isType(l=Ie().shared().GetGuestScreen(),Ol)?l:null)&&h.createFont_basrv3$(n.get_za3lpa$(0),y,20,1,r);for(var $=0,b=n.iterator();b.hasNext();++$){var S,k,w=b.next();0!==$&&(null!=(k=Ke.isType(S=Ie().shared().GetGuestScreen(),Ol)?S:null)&&k.addFontAlias_puj7f4$(n.get_za3lpa$(0),w))}},ba.prototype.loadBlockSet_jyasbz$=function(e,t){void 0===t&&(t=null);var i=t;null==i&&(i=e);for(var r=le(),o=0;o<=4;o++){var n=i+o.toString()+"_normal",a=e+o.toString()+"_normal";r.put_xwzc9p$(n,a)}var s=i+"connect_0",l=e+"connect_0";r.put_xwzc9p$(s,l);var h=i+"connect_1",u=e+"connect_1";r.put_xwzc9p$(h,u);var c=i+"connect_2",d=e+"connect_2";r.put_xwzc9p$(c,d);var p=i+"connect_3",f=e+"connect_3";r.put_xwzc9p$(p,f);var m=i+"board_tile",v=e+"board_tile";r.put_xwzc9p$(m,v);var g=i+"inactive_mask",_=e+"inactive_mask";r.put_xwzc9p$(g,_);var y=i+"inactive_mask_CB",$=e+"inactive_mask_CB";r.put_xwzc9p$(y,$);var b=i+"IconMenu",S=e+"IconMenu";r.put_xwzc9p$(b,S),gt().shared().makeAtlas_mvjluj$(i+"_blocks",r);var k=zf().GetString_sv46oe$(_p(),void 0,"Normal");ue(k,"Blind")&&gt().shared().addAlias_puj7f4$(e+"inactive_mask_CB",e+"inactive_mask")},ba.prototype.unloadBlockSet_61zpoe$=function(e){},ba.prototype.GetCurrentBlockSetResource=function(){return this.currentBlockSetResource},ba.prototype.GetCurrentBlockSetId=function(){return this.currentBlockSetId},ba.prototype.changeCurrentBlockSet_61zpoe$=function(e){var t,i,r=Ke.isType(t=hm().shared().GetItemInfo_61zpoe$(e),Jf)?t:null;return null==r&&(r=Ke.isType(i=hm().shared().GetItemByCategory_1svh2y$(Vf(),0),Jf)?i:null),this.currentBlockSetResource=Je(r).resource,this.currentBlockSetId=Je(r).id,!0},ba.prototype.saveCurrentBlockSet=function(){var e,t,i=Ke.isType(e=hm().shared().GetItemInfo_61zpoe$(this.currentBlockSetId),Jf)?e:null;null==i&&(i=Ke.isType(t=hm().shared().GetItemByCategory_1svh2y$(Vf(),0),Jf)?t:null),zf().SetString_sv46oe$(fp(),void 0,Je(i).id)},ba.$metadata$={kind:o,simpleName:"AppController",interfaces:[]};var Gs=Ke.kotlin.text.reversed_gw00vp$;function Is(e){var t,i,r=e.toString(),o="",n=0;for(t=oe(Gs(Ke.isCharSequence(i=r)?i:Ee()).toString());t.hasNext();){var a=ne(t.next());n%3==0&&0<n&&(o=","+o);var s=o;o=String.fromCharCode(a)+s,n=n+1|0}return o}function Ns(e){return e.toString()}function Os(e){return e.toString()}var Ms=G("SamsaraHTML.com.blindcatstudio.samsara.INT_s8jyv4$",I(function(){var t=Ke.numberToInt,i=Ke.kotlin.text.toInt_pdl1vz$,r=Ke.kotlin.Exception;return function(e){if(null==e)return 0;if(Ke.isNumber(e))return t(e);if("string"==typeof e)try{return i(e)}catch(e){if(Ke.isType(e,r))return 0;throw e}return 0}})),Rs=G("SamsaraHTML.com.blindcatstudio.samsara.FLOAT_s8jyv4$",I(function(){var t=Ke.numberToDouble,i=Ke.kotlin.Exception,r=Ke.kotlin.text.toDouble_pdl1vz$;return function(e){if(null==e)return 0;if(Ke.isNumber(e))return t(e);if("string"==typeof e)try{return r(e)}catch(e){if(Ke.isType(e,i))return 0;throw e}return 0}})),Ps=G("SamsaraHTML.com.blindcatstudio.samsara.DOUBLE_s8jyv4$",I(function(){var t=Ke.numberToDouble,i=Ke.kotlin.text.toDouble_pdl1vz$,r=Ke.kotlin.Exception;return function(e){if(null==e)return 0;if(Ke.isNumber(e))return t(e);if("string"==typeof e)try{return i(e)}catch(e){if(Ke.isType(e,r))return 0;throw e}return 0}})),js=G("SamsaraHTML.com.blindcatstudio.samsara.STRING_za3rmp$",function(e){return Ke.isNumber(e)?e.toString():"string"==typeof e?e:"boolean"==typeof e?e.toString():Ke.isChar(e)?e.toString():""}),Bs=G("SamsaraHTML.com.blindcatstudio.samsara.INT64_za3rmp$",I(function(){var t=Ke.numberToLong,i=Ke.kotlin.text.toLong_pdl1vz$;return function(e){return Ke.isNumber(e)?t(e):"string"==typeof e?i(e):Ke.Long.ZERO}}));function Es(e){this.v=e}function Ls(){this.ballSize=0,this.amount=0,this.shrinkTime=0,this.power=0,this.drag=0,this.timeToLive=0,this.size=0,this.fireShrinkStart=0,this.fireShrinkEnd=0,this.maxBrightStart=0,this.maxBrightEnd=0,this.brightOffTime=0,this.child=Fe()}function Fs(e,t,i,r,o,n,a,s,l,h,u,c,d,p){return void 0===e&&(e=100),void 0===t&&(t=50),void 0===i&&(i=.15),void 0===r&&(r=300),void 0===o&&(o=1),void 0===n&&(n=1.5),void 0===a&&(a=100),void 0===s&&(s=.5),void 0===l&&(l=1.5),void 0===h&&(h=.3),void 0===u&&(u=.8),void 0===c&&(c=.5),void 0===d&&(d=1),p=p||Object.create(Ls.prototype),Ls.call(p),p.ballSize=e,p.amount=t,p.shrinkTime=i,p.power=r,p.drag=o,p.timeToLive=n*d,p.size=a,p.fireShrinkStart=s*d,p.fireShrinkEnd=l*d,p.maxBrightStart=h*d,p.maxBrightEnd=u*d,p.brightOffTime=c*d,p}function Ds(){this.particleManager=null}function Vs(y,$){return function(e,t,i){var r,o;if(0===i)return Ke.isType(e.GetLocalVariables_61zpoe$("Fireball"),Ls)&&y.explosion_xovnep$(e),!1;if(e.age<=$.shrinkTime?(e.size<0&&(e.size=0),e.SetOriginalAlpha_mx4ult$(e.age/$.maxBrightStart)):e.age<=$.maxBrightEnd?e.SetOriginalAlpha_mx4ult$(e.age/$.maxBrightStart):e.SetOriginalAlpha_mx4ult$(1-(e.age-$.maxBrightEnd)/$.brightOffTime),e.age>$.shrinkTime){var n="string"==typeof(r=e.GetLocalVariables_61zpoe$("State"))?r:null;if(ue(n,"ready")){e.addLocalVariables_bm4g0d$("State",Ke.isType("exploded",b)?"exploded":Ee());var a=Ke.isType(o=e.GetLocalVariables_61zpoe$("Backup"),Ci)?o:null;null!=a&&(e.movement=Ai().copy_qgvyiu$(a));var s,l=go(),h=$.power/2;e:do{if(null==h){s=0;break e}if(Ke.isNumber(h)){s=et(h);break e}if("string"==typeof h)try{s=tt(h);break e}catch(e){if(Ke.isType(e,ta)){s=0;break e}throw e}s=0}while(0);var u,c=l.arc4random_uniform_za3lpa$(s);e:do{if(null==c){u=0;break e}if(Ke.isNumber(c)){u=it(c);break e}if("string"==typeof c)try{u=Qe(c);break e}catch(e){if(Ke.isType(e,ta)){u=0;break e}throw e}u=0}while(0);var d,p=Gi(u+$.power/2,0,0),f=go().arc4random_uniform_za3lpa$(360);e:do{if(null==f){d=0;break e}if(Ke.isNumber(f)){d=it(f);break e}if("string"==typeof f)try{d=Qe(f);break e}catch(e){if(Ke.isType(e,ta)){d=0;break e}throw e}d=0}while(0);p.rotateY_mx4ult$(d);var m,v=go().arc4random_uniform_za3lpa$(360);e:do{if(null==v){m=0;break e}if(Ke.isNumber(v)){m=it(v);break e}if("string"==typeof v)try{m=Qe(v);break e}catch(e){if(Ke.isType(e,ta)){m=0;break e}throw e}m=0}while(0);p.rotateX_mx4ult$(m),e.movement.x=e.movement.x+p.x,e.movement.y=e.movement.y+p.y,e.movement.z=e.movement.z+p.z;var g,_=go().arc4random_uniform_za3lpa$(20);e:do{if(null==_){g=0;break e}if(Ke.isNumber(_)){g=it(_);break e}if("string"==typeof _)try{g=Qe(_);break e}catch(e){if(Ke.isType(e,ta)){g=0;break e}throw e}g=0}while(0);e.size=g+$.size,e.SetOriginalAlpha_mx4ult$(1)}}return e.age>$.fireShrinkStart&&(e.size=e.size-i*$.size/($.fireShrinkEnd-$.fireShrinkStart),e.size<0)&&!(e.size=0)}}function Us(e,t){return t=t||Object.create(Ds.prototype),Ds.call(t),t.particleManager=e,t}function qs(){}function Hs(){}function Ws(){}function Ys(){el()}function Xs(){(Ks=this).instance=new Ys,this.user_n3qzoi$_0=this.user_n3qzoi$_0}Es.$metadata$={kind:o,simpleName:"Ref",interfaces:[]},Es.prototype.component1=function(){return this.v},Es.prototype.copy_11rb$=function(e){return new Es(void 0===e?this.v:e)},Es.prototype.toString=function(){return"Ref(v="+Ke.toString(this.v)+")"},Es.prototype.hashCode=function(){var e=0;return e=31*e+Ke.hashCode(this.v)|0},Es.prototype.equals=function(e){return this===e||null!==e&&"object"==typeof e&&Object.getPrototypeOf(this)===Object.getPrototypeOf(e)&&Ke.equals(this.v,e.v)},Ls.prototype.addFireball_1jtdr7$=function(e){this.child.add_11rb$(e)},Ls.prototype.getFireball=function(){return 0===this.child.size?null:this.child.removeAt_za3lpa$(0)},Ls.$metadata$={kind:o,simpleName:"Firework",interfaces:[]},Ds.prototype.explosion_xovnep$=function(e){var t,i,r=Ke.isType(t=e.removeLocalVariables_61zpoe$("Fireball"),Ls)?t:Ee();i=r.amount-1|0;for(var o=0;o<=i;o++){var n="Particle_white";switch(go().arc4random_uniform_za3lpa$(5)){case 0:n="Particle_red";break;case 1:n="Particle_yellow";break;case 2:n="Particle_green";break;case 3:n="Particle_blue";break;default:n="Particle_white"}var a,s=Gi(.3*r.ballSize,0,0),l=go().arc4random_uniform_za3lpa$(360);e:do{if(null==l){a=0;break e}if(Ke.isNumber(l)){a=it(l);break e}if("string"==typeof l)try{a=Qe(l);break e}catch(e){if(Ke.isType(e,ta)){a=0;break e}throw e}a=0}while(0);s.rotateY_mx4ult$(a);var h,u=go().arc4random_uniform_za3lpa$(360);e:do{if(null==u){h=0;break e}if(Ke.isNumber(u)){h=it(u);break e}if("string"==typeof u)try{h=Qe(u);break e}catch(e){if(Ke.isType(e,ta)){h=0;break e}throw e}h=0}while(0);s.rotateX_mx4ult$(h);var c=this.particleManager.createParticle_t3d6nt$(e.position.x+e.local.x+s.x,e.position.y+e.local.y+s.y,e.position.z+e.local.z+s.z,void 0,void 0,void 0,void 0,void 0,void 0,r.size,void 0,n,void 0,!1);if(null!=c){c.SetCallback_lnidq9$(Vs(this,r)),c.movement.x=e.movement.x*r.drag,c.movement.y=e.movement.y*r.drag,c.movement.z=e.movement.z*r.drag;var d=Ai().copy_qgvyiu$(c.movement);c.movement.x=c.movement.x+-s.x/r.shrinkTime,c.movement.y=c.movement.y+-s.y/r.shrinkTime,c.movement.z=c.movement.z+-s.z/r.shrinkTime,c.addLocalVariables_bm4g0d$("Backup",d),c.addLocalVariables_bm4g0d$("State",Ke.isType("ready",b)?"ready":Ee());var p,f=r.timeToLive;e:do{if(null==o){p=0;break e}if(Ke.isNumber(o)){p=it(o);break e}if("string"==typeof o)try{p=Qe(o);break e}catch(e){if(Ke.isType(e,ta)){p=0;break e}throw e}p=0}while(0);c.timeToLive=f+.01*p,c.keepDirection=!0;var m,v=c.rotation,g=go().arc4random_uniform_za3lpa$(300)+1|0;e:do{if(null==g){m=0;break e}if(Ke.isNumber(g)){m=it(g);break e}if("string"==typeof g)try{m=Qe(g);break e}catch(e){if(Ke.isType(e,ta)){m=0;break e}throw e}m=0}while(0);v.z=m,Je(c.GetSprite()).SetColor_vnjrmz$(ui().white_mx4ult$(0)),Je(c.GetSprite()).SetBlendMode_ieo8yr$(ti()),c.SetOriginalAlpha_mx4ult$(0);var _=r.getFireball();null!=_&&c.addLocalVariables_bm4g0d$("Fireball",_)}}},Ds.prototype.createFirework_uq37hz$=function(e,t,i,r,o,n,a,s,l,h,u,c,d,p,f){var m;void 0===e&&(e=100),void 0===t&&(t=50),void 0===i&&(i=.1),void 0===r&&(r=300),void 0===o&&(o=1),void 0===n&&(n=1.5),void 0===a&&(a=100),void 0===s&&(s=1),void 0===l&&(l=1.5),void 0===h&&(h=.2),void 0===u&&(u=1),void 0===c&&(c=.5),void 0===d&&(d=1),void 0===p&&(p=0),void 0===f&&(f=.5);var v=Fs(e,t,i,r,o,n,a,s,l,h,u,c,d);if(0<p){var g;e:do{if(null==t){g=0;break e}if(Ke.isNumber(t)){g=it(t);break e}if("string"==typeof t)try{g=Qe(t);break e}catch(e){if(Ke.isType(e,ta)){g=0;break e}throw e}g=0}while(0);var _,y=g*f;e:do{if(null==y){_=0;break e}if(Ke.isNumber(y)){_=et(y);break e}if("string"==typeof y)try{_=tt(y);break e}catch(e){if(Ke.isType(e,ta)){_=0;break e}throw e}_=0}while(0);m=_-1|0;for(var $=0;$<=m;$++)v.addFireball_1jtdr7$(this.createFirework_uq37hz$(e,3,i,r,o,void 0,a,void 0,void 0,void 0,void 0,void 0,1*d,p-1|0))}return v},Ds.$metadata$={kind:o,simpleName:"FireworkManager",interfaces:[]},qs.$metadata$={kind:n,simpleName:"CallbackEvent",interfaces:[]},Hs.$metadata$={kind:n,simpleName:"IActivityRequestHandler",interfaces:[]},Ws.$metadata$={kind:n,simpleName:"UserLocalData",interfaces:[]},Object.defineProperty(Xs.prototype,"user",{get:function(){return null==this.user_n3qzoi$_0?T("user"):this.user_n3qzoi$_0},set:function(e){this.user_n3qzoi$_0=e}}),Xs.$metadata$={kind:a,simpleName:"Holder",interfaces:[]};var Ks=null;function Zs(){return null===Ks&&new Xs,Ks}function Qs(){Js=this}Qs.prototype.initialize_hwx2pe$=function(e){Zs().user=e},Qs.prototype.string_61zpoe$=function(e){return Zs().user.Get_61zpoe$(e)},Qs.prototype.Set_hwpqgh$=function(e,t){var i=e.toString();Zs().user.Set_puj7f4$(i,t)},Qs.$metadata$={kind:a,simpleName:"Companion",interfaces:[]};var Js=null;function el(){return null===Js&&new Qs,Js}function tl(){this.requestHandler=null}function il(e,t,i){return i=i||Object.create(tl.prototype),M.call(i),tl.call(i),el().initialize_hwx2pe$(e),i.requestHandler=t,i}function rl(){this.w_8be2vx$=0,this.h_8be2vx$=0,this.newW_8be2vx$=0,this.newH_8be2vx$=0,this.deviceScene_qeu8eq$_0=this.deviceScene_qeu8eq$_0,this.requestHandler=null,this.loading1_1qxakp$_0=this.loading1_1qxakp$_0,this.loading2_1qxaju$_0=this.loading2_1qxaju$_0}Ys.$metadata$={kind:o,simpleName:"UserDefaults",interfaces:[]},tl.prototype.preload=function(){this.game.scale.scaleMode=N.SHOW_ALL,this.game.scale.fullScreenScaleMode=N.SHOW_ALL,this.game.load.image("loading1","Resource/UI/Loading1.png"),this.game.load.image("loading2","Resource/UI/Loading2.png"),this.game.load.image("fullscreen","Resource/UI/IconFullscreen.png"),this.game.load.image("window","Resource/UI/IconWindow.png"),this.game.stage.backgroundColor="#2D2535"},tl.prototype.create=function(){this.game.width,this.game.height;O(this.game.state,hl(this.requestHandler),void 0,void 0,[])},tl.$metadata$={kind:o,simpleName:"BootLoader",interfaces:[]},Object.defineProperty(rl.prototype,"deviceScene",{get:function(){return null==this.deviceScene_qeu8eq$_0?T("deviceScene"):this.deviceScene_qeu8eq$_0},set:function(e){this.deviceScene_qeu8eq$_0=e}}),Object.defineProperty(rl.prototype,"loading1",{get:function(){return null==this.loading1_1qxakp$_0?T("loading1"):this.loading1_1qxakp$_0},set:function(e){this.loading1_1qxakp$_0=e}}),Object.defineProperty(rl.prototype,"loading2",{get:function(){return null==this.loading2_1qxaju$_0?T("loading2"):this.loading2_1qxaju$_0},set:function(e){this.loading2_1qxaju$_0=e}}),rl.prototype.preload=function(){this.game.stage.backgroundColor="#2D2535"},rl.prototype.create=function(){var e,t;this.w_8be2vx$=this.game.width,this.h_8be2vx$=this.game.height;var i=zf().GetString_sv46oe$(gp(),void 0,"");if(ue(i,"")){var r=navigator.languages&&navigator.languages.length?navigator.languages[0]:navigator.language;i="ko-KR"==r||"ko"==r?"kr":"en"}for(Cs(i),pl().releaseConfig(),ue(pl().GetConfigure_jyasbz$("Reset Hint"),"true")&&(zf().SetInteger_rjan26$("BeginnerGameHint",void 0,0),zf().SetInteger_rjan26$("Beginner6x6GameHint",void 0,0),zf().SetInteger_rjan26$("ClassicGameHint",void 0,0)),zf().SetInteger_rjan26$("Draw FPS",void 0,0),e=S(["Beginner","Beginner6x6","Classic"]).iterator();e.hasNext();){var o=e.next(),n=Zd(o,"");km().shared().addRecord_psi95l$(o,n),n.LoadHighScore_3uxocb$(),n.LoadMaxCombo_3uxocb$(),n.LoadMaxFever_3uxocb$(),n.LoadMaxSPS_3uxocb$()}km().shared().SetPlayerAchievement_79oy9z$(Xd("")),km().shared().loadAchievement();var a=1,s=document.getElementById("quality");null!=s&&(a=tt((Ke.isType(t=s,HTMLElement)?t:Ee()).innerText)),zf().GetInteger_hh7mhe$(vp(),void 0,a),hm().shared().initializeItemTable(),hm().shared().loadAllPlayerItem(),Lm().shared().load(),this.deviceScene=Ml(this.w_8be2vx$,this.h_8be2vx$),this.loading1=this.game.add.image(0,this.h_8be2vx$,"loading1"),this.loading1.anchor.y=1,this.loading1.width=300*Je(Je(this.deviceScene.screen).sizeScale).xRatio,this.loading1.height=300*Je(Je(this.deviceScene.screen).sizeScale).xRatio,this.loading2=this.game.add.image(0,this.h_8be2vx$,"loading2"),this.loading2.anchor.y=1,this.loading2.width=300*Je(Je(this.deviceScene.screen).sizeScale).xRatio,this.loading2.height=300*Je(Je(this.deviceScene.screen).sizeScale).xRatio,this.loadResource()};var ol=Array;function nl(e){var t=Ie().shared().convertCoordinate_dleff0$(e.x,e.y);Ie().shared().addInputQueue_o3bepn$(t.x,t.y,At())}function al(e){var t=Ie().shared().convertCoordinate_dleff0$(e.x,e.y);Ie().shared().addInputQueue_o3bepn$(t.x,t.y,It())}function sl(e){return Ze}function ll(e){return Ze}function hl(e,t){return t=t||Object.create(rl.prototype),M.call(t),rl.call(t),t.requestHandler=e,t}function ul(){pl()}function cl(){(dl=this).configList=le(),this.performance=1}rl.prototype.loadResource=function(){var e=Fe();for(e.addAll_brywnq$(za().shared().loadDefaultResource_dleff0$(this.w_8be2vx$,this.h_8be2vx$)),e.addAll_brywnq$(za().shared().loadSoundResource());0<e.size;){e.removeAt_za3lpa$(0)()}var t,i=hm().shared().GetItemListByCategory_lssvdg$(Vf()),r=ol(2*i.size|0);t=r.length-1|0;for(var o=0;o<=t;o++)r[o]=null;var n=zf().GetString_sv46oe$(fp(),void 0,"BlocksetNumber");za().shared().changeCurrentBlockSet_61zpoe$(n),za().shared().saveCurrentBlockSet();var a,l,h,s={v:this.game.add.text(.5*this.w_8be2vx$,.1*this.h_8be2vx$,"")};s.v.fill="#ffffff",s.v.anchor.x=.5,s.v.anchor.y=.5,this.game.load.onFileComplete.add((a=s,function(e,t,i,r,o){a.v.setText("Loading... "+R(e)+"%")})),this.game.load.onLoadComplete.add((l=this,h=s,function(){var e,t,i,r;for(t=(Ke.isType(e=Ie().shared().GetGuestScreen(),Ol)?e:Ee()).atlas.entries.iterator();t.hasNext();){var o=t.next();for(i=l.game.cache.getFrameData(o.key).getFrames(),r=0;r!==i.length;++r){var n=i[r],a=P(n.name,".png"),s=wl(o.value+a,n.name,o.key);qe().shared().addTexture_p1juio$(o.value+a,s)}}return l.loading1.destroy(),l.loading2.destroy(),j(h.v),l.startPhantom(),Ie().shared().presentView_xl35ob$(new cv),Ze})),this.game.load.start()},rl.prototype.startPhantom=function(){ue(pl().GetConfigure_jyasbz$("Memory Test"),"false"),this.deviceScene.initialize(),za().shared().initialize_hmf0yx$(this.requestHandler),Ie().shared().initialize(),ql().shared().initialize();var e=zf().GetInteger_hh7mhe$(lp(),void 0,100);ql().shared().SetMasterVolume_mx4ult$(e);var t=zf().GetInteger_hh7mhe$(hp(),void 0,100);ql().shared().SetBGMVolume_mx4ult$(t),0===t&&za().shared().setAdsMute_6taknv$(!0);var i=zf().GetInteger_hh7mhe$(up(),void 0,100);ql().shared().SetEffectVolume_mx4ult$(i),this.game.input.mouse.capture=!0,this.game.input.onDown.add(nl),this.game.input.onUp.add(al),this.game.input.keyboard.addCallbacks(this,sl,ll,B("keyPress",function(e,t){return e.keyPress_s8itvh$(ne(t)),Ze}.bind(null,this)))},rl.prototype.keyPress_s8itvh$=function(e){var t,i=0;t=this.game.input.keyboard.lastKey.keyCode,ue(t,E.U)?i=Bt().U:ue(t,E.I)?i=Bt().I:ue(t,E.O)?i=Bt().O:ue(t,E.J)?i=Bt().J:ue(t,E.K)?i=Bt().K:ue(t,E.L)?i=Bt().L:ue(t,E.M)?i=Bt().M:ue(t,E.COMMA)?i=Bt().COMMA:ue(t,E.PERIOD)?i=Bt().PERIOD:ue(t,E.ONE)?i=Bt().NUMPAD_1:ue(t,E.TWO)?i=Bt().NUMPAD_2:ue(t,E.THREE)?i=Bt().NUMPAD_3:ue(t,E.FOUR)?i=Bt().NUMPAD_4:ue(t,E.FIVE)?i=Bt().NUMPAD_5:ue(t,E.SIX)?i=Bt().NUMPAD_6:ue(t,E.SEVEN)?i=Bt().NUMPAD_7:ue(t,E.EIGHT)?i=Bt().NUMPAD_8:ue(t,E.NINE)?i=Bt().NUMPAD_9:ue(t,E.ENTER)?i=Bt().ENTER:ue(t,E.X)&&(i=Bt().ESCAPE),0!==i&&Ie().shared().addInputQueue_o3bepn$(0,0,Rt(),i)},rl.prototype.update=function(){var e=it(this.game.time.elapsedMS);e/=1e3,Ie().shared().update_mx4ult$(e)},rl.prototype.render=function(){},rl.prototype.dispose=function(){ql().shutdown(),Lf().shutdown(),km().shutdown(),hm().shutdown(),Lm().shutdown(),qe().shutdown(),gt().shutdown(),Ie().shared().shutdown(),za().shutdown()},rl.prototype.pause=function(){Ie().shared().moveToBackground()},rl.prototype.resume=function(){Ie().shared().resume()},rl.prototype.resize_vux9f0$=function(e,t){this.newW_8be2vx$=e,this.newH_8be2vx$=t},rl.$metadata$={kind:o,simpleName:"Samsara",interfaces:[]},cl.prototype.debugConfig=function(){this.addConfigure_puj7f4$("Show FPS","true"),this.addConfigure_puj7f4$("Camera Info","true"),this.addConfigure_puj7f4$("Show Purchase Test","true"),this.addConfigure_puj7f4$("Show Character Change","true"),this.addConfigure_puj7f4$("Unity Ads Test","true"),this.addConfigure_puj7f4$("AdMob Test","true"),this.addConfigure_puj7f4$("Memory Test","false"),this.addConfigure_puj7f4$("Star Test","true"),this.addConfigure_puj7f4$("Login GameCenter","true"),this.addConfigure_puj7f4$("Logging","true"),this.addConfigure_puj7f4$("Logging To Screen","true"),this.performance=1},cl.prototype.memoryConfig=function(){this.addConfigure_puj7f4$("Show FPS","true"),this.addConfigure_puj7f4$("Camera Info","true"),this.addConfigure_puj7f4$("Show Purchase Test","true"),this.addConfigure_puj7f4$("Show Character Change","true"),this.addConfigure_puj7f4$("Unity Ads Test","false"),this.addConfigure_puj7f4$("AdMob Test","false"),this.addConfigure_puj7f4$("Memory Test","true"),this.addConfigure_puj7f4$("Auto Play","true"),this.addConfigure_puj7f4$("Login GameCenter","false"),this.performance=1},cl.prototype.testFlightConfig=function(){this.addConfigure_puj7f4$("Show FPS","false"),this.addConfigure_puj7f4$("Camera Info","false"),this.addConfigure_puj7f4$("Show Purchase Test","false"),this.addConfigure_puj7f4$("Show Character Change","false"),this.addConfigure_puj7f4$("Unity Ads Test","true"),this.addConfigure_puj7f4$("AdMob Test","true"),this.addConfigure_puj7f4$("Memory Test","false"),this.addConfigure_puj7f4$("Login GameCenter","true"),this.performance=1},cl.prototype.recordConfig=function(){this.addConfigure_puj7f4$("Record","true"),this.addConfigure_puj7f4$("RecordForTitle","false"),this.addConfigure_puj7f4$("RecordForTutorial","false"),this.addConfigure_puj7f4$("Show FPS","false"),this.addConfigure_puj7f4$("Camera Info","false"),this.addConfigure_puj7f4$("Show Purchase Test","false"),this.addConfigure_puj7f4$("Show Character Change","false"),this.addConfigure_puj7f4$("Unity Ads Test","true"),this.addConfigure_puj7f4$("AdMob Test","true"),this.addConfigure_puj7f4$("Memory Test","false"),this.addConfigure_puj7f4$("Login GameCenter","false"),this.addConfigure_puj7f4$("Logging","false"),this.addConfigure_puj7f4$("Logging To Screen","false"),this.performance=1},cl.prototype.releaseConfig=function(){this.addConfigure_puj7f4$("Show FPS","false"),this.addConfigure_puj7f4$("Camera Info","false"),this.addConfigure_puj7f4$("Show Purchase Test","false"),this.addConfigure_puj7f4$("Show Character Change","false"),this.addConfigure_puj7f4$("Unity Ads Test","false"),this.addConfigure_puj7f4$("AdMob Test","false"),this.addConfigure_puj7f4$("Memory Test","false"),this.addConfigure_puj7f4$("Auto Play","false"),this.addConfigure_puj7f4$("Login GameCenter","true"),this.addConfigure_puj7f4$("Logging","false"),this.addConfigure_puj7f4$("Logging To Screen","false"),this.performance=1},cl.prototype.demoConfig=function(){this.addConfigure_puj7f4$("Demo","true"),this.addConfigure_puj7f4$("Show FPS","false"),this.addConfigure_puj7f4$("Camera Info","false"),this.addConfigure_puj7f4$("Show Purchase Test","false"),this.addConfigure_puj7f4$("Show Character Change","false"),this.addConfigure_puj7f4$("Unity Ads Test","false"),this.addConfigure_puj7f4$("AdMob Test","false"),this.addConfigure_puj7f4$("Memory Test","false"),this.addConfigure_puj7f4$("Auto Play","false"),this.addConfigure_puj7f4$("Login GameCenter","true"),this.addConfigure_puj7f4$("Logging","false"),this.addConfigure_puj7f4$("Logging To Screen","false"),this.performance=1},cl.prototype.autoplayConfig=function(){this.addConfigure_puj7f4$("Show FPS","false"),this.addConfigure_puj7f4$("Camera Info","false"),this.addConfigure_puj7f4$("Show Purchase Test","false"),this.addConfigure_puj7f4$("Show Character Change","false"),this.addConfigure_puj7f4$("Unity Ads Test","false"),this.addConfigure_puj7f4$("AdMob Test","false"),this.addConfigure_puj7f4$("Memory Test","false"),this.addConfigure_puj7f4$("Auto Play","true"),this.addConfigure_puj7f4$("Login GameCenter","false"),this.addConfigure_puj7f4$("Logging","false"),this.addConfigure_puj7f4$("Logging To Screen","false"),this.performance=1},cl.prototype.addConfigure_puj7f4$=function(e,t){this.configList.put_xwzc9p$(e,t)},cl.prototype.GetConfigure_jyasbz$=function(e,t){return void 0===t&&(t=null),this.configList.get_11rb$(e)},cl.prototype.SetInteger_bm4lxs$=function(e,t){var i,r=this.configList;e:do{if(Ke.isNumber(t)){i=t.toString();break e}if("string"==typeof t){i=t;break e}if("boolean"==typeof t){i=t.toString();break e}if(Ke.isChar(t)){i=t.toString();break e}i=""}while(0);var o=i;r.put_xwzc9p$(e,o)},cl.prototype.GetInteger_bm4lxs$=function(e,t){void 0===t&&(t=0);var i,r=this.configList.get_11rb$(e);e:do{if(null==r){i=0;break e}if(Ke.isNumber(r)){i=et(r);break e}if("string"==typeof r)try{i=tt(r);break e}catch(e){if(Ke.isType(e,ta)){i=0;break e}throw e}i=0}while(0);return i},cl.prototype.SetFloat_9sobi5$=function(e,t){var i,r=this.configList;e:do{if(Ke.isNumber(t)){i=t.toString();break e}if("string"==typeof t){i=t;break e}if("boolean"==typeof t){i=t.toString();break e}if(Ke.isChar(t)){i=t.toString();break e}i=""}while(0);var o=i;r.put_xwzc9p$(e,o)},cl.prototype.GetFloat_9sobi5$=function(e,t){void 0===t&&(t=0);var i,r=this.configList.get_11rb$(e);e:do{if(null==r){i=0;break e}if(Ke.isNumber(r)){i=it(r);break e}if("string"==typeof r)try{i=Qe(r);break e}catch(e){if(Ke.isType(e,ta)){i=0;break e}throw e}i=0}while(0);return i},cl.prototype.SetDouble_io5o9c$=function(e,t){var i,r=this.configList;e:do{if(Ke.isNumber(t)){i=t.toString();break e}if("string"==typeof t){i=t;break e}if("boolean"==typeof t){i=t.toString();break e}if(Ke.isChar(t)){i=t.toString();break e}i=""}while(0);var o=i;r.put_xwzc9p$(e,o)},cl.prototype.GetDouble_io5o9c$=function(e,t){void 0===t&&(t=0);var i,r=this.configList.get_11rb$(e);e:do{if(null==r){i=0;break e}if(Ke.isNumber(r)){i=it(r);break e}if("string"==typeof r)try{i=Qe(r);break e}catch(e){if(Ke.isType(e,ta)){i=0;break e}throw e}i=0}while(0);return i},cl.prototype.GetPerformance=function(){return this.performance},cl.prototype.isWatchOS=function(){return!1},cl.$metadata$={kind:a,simpleName:"Companion",interfaces:[]};var dl=null;function pl(){return null===dl&&new cl,dl}function fl(){this.parent=null,this.childList=Fe(),this.isHidden=!1,this.size=ji(),this.color=ui().white_mx4ult$(),this.blendMode=ei(),this.z=0,this.anchor=Gi()}ul.$metadata$={kind:o,simpleName:"SystemConfigure",interfaces:[]};var ml=Ke.kotlin.NotImplementedError;function vl(e){return e.GetZPosition()}fl.prototype.GetObject=function(){throw new ml("An operation is not implemented: not implemented")},fl.prototype.SetShow_6taknv$=function(e){throw new ml("An operation is not implemented: not implemented")},fl.prototype.SetPosition_qgvyiu$=function(e){throw new ml("An operation is not implemented: not implemented")},fl.prototype.GetPosition=function(){throw new ml("An operation is not implemented: not implemented")},fl.prototype.SetZPosition_mx4ult$=function(e){throw new ml("An operation is not implemented: not implemented")},fl.prototype.GetZPosition=function(){throw new ml("An operation is not implemented: not implemented")},fl.prototype.SetSize_dleff0$=function(e,t){throw new ml("An operation is not implemented: not implemented")},fl.prototype.GetSize=function(){return this.size},fl.prototype.SetAnchorPoint_qgvyiu$=function(e){throw new ml("An operation is not implemented: not implemented")},fl.prototype.GetAnchorPoint=function(){throw new ml("An operation is not implemented: not implemented")},fl.prototype.SetScale_dleff0$=function(e,t){throw new ml("An operation is not implemented: not implemented")},fl.prototype.GetScale=function(){throw new ml("An operation is not implemented: not implemented")},fl.prototype.SetColor_7b5o5w$=function(e,t,i,r){throw new ml("An operation is not implemented: not implemented")},fl.prototype.SetAlpha_mx4ult$=function(e){throw new ml("An operation is not implemented: not implemented")},fl.prototype.SetColorBlendFactor_mx4ult$=function(e){throw new ml("An operation is not implemented: not implemented")},fl.prototype.SetBlendMode_ieo8yr$=function(e){throw new ml("An operation is not implemented: not implemented")},fl.prototype.SetZRotation_mx4ult$=function(e){throw new ml("An operation is not implemented: not implemented")},fl.prototype.convertCoordinate_dleff0$=function(e,t){throw new ml("An operation is not implemented: not implemented")},fl.prototype.draw_4tzqwv$=function(e,t){throw new ml("An operation is not implemented: not implemented")},fl.prototype.addChild_jrj3jl$=function(e){this.childList.add_11rb$(e),e.SetParent_jrj3jl$(this)},fl.prototype.SetParent_jrj3jl$=function(e){this.parent=e},fl.prototype.GetParent=function(){return this.parent},fl.prototype.remove=function(){var e;null!=(e=this.parent)&&e.removeChild_jrj3jl$(this)},fl.prototype.removeChild_jrj3jl$=function(e){this.childList.remove_11rb$(e)},fl.prototype.GetNodeWithRectangle_lvlpq5$=function(e,t){},fl.prototype.sort=function(){};var gl,_l,yl=I(function(){var o=Ke.kotlin.comparisons.compareValues_s00gnj$;return function(r){return function(e,t){var i=r;return o(i(e),i(t))}}}),$l=Ke.kotlin.Comparator;function bl(e){this.closure$comparison=e}function Sl(){this.name=null,this.nameInAtlas="",this.atlas=""}function kl(e,t){return t=t||Object.create(Sl.prototype),Sl.call(t),t.name=e,t}function wl(e,t,i,r){return r=r||Object.create(Sl.prototype),Sl.call(r),r.name=e,r.nameInAtlas=t,r.atlas=i,r}function xl(){this.obj=null,this.rotation=0,this.crop=null,this.name="",this.atlas="",this.nameInAtlas=""}function Cl(e){return e=e||Object.create(xl.prototype),fl.call(e),xl.call(e),e.obj=_.game.add.image(-1e3,-1e3,e.name),e.obj.alpha=0,e.color=ui().white_mx4ult$(0),e}function zl(e,t){var i,r;return t=t||Object.create(xl.prototype),fl.call(t),xl.call(t),null==e?(t.obj=_.game.add.image(-1e3,-1e3,"Resource/UI/Background"),t.color=ui().white_mx4ult$(0)):(t.name=e.GetName(),t.atlas=(Ke.isType(i=e,Sl)?i:Ee()).GetAtlas(),ue(t.atlas,"")?t.obj=_.game.add.image(-1e3,-1e3,t.name):(t.nameInAtlas=(Ke.isType(r=e,Sl)?r:Ee()).GetNameInAtlas(),t.obj=_.game.add.image(-1e3,-1e3,t.atlas,t.nameInAtlas),t.obj.alpha=0)),t}function Tl(){this.obj=null,this.mask=null,this.name="",this.atlas="",this.nameInAtlas=""}function Al(e,t){var i,r;return t=t||Object.create(Tl.prototype),fl.call(t),Tl.call(t),null==e?(t.obj=_.game.add.image(-1e3,-1e3,"Resource/UI/Background"),t.obj.alpha=0,t.color=ui().white_mx4ult$(0)):(t.atlas=(Ke.isType(i=e,Sl)?i:Ee()).GetAtlas(),ue(t.atlas,"")?t.obj=_.game.add.image(-1e3,-1e3,t.name):(t.nameInAtlas=(Ke.isType(r=e,Sl)?r:Ee()).GetNameInAtlas(),t.obj=_.game.add.image(-1e3,-1e3,t.atlas,t.nameInAtlas),t.obj.alpha=0)),t}function Gl(){this.obj=null,this.crop=null}function Il(e){return e=e||Object.create(Gl.prototype),fl.call(e),Gl.call(e),e.obj=_.game.add.text(-1e3,-1e3,"",V("15px Arial",void 0,void 0,void 0,void 0,void 0,"#19de65")),e.obj.stroke="#000000",e.obj.strokeThickness=2,e.obj.fill="#ffffff",e.obj.fontSize=60,e.obj.anchor.x=.5,e.obj.anchor.y=0,e}function Nl(){}function Ol(){this.obj=null,this.screen=null,this.atlas=le()}function Ml(e,t,i){i=i||Object.create(Ol.prototype),fl.call(i),Ol.call(i),i.obj=new Nl,i.size=ji(e,t);var r,o="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123=_-,.!()[]%+?=>/'";e:do{if(Ke.isNumber(4567.89)){r=it(4567.89);break e}r=0}while(0);return o+=Ns(r),i.createFont_basrv3$("System",o),Ie().shared().SetGuestScreen_qgvd6v$(i),i.screen=aa(i),i}function Rl(){this.name=null,this.file=null,this.category=null,this.obj=null,this.numberOfLoops=1,this.currentTime=0,this.volume=1}function Pl(e,t,i,r){return r=r||Object.create(Rl.prototype),Rl.call(r),r.name=e,r.file=t,r.category=i,r}function jl(){this.name=null,this.category=Me(),this.channel=Fe(),this.playIndex=0,this.originalVolume=1,this.currentVolume=1,this.mixerVolume=1,this.rate=1,this.prevPlayedTime=0}function Bl(e,t,i,r,o,n){var a;void 0===i&&(i=1),void 0===r&&(r=Me()),void 0===o&&(o=gl),n=n||Object.create(jl.prototype),jl.call(n),n.name=e,a=i-1|0;for(var s=0;s<=a;s++)n.channel.add_11rb$(new Le(Pl(e,t,r),!0));return n.category=r,n.originalVolume=o/gl,n}function El(){ql(),this.dictionary=le(),this.bgmVolume=gl,this.bgmVolumeBackup=gl,this.bgmRate=1,this._effectVolume=gl,this._effectVolumeBackup=gl,this._masterVolume=gl,this._masterVolumeBackup=gl;for(var e=Fe(16),t=0;t<16;t++)e.add_11rb$(null);this.playingQueue=e,this.playingQueueReadIndex=0,this.playingQueueWriteIndex=0,this.addCount=0,this.working=!1,this.stop=!1,this.stopped=!1,this.playedSoundMap=le()}function Ll(){(Fl=this).instance=null}bl.prototype.compare=function(e,t){return this.closure$comparison(e,t)},bl.$metadata$={kind:o,interfaces:[$l]},fl.prototype._draw_f2myq8$$default=function(e){var t,i;for(L(this.childList,new bl(yl(vl))),t=ge(this.childList).iterator();t.hasNext();){var r=t.next(),o=Ke.isType(i=r,fl)?i:Ee();o.sort(),o._draw_f2myq8$(e)}},fl.prototype._draw_f2myq8$=function(e,t){void 0===e&&(e=null),t?t(e):this._draw_f2myq8$$default(e)},fl.$metadata$={kind:o,simpleName:"GuestGDXNode",interfaces:[_e]},Sl.prototype.GetName=function(){return this.name},Sl.prototype.GetSize=function(){if(ue(this.atlas,"")){var e=_.game.cache.getImage(this.name);if(null!=e)return ji(Je(e).width,Je(e).height)}else{var t=_.game.cache.getFrameByName(this.atlas,this.nameInAtlas);if(null!=t)return ji(it(Je(t).width),it(Je(t).height))}return ji(0,0)},Sl.prototype.GetObject=function(){if(ue(this.atlas,"")){var e=_.game.cache.getImage(this.name);if(null!=e)return Je(e)}else{var t=_.game.cache.getFrameByName(this.atlas,this.nameInAtlas);if(null!=t)return Je(t)}return Ze},Sl.prototype.GetAtlas=function(){return this.atlas},Sl.prototype.GetNameInAtlas=function(){return this.nameInAtlas},Sl.$metadata$={kind:o,simpleName:"GuestGDXTexture",interfaces:[fe]},xl.prototype.GetObject=function(){return this.obj},xl.prototype.remove=function(){var e;this.obj.destroy(),null!=(e=this.parent)&&e.removeChild_jrj3jl$(this)},xl.prototype.SetShow_6taknv$=function(e){this.isHidden=!0!==e,!0===this.isHidden?(this.obj.alpha=0,this.obj.visible=!1):this.obj.visible=!0},xl.prototype.SetPosition_qgvyiu$=function(e){this.obj.position.x=e.x,this.obj.position.y=e.y},xl.prototype.GetPosition=function(){return Gi(this.obj.position.x,this.obj.position.y)},xl.prototype.SetZPosition_mx4ult$=function(e){this.obj.z=e,this.z=e},xl.prototype.GetZPosition=function(){return this.z},xl.prototype.SetSize_dleff0$=function(e,t){this.obj.width=e,this.obj.height=t,this.SetAnchorPoint_qgvyiu$(Gi(.5,.5))},xl.prototype.GetSize=function(){return ji(this.obj.width,this.obj.height)},xl.prototype.SetAnchorPoint_qgvyiu$=function(e){this.obj.anchor.x=e.x,this.obj.anchor.y=e.y},xl.prototype.GetAnchorPoint=function(){return Gi(this.obj.anchor.x,this.obj.anchor.y)},xl.prototype.SetScale_dleff0$=function(e,t){this.obj.scale.x=e,this.obj.scale.y=t},xl.prototype.GetScale=function(){return Gi(this.obj.scale.x,this.obj.scale.y)},xl.prototype.SetColor_7b5o5w$=function(e,t,i,r){this.color.r=e,this.color.g=t,this.color.b=i,this.color.a=r,this.obj.tint=255*e*256*256+255*t*256+255*i},xl.prototype.SetAlpha_mx4ult$=function(e){this.color.a=e},xl.prototype.SetColorBlendFactor_mx4ult$=function(e){},xl.prototype.SetBlendMode_ieo8yr$=function(e){(this.blendMode=e)===ei()?this.obj.blendMode=F:e===ti()&&(this.obj.blendMode=D)},xl.prototype.SetZRotation_mx4ult$=function(e){this.rotation=-1*e,this.obj.rotation=this.rotation},xl.prototype.convertCoordinate_dleff0$=function(e,t){return Gi(this.GetPosition().x-this.GetSize().width/2+e,this.GetPosition().y-this.GetSize().height/2+t)},xl.prototype.draw_4tzqwv$=function(e,t){this.z=t,this.obj.position.x=e.x,this.obj.position.y=e.y},xl.prototype._draw_f2myq8$$default=function(e){if(!0===this.isHidden?this.obj.alpha=0:Ke.isType(this.GetParent(),Tl)?null!=this.crop&&(this.obj.alpha=this.color.a):this.obj.alpha=this.color.a,null!=e){var t=null!=this.obj;t&&(t=0===this.name.length==!1),t&&(ue(this.crop,e)||(this.crop=e,this.obj.mask=e))}this._draw_f2myq8$(e,fl.prototype._draw_f2myq8$$default.bind(this))},xl.prototype.SetCenterRect_g5erez$=function(e){},xl.prototype.SetTexture_h2vgz3$=function(e){var t,i,r=-1e3,o=-1e3,n=0,a=0,s=null;null!=this.obj&&(r=this.obj.position.x,o=this.obj.position.y,n=this.obj.rotation,a=this.obj.alpha,s=this.obj.mask,this.obj.destroy()),null!=e&&(this.name=e.GetName(),this.atlas=(Ke.isType(t=e,Sl)?t:Ee()).GetAtlas(),ue(this.atlas,"")?this.obj=_.game.add.image(r,o,this.name):(this.nameInAtlas=(Ke.isType(i=e,Sl)?i:Ee()).GetNameInAtlas(),this.obj=_.game.add.image(r,o,this.atlas,this.nameInAtlas)),this.obj.rotation=n,this.obj.alpha=a,null!=s&&(this.obj.mask=Je(s)))},xl.prototype.GetTexture=function(){return ue(this.name,"")?null:wl(this.name,this.nameInAtlas,this.atlas)},xl.prototype.GetNodeWithRectangle_lvlpq5$=function(e,t){var i;if(!0!==this.isHidden){if(0<this.color.a){var r=Di(this.GetPosition().x-.5*this.GetSize().width,this.GetPosition().y-.5*this.GetSize().height,this.GetSize().width,this.GetSize().height);e.x>=r.x&&e.x<=r.x+r.width&&e.y>=r.y&&e.y<=r.y+r.height&&t.add_11rb$(this)}for(i=this.childList.iterator();i.hasNext();){var o=i.next();Ke.isType(o,fl)&&o.GetNodeWithRectangle_lvlpq5$(e,t)}}},xl.prototype.sort=function(){null!=this.obj&&_.game.world.sendToBack(this.obj)},xl.$metadata$={kind:o,simpleName:"GuestGDXSprite",interfaces:[$e,fl]},Tl.prototype.remove=function(){this.obj.destroy(),null!=this.mask&&Je(this.mask).clear()},Tl.prototype.GetObject=function(){return this.obj},Tl.prototype.SetShow_6taknv$=function(e){this.isHidden=!0!==e},Tl.prototype.SetPosition_qgvyiu$=function(e){this.obj.position.x=e.x,this.obj.position.y=e.y},Tl.prototype.GetPosition=function(){return Gi(this.obj.position.x,this.obj.position.y)},Tl.prototype.SetZPosition_mx4ult$=function(e){this.z=e},Tl.prototype.GetZPosition=function(){return this.z},Tl.prototype.SetSize_dleff0$=function(e,t){this.obj.width=e,this.obj.height=t,this.obj.anchor.x=.5,this.obj.anchor.y=.5},Tl.prototype.GetSize=function(){return ji(this.obj.width,this.obj.height)},Tl.prototype.SetAnchorPoint_qgvyiu$=function(e){},Tl.prototype.GetAnchorPoint=function(){return this.anchor},Tl.prototype.SetScale_dleff0$=function(e,t){this.obj.scale.x=e,this.obj.scale.y=t},Tl.prototype.GetScale=function(){return Gi(this.obj.scale.x,this.obj.scale.y)},Tl.prototype.SetColor_7b5o5w$=function(e,t,i,r){this.color.r=e,this.color.g=t,this.color.b=i,this.color.a=r},Tl.prototype.SetAlpha_mx4ult$=function(e){this.color.a=e},Tl.prototype.SetColorBlendFactor_mx4ult$=function(e){},Tl.prototype.SetBlendMode_ieo8yr$=function(e){this.blendMode=e},Tl.prototype.SetZRotation_mx4ult$=function(e){this.obj.rotation=-1*e},Tl.prototype.convertCoordinate_dleff0$=function(e,t){return Gi(this.GetPosition().x-this.GetSize().width/2+e,this.GetPosition().y-this.GetSize().height/2+t)},Tl.prototype.draw_4tzqwv$=function(e,t){this.z=t,this.SetPosition_qgvyiu$(e),null==this.mask?(this.mask=_.game.add.graphics(-1e3,-1e3),Je(this.mask).beginFill(255),Je(this.mask).alpha=0,Je(this.mask).drawRect(0,0,this.obj.width,this.obj.height),Je(this.mask).endFill()):(Je(this.mask).x=e.x-this.obj.width/2,Je(this.mask).y=e.y-this.obj.height/2)},Tl.prototype._draw_f2myq8$$default=function(e){this._draw_f2myq8$(this.mask,fl.prototype._draw_f2myq8$$default.bind(this))},Tl.prototype.GetTextureSize=function(){return ji(it(this.obj.texture.width),it(this.obj.texture.height))},Tl.prototype.GetNodeWithRectangle_lvlpq5$=function(e,t){var i;if(!0!==this.isHidden){if(0<this.color.a){var r=Di(this.GetPosition().x-.5*this.GetSize().width,this.GetPosition().y-.5*this.GetSize().height,this.GetSize().width,this.GetSize().height);e.x>=r.x&&e.x<=r.x+r.width&&e.y>=r.y&&e.y<=r.y+r.height&&t.add_11rb$(this)}for(i=this.childList.iterator();i.hasNext();){var o=i.next();Ke.isType(o,fl)&&o.GetNodeWithRectangle_lvlpq5$(e,t)}}},Tl.prototype.sort=function(){null!=this.obj&&_.game.world.sendToBack(this.obj)},Tl.$metadata$={kind:o,simpleName:"GuestGDXMask",interfaces:[be,fl]},Gl.prototype.SetText_61zpoe$=function(e){this.obj.setText(e),this.obj.scale.x=1,this.obj.scale.y=1,this.size=ji(this.obj.width,this.obj.height)},Gl.prototype.SetFontSize_mx4ult$=function(e){},Gl.prototype.SetFontColor_7b5o5w$=function(e,t,i,r){},Gl.prototype.GetFrameSize=function(){return this.GetSize()},Gl.prototype.GetObject=function(){return this.obj},Gl.prototype.remove=function(){var e;this.obj.parent.removeChild(this.obj),null!=(e=this.parent)&&e.removeChild_jrj3jl$(this)},Gl.prototype.SetShow_6taknv$=function(e){this.isHidden=!0!==e,!0===this.isHidden?(this.obj.alpha=0,this.obj.visible=!1):this.obj.visible=!0},Gl.prototype.SetPosition_qgvyiu$=function(e){this.obj.x=e.x,this.obj.y=e.y},Gl.prototype.GetPosition=function(){return Gi(this.obj.x,this.obj.y)},Gl.prototype.SetZPosition_mx4ult$=function(e){this.obj.z=e,this.z=e},Gl.prototype.GetZPosition=function(){return this.z},Gl.prototype.SetSize_dleff0$=function(e,t){var i=0;0<t?(i=t/this.size.height,0<e&&this.size.width*i>e&&(i=e/this.size.width)):0<e&&(i=e/this.size.width),this.SetScale_dleff0$(i,i)},Gl.prototype.GetSize=function(){return ji(this.size.width*this.obj.scale.x,this.size.height*this.obj.scale.y)},Gl.prototype.SetAnchorPoint_qgvyiu$=function(e){this.anchor.x=e.x,this.anchor.y=e.y,this.obj.anchor.x=e.x,this.obj.anchor.y=e.y},Gl.prototype.GetAnchorPoint=function(){return this.anchor},Gl.prototype.SetScale_dleff0$=function(e,t){this.obj.scale.x=e,this.obj.scale.y=t},Gl.prototype.GetScale=function(){return Gi(this.obj.scale.x,this.obj.scale.y)},Gl.prototype.SetColor_7b5o5w$=function(e,t,i,r){this.color.r=e,this.color.g=t,this.color.b=i,this.obj.tint=255*e*256*256+255*t*256+255*i,this.color.a=r},Gl.prototype.SetAlpha_mx4ult$=function(e){this.color.a=e},Gl.prototype.SetColorBlendFactor_mx4ult$=function(e){},Gl.prototype.SetBlendMode_ieo8yr$=function(e){(this.blendMode=e)===ei()?this.obj.blendMode=F:e===ti()&&(this.obj.blendMode=D)},Gl.prototype.SetZRotation_mx4ult$=function(e){},Gl.prototype.convertCoordinate_dleff0$=function(e,t){return Gi(this.GetPosition().x-this.GetSize().width/2+e,this.GetPosition().y-this.GetSize().height/2+t)},Gl.prototype.draw_4tzqwv$=function(e,t){this.z=t,this.obj.x=e.x,this.obj.y=e.y+.05*this.GetSize().height},Gl.prototype._draw_f2myq8$$default=function(e){!0===this.isHidden?this.obj.alpha=0:Ke.isType(this.GetParent(),Tl)?null!=this.crop&&(this.obj.alpha=this.color.a):this.obj.alpha=this.color.a,null!=e&&null!=this.obj&&(ue(this.crop,e)||(this.crop=e,this.obj.mask=e)),this._draw_f2myq8$(e,fl.prototype._draw_f2myq8$$default.bind(this))},Gl.prototype.GetNodeWithRectangle_lvlpq5$=function(e,t){var i;if(!0!==this.isHidden&&0!==this.color.a)for(i=this.childList.iterator();i.hasNext();){var r=i.next();Ke.isType(r,fl)&&r.GetNodeWithRectangle_lvlpq5$(e,t)}},Gl.prototype.sort=function(){this.obj.sendToBack()},Gl.$metadata$={kind:o,simpleName:"GuestGDXLabel",interfaces:[Se,fl]},Nl.prototype.touchesBegan_qgvyiu$=function(e){Ie().shared().addInputQueue_o3bepn$(e.x,e.y,At())},Nl.prototype.touchesMoved_qgvyiu$=function(e){Ie().shared().addInputQueue_o3bepn$(e.x,e.y,Gt())},Nl.prototype.touchesEnded_qgvyiu$=function(e){Ie().shared().addInputQueue_o3bepn$(e.x,e.y,It())},Nl.prototype.touchesCancelled_qgvyiu$=function(e){Ie().shared().addInputQueue_o3bepn$(e.x,e.y,Nt())},Nl.$metadata$={kind:o,simpleName:"GDXGuestScene",interfaces:[]},Ol.prototype.initialize=function(){var e;null!=(e=this.screen)&&e.afterAttached()},Ol.prototype.shutdown=function(){},Ol.prototype.GetObject=function(){return this.obj},Ol.prototype.GetScreen=function(){return Je(this.screen)},Ol.prototype.createFont_basrv3$=function(e,t,i,r,o){void 0===i&&(i=20),void 0===r&&(r=0),void 0===o&&(o="NanumGothicBold.ttf")},Ol.prototype.addFontAlias_puj7f4$=function(e,t){},Ol.prototype.hideAllLabel_1zqrcg$=function(e){var t,i;void 0===e&&(e=null);var r=e;for(null==r&&(r=this),t=r.childList.iterator();t.hasNext();){var o=t.next();this.hideAllLabel_1zqrcg$(Ke.isType(i=o,fl)?i:Ee())}Ke.isType(r,Gl)&&r.SetShow_6taknv$(!1)},Ol.prototype.printLog_61zpoe$=function(e){var t;null!=(t=this.screen)&&t.printLog_61zpoe$(e)},Ol.prototype.clearLog=function(){var e;null!=(e=this.screen)&&e.clearLog()},Ol.prototype.convertCoordinate_dleff0$=function(e,t){return Gi(e,t)},Ol.prototype.GetScreenshot_3fx80m$=function(e){return null},Ol.prototype.GetPosition=function(){return Gi(.5*this.size.width,.5*this.size.height)},Ol.prototype.GetNodeWithRectangle_lvlpq5$=function(e,t){var i;if(!0!==this.isHidden&&0!==this.color.a)for(i=this.childList.iterator();i.hasNext();){var r=i.next();Ke.isType(r,fl)&&r.GetNodeWithRectangle_lvlpq5$(e,t)}},Ol.prototype.nodeListAtPoint_qgvyiu$=function(e){var t=Fe();return this.GetNodeWithRectangle_lvlpq5$(e,t),U(t),g(t)},Ol.prototype.createGuestSprite=function(){return Cl()},Ol.prototype.createGuestSprite_h2vgz3$=function(e){return null!=e?zl(e):this.createGuestSprite()},Ol.prototype.createGuestMask_h2vgz3$=function(e){return Al(e)},Ol.prototype.createGuestLabel_61zpoe$=function(e){return Il()},Ol.prototype.createGuestTexture_bm4g0d$=function(e,t){return kl(e)},Ol.prototype.loadTexture_jyasbz$=function(e,t){return _.game.load.image(e,e+".png"),kl(e)},Ol.prototype.loadAtlas_qz9155$=function(e,t,i){return _.game.load.atlasJSONHash(e,"Resource/"+e+".png","Resource/"+e+".json"),_.game.load.json("json"+e,"Resource/"+e+".json"),this.atlas.put_xwzc9p$(e,t),qr()},Ol.prototype.removeAtlas_61zpoe$=function(e){return!1},Ol.prototype.makeAtlas_mvjluj$=function(e,t){var i,r=Fe();for(i=t.entries.iterator();i.hasNext();){var o=i.next(),n=o.key;o.value;_.game.load.image(n,n+".png");var a=kl(n);r.add_11rb$(a)}return r},Ol.prototype.makeAtlas_kwv3np$=function(e,t){var i,r=Fe();for(i=t.iterator();i.hasNext();){var o=i.next();_.game.load.image(o,o+".png");var n=kl(o);r.add_11rb$(n)}return r},Ol.prototype.makeAtlasWithData_d0u64m$=function(e,t){return qr()},Ol.prototype.preloadTexture_o14v8n$=function(e){e()},Ol.prototype.createStringImage_k1lctz$=function(e,t,i,r,o,n,a,s,l){return null},Ol.prototype.SetBackgroundColor_qt1dr2$=function(e,t,i){},Ol.prototype.SetTitle_61zpoe$=function(e){},Ol.prototype.changeFPS_za3lpa$=function(e){},Ol.prototype.moveToBackground=function(){var e;null!=(e=this.screen)&&e.moveToBackground()},Ol.prototype.resume=function(){var e;null!=(e=this.screen)&&e.resume()},Ol.prototype.terminate=function(){},Ol.prototype.render_mx4ult$=function(e){var t,i;null!=(t=this.screen)&&t.draw(),this._draw_f2myq8$(),null!=(i=this.screen)&&i.update_mx4ult$(e)},Ol.prototype._draw_f2myq8$$default=function(e){this._draw_f2myq8$(e,fl.prototype._draw_f2myq8$$default.bind(this))},Ol.$metadata$={kind:o,simpleName:"DeviceScene",interfaces:[ye,fl]},Rl.prototype.SetVolume_mx4ult$=function(e){this.volume=e,null!=this.obj&&(Je(this.obj).volume=e)},Rl.prototype.isPlaying=function(){return null!=this.obj&&(this.category===Re()&&Je(this.obj).isPlaying)},Rl.prototype.play=function(){return null==this.obj&&(this.obj=_.game.add.audio(this.name)),this.category!==Re()?(-1===this.numberOfLoops?Je(this.obj).loop=!0:Je(this.obj).loop=!1,Je(this.obj).volume=this.volume,Je(this.obj).play(),!0):!1===Je(this.obj).isPlaying&&(-1===this.numberOfLoops?Je(this.obj).loop=!0:Je(this.obj).loop=!1,Je(this.obj).volume=this.volume,Je(this.obj).play(),!0)},Rl.prototype.stop=function(){null!=this.obj&&Je(this.obj).stop()},Rl.$metadata$={kind:o,simpleName:"PhaserSound",interfaces:[]},jl.prototype.play_qhkmbr$=function(e,t,i){if(void 0===e&&(e=0),void 0===t&&(t=0),void 0===i&&(i=1),this.playIndex>=this.channel.size)return!1;var r=this.channel.get_za3lpa$(this.playIndex).first;return!1===r.isPlaying()&&(r.numberOfLoops=e,r.currentTime=0,!(this.category===Me()&&this.prevPlayedTime+.05>Ie().shared().GetCurrentTime())&&(this.prevPlayedTime=Ie().shared().GetCurrentTime(),!1!==r.play()&&(this.channel.set_wxm5ur$(this.playIndex,new Le(this.channel.get_za3lpa$(this.playIndex).first,!1)),this.playIndex=this.playIndex+1|0,this.playIndex>=this.channel.size&&(this.playIndex=0),!0)))},jl.prototype.stop=function(){for(var e=0,t=this.channel.iterator();t.hasNext();++e){t.next().first.stop(),this.channel.set_wxm5ur$(this.playIndex,new Le(this.channel.get_za3lpa$(this.playIndex).first,!0))}},jl.prototype.resume=function(){if(this.category===Re()){var e=this.channel.get_za3lpa$(0).first;!1===e.isPlaying()&&!1===this.channel.get_za3lpa$(0).second&&(e.play(),this.channel.set_wxm5ur$(0,new Le(this.channel.get_za3lpa$(0).first,!1)))}},jl.prototype.SetCurrentVolume_mx4ult$=function(e){var t;for(this.currentVolume=e,t=this.channel.iterator();t.hasNext();){t.next().first.SetVolume_mx4ult$(this.originalVolume*this.currentVolume*this.mixerVolume)}},jl.prototype.GetCurrentVolume=function(){return this.currentVolume},jl.prototype.SetMixerVolume_mx4ult$=function(e){var t;for(this.mixerVolume=e,t=this.channel.iterator();t.hasNext();){t.next().first.SetVolume_mx4ult$(this.originalVolume*this.currentVolume*this.mixerVolume)}},jl.prototype.GetMixerVolume=function(){return this.mixerVolume},jl.prototype.SetRate_mx4ult$=function(e){},jl.prototype.GetRate=function(){return 1},jl.$metadata$={kind:o,simpleName:"Sound",interfaces:[]},Ll.$metadata$={kind:a,simpleName:"Holder",interfaces:[]};var Fl=null;function Dl(){return null===Fl&&new Ll,Fl}function Vl(){(Ul=this).initialized=!1}Vl.prototype.shared=function(){return null==Dl().instance&&(Dl().instance=new El),Je(Dl().instance)},Vl.prototype.shutdown=function(){var e;null!=(e=Dl().instance)&&e.shutdown(),Dl().instance=null},Vl.$metadata$={kind:a,simpleName:"Companion",interfaces:[]};var Ul=null;function ql(){return null===Ul&&new Vl,Ul}function Hl(){Xl()}function Wl(){(Yl=this).notice=null,this.handler=null,this.disabled=!1,this.cancelButton="no",this.okButton="ok"}El.prototype.initialize=function(){return!0},El.prototype.shutdown=function(){},El.prototype.addToPlayingQueue_k8wy15$=function(e,t){e.play_qhkmbr$(t)},El.prototype.loadSound_rxyx1o$=function(e,t,i,r,o){var n,a;void 0===t&&(t=null),void 0===i&&(i=1),void 0===r&&(r=Me()),void 0===o&&(o=100);var s=e;if(null!=t&&(s=t),null!=this.dictionary.get_11rb$(s))return this.dictionary.get_11rb$(s);var l;_.game.load.audio(s,[e+".ogg",e+".mp3"]),l=Bl(s,e,i,r,o);var h=this.dictionary,u=s,c=Je(l);return h.put_xwzc9p$(u,c),r===Re()?null!=(n=this.dictionary.get_11rb$(s))&&n.SetCurrentVolume_mx4ult$(0):null!=(a=this.dictionary.get_11rb$(s))&&a.SetCurrentVolume_mx4ult$(1),this.dictionary.get_11rb$(s)},El.prototype.unloadSound_61zpoe$=function(e){},El.prototype.GetSound_61zpoe$=function(e){return null==this.dictionary.get_11rb$(e)?this.loadSound_rxyx1o$(e):this.dictionary.get_11rb$(e)},El.prototype.playBGM_llw80p$=function(e,t,i,r){void 0===t&&(t=-1),void 0===i&&(i=0),void 0===r&&(r=1);var o=this.GetSound_61zpoe$(e);return null!=o&&(o.category===Re()&&(o.SetMixerVolume_mx4ult$(this.bgmVolume),this.addToPlayingQueue_k8wy15$(o,t),!0))},El.prototype.play_jf2iyl$=function(e,t,i,r){var o;void 0===t&&(t=0),void 0===i&&(i=1),void 0===r&&(r=0);var n=t;1<n&&(n%=1);var a=Ke.isType(o=this.GetSound_61zpoe$(e),jl)?o:null;return null==a||a.category===Me()&&(a.SetMixerVolume_mx4ult$(this._effectVolume),this.addToPlayingQueue_k8wy15$(a,r),!0)},El.prototype.stop_61zpoe$=function(e){var t=this.GetSound_61zpoe$(e);null!=t&&t.stop()},El.prototype.resume=function(){var e;for(e=this.dictionary.entries.iterator();e.hasNext();){var t=e.next(),i=(t.key,t.value);i.category===Re()&&i.resume()}},El.prototype.SetRate_9sobi5$=function(e,t){void 0===t&&(t=1);var i=this.GetSound_61zpoe$(e);null!=i&&i.SetRate_mx4ult$(t)},El.prototype.GetRate_61zpoe$=function(e){var t=this.GetSound_61zpoe$(e);return null!=t?t.GetRate():1},El.prototype.playEffect_bm4lxs$=function(e,t){var i;void 0===t&&(t=0);var r=Ke.isType(i=this.GetSound_61zpoe$(e),jl)?i:null;return null!=r&&(r.SetMixerVolume_mx4ult$(this._effectVolume),this.addToPlayingQueue_k8wy15$(r,t)),!0},El.prototype.SetMasterVolume_mx4ult$=function(e){var t,i=e;for(i<=0&&(i=0,this._masterVolumeBackup=10),gl<i&&(i=gl),this._masterVolume=i/gl,t=this.dictionary.entries.iterator();t.hasNext();){var r=t.next().value;r.category===Re()?r.SetMixerVolume_mx4ult$(this.bgmVolume*this._masterVolume):r.category===Me()&&r.SetMixerVolume_mx4ult$(this._effectVolume*this._masterVolume)}},El.prototype.GetMasterVolume=function(){return this._masterVolume},El.prototype.SetMasterVolumeBackup_mx4ult$=function(e){this._masterVolumeBackup=e},El.prototype.GetMasterVolumeBackup=function(){return this._masterVolumeBackup},El.prototype.SetBGMVolume_mx4ult$=function(e){var t,i=e;for(i<0&&(i=0),gl<i&&(i=gl),this.bgmVolume=i/gl,t=this.dictionary.entries.iterator();t.hasNext();){var r=t.next().value;r.category===Re()&&r.SetMixerVolume_mx4ult$(this._masterVolume*this.bgmVolume)}},El.prototype.GetBGMVolume=function(){return this.bgmVolume},El.prototype.SetEffectVolume_mx4ult$=function(e){var t,i=e;for(i<=0&&(i=0,this._effectVolumeBackup=10),gl<i&&(i=gl),this._effectVolume=i/gl,t=this.dictionary.entries.iterator();t.hasNext();){var r=t.next().value;r.category===Me()&&r.SetMixerVolume_mx4ult$(this._masterVolume*this._effectVolume)}},El.prototype.GetEffectVolume=function(){return this._effectVolume},El.prototype.SetEffectVolumeBackup_mx4ult$=function(e){this._effectVolumeBackup=e},El.prototype.GetEffectVolumeBackup=function(){return this._effectVolumeBackup},El.prototype.toggleMaster=function(){0!==this._masterVolume?(this._masterVolumeBackup=this._masterVolume,this._masterVolume=0):this._masterVolume=this._masterVolumeBackup,this.SetBGMVolume_mx4ult$(this.GetBGMVolume()),this.SetEffectVolume_mx4ult$(this.GetEffectVolume())},El.prototype.toggleBGM=function(){0!==this.bgmVolume?(this.bgmVolumeBackup=this.bgmVolume,this.bgmVolume=0):this.bgmVolume=this.bgmVolumeBackup,this.SetBGMVolume_mx4ult$(this.bgmVolume)},El.prototype.toggleEffect=function(){0!==this._effectVolume?(this._effectVolumeBackup=this._effectVolume,this._effectVolume=0):this._effectVolume=this._effectVolumeBackup,this.SetEffectVolume_mx4ult$(this._effectVolume)},El.prototype.SetVolume_9sobi5$=function(e,t){var i=this.GetSound_61zpoe$(e);null!=i&&i.SetCurrentVolume_mx4ult$(t/gl)},El.prototype.GetVolume_61zpoe$=function(e){var t=this.GetSound_61zpoe$(e);return null!=t?t.GetCurrentVolume()*gl:0},El.prototype.BGMFadeIn_o5txl1$=function(e,t,i,r,o){void 0===i&&(i=100),void 0===r&&(r=.3),void 0===o&&(o=null);var n,a,s,l,h,u=this.GetSound_61zpoe$(t);if(null!=u){var c=i-u.GetCurrentVolume()*gl;if(c<=0)return void(null!=o&&o());var d=c/r;e.createAction_xcdeti$(t+" BGM Fade In",!0,!1,void 0,void 0,void 0,void 0,(n=u,a=this,s=d,l=i,h=o,function(e){1===e.count&&(n.SetMixerVolume_mx4ult$(a.bgmVolume),a.addToPlayingQueue_k8wy15$(n,-1));var t=n.GetCurrentVolume()*gl+s*e.elapsed;return l<t&&(t=l),n.SetCurrentVolume_mx4ult$(t/gl),t!==l||(null!=h&&h(),!1)}))}},El.prototype.BGMFadeOut_o5txl1$=function(e,t,i,r,o){void 0===i&&(i=0),void 0===r&&(r=.3),void 0===o&&(o=null);var n,a,s,l,h=this.GetSound_61zpoe$(t);if(null!=h){var u=h.GetCurrentVolume()*gl-i;if(u<=0)return void(null!=o&&o());var c=u/r;e.createAction_xcdeti$(t+" BGM Fade Out",!0,!1,void 0,void 0,void 0,void 0,(n=h,a=c,s=i,l=o,function(e){var t=n.GetCurrentVolume()*gl-a*e.elapsed;return t<s&&(t=s),n.SetCurrentVolume_mx4ult$(t/gl),t!==s||(n.stop(),null!=l&&l(),!1)}))}},El.$metadata$={kind:o,simpleName:"SoundManager",interfaces:[]},Wl.prototype.showNotice_z5sdl8$=function(e,t,i,r,o,n,a){var s,l,h,u,c,d,p,f;if(void 0===t&&(t=""),void 0===i&&(i="MENU_/"),void 0===r&&(r=16),void 0===o&&(o="no"),void 0===n&&(n="ok"),void 0===a&&(a=null),null==this.notice){this.cancelButton=o,this.okButton=n,this.disabled=!1,e.SetFontSize_mx4ult$(r),e.SetFontName_61zpoe$(i),e.SetChildVerticalAlign_qn2em6$(ro()),e.SetChildHorizontalAlign_jdpdm8$(lo());var m,v,g=2;ue(As("TUTORIAL_TEXT_WRAP_TYPE"),"CHARACTER")&&(g=1),this.notice=e.createTextArea_pvsv9g$(160,240,jn(),240,480,0,.5,1,void 0,void 0,g),null!=(s=this.notice)&&s.SetFadeMode_za3lpa$(1),null!=(l=this.notice)&&l.SetTextVerticalAlign_qn2em6$(ro()),null!=(h=this.notice)&&h.SetTextHorizontalAlign_jdpdm8$(lo()),null!=(u=this.notice)&&u.SetModal_6taknv$(!0),ue(t,"")||null!=(c=this.notice)&&c.addText_r4v59z$(t,.3),this.handler=a,null!=(d=this.notice)&&d.SetMessageHandler_4mjqr2$((m=this,function(e){var t;if(!0===m.disabled)return!1;if(e.event===Gr()){var i=null!=(t=e.sender)?t.GetName():null;return null!=i&&m.clickButton_61zpoe$(i),!1}return e.event===Ir()&&ql().shared().playEffect_bm4lxs$("shake"),!0})),null!=(p=e.screen)&&p.addKeydownListener_5ol7k9$("Back Key For Notice",(v=this,function(e){return!(!1===v.isNoticeShow()||!0!==v.disabled&&(e===Bt().ESCAPE||e===Bt().BACK?(v.clickButton_61zpoe$(v.cancelButton),0):e!==Bt().ENTER||(v.clickButton_61zpoe$(v.okButton),0)))})),null!=(f=this.notice)&&f.SetShow_6taknv$(!0)}},Wl.prototype.clearNotice_yo2cqg$=function(e){var t,i;void 0===e&&(e=null),null!=(t=this.notice)&&t.clearText_gam257$(.3,(i=e,function(){return null!=i&&i(),Ze}))},Wl.prototype.addNotice_9sobi5$=function(e,t){var i;void 0===t&&(t=0),null!=(i=this.notice)&&i.addText_r4v59z$(e,t)},Wl.prototype.closeNotice_mx4ult$=function(e){var t,i,r;if(void 0===e&&(e=0),null!=this.notice||!1!==(null!=(t=this.notice)?t.GetShow():null)){var o,n=Ke.isType(r=null!=(i=this.notice)?i.GetRoot():null,Qn)?r:null;null!=n&&n.actionDelay_ab0iom$(e,void 0,(o=this,function(){var e,t,i;return null!=(e=o.notice)&&e.SetShow_6taknv$(!1),null!=(t=o.notice)&&t.clearText_gam257$(),null!=(i=o.notice)&&i.removeFromParent(),o.notice=null,o.handler=null,Ze})),this.disabled=!0}},Wl.prototype.isNoticeShow=function(){return null!=this.notice&&Je(this.notice).GetShow()},Wl.prototype.clickButton_61zpoe$=function(e){var t,i,r,o,n,a,s=Ke.isType(i=null!=(t=this.notice)?t.findChildByName_3m52m6$(e):null,Kt)?i:null;if(null!=s){this.disabled=!0,ql().shared().playEffect_bm4lxs$("click");var l=Ke.isType(o=null!=(r=this.notice)?r.GetRoot():null,Qn)?o:null;null!=l&&l.actionDelay_ab0iom$(0,void 0,(n=this,a=s,function(){var e;return null!=(e=n.handler)&&e(a),n.disabled=!1,Ze}))}},Wl.prototype.disableButton_61zpoe$=function(e){var t,i,r=Ke.isType(i=null!=(t=this.notice)?t.findChildByName_3m52m6$(e):null,Kt)?i:null;null!=r&&r.SetEnable_6taknv$(!1)},Wl.$metadata$={kind:a,simpleName:"Companion",interfaces:[]};var Yl=null;function Xl(){return null===Yl&&new Wl,Yl}function Kl(){th(),this.game=null,this.width=0,this.height=0,this.kindOfNumber=0,this.minOfComplete=0,this.map=null,this.clear=null,this.dropMap=null,this.newBlockMap=null,this.hint=new Le(-1,-1),this.cancelFind=!1,this.running=!1}Hl.$metadata$={kind:o,simpleName:"Util",interfaces:[]},Kl.prototype.rotateMap_ytlutl$=function(e){var t,i,r,o=ol(this.width);r=o.length-1|0;for(var n=0;n<=r;n++){var a,s=new Int32Array(this.height);a=s.length-1|0;for(var l=0;l<=a;l++)s[l]=0;o[n]=s}var h=o;t=this.width-1|0;for(var u=0;u<=t;u++){i=this.height-1|0;for(var c=0;c<=i;c++)h[u][c]=e[c][u]}return h},Kl.prototype.GetBoard=function(){var e=this.calcMapID();return new Le(this.map,e)};var Zl=Ke.numberToLong,Ql=Ke.kotlin.text.toLong_pdl1vz$;function Jl(){(eh=this).checkCompleteCount=0}Kl.prototype.calcMapID=function(){var e,t;if(3<this.width||3<this.height)return Ke.Long.ZERO;var i=Ke.Long.ZERO,r=0;e=this.height-1|0;for(var o=0;o<=e;o++){t=this.width-1|0;for(var n=0;n<=t;n++){var a,s=i,l=this.map[n][o];e:do{if(Ke.isNumber(l)){a=Zl(l);break e}if("string"==typeof l){a=Ql(l);break e}a=Ke.Long.ZERO}while(0);var h,u=a,c=this.kindOfNumber;e:do{if(null==c){h=0;break e}if(Ke.isNumber(c)){h=it(c);break e}if("string"==typeof c)try{h=Qe(c);break e}catch(e){if(Ke.isType(e,ta)){h=0;break e}throw e}h=0}while(0);var d,p=h,f=r;e:do{if(null==f){d=0;break e}if(Ke.isNumber(f)){d=it(f);break e}if("string"==typeof f)try{d=Qe(f);break e}catch(e){if(Ke.isType(e,ta)){d=0;break e}throw e}d=0}while(0);var m,v=Math.pow(p,d);e:do{if(Ke.isNumber(v)){m=Zl(v);break e}if("string"==typeof v){m=Ql(v);break e}m=Ke.Long.ZERO}while(0);i=s.add(u.multiply(m)),r=r+1|0}}return i},Kl.prototype.createNewBoardWithID_s8cxhz$=function(e){for(var t=e,i=Ke.imul(this.width,this.height)-1|0,r=this.height-1|0;0<=r;r--)for(var o=this.width-1|0;0<=o;o--){var n,a=t,s=this.kindOfNumber;e:do{if(null==s){n=0;break e}if(Ke.isNumber(s)){n=it(s);break e}if("string"==typeof s)try{n=Qe(s);break e}catch(e){if(Ke.isType(e,ta)){n=0;break e}throw e}n=0}while(0);var l,h=n,u=i;e:do{if(null==u){l=0;break e}if(Ke.isNumber(u)){l=it(u);break e}if("string"==typeof u)try{l=Qe(u);break e}catch(e){if(Ke.isType(e,ta)){l=0;break e}throw e}l=0}while(0);var c,d=Math.pow(h,l);e:do{if(Ke.isNumber(d)){c=Zl(d);break e}if("string"==typeof d){c=Ql(d);break e}c=Ke.Long.ZERO}while(0);var p,f=a.div(c),m=this.map[o];e:do{if(null==f){p=0;break e}if(Ke.isNumber(f)){p=et(f);break e}if("string"==typeof f)try{p=tt(f);break e}catch(e){if(Ke.isType(e,ta)){p=0;break e}throw e}p=0}while(0);m[r]=p;var v,g=t,_=this.kindOfNumber;e:do{if(null==_){v=0;break e}if(Ke.isNumber(_)){v=it(_);break e}if("string"==typeof _)try{v=Qe(_);break e}catch(e){if(Ke.isType(e,ta)){v=0;break e}throw e}v=0}while(0);var y,$=v,b=i;e:do{if(null==b){y=0;break e}if(Ke.isNumber(b)){y=it(b);break e}if("string"==typeof b)try{y=Qe(b);break e}catch(e){if(Ke.isType(e,ta)){y=0;break e}throw e}y=0}while(0);var S,k=Math.pow($,y);e:do{if(Ke.isNumber(k)){S=Zl(k);break e}if("string"==typeof k){S=Ql(k);break e}S=Ke.Long.ZERO}while(0);t=g.subtract(f.multiply(S)),i=i-1|0}},Kl.prototype.createNewBoardWithRandom=function(){var e,t;e=this.width-1|0;for(var i=0;i<=e;i++){t=this.height-1|0;for(var r=0;r<=t;r++){this.clear[i][r]=0;var o,n=this.map[i],a=go().arc4random_uniform_za3lpa$(this.kindOfNumber);e:do{if(null==a){o=0;break e}if(Ke.isNumber(a)){o=et(a);break e}if("string"==typeof a)try{o=tt(a);break e}catch(e){if(Ke.isType(e,ta)){o=0;break e}throw e}o=0}while(0);n[r]=o}}},Kl.prototype.removeMatchedTile=function(){var e,t;for(this.checkComplete(),this.clearCompleteTile();!1===this.isFilled();){for(;!1===this.isFilled();)this.dropTile();this.checkComplete(),this.clearCompleteTile()}e=this.width-1|0;for(var i=0;i<=e;i++){t=this.height-1|0;for(var r=0;r<=t;r++)this.clear[i][r]=0}},Kl.prototype.createNewBoard_s8cxhz$$default=function(e){var t,i;if(ue(e,Ke.Long.ZERO)){this.createNewBoardWithRandom();for(var r=0;r=r+1|0,this.removeMatchedTile(),!0!==this.isAppropriate();)this.createNewBoardWithRandom()}else this.createNewBoardWithID_s8cxhz$(e);t=this.width-1|0;for(var o=0;o<=t;o++){i=this.height-1|0;for(var n=0;n<=i;n++)this.clear[o][n]=0}},Kl.prototype.createNewBoard_s8cxhz$=function(e,t){void 0===e&&(e=Ke.Long.ZERO),t?t(e):this.createNewBoard_s8cxhz$$default(e)},Kl.prototype.checkComplete=function(){var e,t,i,r,o,n,a,s=!1,l=new Int32Array(this.width);a=l.length-1|0;for(var h=0;h<=a;h++)l[h]=0;var u,c,d=l;e=this.height-1|0;for(var p=0;p<=e;p++){u=-(c=1),t=this.width-1|0;for(var f=0;f<=t;f++)c=this.map[f][p]===u&&-1!==this.map[f][p]?c+1|0:1,d[f]=c,u=this.map[f][p];for(var m=this.width-1|0;0<=m;)if(d[m]>=this.minOfComplete){s=!0,i=d[m]-1|0;for(var v=0;v<=i;v++)this.clear[m-v|0][p]=d[m];m=m-d[m]+1|0}else m=m-1|0}var g,_=new Int32Array(this.height);g=_.length-1|0;for(var y=0;y<=g;y++)_[y]=0;var $=_;r=this.width-1|0;for(var b=0;b<=r;b++){u=-(c=1),o=this.height-1|0;for(var S=0;S<=o;S++)c=this.map[b][S]===u&&-1!==this.map[b][S]?c+1|0:1,$[S]=c,u=this.map[b][S];for(var k=this.height-1|0;0<=k;)if($[k]>=this.minOfComplete){s=!0,n=$[k]-1|0;for(var w=0;w<=n;w++)this.clear[b][k-w|0]=$[k];k=k-$[k]+1|0}else k=k-1|0}return s},Kl.prototype.clearCompleteTile=function(){var e,t,i=!1,r=0;e=this.height-1|0;for(var o=0;o<=e;o++){t=this.width-1|0;for(var n=0;n<=t;n++)0!==this.clear[n][o]&&(this.map[n][o]=-1,i=!(this.clear[n][o]=0),r=r+1|0)}return i},Kl.prototype.isFilled=function(){var e,t;e=this.width-1|0;for(var i=0;i<=e;i++){t=this.height-1|0;for(var r=0;r<=t;r++)if(-1===this.map[i][r])return!1}return!0},Kl.prototype.dropTile=function(){for(var e,t=this.height-1|0;0<=t;t--){e=this.width-1|0;for(var i=0;i<=e;i++)if(-1===this.map[i][t]){var r=-1;if(0===t){var o,n=go().arc4random_uniform_za3lpa$(this.kindOfNumber);e:do{if(null==n){o=0;break e}if(Ke.isNumber(n)){o=et(n);break e}if("string"==typeof n)try{o=tt(n);break e}catch(e){if(Ke.isType(e,ta)){o=0;break e}throw e}o=0}while(0);r=o}else r=this.map[i][t-1|0],this.map[i][t-1|0]=-1;this.map[i][t]=r}}},Kl.prototype.isAppropriate=function(){var e,t,i,r;if(this.width<3||this.height<3)return!0;var o,n=new Int32Array(this.kindOfNumber);o=n.length-1|0;for(var a=0;a<=o;a++)n[a]=0;var s=n;e=this.width-1|0;for(var l=0;l<=e;l++){t=this.height-1|0;for(var h=0;h<=t;h++)s[i=this.map[l][h]]=s[i]+1|0}r=this.kindOfNumber-1|0;for(var u=0;u<=r;u++)if(s[u]<1)return!1;return!0},Kl.prototype.pickRandom_q5rwfd$=function(e){for(var t=go().arc4random_uniform_za3lpa$(e.length)+1|0,i=0,r=0;i!==t;){if(0===e[r]&&(i=i+1|0)===t)return e[r]=1,r;if((r=r+1|0)===e.length){if(0===i)return-1;r=0}}return-1},Kl.prototype.makeHint_klim6j$=function(e){var t,i,r,o,n,a,s,l=ol(this.width);s=l.length-1|0;for(var h=0;h<=s;h++){var u,c=ol(this.height);u=c.length-1|0;for(var d=0;d<=u;d++)c[d]=new Le(0,0);l[h]=c}var p={v:l};t=this.width-1|0;for(var f=0;f<=t;f++){i=this.height-1|0;for(var m=0;m<=i;m++){var v=Ke.isType(r=e[f][m],ld)?r:null;p.v[f][m]=null!=v?new Le(v.value,v.GetAttribute()===Vd()?1:0):new Le(-1,-1)}}var g,_=new Int32Array(Ke.imul(this.width,this.height));g=_.length-1|0;for(var y=0;y<=g;y++)_[y]=0;var $=_;for(o=0;o!==$.length;++o){$[o];var b=this.pickRandom_q5rwfd$($);if(-1===b)break;var S,k=b%this.width,w=b/this.width|0,x=ol(p.v.length);S=x.length-1|0;for(var C=0;C<=S;C++){var z,T=ol(p.v[0].length);z=T.length-1|0;for(var A=0;A<=z;A++)T[A]=new Le(-1,-1);x[C]=T}var G=x;n=this.height-1|0;for(var I=0;I<=n;I++){a=this.width-1|0;for(var N=0;N<=a;N++)G[N][I]=p.v[N][I].copy_xwzc9p$()}if(0===G[k][w].second&&(this.increaseChainedTile_aatw4l$(G,k,w),!0===this.checkComplete_9kzzq3$(G)))return void(this.hint=new Le(k,w))}this.hint=new Le(-1,-1)},Kl.prototype.clearHint=function(){this.hint=new Le(-1,-1)},Kl.prototype.GetHint=function(){return this.hint},Kl.prototype.cancelFindNoMoreMatch=function(){!0===this.running&&(this.cancelFind=!0),this.cancelFind=!1},Jl.$metadata$={kind:a,simpleName:"Companion",interfaces:[]};var eh=null;function th(){return null===eh&&new Jl,eh}function ih(e,t,i,r,o){q.call(this,o),this.exceptionState_0=1,this.$this=e,this.local$tmp$=void 0,this.local$tmp$_0=void 0,this.local$y=void 0,this.local$x=void 0,this.local$test=void 0,this.local$temp=t,this.local$depth=i,this.local$click=r}Kl.prototype.isNoMoreMatch_nq05ln$=function(e,t,i,r,o){var n=new ih(this,e,t,i,r);return o?n:n.doResume(null)},ih.$metadata$={kind:Ke.Kind.CLASS,simpleName:null,interfaces:[q]},((ih.prototype=Object.create(q.prototype)).constructor=ih).prototype.doResume=function(){for(;;)try{switch(this.state_0){case 0:var e,t;if(void 0===this.local$depth&&(this.local$depth=0),void 0===this.local$click&&(this.local$click=""),9<this.local$depth)return!1;this.state_0=2;continue;case 1:throw this.exception_0;case 2:if(this.local$depth<=3){if(this.state_0=3,this.result_0=W(1,this),this.result_0===H)return H;continue}this.state_0=4;continue;case 3:this.state_0=4;continue;case 4:this.local$tmp$=this.$this.height-1|0,this.local$y=0,this.state_0=5;continue;case 5:if(this.local$y>this.local$tmp$){this.state_0=16;continue}this.local$tmp$_0=this.$this.width-1|0,this.local$x=0,this.state_0=6;continue;case 6:if(this.local$x>this.local$tmp$_0){this.state_0=14;continue}if(!0===this.$this.cancelFind)return!1;this.state_0=7;continue;case 7:var i,r=ol(this.local$temp.length);i=r.length-1|0;for(var o=0;o<=i;o++){var n,a=ol(this.local$temp[0].length);n=a.length-1|0;for(var s=0;s<=n;s++)a[s]=new Le(-1,-1);r[o]=a}this.local$test=r,e=this.$this.height-1|0;for(var l=0;l<=e;l++){t=this.$this.width-1|0;for(var h=0;h<=t;h++)this.local$test[h][l]=this.local$temp[h][l].copy_xwzc9p$()}if(0===this.local$test[this.local$x][this.local$y].second){if(this.$this.increaseChainedTile_aatw4l$(this.local$test,this.local$x,this.local$y),!0===this.$this.isNoMoreTouch_9kzzq3$(this.local$test)){if(!0===this.$this.checkComplete_9kzzq3$(this.local$test))return!1;this.state_0=8;continue}this.state_0=9;continue}this.state_0=12;continue;case 8:return!0;case 9:var u,c=this.local$test.slice(),d=this.local$depth+1|0;e:do{if(Ke.isNumber(this.local$x)){u=this.local$x.toString();break e}if("string"==typeof this.local$x){u=this.local$x;break e}if("boolean"==typeof this.local$x){u=this.local$x.toString();break e}if(Ke.isChar(this.local$x)){u=this.local$x.toString();break e}u=""}while(0);var p,f=this.local$click+u+",";e:do{if(Ke.isNumber(this.local$y)){p=this.local$y.toString();break e}if("string"==typeof this.local$y){p=this.local$y;break e}if("boolean"==typeof this.local$y){p=this.local$y.toString();break e}if(Ke.isChar(this.local$y)){p=this.local$y.toString();break e}p=""}while(0);if(this.state_0=10,this.result_0=this.$this.isNoMoreMatch_nq05ln$(c,d,f+p+" ",this),this.result_0===H)return H;continue;case 10:if(!1===this.result_0)return!1;this.state_0=11;continue;case 11:this.state_0=12;continue;case 12:this.state_0=13;continue;case 13:this.local$x++,this.state_0=6;continue;case 14:this.state_0=15;continue;case 15:this.local$y++,this.state_0=5;continue;case 16:return!0}}catch(e){if(1===this.state_0)throw this.exceptionState_0=this.state_0,e;this.state_0=this.exceptionState_0,this.exception_0=e}},Kl.prototype.countKindOf_9kzzq3$=function(e){var t,i,r,o,n,a=new Int32Array(this.kindOfNumber);n=a.length-1|0;for(var s=0;s<=n;s++)a[s]=0;var l=a;t=this.height-1|0;for(var h=0;h<=t;h++){i=this.width-1|0;for(var u=0;u<=i;u++)e[u][h].first<this.kindOfNumber&&0<=e[u][h].first&&(l[r=e[u][h].first]=l[r]+1|0)}var c=0,d=0;o=this.kindOfNumber-1|0;for(var p=0;p<=o;p++)0<l[p]&&(c=c+1|0,d=d+p|0);return new Le(c,d)},Kl.prototype.isNoMoreTouch_9kzzq3$=function(e){var t,i;t=this.width-1|0;for(var r=0;r<=t;r++){i=this.height-1|0;for(var o=0;o<=i;o++)if(0===e[r][o].second)return!1}return!0},Kl.prototype.findPossibleMatch_klim6j$=function(e){var t,i,r,o,n,a,s=ol(this.width);a=s.length-1|0;for(var l=0;l<=a;l++){var h,u=ol(this.height);h=u.length-1|0;for(var c=0;c<=h;c++)u[c]=new Le(0,0);s[l]=u}var d=s;t=this.width-1|0;for(var p=0;p<=t;p++){i=this.height-1|0;for(var f=0;f<=i;f++){var m=Ke.isType(r=e[p][f],ld)?r:null;d[p][f]=null!=m?new Le(m.value,m.GetAttribute()===Vd()?1:0):new Le(-1,-1)}}o=this.width-1|0;for(var v=0;v<=o;v++){n=this.height-1|0;for(var g=0;g<=n;g++){var _=d;if(0===_[v][g].second&&(this.increaseChainedTile_aatw4l$(_,v,g),!0===this.checkComplete_9kzzq3$(_)))return!0}}return!1};var rh=Ke.booleanArray;function oh(e,t,i,r,o,n){n=n||Object.create(Kl.prototype),Kl.call(n),n.game=e,n.width=t,n.height=i,n.kindOfNumber=r,n.minOfComplete=o;var a,s=ol(n.width);a=s.length-1|0;for(var l=0;l<=a;l++){var h,u=new Int32Array(n.height);h=u.length-1|0;for(var c=0;c<=h;c++)u[c]=-1;s[l]=u}n.map=s;var d,p=ol(n.width);d=p.length-1|0;for(var f=0;f<=d;f++){var m,v=new Int32Array(n.height);m=v.length-1|0;for(var g=0;g<=m;g++)v[g]=0;p[f]=v}n.clear=p;var _,y=ol(n.width);_=y.length-1|0;for(var $=0;$<=_;$++){var b,S=new Int32Array(n.height);b=S.length-1|0;for(var k=0;k<=b;k++)S[k]=-1;y[$]=S}n.dropMap=y;var w,x=ol(n.width);w=x.length-1|0;for(var C=0;C<=w;C++){var z,T=new Int32Array(n.height);z=T.length-1|0;for(var A=0;A<=z;A++)T[A]=-1;x[C]=T}return n.newBlockMap=x,n}function nh(){var b,l,a,r,w,o,_,v,g,y,t,f,n,i,s,h,u,e,c,$,d,S,p;this.initializeDone=!1,this.view_c2zo2j$_0=this.view_c2zo2j$_0,this.quality=2,this.particleManager_v8z4ir$_0=this.particleManager_v8z4ir$_0,this.gameState_d7cpud$_0=this.gameState_d7cpud$_0,this.masterTimer_hq0vq1$_0=this.masterTimer_hq0vq1$_0,this.boardGenerator_epr2il$_0=this.boardGenerator_epr2il$_0,this.playerRecord=null,this.gameValue_c2gwc5$_0=this.gameValue_c2gwc5$_0,this.scheduledJobManager_2z1g5v$_0=this.scheduledJobManager_2z1g5v$_0,this.gameConfigure_i3ngcq$_0=this.gameConfigure_i3ngcq$_0,this.boardRect=Di(),this.gameLogicUpdater_q530j1$_0=this.gameLogicUpdater_q530j1$_0,this.gameTimer=null,this.gameTimeElapsed=0,this.gameRemainTime=0,this.beginnerTimer=null,this.beginnerTimeRemain=0,this.blockDisableTimer=null,this.blockDisableTimeRemain=0,this.comboTimer_qhfmdp$_0=this.comboTimer_qhfmdp$_0,this.comboTimeRemain=0,this.feverTimer_8kmffb$_0=this.feverTimer_8kmffb$_0,this.feverTimeRemain=0,this.entityManager_f4f37k$_0=this.entityManager_f4f37k$_0,this.map_miog1a$_0=this.map_miog1a$_0,this.hintMap_qgymqz$_0=this.hintMap_qgymqz$_0,this.clear_sddaxv$_0=this.clear_sddaxv$_0,this.increaseCheck_f490rg$_0=this.increaseCheck_f490rg$_0,this.createColumn_8wqhbs$_0=this.createColumn_8wqhbs$_0,this.beingTransform=!1,this.comboRestart=!1,this.onIdling=!1,this.idleStartTime=0,this.completeCheckNoMoreMatch=!1,this.completeMakeHint=!1,this.showHintNow=!1,this.pressPos=new Le(-1,-1),this.inputQueue=C([new Le(-1,-1)]),this.keyInputIgnoreStart=!1,this.keyInputIgnoreEnd=0,this.lastInput=new Le(-1,-1),this.noMoreMatch=!1,this.gameOverFlag=!1,this.lastChanceFlag=!1,this.isPaused=!1,this.isPausedOnlyForLogic=!1,this.isCanceled=!1,this.comboSeedScore=0,this.comboSeedFactor=0,this.background_6pzcos$_0=this.background_6pzcos$_0,this.boardList=Fe(),this.boardMask_56ytzs$_0=this.boardMask_56ytzs$_0,this.boardMaskZ=0,this.feverTimerBar_x11r14$_0=this.feverTimerBar_x11r14$_0,this.feverBackground_w2xd2w$_0=this.feverBackground_w2xd2w$_0,this.bannerOffset=20,this.bottomHeight=0,this.autoPlayKeyIndex=0,this.nirvanaCount=0,this.scoreBackup=0,this.maxComboBackup=0,this.maxFeverBackup=0,this.clearedObstacleBackup=0,this.mapBackup_re831w$_0=this.mapBackup_re831w$_0,this.nirvanaCountBackup=0,this.playingTimeBackup=0,this.timerSoundFired=!1,this.continueByStar=0,this.continueByVideo=0,this.touchListener=(b=this,function(e,t,i,r,o){switch(r.name){case"began":if(e.x<b.boardRect.x||e.y<b.boardRect.y)return;var n,a=e.x-b.boardRect.x,s=b.gameConfigure.tileWidthResult;e:do{if(null==s){n=0;break e}if(Ke.isNumber(s)){n=it(s);break e}if("string"==typeof s)try{var l=Qe(s);n=l;break e}catch(e){if(Ke.isType(e,ta)){n=0;break e}throw e}n=0}while(0);var h,u=a/n;e:do{if(null==u){h=0;break e}if(Ke.isNumber(u)){h=et(u);break e}if("string"==typeof u)try{var c=tt(u);h=c;break e}catch(e){if(Ke.isType(e,ta)){h=0;break e}throw e}h=0}while(0);var d,p=h,f=e.y-b.boardRect.y,m=b.gameConfigure.tileHeightResult;e:do{if(null==m){d=0;break e}if(Ke.isNumber(m)){d=it(m);break e}if("string"==typeof m)try{var v=Qe(m);d=v;break e}catch(e){if(Ke.isType(e,ta)){d=0;break e}throw e}d=0}while(0);var g,_=f/d;e:do{if(null==_){g=0;break e}if(Ke.isNumber(_)){g=et(_);break e}if("string"==typeof _)try{var y=tt(_);g=y;break e}catch(e){if(Ke.isType(e,ta)){g=0;break e}throw e}g=0}while(0);var $=g;if(p<0||p>=b.gameConfigure.width)return;if($<0||$>=b.gameConfigure.height)return;b.pressPos=new Le(p,$),null!=b.map[p][$]&&b.addKeyInput_ydzd23$(p,$),b.pressPos=new Le(-1,-1);break;case"moved":break;case"ended":case"cancelled":b.pressPos=new Le(-1,-1)}}),this.onReady_m3wg3q$_0=(l=this,function(e){var t,i,r,o,n;if(!ue(e,"enter")&&!ue(e,"leave"))if(!0===l.isIdle())if(!0===l.gameConfigure.showReadyStart){var a=l.view.createSprite_9wuqyc$(0,240,jn(),null,320,100,void 0,void 0,!1);a.SetColor_vnjrmz$(ui().black_mx4ult$(0)),a.SetVerticalAlign_qn2em6$(ro()),a.SetHorizontalAlign_jdpdm8$(so()),null!=(t=l.view.screen)&&t.actionFadeIn_hkbjms$(a,0,.6,void 0,.1,void 0,void 0,void 0,(o=l,n=a,function(){var a,s,l,e=o.view.createSprite_9wuqyc$(160,240,jn(),"Resource/UI/READY",240);return e.SetHorizontalAlign_jdpdm8$(lo()),e.SetVerticalAlign_qn2em6$(ro()),e.SetTimeToLive_mx4ult$(2),e.addUpdateCallback_sds54w$("Game Ready",void 0,void 0,void 0,void 0,void 0,(a=e,s=o,l=n,function(e){var t,o,n,i;if(0===e.elapsed)return!1;if(a.age<=.1)a.SetAlpha_8ca0d4$(.5+10*a.age),a.SetScale_mx4ult$(1+2*e.elapsed);else if(a.age<=.3)a.SetScale_mx4ult$(1-e.elapsed);else if(.9<=a.age){if(!(a.age<=1)){null!=(t=s.view.screen)&&t.actionFadeOut_7vo5wp$(l,.6,void 0,.3,void 0,void 0,void 0,(i=l,function(){return i.SetTimeToLive_mx4ult$(0),Ze}));var r=s.view.createSprite_9wuqyc$(160,240,jn(),"Resource/UI/START",240);return r.SetHorizontalAlign_jdpdm8$(lo()),r.SetVerticalAlign_qn2em6$(ro()),r.SetTimeToLive_mx4ult$(1),r.addUpdateCallback_sds54w$("Game Start",void 0,void 0,void 0,void 0,void 0,(o=s,n=r,function(e){var t,i;if(0===e.elapsed)return!1;if(1===e.count){var r=Ke.isType(t=o.view.findChildByName_3m52m6$("Pause Switch"),Kt)?t:null;null!=r&&Je(r).SetEnable_6taknv$(!0),null!=(r=Ke.isType(i=o.view.findChildByName_3m52m6$("Abandon Button"),Kt)?i:null)&&Je(r).SetEnable_6taknv$(!0)}return n.age<=1?(n.SetAlpha_8ca0d4$(1-2*(n.age-.5)),n.SetScale_mx4ult$(1+.2*n.age)):n.removeFromParent(),!0})),s.view.addChild_g5h3xp$(r),a.removeFromParent(),!0}a.SetAlpha_8ca0d4$(1-10*(a.age-.9))}return!0})),Ze})),l.gameState.SetNextState_9sobi5$("timerStart",1)}else{var s=Ke.isType(i=l.view.findChildByName_3m52m6$("Pause Switch"),Kt)?i:null;null!=s&&Je(s).SetEnable_6taknv$(!0),null!=(s=Ke.isType(r=l.view.findChildByName_3m52m6$("Abandon Button"),Kt)?r:null)&&Je(s).SetEnable_6taknv$(!0),l.gameState.SetNextState_9sobi5$("timerStart")}else l.processCheck()}),this.onTimerStart=(a=this,function(e){var t,i,r,o,n;ue(e,"enter")||ue(e,"leave")||(null!=(t=a.gameTimer)&&t.start(),null!=(i=a.beginnerTimer)&&i.start(),null!=(r=a.feverTimer)&&r.start(),null!=(o=a.comboTimer)&&o.start(),null!=(n=a.blockDisableTimer)&&n.start(),a.gameState.SetNextState_9sobi5$("running"))}),this.onTimerRestart=(r=this,function(e){var t,i;ue(e,"enter")||ue(e,"leave")||(null!=(t=r.beginnerTimer)&&t.restart(),null!=(i=r.blockDisableTimer)&&i.restart(),r.updateInfo(),r.gameState.SetNextState_9sobi5$("running"))}),this.onRunning=(w=this,function(e){var t,i,r,o,n,a,s,l,h,u,c,d;if(!ue(e,"enter")&&!ue(e,"leave")&&!0!==w.isPausedOnlyForLogic)if(0===w.gameConfigure.touchInputMode&&w.processKeyInput(),!0===w.isIdle()){if(1===w.gameConfigure.touchInputMode&&!0===w.isNeedCheckRemain())return!0===w.processCheck()?(null!=(t=w.comboTimer)&&t.pause(),w.comboRestart=!0):0===w.gameConfigure.comboMode&&(null!=(i=w.comboTimer)&&i.pause(),w.comboRestart=!0),void(w.onIdling=!1);if(!1===w.onIdling&&(w.onIdling=!0,w.updateBlockConnection(),!0===w.gameConfigure.takeSnapshot&&w.takeSnapshot(),w.idleStartTime=w.masterTimer.current,w.completeCheckNoMoreMatch=!1,w.completeMakeHint=!1,w.gameValue.playingTime=w.gameTimeElapsed,w.checkDelayedBlock(),1===w.gameConfigure.obstacleType&&w.checkBottomObstacle()),!0===w.gameConfigure.checkNoMoreMatch&&!1===w.completeCheckNoMoreMatch&&1<w.masterTimer.current-w.idleStartTime){var p=!1;for(r=w.entityManager.GetList(),o=0;o!==r.length;++o){var f=r[o];if(Ke.isType(f,Gd)){w.completeCheckNoMoreMatch=!0,p=!0;break}}!1===p&&(w.completeCheckNoMoreMatch=!0,w.checkNoMoreMatch_y8twos$((d=w,function(e){!0===e&&(d.noMoreMatch=!0)})))}if(!0===w.gameConfigure.showHint&&(!1===w.completeMakeHint?10<w.masterTimer.current-w.idleStartTime&&(w.boardGenerator.makeHint_klim6j$(w.map),w.completeMakeHint=!0):3<w.masterTimer.current-w.idleStartTime&&(w.idleStartTime=w.masterTimer.current,w.showHint())),1===w.gameConfigure.touchInputMode&&w.processKeyInput(),!0===w.comboRestart&&(null!=(n=w.comboTimer)&&n.restart(),w.comboRestart=!1),!0===w.gameOverFlag?!0===w.gameConfigure.limitGameTime&&!1===w.gameConfigure.resetTimeEveryClear?!0===w.lastChanceFlag?(ql().shared().stop_61zpoe$("timer"),!1===w.processRemain()&&w.gameState.SetNextState_9sobi5$("gameOver")):!0!==w.isAllDisabled()&&0!==w.gameValue.feverLevel||(ql().shared().stop_61zpoe$("timer"),w.gameState.SetNextState_9sobi5$("gameOver")):w.gameState.SetNextState_9sobi5$("noMoreMove"):!0===w.isAllDisabled()||!0===w.noMoreMatch?(!1===w.processRemain()&&(!0===w.gameConfigure.regenNoMoreMove?w.gameState.SetNextState_9sobi5$("regenAll"):w.gameOverFlag=!0),w.noMoreMatch=!1):(ue(null!=(a=w.blockDisableTimer)?a.state:null,Mc())&&null!=(s=w.blockDisableTimer)&&s.restart(),ue(null!=(l=w.beginnerTimer)?l.state:null,Mc())&&null!=(h=w.beginnerTimer)&&h.restart()),ue(pl().GetConfigure_jyasbz$("Auto Play"),"true")){w.boardGenerator.makeHint_klim6j$(w.map);var m=w.boardGenerator.GetHint();if(-1!==m.first&&-1!==m.second)w.addKeyInput_ydzd23$(m.first,m.second);else{var v,g=w,_=w.autoPlayKeyIndex%w.gameConfigure.width;e:do{if(null==_){v=0;break e}if(Ke.isNumber(_)){v=et(_);break e}if("string"==typeof _)try{var y=tt(_);v=y;break e}catch(e){if(Ke.isType(e,ta)){v=0;break e}throw e}v=0}while(0);var $,b=v,S=w.autoPlayKeyIndex/w.gameConfigure.width|0;e:do{if(null==S){$=0;break e}if(Ke.isNumber(S)){$=et(S);break e}if("string"==typeof S)try{var k=tt(S);$=k;break e}catch(e){if(Ke.isType(e,ta)){$=0;break e}throw e}$=0}while(0);g.addKeyInput_ydzd23$(b,$),w.autoPlayKeyIndex=w.autoPlayKeyIndex+1|0,w.autoPlayKeyIndex>=Ke.imul(w.gameConfigure.width,w.gameConfigure.height)&&(w.autoPlayKeyIndex=0)}}}else{if(1===w.gameConfigure.touchInputMode)return void w.cancelKeyInput_za3lpa$();w.onIdling=!1,!(w.showHintNow=!1)===w.processCheck()?(null!=(u=w.comboTimer)&&u.pause(),w.comboRestart=!0):0===w.gameConfigure.comboMode&&(null!=(c=w.comboTimer)&&c.pause(),w.comboRestart=!0)}}),this.onRegenAll=(o=this,function(e){var t,i;ue(e,"enter")&&null!=(t=o.view.screen)&&t.actionDelay_ab0iom$(o.gameConfigure.matchDelay,void 0,(i=o,function(){var e,t;return i.dropOffAllBlock(),null!=(e=i.view.screen)&&e.actionDelay_ab0iom$(.5,void 0,(t=i,function(){var e;return t.regenAllBlock_za3lpa$(-9),(t.gameValue.feverGage=0)<t.gameValue.feverLevel&&(t.gameValue.feverLevel=0,t.stopFever()),t.comboReset(),null!=(e=t.comboTimer)&&e.restart(),t.gameState.SetNextState_9sobi5$("running"),Ze})),Ze}))}),this.onNoMoreMove=(_=this,function(e){var t,i,r,o,n,a,s,l,h,u,c;if(!ue(e,"enter")&&!ue(e,"leave")){_.backupForSharing(),null!=(t=_.view.screen)&&t.removeAction_81ngrp$("BGM Fade"),0<ql().shared().GetVolume_61zpoe$("FeverBGM")&&ql().shared().BGMFadeOut_o5txl1$(Je(_.view.screen),"FeverBGM",0,.3),0<ql().shared().GetVolume_61zpoe$("TutorialBGM")&&ql().shared().BGMFadeOut_o5txl1$(Je(_.view.screen),"TutorialBGM",0,.3),null!=(i=_.view.screen)&&i.actionDelay_ab0iom$(.5,void 0,kc);var d=Ke.isType(r=_.view.findChildByName_3m52m6$("Pause Switch"),Kt)?r:null;null!=d&&d.SetEnable_6taknv$(!1),null!=(d=Ke.isType(o=_.view.findChildByName_3m52m6$("Abandon Button"),Kt)?o:null)&&d.SetEnable_6taknv$(!1),_.view.SetChildHorizontalAlign_jdpdm8$(lo()),_.view.SetChildVerticalAlign_qn2em6$(ro());var p=_.view.createSprite_9wuqyc$(160,240,jn(),"Resource/UI/Background",320,480,void 0,void 0,void 0,!1);p.SetAlpha_8ca0d4$(0),p.SetShow_6taknv$(!0);var f=_.view.createSprite_591x4d$(160,-40,jn().value+1,"Resource/UI/NOMOREMATCH",240);f.SetHorizontalAlign_jdpdm8$(lo()),f.SetVerticalAlign_qn2em6$(ro()),f.SetAlpha_8ca0d4$(1),null!=(n=_.view.screen)&&n.actionFadeIn_hkbjms$(p,void 0,.8,void 0,.3,void 0,void 0,void 0,wc),null!=(a=_.view.screen)&&a.actionFadeOut_7vo5wp$(f,void 0,3,.5),null!=(s=_.view.screen)&&s.actionFadeOut_7vo5wp$(p,.8,3,.5);var m,v,g=fn(0,10*_.view.sizeScale.yRatio,f.GetPosition().y,240*_.view.sizeScale.yRatio,.6);g.SetTimeMultiplier_mx4ult$(20),f.addUpdateCallback_sds54w$("Title",void 0,void 0,void 0,void 0,void 0,(m=g,v=f,function(e){m.update_mx4ult$(e.elapsed);var t=m.GetPosition();return v.SetPosition_dleff0$(v.GetPosition().x,t),!0})),_.isPausedOnlyForLogic=!0,null!=(l=_.gameTimer)&&l.pause(),null!=(h=_.comboTimer)&&h.pause(),null!=(u=_.feverTimer)&&u.pause(),null!=(c=_.blockDisableTimer)&&c.pause(),_.gameState.SetNextState_9sobi5$("confirmContinue",4)}}),this.onGameOver_4sel7f$_0=(v=this,function(e){var t,i,r,o,n,a,s,l,h,u,c;if(!ue(e,"enter")&&!ue(e,"leave")){if(!1===v.lastChanceFlag){!1===v.gameConfigure.regenNoMoreMove&&!1===v.gameConfigure.limitGameTime||(null!=(t=v.view.screen)&&t.removeAction_81ngrp$("BGM Fade"),0<ql().shared().GetVolume_61zpoe$("FeverBGM")&&ql().shared().BGMFadeOut_o5txl1$(Je(v.view.screen),"FeverBGM",0,.3),0<ql().shared().GetVolume_61zpoe$("TutorialBGM")&&ql().shared().BGMFadeOut_o5txl1$(Je(v.view.screen),"TutorialBGM",0,.3),null!=(i=v.view.screen)&&i.actionDelay_ab0iom$(.5,void 0,xc));var d=Ke.isType(r=v.view.findChildByName_3m52m6$("Pause Switch"),Kt)?r:null;null!=d&&d.SetEnable_6taknv$(!1),null!=(d=Ke.isType(o=v.view.findChildByName_3m52m6$("Abandon Button"),Kt)?o:null)&&d.SetEnable_6taknv$(!1),v.view.SetChildHorizontalAlign_jdpdm8$(lo()),v.view.SetChildVerticalAlign_qn2em6$(ro());var p=null;!1===v.gameConfigure.regenNoMoreMove&&!1===v.gameConfigure.limitGameTime||((p=v.view.createSprite_9wuqyc$(160,240,jn(),"Resource/UI/Background",320,480,void 0,void 0,void 0,!1)).SetAlpha_8ca0d4$(0),p.SetShow_6taknv$(!0),null!=(n=v.view.screen)&&n.actionFadeIn_hkbjms$(p,void 0,.8,void 0,.3));var f=v.view.createSprite_591x4d$(160,240,jn().value+1,"Resource/UI/GAMEOVER",200);return f.SetHorizontalAlign_jdpdm8$(lo()),f.SetVerticalAlign_qn2em6$(ro()),f.addUpdateCallback_sds54w$("Game Over",void 0,void 0,void 0,void 0,void 0,(m=f,function(e){return e.age<=1&&(m.SetAlpha_8ca0d4$(2*(e.age-.5)),m.SetScaleFromOriginal_mx4ult$(4-3*e.age)),!0})),null!=(a=v.view.screen)&&a.actionFadeOut_7vo5wp$(f,void 0,3,.5),null!=p&&null!=(s=v.view.screen)&&s.actionFadeOut_7vo5wp$(p,.8,3,.5),v.isPausedOnlyForLogic=!0,null!=(l=v.gameTimer)&&l.pause(),null!=(h=v.comboTimer)&&h.pause(),null!=(u=v.feverTimer)&&u.pause(),null!=(c=v.blockDisableTimer)&&c.pause(),void v.gameState.SetNextState_9sobi5$("confirmContinueForTimeAttack",4)}var m;v.backupForSharing(),v.boardList.clear(),!1===v.lastChanceFlag?v.gameState.SetNextState_9sobi5$("waitForStop",3):v.gameState.SetNextState_9sobi5$("waitForStop",1)}}),this.onConfirmContinue=(g=this,function(e){var t,i,r,o;if(ue(e,"enter")){var n=1;!1===za().shared().isRewardReady()&&(n=1);var a,s,l={v:Ke.imul(g.gameConfigure.needStarForContinue,g.continueByStar+1|0)};if((Lm().shared().GetStarAmount()<l.v||g.continueByStar>=n)&&(0<g.continueByVideo||!1===za().shared().isRewardReady())||2<=(g.continueByStar+g.continueByVideo|0))return null!=(t=g.blockDisableTimer)&&t.stop(),null!=(i=g.beginnerTimer)&&i.stop(),null!=(r=g.gameTimer)&&r.stop(),null!=(o=g.feverTimer)&&o.stop(),void g.gameState.SetNextState_9sobi5$("waitForStop");var c,d,h="  "+As("MENU_17")+"   ",u="";if(g.continueByStar>=n)h=a="";else if(Lm().shared().GetStarAmount()<l.v){var p,f=l.v;e:do{if(Ke.isNumber(f)){p=f.toString();break e}if("string"==typeof f){p=f;break e}if("boolean"==typeof f){p=f.toString();break e}if(Ke.isChar(f)){p=f.toString();break e}p=""}while(0);a="[Button Resource/UI/IconContinueDisabled 50 star false] [Scale 1.2]x "+p}else{var m,v=l.v;e:do{if(Ke.isNumber(v)){m=v.toString();break e}if("string"==typeof v){m=v;break e}if("boolean"==typeof v){m=v.toString();break e}if(Ke.isChar(v)){m=v.toString();break e}m=""}while(0);a="[Button Resource/UI/IconContinue 50 star] [Scale 1.2]x "+m,u="star"}0<g.continueByVideo||!1===za().shared().isRewardReady()?h=s="":(s="[Button Resource/UI/IconVideo 50 video]",ue(u,"")&&(u="video")),Xl().showNotice_z5sdl8$(g.view,As("MENU_16")+"\n\n\n"+a+h+s+"\n\n\n[Button Resource/UI/IconAbandon 50 no]",void 0,void 0,void 0,u,(c=g,d=l,function(e){var t,i,r,o,n,a,s,l;if(ue(e.GetName(),"star")){c.continueByStar=c.continueByStar+1|0,Lm().shared().decreaseStar_za3lpa$(d.v);var h=Ke.isType(t=c.view.findChildByName_3m52m6$("Star Amount"),ma)?t:null;null!=h&&h.clearText_gam257$(void 0,(l=h,function(){return l.addText_r4v59z$("[image Resource/UI/IconStar 20] "+Is(Lm().shared().GetStarAmount())),Ze})),Xl().closeNotice_mx4ult$(),c.continueGame()}else if(ue(e.GetName(),"video")){var u=za().shared().playRewarded_y8twos$((a=c,s=e,function(e){return!0===e?(Xl().closeNotice_mx4ult$(),a.continueByVideo=a.continueByVideo+1|0,a.continueGame()):s.SetEnable_6taknv$(!1),Ze}));!1===u&&e.SetEnable_6taknv$(!1)}else Xl().closeNotice_mx4ult$(.3),null!=(i=c.blockDisableTimer)&&i.stop(),null!=(r=c.beginnerTimer)&&r.stop(),null!=(o=c.gameTimer)&&o.stop(),null!=(n=c.feverTimer)&&n.stop(),c.gameState.SetNextState_9sobi5$("waitForStop")}))}}),this.onConfirmContinueForTimeAttack=(y=this,function(e){var t,i,r,o;if(ue(e,"enter")){var n=1;!1===za().shared().isRewardReady()&&(n=1);var a,s,l={v:Ke.imul(y.gameConfigure.needStarForContinue,y.continueByStar+1|0)};if((Lm().shared().GetStarAmount()<l.v||y.continueByStar>=n)&&(0<y.continueByVideo||!1===za().shared().isRewardReady())||2<=(y.continueByStar+y.continueByVideo|0))return null!=(t=y.blockDisableTimer)&&t.stop(),null!=(i=y.beginnerTimer)&&i.stop(),null!=(r=y.gameTimer)&&r.stop(),null!=(o=y.feverTimer)&&o.stop(),void y.gameState.SetNextState_9sobi5$("waitForStop");var c,d,h="  "+As("MENU_17")+"   ",u="";if(y.continueByStar>=n)h=a="";else if(Lm().shared().GetStarAmount()<l.v){var p,f=l.v;e:do{if(Ke.isNumber(f)){p=f.toString();break e}if("string"==typeof f){p=f;break e}if("boolean"==typeof f){p=f.toString();break e}if(Ke.isChar(f)){p=f.toString();break e}p=""}while(0);a="[Button Resource/UI/IconContinueDisabled 50 star false] [Scale 1.2]x "+p}else{var m,v=l.v;e:do{if(Ke.isNumber(v)){m=v.toString();break e}if("string"==typeof v){m=v;break e}if("boolean"==typeof v){m=v.toString();break e}if(Ke.isChar(v)){m=v.toString();break e}m=""}while(0);a="[Button Resource/UI/IconContinue 50 star] [Scale 1.2]x "+m,u="star"}0<y.continueByVideo||!1===za().shared().isRewardReady()?h=s="":(s="[Button Resource/UI/IconVideo 50 video]",ue(u,"")&&(u="video")),Xl().showNotice_z5sdl8$(y.view,As("MENU_21")+"\n\n\n"+a+h+s+"\n\n\n[Button Resource/UI/IconAbandon 50 no]",void 0,void 0,void 0,u,(c=y,d=l,function(e){var t,i,r,o,n,a,s,l;if(ue(e.GetName(),"star")){c.continueByStar=c.continueByStar+1|0,Lm().shared().decreaseStar_za3lpa$(d.v);var h=Ke.isType(t=c.view.findChildByName_3m52m6$("Star Amount"),ma)?t:null;null!=h&&h.clearText_gam257$(void 0,(l=h,function(){return l.addText_r4v59z$("[image Resource/UI/IconStar 20] "+Is(Lm().shared().GetStarAmount())),Ze})),Xl().closeNotice_mx4ult$(),c.continueGame()}else if(ue(e.GetName(),"video")){var u=za().shared().playRewarded_y8twos$((a=c,s=e,function(e){return!0===e?(Xl().closeNotice_mx4ult$(),a.continueByVideo=a.continueByVideo+1|0,a.continueGame()):s.SetEnable_6taknv$(!1),Ze}));!1===u&&e.SetEnable_6taknv$(!1)}else Xl().closeNotice_mx4ult$(.3),null!=(i=c.blockDisableTimer)&&i.stop(),null!=(r=c.beginnerTimer)&&r.stop(),null!=(o=c.gameTimer)&&o.stop(),null!=(n=c.feverTimer)&&n.stop(),c.gameState.SetNextState_9sobi5$("waitForStop")}))}}),this.onWaitForStop_ge8lbh$_0=(t=this,function(e){ue(e,"enter")||ue(e,"leave")||(t.boardGenerator.cancelFindNoMoreMatch(),t.gameState.SetNextState_9sobi5$("gameClose",0))}),this.onGameClose=(f=this,function(e){var t;if(ue(e,"enter")){f.masterTimer.stop(),f.stop();var i=iv(f);null!=(t=f.view.screen)&&t.presentView_xl35ob$(i);var r,o="",n=f.gameTimeElapsed;e:do{if(Ke.isNumber(n)){r=n.toString();break e}if("string"==typeof n){r=n;break e}if("boolean"==typeof n){r=n.toString();break e}if(Ke.isChar(n)){r=n.toString();break e}r=""}while(0);o+=r;var a,s=f.gameValue.score;e:do{if(Ke.isNumber(s)){a=s.toString();break e}if("string"==typeof s){a=s;break e}if("boolean"==typeof s){a=s.toString();break e}if(Ke.isChar(s)){a=s.toString();break e}a=""}while(0);o+=","+a;var l,h=f.gameValue.clickAllCount;e:do{if(Ke.isNumber(h)){l=h.toString();break e}if("string"==typeof h){l=h;break e}if("boolean"==typeof h){l=h.toString();break e}if(Ke.isChar(h)){l=h.toString();break e}l=""}while(0);o+=","+l;var u,c=f.gameValue.maxComboOnGame;e:do{if(Ke.isNumber(c)){u=c.toString();break e}if("string"==typeof c){u=c;break e}if("boolean"==typeof c){u=c.toString();break e}if(Ke.isChar(c)){u=c.toString();break e}u=""}while(0);o+=","+u;var d,p=f.gameValue.maxFeverOnGame;e:do{if(Ke.isNumber(p)){d=p.toString();break e}if("string"==typeof p){d=p;break e}if("boolean"==typeof p){d=p.toString();break e}if(Ke.isChar(p)){d=p.toString();break e}d=""}while(0);k(o+=","+d)}}),this.gameCancel=(n=this,function(){var e,t;null!=(e=n.view.screen)&&e.removeAction_81ngrp$("BGM Fade"),0<ql().shared().GetVolume_61zpoe$("FeverBGM")&&ql().shared().BGMFadeOut_o5txl1$(Je(n.view.screen),"FeverBGM",0,.3),0<ql().shared().GetVolume_61zpoe$("TutorialBGM")&&ql().shared().BGMFadeOut_o5txl1$(Je(n.view.screen),"TutorialBGM",0,.3),ql().shared().stop_61zpoe$("timer"),n.boardGenerator.cancelFindNoMoreMatch(),n.stop();var i=iv(n);null!=(t=n.view.screen)&&t.presentView_xl35ob$(i)}),this.update=(i=this,function(e){i.particleManager.updateObject_mx4ult$(e),i.particleManager.projection_1s1xds$(i.view.size,Gi(0,0*i.view.sizeScale.yRatio)),!1===i.isPaused&&i.gameState.update_mx4ult$(e),i.entityManager.update_mx4ult$(e),i.updateInfo()}),this.comboTimerUpdateCallback=(s=this,function(e){var t;0<s.comboTimeRemain&&(s.comboTimeRemain-=e,s.comboTimeRemain<=0&&(s.comboTimeRemain=0,s.showHintNow=!0,s.comboReset(),null!=(t=s.comboTimer)&&t.restart()))}),this.comboTimerRestartCallback=(h=this,function(){var t,e=h.gameConfigure.comboTiming,i=h.gameValue.combo;e:do{if(null==i){t=0;break e}if(Ke.isNumber(i)){t=it(i);break e}if("string"==typeof i)try{var r=Qe(i);t=r;break e}catch(e){if(Ke.isType(e,ta)){t=0;break e}throw e}t=0}while(0);var o=e-t*h.gameConfigure.comboTimingAdjust;o<h.gameConfigure.comboTimingLowest&&(o=h.gameConfigure.comboTimingLowest),h.comboTimeRemain=o}),this.feverTimerUpdateCallback=(u=this,function(e){0<u.feverTimeRemain&&(u.feverTimeRemain-=e,u.feverTimeRemain<=0&&0<u.gameValue.feverLevel&&(u.gameValue.feverGage=0,u.gameValue.feverLevel=0,u.stopFever()))}),this.feverTimerRestartCallback=(e=this,function(){e.feverTimeRemain=e.gameConfigure.feverTime,e.updateInfo()}),this.gameTimeUpdateCallback=(c=this,function(e){c.gameTimeElapsed+=e,c.gameRemainTime-=e,c.gameRemainTime<=0&&!(c.gameRemainTime=0)===c.gameConfigure.limitGameTime&&(c.gameOverFlag=!0)}),this.blockDisableTimeUpdateCallback=($=this,function(e){if($.blockDisableTimeRemain-=e,$.blockDisableTimeRemain<=0){if(!ue($.gameState.GetState(),"running"))return;var t,i=$.gameValue,r=$.gameConfigure.blockDisableTime,o=$.gameTimeElapsed;e:do{if(null==o){t=0;break e}if(Ke.isNumber(o)){t=et(o);break e}if("string"==typeof o)try{var n=tt(o);t=n;break e}catch(e){if(Ke.isType(e,ta)){t=0;break e}throw e}t=0}while(0);var a,s=t,l=$.gameConfigure.timeForAdjustBlockDisableTime;e:do{if(null==l){a=0;break e}if(Ke.isNumber(l)){a=et(l);break e}if("string"==typeof l)try{var h=tt(l);a=h;break e}catch(e){if(Ke.isType(e,ta)){a=0;break e}throw e}a=0}while(0);var u,c=s/a|0;e:do{if(null==c){u=0;break e}if(Ke.isNumber(c)){u=it(c);break e}if("string"==typeof c)try{var d=Qe(c);u=d;break e}catch(e){if(Ke.isType(e,ta)){u=0;break e}throw e}u=0}while(0);i.blockDisableTime=r-u*$.gameConfigure.adjustTimeForBlockDisableTime,$.gameValue.blockDisableTime<$.gameConfigure.minimumTimeForBlockDisableTime&&($.gameValue.blockDisableTime=$.gameConfigure.minimumTimeForBlockDisableTime);var p=$.GetClickedButton();if(-1!==p.first)return;for(;$.blockDisableTimeRemain<=0;){var f,m=$,v=$.gameValue.blockDisableTime;e:do{if(null==v){f=0;break e}if(Ke.isNumber(v)){f=it(v);break e}if("string"==typeof v)try{var g=Qe(v);f=g;break e}catch(e){if(Ke.isType(e,ta)){f=0;break e}throw e}f=0}while(0);m.blockDisableTimeRemain+=f,!0===$.gameConfigure.blockDisablePeriodically&&$.disableOneBlock()}}}),this.beginnerTimeUpdateCallback=(d=this,function(e){d.gameTimeElapsed+=e,d.gameTimeElapsed>=d.gameValue.gameTime&&(ql().shared().stop_61zpoe$("timer"),d.gameOverFlag=!0)}),this.blockDisableTimeRestartCallback=(S=this,function(){var t,e=S.gameValue,i=S.gameConfigure.blockDisableTime,r=S.gameTimeElapsed;e:do{if(null==r){t=0;break e}if(Ke.isNumber(r)){t=et(r);break e}if("string"==typeof r)try{var o=tt(r);t=o;break e}catch(e){if(Ke.isType(e,ta)){t=0;break e}throw e}t=0}while(0);var n,a=t,s=S.gameConfigure.timeForAdjustBlockDisableTime;e:do{if(null==s){n=0;break e}if(Ke.isNumber(s)){n=et(s);break e}if("string"==typeof s)try{var l=tt(s);n=l;break e}catch(e){if(Ke.isType(e,ta)){n=0;break e}throw e}n=0}while(0);var h,u=a/n|0;e:do{if(null==u){h=0;break e}if(Ke.isNumber(u)){h=it(u);break e}if("string"==typeof u)try{var c=Qe(u);h=c;break e}catch(e){if(Ke.isType(e,ta)){h=0;break e}throw e}h=0}while(0);e.blockDisableTime=i-h*S.gameConfigure.adjustTimeForBlockDisableTime,S.gameValue.blockDisableTime<S.gameConfigure.minimumTimeForBlockDisableTime&&(S.gameValue.blockDisableTime=S.gameConfigure.minimumTimeForBlockDisableTime);var d,p=S,f=S.gameValue.blockDisableTime;e:do{if(null==f){d=0;break e}if(Ke.isNumber(f)){d=it(f);break e}if("string"==typeof f)try{var m=Qe(f);d=m;break e}catch(e){if(Ke.isType(e,ta)){d=0;break e}throw e}d=0}while(0);p.blockDisableTimeRemain=d}),this.beginnerTimeRestartCallback=(p=this,function(){p.gameTimeElapsed=0;var t,e=p.gameValue,i=p.gameValue.gameTimeInitialValue,r=p.gameValue.score/p.gameConfigure.gameTimeAdjustPerScore|0;e:do{if(null==r){t=0;break e}if(Ke.isNumber(r)){t=et(r);break e}if("string"==typeof r)try{var o=tt(r);t=o;break e}catch(e){if(Ke.isType(e,ta)){t=0;break e}throw e}t=0}while(0);var n,a=t;e:do{if(null==a){n=0;break e}if(Ke.isNumber(a)){n=it(a);break e}if("string"==typeof a)try{var s=Qe(a);n=s;break e}catch(e){if(Ke.isType(e,ta)){n=0;break e}throw e}n=0}while(0);e.gameTime=i-n,p.gameValue.gameTime<2&&(p.gameValue.gameTime=2)})}Kl.prototype.increaseChainedTile_aatw4l$=function(e,t,i){var r,o=ol(this.width);r=o.length-1|0;for(var n=0;n<=r;n++){var a,s=new Int32Array(this.height);a=s.length-1|0;for(var l=0;l<=a;l++)s[l]=0;o[n]=s}var h,u=o,c=ol(this.width);h=c.length-1|0;for(var d=0;d<=h;d++){var p,f=rh(this.height,!1);p=f.length-1|0;for(var m=0;m<=p;m++)f[m]=!1;c[d]=f}var v=c;return this.increaseChainedTileRec_cpafc8$(u,e,t,i,e[t][i].first,v),v},Kl.prototype.increaseChainedTileRec_cpafc8$=function(e,t,i,r,o,n){r<0||r>=this.height||i<0||i>=this.width||1!==e[i][r]&&-(e[i][r]=1)!==t[i][r].first&&t[i][r].first===o&&(t[i][r]=new Le((t[i][r].first+1|0)%this.kindOfNumber,999),n[i][r]=!0,this.increaseChainedTileRec_cpafc8$(e,t,i,r-1|0,o,n),this.increaseChainedTileRec_cpafc8$(e,t,i+1|0,r,o,n),this.increaseChainedTileRec_cpafc8$(e,t,i,r+1|0,o,n),this.increaseChainedTileRec_cpafc8$(e,t,i-1|0,r,o,n))},Kl.prototype.checkComplete_9kzzq3$=function(e){var t,i,r,o,n,a=ol(this.width);n=a.length-1|0;for(var s=0;s<=n;s++){var l,h=new Int32Array(this.height);l=h.length-1|0;for(var u=0;u<=l;u++)h[u]=0;a[s]=h}this.clear=a;var c,d=!1,p=new Int32Array(this.width);c=p.length-1|0;for(var f=0;f<=c;f++)p[f]=0;var m,v,g=p;t=this.height-1|0;for(var _=0;_<=t;_++){m=-(v=1),i=this.width-1|0;for(var y=0;y<=i;y++)v=e[y][_].first===m&&-1!==e[y][_].first?v+1|0:1,g[y]=v,m=e[y][_].first;for(var $=this.width-1|0;0<=$;$--)if(g[$]>=this.minOfComplete)return d=!0}var b,S=new Int32Array(this.height);b=S.length-1|0;for(var k=0;k<=b;k++)S[k]=0;var w=S;r=this.width-1|0;for(var x=0;x<=r;x++){m=-(v=1),o=this.height-1|0;for(var C=0;C<=o;C++)v=e[x][C].first===m&&-1!==e[x][C].first?v+1|0:1,w[C]=v,m=e[x][C].first;for(var z=this.height-1|0;0<=z;z--)if(w[z]>=this.minOfComplete)return d=!0}return d},Kl.prototype.processDrop_klim6j$=function(e){var t,i,r;t=this.width-1|0;for(var o=0;o<=t;o++){i=this.height-1|0;for(var n=0;n<=i;n++)null!=e[o][n]?this.dropMap[o][n]=Je(e[o][n]).value:this.dropMap[o][n]=-1,this.newBlockMap[o][n]=-1}for(;!1===this.isAllLanded_ytlutl$(this.dropMap);)for(var a=this.height-1|0;0<=a;a--){r=this.width-1|0;for(var s=0;s<=r;s++)if(-1===this.dropMap[s][a]){var l=-1;0===a?l=-1:(l=this.dropMap[s][a-1|0],this.dropMap[s][a-1|0]=-1),this.dropMap[s][a]=l}}},Kl.prototype.isAllLanded_ytlutl$=function(e){var t,i;t=this.width-1|0;for(var r=0;r<=t;r++){i=this.height-2|0;for(var o=0;o<=i;o++)if(-1!==e[r][o]&&-1===e[r][o+1|0])return!1}return!0},Kl.prototype.makeMapForNewBlock_klim6j$=function(e){var t;this.processDrop_klim6j$(e),t=this.width-1|0;for(var i=0;i<=t;i++)for(var r=this.height-1|0;0<=r;r--)if(-1===this.dropMap[i][r]){var o,n=new Int32Array(this.kindOfNumber);o=n.length-1|0;for(var a=0;a<=o;a++)n[a]=0;var s=n;if(0<i){var l=this.dropMap[i-1|0][r];-1!==l&&l<this.kindOfNumber&&(s[l]=s[l]+1|0)}if(i<(this.width-1|0)){var h=this.dropMap[i+1|0][r];-1!==h&&h<this.kindOfNumber&&(s[h]=s[h]+1|0)}if(r<(this.height-1|0)){var u=this.dropMap[i][r+1|0];-1!==u&&u<this.kindOfNumber&&(s[u]=s[u]+1|0)}var c,d=go().arc4random_uniform_za3lpa$(this.kindOfNumber);e:do{if(null==d){c=0;break e}if(Ke.isNumber(d)){c=et(d);break e}if("string"==typeof d)try{c=tt(d);break e}catch(e){if(Ke.isType(e,ta)){c=0;break e}throw e}c=0}while(0);var p=c;if(go().arc4random_uniform_za3lpa$(100)<30)this.dropMap[i][r]=p,this.newBlockMap[i][r]=p;else for(var f=-1,m=0;;){if(0===s[m]&&(f=f+1|0),f===p){this.dropMap[i][r]=m,this.newBlockMap[i][r]=m;break}(m=m+1|0)>=this.kindOfNumber&&(m=0)}}},Kl.prototype.GetAvailableBlockOriginal_za3lpa$=function(e){for(var t=this.height-1|0;0<=t;t--)if(-1!==this.newBlockMap[e][t]){var i=this.newBlockMap[e][t];return this.newBlockMap[e][t]=-1,i}return-1},Kl.prototype.GetAvailableBlock_vux9f0$=function(e,t){var i,r,o,n,a=0,s=new Int32Array(this.kindOfNumber);n=s.length-1|0;for(var l=0;l<=n;l++)s[l]=0;var h,u=s,c=0,d=new Int32Array(this.kindOfNumber);h=d.length-1|0;for(var p=0;p<=h;p++)d[p]=0;var f=d,m=Je(Je(this.game).entityManager).GetList();for(i=0;i!==m.length;++i){var v=m[i],g=Ke.isType(r=v,ld)?r:null;null!=g&&(0===u[g.value]&&(a=a+1|0,u[g.value]=1),0===f[g.value]&&g.GetAttribute()!==Vd()&&(c=c+1|0,f[g.value]=1))}if(a<=2&&c<2&&0===go().arc4random_uniform_za3lpa$(3)){var _,y=this.kindOfNumber-c|0,$=go().arc4random_uniform_za3lpa$(y);e:do{if(null==$){_=0;break e}if(Ke.isNumber($)){_=et($);break e}if("string"==typeof $)try{_=tt($);break e}catch(e){if(Ke.isType(e,ta)){_=0;break e}throw e}_=0}while(0);var b=_,S=-1;o=this.kindOfNumber-1|0;for(var k=0;k<=o;k++)if(0===f[k]&&(S=S+1|0)===b)return k}var w,x=go().arc4random_uniform_za3lpa$(this.kindOfNumber);e:do{if(null==x){w=0;break e}if(Ke.isNumber(x)){w=et(x);break e}if("string"==typeof x)try{w=tt(x);break e}catch(e){if(Ke.isType(e,ta)){w=0;break e}throw e}w=0}while(0);return w},Kl.$metadata$={kind:o,simpleName:"BoardGenerator",interfaces:[]},Object.defineProperty(nh.prototype,"view",{get:function(){return null==this.view_c2zo2j$_0?T("view"):this.view_c2zo2j$_0},set:function(e){this.view_c2zo2j$_0=e}}),Object.defineProperty(nh.prototype,"particleManager",{get:function(){return null==this.particleManager_v8z4ir$_0?T("particleManager"):this.particleManager_v8z4ir$_0},set:function(e){this.particleManager_v8z4ir$_0=e}}),Object.defineProperty(nh.prototype,"gameState",{get:function(){return null==this.gameState_d7cpud$_0?T("gameState"):this.gameState_d7cpud$_0},set:function(e){this.gameState_d7cpud$_0=e}}),Object.defineProperty(nh.prototype,"masterTimer",{get:function(){return null==this.masterTimer_hq0vq1$_0?T("masterTimer"):this.masterTimer_hq0vq1$_0},set:function(e){this.masterTimer_hq0vq1$_0=e}}),Object.defineProperty(nh.prototype,"boardGenerator",{get:function(){return null==this.boardGenerator_epr2il$_0?T("boardGenerator"):this.boardGenerator_epr2il$_0},set:function(e){this.boardGenerator_epr2il$_0=e}}),Object.defineProperty(nh.prototype,"gameValue",{get:function(){return null==this.gameValue_c2gwc5$_0?T("gameValue"):this.gameValue_c2gwc5$_0},set:function(e){this.gameValue_c2gwc5$_0=e}}),Object.defineProperty(nh.prototype,"scheduledJobManager",{get:function(){return null==this.scheduledJobManager_2z1g5v$_0?T("scheduledJobManager"):this.scheduledJobManager_2z1g5v$_0},set:function(e){this.scheduledJobManager_2z1g5v$_0=e}}),Object.defineProperty(nh.prototype,"gameConfigure",{get:function(){return null==this.gameConfigure_i3ngcq$_0?T("gameConfigure"):this.gameConfigure_i3ngcq$_0},set:function(e){this.gameConfigure_i3ngcq$_0=e}}),Object.defineProperty(nh.prototype,"gameLogicUpdater",{get:function(){return null==this.gameLogicUpdater_q530j1$_0?T("gameLogicUpdater"):this.gameLogicUpdater_q530j1$_0},set:function(e){this.gameLogicUpdater_q530j1$_0=e}}),Object.defineProperty(nh.prototype,"comboTimer",{get:function(){return null==this.comboTimer_qhfmdp$_0?T("comboTimer"):this.comboTimer_qhfmdp$_0},set:function(e){this.comboTimer_qhfmdp$_0=e}}),Object.defineProperty(nh.prototype,"feverTimer",{get:function(){return null==this.feverTimer_8kmffb$_0?T("feverTimer"):this.feverTimer_8kmffb$_0},set:function(e){this.feverTimer_8kmffb$_0=e}}),Object.defineProperty(nh.prototype,"entityManager",{get:function(){return null==this.entityManager_f4f37k$_0?T("entityManager"):this.entityManager_f4f37k$_0},set:function(e){this.entityManager_f4f37k$_0=e}}),Object.defineProperty(nh.prototype,"map",{get:function(){return null==this.map_miog1a$_0?T("map"):this.map_miog1a$_0},set:function(e){this.map_miog1a$_0=e}}),Object.defineProperty(nh.prototype,"hintMap",{get:function(){return null==this.hintMap_qgymqz$_0?T("hintMap"):this.hintMap_qgymqz$_0},set:function(e){this.hintMap_qgymqz$_0=e}}),Object.defineProperty(nh.prototype,"clear",{get:function(){return null==this.clear_sddaxv$_0?T("clear"):this.clear_sddaxv$_0},set:function(e){this.clear_sddaxv$_0=e}}),Object.defineProperty(nh.prototype,"increaseCheck",{get:function(){return null==this.increaseCheck_f490rg$_0?T("increaseCheck"):this.increaseCheck_f490rg$_0},set:function(e){this.increaseCheck_f490rg$_0=e}}),Object.defineProperty(nh.prototype,"createColumn",{get:function(){return null==this.createColumn_8wqhbs$_0?T("createColumn"):this.createColumn_8wqhbs$_0},set:function(e){this.createColumn_8wqhbs$_0=e}}),Object.defineProperty(nh.prototype,"background",{get:function(){return null==this.background_6pzcos$_0?T("background"):this.background_6pzcos$_0},set:function(e){this.background_6pzcos$_0=e}}),Object.defineProperty(nh.prototype,"boardMask",{get:function(){return null==this.boardMask_56ytzs$_0?T("boardMask"):this.boardMask_56ytzs$_0},set:function(e){this.boardMask_56ytzs$_0=e}}),Object.defineProperty(nh.prototype,"feverTimerBar",{get:function(){return null==this.feverTimerBar_x11r14$_0?T("feverTimerBar"):this.feverTimerBar_x11r14$_0},set:function(e){this.feverTimerBar_x11r14$_0=e}}),Object.defineProperty(nh.prototype,"feverBackground",{get:function(){return null==this.feverBackground_w2xd2w$_0?T("feverBackground"):this.feverBackground_w2xd2w$_0},set:function(e){this.feverBackground_w2xd2w$_0=e}}),Object.defineProperty(nh.prototype,"mapBackup",{get:function(){return null==this.mapBackup_re831w$_0?T("mapBackup"):this.mapBackup_re831w$_0},set:function(e){this.mapBackup_re831w$_0=e}}),nh.prototype.initGameVariables=function(){var e;this.entityManager=_d(),this.gameState=new zc,this.gameValue=new Tc(this.gameConfigure);var t,i=this.gameValue,r=ol(this.gameConfigure.width);t=r.length-1|0;for(var o=0;o<=t;o++){var n,a=new Int32Array(this.gameConfigure.height);n=a.length-1|0;for(var s=0;s<=n;s++)a[s]=-1;r[o]=a}i.mapForSharing=r,this.gameValue.addTimeEveryFeverAmount=this.gameConfigure.addTimeEveryFeverAmount,this.scheduledJobManager=new Pc,this.keyInputIgnoreStart=!1,this.keyInputIgnoreEnd=0,this.gameOverFlag=!1,this.lastChanceFlag=!1;var l,h=new Int32Array(this.gameConfigure.width);l=h.length-1|0;for(var u=0;u<=l;u++)h[u]=0;this.createColumn=h;var c,d=ol(this.gameConfigure.width);c=d.length-1|0;for(var p=0;p<=c;p++){var f,m=ol(this.gameConfigure.height);f=m.length-1|0;for(var v=0;v<=f;v++)m[v]=null;d[p]=m}this.map=d;var g,_=ol(this.gameConfigure.width);g=_.length-1|0;for(var y=0;y<=g;y++){var $,b=new Int32Array(this.gameConfigure.height);$=b.length-1|0;for(var S=0;S<=$;S++)b[S]=-1;_[y]=b}this.mapBackup=_;var k,w=ol(this.gameConfigure.width);k=w.length-1|0;for(var x=0;x<=k;x++){var C,z=new Int32Array(this.gameConfigure.height);C=z.length-1|0;for(var T=0;T<=C;T++)z[T]=0;w[x]=z}this.increaseCheck=w;var A,G=ol(this.gameConfigure.width);A=G.length-1|0;for(var I=0;I<=A;I++){var N,O=new Int32Array(this.gameConfigure.height);N=O.length-1|0;for(var M=0;M<=N;M++)O[M]=0;G[I]=O}this.hintMap=G;var R,P=ol(this.gameConfigure.width);R=P.length-1|0;for(var j=0;j<=R;j++){var B,E=new Int32Array(this.gameConfigure.height);B=E.length-1|0;for(var L=0;L<=B;L++)E[L]=0;P[j]=E}this.clear=P;var F,D=.5*this.view.GetSize().width,V=this.gameConfigure.tileWidthResult,U=this.gameConfigure.width;e:do{if(null==U){F=0;break e}if(Ke.isNumber(U)){F=it(U);break e}if("string"==typeof U)try{F=Qe(U);break e}catch(e){if(Ke.isType(e,ta)){F=0;break e}throw e}F=0}while(0);var q,H=D-V*F*.5,W=this.gameConfigure.tileWidthResult,Y=this.gameConfigure.width;e:do{if(null==Y){q=0;break e}if(Ke.isNumber(Y)){q=it(Y);break e}if("string"==typeof Y)try{q=Qe(Y);break e}catch(e){if(Ke.isType(e,ta)){q=0;break e}throw e}q=0}while(0);var X,K=W*q,Z=this.gameConfigure.tileHeightResult,Q=this.gameConfigure.height;e:do{if(null==Q){X=0;break e}if(Ke.isNumber(Q)){X=it(Q);break e}if("string"==typeof Q)try{X=Qe(Q);break e}catch(e){if(Ke.isType(e,ta)){X=0;break e}throw e}X=0}while(0);this.boardRect=Di(H,0,K,Z*X),this.boardRect.y=(this.view.GetSize().height-this.boardRect.height)*this.gameConfigure.topMargin-this.bottomHeight*this.view.sizeScale.yRatio;var J=Ke.isType(e=hm().shared().GetItemInfo_61zpoe$(za().shared().GetCurrentBlockSetId()),Jf)?e:Ee();this.gameValue.blockInfo=J,this.gameValue.blockSet=J.resource;var ee=this.gameValue.blockInfo.GetAbility_61zpoe$("Basic Bonus");if(null!=ee){var te,ie=this.gameValue,re=ee.first;e:do{if(null==re){te=0;break e}if(Ke.isNumber(re)){te=it(re);break e}if("string"==typeof re)try{te=Qe(re);break e}catch(e){if(Ke.isType(e,ta)){te=0;break e}throw e}te=0}while(0);ie.basicBonus=te}this.gameRemainTime=this.gameConfigure.gameTime},nh.prototype.deinitGameVariables=function(){this.particleManager.clearParticlePool(),Je(this.entityManager).removeAll(),this.gameOverFlag=!1,this.lastChanceFlag=!1},nh.prototype.initAdditional=function(){var e,t,i;if(this.view.SetChildHorizontalAlign_jdpdm8$(lo()),this.view.SetChildVerticalAlign_qn2em6$(ro()),!1===pl().isWatchOS()){var r,o=this.gameConfigure.tileWidthResult,n=this.gameConfigure.tileHeightResult,a=Di(this.boardRect.x-this.gameConfigure.tileWidthResult,this.boardRect.y-this.gameConfigure.tileHeightResult-this.gameConfigure.topGaugeHeight,this.boardRect.width+2*this.gameConfigure.tileWidthResult,this.boardRect.height+2*this.gameConfigure.tileHeightResult+this.gameConfigure.topGaugeHeight+this.gameConfigure.bottomGaugeHeight),s=a.x,l=a.y,h=xn().value;e:do{if(null==h){r=0;break e}if(Ke.isNumber(h)){r=it(h);break e}if("string"==typeof h)try{r=Qe(h);break e}catch(e){if(Ke.isType(e,ta)){r=0;break e}throw e}r=0}while(0);var u=la(s,l,r,"Resource/UI/board_0",o,n);u.SetAlpha_8ca0d4$(.1),this.view.addChild_g5h3xp$(u);var c,d=a.x+o,p=a.y,f=xn().value;e:do{if(null==f){c=0;break e}if(Ke.isNumber(f)){c=it(f);break e}if("string"==typeof f)try{c=Qe(f);break e}catch(e){if(Ke.isType(e,ta)){c=0;break e}throw e}c=0}while(0);(u=la(d,p,c,"Resource/UI/board_1",a.width-2*o,n)).SetAlpha_8ca0d4$(.1),this.view.addChild_g5h3xp$(u);var m,v=a.x+a.width-o,g=a.y,_=xn().value;e:do{if(null==_){m=0;break e}if(Ke.isNumber(_)){m=it(_);break e}if("string"==typeof _)try{m=Qe(_);break e}catch(e){if(Ke.isType(e,ta)){m=0;break e}throw e}m=0}while(0);(u=la(v,g,m,"Resource/UI/board_2",o,n)).SetAlpha_8ca0d4$(.1),this.view.addChild_g5h3xp$(u);var y,$=a.x,b=a.y+n,S=xn().value;e:do{if(null==S){y=0;break e}if(Ke.isNumber(S)){y=it(S);break e}if("string"==typeof S)try{y=Qe(S);break e}catch(e){if(Ke.isType(e,ta)){y=0;break e}throw e}y=0}while(0);(u=la($,b,y,"Resource/UI/board_3",o,a.height-2*n)).SetAlpha_8ca0d4$(.1),this.view.addChild_g5h3xp$(u);var k,w=a.x+o,x=a.y+n,C=xn().value;e:do{if(null==C){k=0;break e}if(Ke.isNumber(C)){k=it(C);break e}if("string"==typeof C)try{k=Qe(C);break e}catch(e){if(Ke.isType(e,ta)){k=0;break e}throw e}k=0}while(0);(u=la(w,x,k,"Resource/UI/board_4",a.width-2*o,a.height-2*n)).SetAlpha_8ca0d4$(.1),this.view.addChild_g5h3xp$(u);var z,T=a.x+a.width-o,A=a.y+n,G=xn().value;e:do{if(null==G){z=0;break e}if(Ke.isNumber(G)){z=it(G);break e}if("string"==typeof G)try{z=Qe(G);break e}catch(e){if(Ke.isType(e,ta)){z=0;break e}throw e}z=0}while(0);(u=la(T,A,z,"Resource/UI/board_5",o,a.height-2*n)).SetAlpha_8ca0d4$(.1),this.view.addChild_g5h3xp$(u);var I,N=a.x,O=a.y+a.height-n,M=xn().value;e:do{if(null==M){I=0;break e}if(Ke.isNumber(M)){I=it(M);break e}if("string"==typeof M)try{I=Qe(M);break e}catch(e){if(Ke.isType(e,ta)){I=0;break e}throw e}I=0}while(0);(u=la(N,O,I,"Resource/UI/board_6",o,n)).SetAlpha_8ca0d4$(.1),this.view.addChild_g5h3xp$(u);var R,P=a.x+o,j=a.y+a.height-n,B=xn().value;e:do{if(null==B){R=0;break e}if(Ke.isNumber(B)){R=it(B);break e}if("string"==typeof B)try{R=Qe(B);break e}catch(e){if(Ke.isType(e,ta)){R=0;break e}throw e}R=0}while(0);(u=la(P,j,R,"Resource/UI/board_7",a.width-2*o,n)).SetAlpha_8ca0d4$(.1),this.view.addChild_g5h3xp$(u);var E,L=a.x+a.width-o,F=a.y+a.height-n,D=xn().value;e:do{if(null==D){E=0;break e}if(Ke.isNumber(D)){E=it(D);break e}if("string"==typeof D)try{E=Qe(D);break e}catch(e){if(Ke.isType(e,ta)){E=0;break e}throw e}E=0}while(0);(u=la(L,F,E,"Resource/UI/board_8",o,n)).SetAlpha_8ca0d4$(.1),this.view.addChild_g5h3xp$(u)}var V=Ke.isType(e=this.gameValue.blockInfo,Jf)?e:null;t=this.gameConfigure.width-1|0;for(var U=0;U<=t;U++){i=this.gameConfigure.height-1|0;for(var q=0;q<=i;q++){var H,W=this.boardRect.x;e:do{if(null==U){H=0;break e}if(Ke.isNumber(U)){H=it(U);break e}if("string"==typeof U)try{H=Qe(U);break e}catch(e){if(Ke.isType(e,ta)){H=0;break e}throw e}H=0}while(0);var Y,X=W+H*this.gameConfigure.tileWidthResult+.5*this.gameConfigure.tileWidthResult,K=this.boardRect.y;e:do{if(null==q){Y=0;break e}if(Ke.isNumber(q)){Y=it(q);break e}if("string"==typeof q)try{Y=Qe(q);break e}catch(e){if(Ke.isType(e,ta)){Y=0;break e}throw e}Y=0}while(0);var Z,Q=K+Y*this.gameConfigure.tileHeightResult+.5*this.gameConfigure.tileHeightResult,J=Cn().value;e:do{if(null==J){Z=0;break e}if(Ke.isNumber(J)){Z=it(J);break e}if("string"==typeof J)try{Z=Qe(J);break e}catch(e){if(Ke.isType(e,ta)){Z=0;break e}throw e}Z=0}while(0);var ee=la(X,Q,Z,(null!=V?V.resource:null)+"board_tile",this.gameConfigure.tileWidth,this.gameConfigure.tileHeight);ee.SetAlpha_8ca0d4$(.8),ee.SetHorizontalAlign_jdpdm8$(lo()),ee.SetVerticalAlign_qn2em6$(ro()),this.view.addChild_g5h3xp$(ee),this.boardList.add_11rb$(ee)}}var te,ie=this.boardRect.x,re=this.boardRect.y,oe=Tn().value;e:do{if(null==oe){te=0;break e}if(Ke.isNumber(oe)){te=it(oe);break e}if("string"==typeof oe)try{te=Qe(oe);break e}catch(e){if(Ke.isType(e,ta)){te=0;break e}throw e}te=0}while(0);var ne=Kr(ie,re,te,"Resource/UI/board_mask",this.boardRect.width,this.boardRect.height);ne.SetVerticalAlign_qn2em6$(io()),ne.SetHorizontalAlign_jdpdm8$(so()),this.view.addChild_g5h3xp$(ne),this.view.SetMask_g5i0xv$(ne),!1===pl().isWatchOS()?this.createMainScore():Ie().shared().SetTitle_61zpoe$("0"),!0!==this.gameConfigure.limitGameTime&&!0!==this.gameConfigure.blockDisablePeriodically&&!0!==this.gameConfigure.resetTimeEveryClear||this.createTimeBar(),this.createFeverGage(),1<=this.quality&&this.createBackgroundEffect()},nh.prototype.initGame_g5c4ga$=function(e){var t,i,s;this.initializeDone=!1,this.view=e,this.initGameVariables(),this.initMasterTimer(),this.view.addUpdateCallback_sds54w$("Master Timer",void 0,void 0,void 0,void 0,void 0,this.masterTimer.update),this.initFeverTimer(),this.initComboTimer(),!0===this.gameConfigure.resetTimeEveryClear?this.initBeginnerTimer():this.initGameTimer(),!0===this.gameConfigure.blockDisablePeriodically&&this.initBlockDisableTimer(),this.gameState.addOnUpdateCallback_bodv9c$("ready",this.onReady),this.gameState.addOnUpdateCallback_bodv9c$("timerStart",this.onTimerStart),this.gameState.addOnUpdateCallback_bodv9c$("timerRestart",this.onTimerRestart),this.gameState.addOnUpdateCallback_bodv9c$("running",this.onRunning),this.gameState.addOnUpdateCallback_bodv9c$("regenAll",this.onRegenAll),this.gameState.addOnUpdateCallback_bodv9c$("noMoreMove",this.onNoMoreMove),this.gameState.addOnUpdateCallback_bodv9c$("confirmContinue",this.onConfirmContinue),this.gameState.addOnUpdateCallback_bodv9c$("confirmContinueForTimeAttack",this.onConfirmContinueForTimeAttack),this.gameState.addOnUpdateCallback_bodv9c$("gameOver",this.onGameOver),this.gameState.addOnUpdateCallback_bodv9c$("gameClose",this.onGameClose),this.gameState.addOnUpdateCallback_bodv9c$("waitForStop",this.onWaitForStop),this.gameLogicUpdater=new Ac(0,0,this.gameConfigure.gameUpdateInterval,0,"Game Logic"),null!=(t=this.gameLogicUpdater)&&t.SetUpdateCallback_d6xl6w$(this.update),this.scheduledJobManager.addJob_5h0cc$(Je(this.gameLogicUpdater)),this.view.addTouchListener_dal58m$(new Ct("For Game",this.boardRect.x,this.boardRect.y,this.boardRect.width,this.boardRect.height,void 0,this.touchListener)),3===this.gameConfigure.width&&3===this.gameConfigure.height&&null!=(i=this.view.screen)&&i.addKeydownListener_5ol7k9$("Game Key Input",(s=this,function(e){if(e>=Bt().NUMPAD_1&&e<=Bt().NUMPAD_9){var t=e-145|0,i=t%3,r=2-(t/3|0)|0;return s.pressPos=new Le(i,r),null!=s.map[i][r]&&s.addKeyInput_ydzd23$(i,r),s.pressPos=new Le(-1,-1),!0}var o;switch(e){case 49:o=0;break;case 37:o=1;break;case 43:o=2;break;case 38:o=3;break;case 39:o=4;break;case 40:o=5;break;case 41:o=6;break;case 55:o=7;break;case 56:o=8;break;default:return!1}var n=o%3,a=o/3|0;return s.pressPos=new Le(n,a),null!=s.map[n][a]&&s.addKeyInput_ydzd23$(n,a),s.pressPos=new Le(-1,-1),!0})),this.initAdditional(),this.particleManager=cn(this.view);var r,o=200*pl().GetPerformance();e:do{if(null==o){r=0;break e}if(Ke.isNumber(o)){r=et(o);break e}if("string"==typeof o)try{r=tt(o);break e}catch(e){if(Ke.isType(e,ta)){r=0;break e}throw e}r=0}while(0);var n=r;this.particleManager.SetMaxParticle_za3lpa$(n);var a=ko(20,Gi(0,0,-100),Gi(0,0,0),Gi(0,0,0),90,1600,200,50);a.projection=1,this.particleManager.SetCamera_s6wt6e$(a)},nh.prototype.deinitGame=function(){this.deinitGameVariables()},nh.prototype.start=function(){var e,t,i;this.masterTimer.start(),null!=(e=this.gameLogicUpdater)&&e.start(),this.gameState.SetNextState_9sobi5$("ready"),this.cancelKeyInput_za3lpa$(),this.initializeDone=!0,null!=(t=this.view.screen)&&t.addKeydownListener_5ol7k9$("Back Key",(i=this,function(e){var t;return!(e!==Bt().ESCAPE&&e!==Bt().BACK||!ue(i.gameState.GetState(),"running")||!0===i.isPaused||((Ke.isType(t=i.view,rv)?t:Ee()).showExitPopup(),0))}))},nh.prototype.stop=function(){var e;this.masterTimer.stop(),null!=(e=this.gameLogicUpdater)&&e.stop()},nh.prototype.backupForSharing=function(){var e,t,i,r,o,n,a;e=this.gameConfigure.width-1|0;for(var s=0;s<=e;s++){t=this.gameConfigure.height-1|0;for(var l=0;l<=t;l++){this.gameValue.mapForSharing[s][l]=Je(this.map[s][l]).value;var h=this.map[s][l];if(Ke.isType(h,ld))(Ke.isType(i=h,ld)?i:Ee()).GetAttribute()===Vd()&&((r=this.gameValue.mapForSharing[s])[l]=r[l]+1e4|0);else if(Ke.isType(h,Pd))!0===(Ke.isType(o=h,Pd)?o:Ee()).isStone&&((n=this.gameValue.mapForSharing[s])[l]=n[l]+1e4|0);else if(Ke.isType(h,Gd)){var u;(a=this.gameValue.mapForSharing[s])[l]=a[l]+(1e5*(Ke.isType(u=h,Gd)?u:Ee()).subValue|0)|0}}}},nh.prototype.takeSnapshot=function(){var e,t,i,r,o,n,a;this.scoreBackup=this.gameValue.score,this.maxComboBackup=this.gameValue.maxComboOnGame,this.maxFeverBackup=this.gameValue.maxFeverOnGame,this.clearedObstacleBackup=this.gameValue.clearedObstacleSum,this.nirvanaCountBackup=this.nirvanaCount,this.playingTimeBackup=this.gameValue.playingTime,e=this.gameConfigure.width-1|0;for(var s=0;s<=e;s++){t=this.gameConfigure.height-1|0;for(var l=0;l<=t;l++){this.mapBackup[s][l]=Je(this.map[s][l]).value;var h=this.map[s][l];if(Ke.isType(h,ld))(Ke.isType(i=h,ld)?i:Ee()).GetAttribute()===Vd()&&((r=this.mapBackup[s])[l]=r[l]+1e4|0);else if(Ke.isType(h,Pd))!0===(Ke.isType(o=h,Pd)?o:Ee()).isStone&&((n=this.mapBackup[s])[l]=n[l]+1e4|0);else if(Ke.isType(h,Gd)){var u;(a=this.mapBackup[s])[l]=a[l]+(1e5*(Ke.isType(u=h,Gd)?u:Ee()).subValue|0)|0}}}},nh.prototype.saveSnapshot=function(){var e,t;zf().SetInteger_rjan26$("Snapshot_Score",void 0,this.scoreBackup),zf().SetInteger_rjan26$("Snapshot_Combo",void 0,this.maxComboBackup),zf().SetInteger_rjan26$("Snapshot_Fever",void 0,this.maxFeverBackup),zf().SetInteger_rjan26$("Snapshot_Ghost",void 0,this.clearedObstacleBackup),zf().SetInteger_rjan26$("Snapshot_Nirvana",void 0,this.nirvanaCountBackup),zf().SetFloat_whnl05$("Snapshot_PlayingTime",void 0,this.playingTimeBackup),zf().SetInteger_rjan26$("Snapshot_ContinueStar",void 0,this.continueByStar),zf().SetInteger_rjan26$("Snapshot_ContinueVideo",void 0,this.continueByVideo);try{e=this.gameConfigure.width-1|0;for(var i=0;i<=e;i++){t=this.gameConfigure.height-1|0;for(var r=0;r<=t;r++){var o,n=zf();e:do{if(Ke.isNumber(i)){o=i.toString();break e}if("string"==typeof i){o=i;break e}if("boolean"==typeof i){o=i.toString();break e}if(Ke.isChar(i)){o=i.toString();break e}o=""}while(0);var a,s="Snapshot_Map_"+o+"_";e:do{if(Ke.isNumber(r)){a=r.toString();break e}if("string"==typeof r){a=r;break e}if("boolean"==typeof r){a=r.toString();break e}if(Ke.isChar(r)){a=r.toString();break e}a=""}while(0);n.SetInteger_rjan26$(s+a,void 0,this.mapBackup[i][r])}}}catch(e){if(Ke.isType(e,Y))return k("saveSnapshot failed"),!1;throw e}return!0},nh.prototype.restoreSnapshot=function(){var e,t,i;this.gameValue.score=zf().GetInteger_rjan26$("Snapshot_Score"),this.gameValue.maxComboOnGame=zf().GetInteger_rjan26$("Snapshot_Combo"),this.gameValue.maxFeverOnGame=zf().GetInteger_rjan26$("Snapshot_Fever"),this.gameValue.clearedObstacleSum=zf().GetInteger_rjan26$("Snapshot_Ghost"),this.nirvanaCount=zf().GetInteger_rjan26$("Snapshot_Nirvana"),this.gameValue.playingTime=zf().GetFloat_whnl05$("Snapshot_PlayingTime"),this.gameTimeElapsed=this.gameValue.playingTime,this.continueByStar=zf().GetInteger_rjan26$("Snapshot_ContinueStar"),this.continueByVideo=zf().GetInteger_rjan26$("Snapshot_ContinueVideo");var r,o,n=Ke.isType(e=this.view.findChildByName_3m52m6$("Ghost Amount"),ma)?e:null;null!=n&&n.clearText_gam257$(void 0,(r=n,o=this,function(){return r.addText_r4v59z$("[Color][Image Ghost_white 35][Scale 0.6]X[Scale] [Color 35BEC1]"+Is(o.gameValue.clearedObstacleSum)),Ze})),t=this.gameConfigure.width-1|0;for(var a=0;a<=t;a++){i=this.gameConfigure.height-1|0;for(var s=0;s<=i;s++){var l,h=zf();e:do{if(Ke.isNumber(a)){l=a.toString();break e}if("string"==typeof a){l=a;break e}if("boolean"==typeof a){l=a.toString();break e}if(Ke.isChar(a)){l=a.toString();break e}l=""}while(0);var u,c="Snapshot_Map_"+l+"_";e:do{if(Ke.isNumber(s)){u=s.toString();break e}if("string"==typeof s){u=s;break e}if("boolean"==typeof s){u=s.toString();break e}if(Ke.isChar(s)){u=s.toString();break e}u=""}while(0);var d=h.GetInteger_rjan26$(c+u),p=this.entityManager.createBlock_mwco6a$(this,d%1e5,d/1e5|0,a,s);this.map[a][s]=p,this.hintMap[a][s]=0,this.clear[a][s]=0}}},nh.prototype.GetPlayerRecord=function(){return null==this.playerRecord&&(this.playerRecord=km().shared().GetRecord_61zpoe$(this.gameConfigure.modeString)),Je(this.playerRecord)},nh.prototype.initMasterTimer=function(){this.masterTimer=xt(0,this.scheduledJobManager.update),this.masterTimer.remain=-1,this.masterTimer.increase=!0,this.masterTimer.state=$t()},nh.prototype.initComboTimer=function(){var e,t;this.comboTimer=new Ac(0,0,this.gameConfigure.comboTimerInterval,0),null!=(e=this.comboTimer)&&e.SetUpdateCallback_d6xl6w$(this.comboTimerUpdateCallback),null!=(t=this.comboTimer)&&t.SetRestartCallback_o14v8n$(this.comboTimerRestartCallback),this.comboTimeRemain=this.gameConfigure.comboTiming,this.scheduledJobManager.addJob_5h0cc$(Je(this.comboTimer))},nh.prototype.initFeverTimer=function(){var e,t;this.feverTimer=new Ac(0,0,this.gameConfigure.feverTimerInterval,0),null!=(e=this.feverTimer)&&e.SetUpdateCallback_d6xl6w$(this.feverTimerUpdateCallback),null!=(t=this.feverTimer)&&t.SetRestartCallback_o14v8n$(this.feverTimerRestartCallback),this.feverTimeRemain=this.gameConfigure.feverTime,this.scheduledJobManager.addJob_5h0cc$(Je(this.feverTimer))},nh.prototype.initBlockDisableTimer=function(){var e,t;this.blockDisableTimer=new Ac(0,0,this.gameConfigure.blockDisableTimerInterval,0),null!=(e=this.blockDisableTimer)&&e.SetUpdateCallback_d6xl6w$(this.blockDisableTimeUpdateCallback),null!=(t=this.blockDisableTimer)&&t.SetRestartCallback_o14v8n$(this.blockDisableTimeRestartCallback);var i,r=this.gameConfigure.blockDisableTime;e:do{if(null==r){i=0;break e}if(Ke.isNumber(r)){i=it(r);break e}if("string"==typeof r)try{i=Qe(r);break e}catch(e){if(Ke.isType(e,ta)){i=0;break e}throw e}i=0}while(0);this.blockDisableTimeRemain=i,this.scheduledJobManager.addJob_5h0cc$(Je(this.blockDisableTimer))},nh.prototype.initGameTimer=function(){var e;this.gameTimer=new Ac(0,0,this.gameConfigure.gameTimerInterval,0),null!=(e=this.gameTimer)&&e.SetUpdateCallback_d6xl6w$(this.gameTimeUpdateCallback),this.gameTimeElapsed=0,this.scheduledJobManager.addJob_5h0cc$(Je(this.gameTimer))},nh.prototype.initBeginnerTimer=function(){var e,t;this.beginnerTimer=new Ac(0,0,this.gameConfigure.blockDisableTimerInterval,0),null!=(e=this.beginnerTimer)&&e.SetUpdateCallback_d6xl6w$(this.beginnerTimeUpdateCallback),null!=(t=this.beginnerTimer)&&t.SetRestartCallback_o14v8n$(this.beginnerTimeRestartCallback),this.gameTimeElapsed=0,this.scheduledJobManager.addJob_5h0cc$(Je(this.beginnerTimer))},nh.prototype.checkComplete=function(){var e,t,i,r,o,n,a,s,l,h,u,c=!1,d=ol(this.gameConfigure.width);u=d.length-1|0;for(var p=0;p<=u;p++){var f,m=new Int32Array(this.gameConfigure.height);f=m.length-1|0;for(var v=0;v<=f;v++)m[v]=0;d[p]=m}this.clear=d;var g,_,y,$=!1,b=ol(this.gameConfigure.width);y=b.length-1|0;for(var S=0;S<=y;S++){var k,w=new Int32Array(this.gameConfigure.height);k=w.length-1|0;for(var x=0;x<=k;x++)w[x]=0;b[S]=w}var C=b;e=this.gameConfigure.height-1|0;for(var z=0;z<=e;z++){g=-(_=1),t=this.gameConfigure.width-1|0;for(var T=0;T<=t;T++){var A=Ke.isType(i=this.map[T][z],ld)?i:null;if(null!=A)if(ue(A.GetBlockState(),"wait")){if(!1===A.isMatchCheckable()){g=-(_=1);continue}!0===A.needCheck&&0===A.needCheckReason&&(c=!0),A.needCheck=!1,_=A.value===g?_+1|0:1,C[T][z]=_,g=A.value}else g=-(_=1);else{var G=Ke.isType(r=this.map[T][z],Ed)?r:null;null!=G&&(G.needCheck=!1),g=-(_=1)}}for(var I=this.gameConfigure.width-1|0;0<=I;)if(C[I][z]>=this.gameConfigure.minOfComplete){$=!0,o=C[I][z]-1|0;for(var N=0;N<=o;N++)this.clear[I-N|0][z]=C[I][z];I=I-C[I][z]|0}else I=I-1|0}n=this.gameConfigure.width-1|0;for(var O=0;O<=n;O++){g=-(_=1),a=this.gameConfigure.height-1|0;for(var M=0;M<=a;M++){var R=Ke.isType(s=this.map[O][M],ld)?s:null;if(null!=R)if(ue(R.GetBlockState(),"wait")){if(!1===R.isMatchCheckable()){g=-(_=1);continue}!0===R.needCheck&&0===R.needCheckReason&&(c=!0),R.needCheck=!1,_=R.value===g?_+1|0:1,C[O][M]=_,g=R.value}else g=-(_=1);else{var P=Ke.isType(l=this.map[O][M],Ed)?l:null;null!=P&&(P.needCheck=!1),g=-(_=1)}}for(var j=this.gameConfigure.height-1|0;0<=j;)if(C[O][j]>=this.gameConfigure.minOfComplete){$=!0,h=C[O][j]-1|0;for(var B=0;B<=h;B++)this.clear[O][j-B|0]=C[O][j];j=j-C[O][j]|0}else j=j-1|0}return!0===c&&!0===$&&this.resetAllDelayedBlock(),$},nh.prototype.resetAllDelayedBlock=function(){var e,t,i=this.entityManager.GetList();for(e=0;e!==i.length;++e){var r=i[e],o=Ke.isType(t=r,ld)?t:null;null!=o&&0===o.needCheckReason&&(o.needCheckReason=-1)}},nh.prototype.GetScorePerBlock_za3lpa$=function(e){return e<this.gameConfigure.scorePerBlock.length?this.gameConfigure.scorePerBlock[e]:this.gameConfigure.scorePerBlock[this.gameConfigure.scorePerBlock.length-1|0]},nh.prototype.GetScoreMultiplierPerCombo_za3lpa$=function(e){return e<this.gameConfigure.scoreMultiplierPerCombo.length?this.gameConfigure.scoreMultiplierPerCombo[e]:this.gameConfigure.scoreMultiplierPerCombo[this.gameConfigure.scoreMultiplierPerCombo.length-1|0]},nh.prototype.GetScoreMultiplierPerFever_za3lpa$=function(e){return e<this.gameConfigure.scoreMultiplierPerFever.length?this.gameConfigure.scoreMultiplierPerFever[e]:this.gameConfigure.scoreMultiplierPerFever[this.gameConfigure.scoreMultiplierPerFever.length-1|0]};var ah=Ke.kotlin.math.round_14dthe$;function sh(e){return function(){return Je(e.sprite).SetAlpha_8ca0d4$(1),Ze}}function lh(e){return function(){return e.addText_r4v59z$("[image Resource/UI/IconStar 20] "+Is(Lm().shared().GetStarAmount())),Ze}}nh.prototype.calcScore_za3lpa$=function(e){var t,i=this.GetScorePerBlock_za3lpa$(e);e:do{if(null==i){t=0;break e}if(Ke.isNumber(i)){t=it(i);break e}if("string"==typeof i)try{t=Qe(i);break e}catch(e){if(Ke.isType(e,ta)){t=0;break e}throw e}t=0}while(0);var r,o=t*this.gameValue.basicBonus;e:do{if(null==o){r=0;break e}if(Ke.isNumber(o)){r=et(o);break e}if("string"==typeof o)try{r=tt(o);break e}catch(e){if(Ke.isType(e,ta)){r=0;break e}throw e}r=0}while(0);var n,a=r,s=this.GetScoreMultiplierPerCombo_za3lpa$(this.gameValue.combo)*this.GetScoreMultiplierPerFever_za3lpa$(this.gameValue.feverLevel);e:do{if(null==a){n=0;break e}if(Ke.isNumber(a)){n=it(a);break e}if("string"==typeof a)try{n=Qe(a);break e}catch(e){if(Ke.isType(e,ta)){n=0;break e}throw e}n=0}while(0);var l,h=n,u=this.comboSeedScore;e:do{if(null==u){l=0;break e}if(Ke.isNumber(u)){l=it(u);break e}if("string"==typeof u)try{l=Qe(u);break e}catch(e){if(Ke.isType(e,ta)){l=0;break e}throw e}l=0}while(0);var c,d=ah((h+l*this.comboSeedFactor)*s);e:do{if(null==d){c=0;break e}if(Ke.isNumber(d)){c=et(d);break e}if("string"==typeof d)try{c=tt(d);break e}catch(e){if(Ke.isType(e,ta)){c=0;break e}throw e}c=0}while(0);var p=c,f=Ke.imul(p,e);return 0===this.gameValue.combo&&(this.comboSeedScore=f),new Le(p,f)},nh.prototype.increaseFeverGage_8ca0d4$=function(e,t){var i,r;void 0===t&&(t=!0),!0===this.gameOverFlag&&!1===this.gameConfigure.allowFeverGaugeIncreasementAfterGameOver||(this.gameValue.feverGage=this.gameValue.feverGage+e,100<=this.gameValue.feverGage&&((i=this.gameValue).feverLevel=i.feverLevel+1|0,this.startFever_za3lpa$(this.gameValue.feverLevel),this.gameValue.feverLevel>this.gameValue.maxFeverOnGame&&(this.gameValue.maxFeverOnGame=this.gameValue.feverLevel),!0===t?this.gameValue.feverGage=0:(this.gameValue.feverGage=this.gameValue.feverGage-100,this.gameValue.feverGage<0&&(this.gameValue.feverGage=0),this.gameValue.feverGage=this.gameValue.feverGage%100),null!=(r=this.feverTimer)&&r.restart()))},nh.prototype.startFever_za3lpa$=function(e){var t,i;if(this.createFeverMark(),!0===this.gameConfigure.addTimeEveryFever&&!1===this.gameOverFlag){this.gameRemainTime+=this.gameValue.addTimeEveryFeverAmount,this.gameRemainTime>this.gameValue.gameTimeInitialValue&&(this.gameRemainTime=this.gameValue.gameTimeInitialValue);var r,o=.5*this.view.size.width;e:do{if(null==o){r=0;break e}if(Ke.isNumber(o)){r=it(o);break e}if("string"==typeof o)try{r=Qe(o);break e}catch(e){if(Ke.isType(e,ta)){r=0;break e}throw e}r=0}while(0);var n=Gi(r,this.boardRect.y+this.boardRect.height+this.gameConfigure.tileHeightGap+.5*this.gameConfigure.bottomGaugeHeight),a=this.view.findChildByName_3m52m6$("Timer Label");null!=a&&(n.x=n.x+.5*a.GetSize().width),this.createTimePlus_4tzqwv$(n,this.gameValue.addTimeEveryFeverAmount),10<this.gameRemainTime&&(ql().shared().stop_61zpoe$("timer"),this.timerSoundFired=!1),this.gameValue.addTimeEveryFeverAmount=this.gameValue.addTimeEveryFeverAmount*this.gameConfigure.addTimeEveryFeverAmountAdjust,this.gameValue.addTimeEveryFeverAmount<this.gameConfigure.addTimeEveryFeverAmountMinimum&&(this.gameValue.addTimeEveryFeverAmount=this.gameConfigure.addTimeEveryFeverAmountMinimum)}var s=this.gameConfigure.GetStarPerFever_za3lpa$(e);Lm().shared().addStar_za3lpa$(s),(t=this.gameValue).earnedStar=t.earnedStar+s|0;var l,h=Ke.isType(i=this.view.findChildByName_3m52m6$("Star Amount"),ma)?i:null;null!=h&&h.clearText_gam257$(void 0,(l=h,function(){return l.addText_r4v59z$("[image Resource/UI/IconStar 20] "+Is(Lm().shared().GetStarAmount())),Ze}))},nh.prototype.stopFever=function(){};var hh=Ke.kotlin.collections.copyToArray;function uh(e,t){return function(){return e.isPaused=!0,e.showNirvanaEffect_kj86xc$(hh(t.v)),Ze}}function ch(h,u,c,d,p,f){return function(){var e,t;if(null!=h.gameValue){if(h.createScore_l4u1g4$(u,c.second),h.gameValue.combo<1)ql().shared().playEffect_bm4lxs$("feverPop0");else{var i=1+((h.gameValue.combo-1|0)/5|0)|0;5<i&&(i=5);var r,o=ql().shared(),n=i;e:do{if(Ke.isNumber(n)){r=n.toString();break e}if("string"==typeof n){r=n;break e}if("boolean"==typeof n){r=n.toString();break e}if(Ke.isChar(n)){r=n.toString();break e}r=""}while(0);o.playEffect_bm4lxs$("feverPop"+r)}var a,s,l;h.gameValue.lastEarnedScore=h.gameValue.lastEarnedScore+c.second|0,h.gameValue.score=h.gameValue.score+c.second|0,Ie().shared().SetTitle_61zpoe$(Is(h.gameValue.score)),!0===d.v?null!=(e=h.view.screen)&&e.actionDelay_ab0iom$(p.v,h.view,(l=h,function(){return l.increaseFeverGage_8ca0d4$(100,!1),l.isPaused=!1,Ze})):null!=(t=h.view.screen)&&t.actionDelay_ab0iom$(p.v,h.view,(a=h,s=f,function(){return null!=a.gameValue&&a.increaseFeverGage_8ca0d4$(a.GetFeverGagePerBlock_za3lpa$(s)+a.GetFeverGageBonusPerCombo_za3lpa$(a.gameValue.combo)),Ze}))}}}function dh(e){return function(){return e.explode_nhq4am$(),Ze}}function ph(){return ql().shared().playEffect_bm4lxs$("pop9"),Ze}function fh(e){return e.GetScreenY()}function mh(e){return e.GetScreenX()}function vh(d,p,f,m){return function(){var t,e=d.GetRealScreenX(),i=d.GetRealScreenY(),r=p.particleManager,o=Gi(e,i,-50),n=p.gameConfigure.tileWidth/2,a=f.v,s=m,l=ui().white_mx4ult$(),h=Gi(p.gameConfigure.tileWidth/4,p.gameConfigure.tileWidth/4,-10),u=Gi(p.gameConfigure.tileWidth/2,p.gameConfigure.tileWidth/2,500),c=Fn().value;e:do{if(null==c){t=0;break e}if(Ke.isNumber(c)){t=it(c);break e}if("string"==typeof c)try{t=Qe(c);break e}catch(e){if(Ke.isType(e,ta)){t=0;break e}throw e}t=0}while(0);return r.createExplosion_3jyyep$(o,n,10,a,1,s,l,h,u,!0,t),Ze}}function gh(){return ql().shared().playEffect_bm4lxs$("feverPop5"),Ze}function _h(e,t,i,r,o,n){q.call(this,n),this.$controller=o,this.exceptionState_0=1,this.local$this$Game=e,this.local$closure$temp=t,this.local$closure$callback=i}function yh(e){return function(){return e.isPaused=!1,0<e.comboTimeRemain&&(e.comboTimeRemain=e.comboTimeRemain+.5),Ze}}function $h(e,t){return function(){return e.removeBounce(),e.moveTo_mp7p4f$(e.GetScreenX(),t.gameConfigure.height+1|0,t.gameConfigure.fallingSpeed,t.gameConfigure.fallingSpeedLimit,t.gameConfigure.acceleration),e.SetCheckCollide_6taknv$(!1),Ze}}function bh(e){return function(){return e.SetTimeToLive_mx4ult$(0),Ze}}function Sh(e){return function(){return e.SetTimeToLive_mx4ult$(0),Ze}}function kh(e){return function(){return e.SetTimeToLive_mx4ult$(0),Ze}}function wh(e){return function(){return e.SetTimeToLive_mx4ult$(0),Ze}}function xh(e,t,i){return e.age<.5?e.SetOriginalAlpha_mx4ult$(2*e.age):e.age>e.timeToLive-.5?e.SetOriginalAlpha_mx4ult$(1-2*(e.age-(e.timeToLive-.5))):e.SetOriginalAlpha_mx4ult$(1),!1}function Ch(e,t,i){return e.age<.5?e.SetOriginalAlpha_mx4ult$(2*e.age):e.age>e.timeToLive-.5?e.SetOriginalAlpha_mx4ult$(1-2*(e.age-(e.timeToLive-.5))):e.SetOriginalAlpha_mx4ult$(1),!1}function zh(i,r){return function(){var e,t;return null!=(e=i.view.screen)&&e.actionFadeOut_7vo5wp$(r,.6,1.5,.3,void 0,void 0,void 0,(t=r,function(){return t.SetTimeToLive_mx4ult$(0),Ze})),Ze}}function Th(b,S,k){return function(e){var t,i,r,o,n,a,s,l,h;if(1===e.count){1<=b.quality&&(b.removeBackgroundEffect(),b.createFeverBackgroundEffect()),ql().shared().BGMFadeOut_o5txl1$(Je(b.view.screen),"TutorialBGM",void 0,.5,(h=b,function(){return ql().shared().BGMFadeIn_o5txl1$(Je(h.view.screen),"FeverBGM",void 0,.5),Ze}));var u,c=b.view,d=100+b.bannerOffset/b.view.sizeScale.yRatio,p=jn().value;e:do{if(null==p){u=0;break e}if(Ke.isNumber(p)){u=it(p);break e}if("string"==typeof p)try{u=Qe(p);break e}catch(e){if(Ke.isType(e,ta)){u=0;break e}throw e}u=0}while(0);var f=c.createSprite_591x4d$(0,d,u,null,320,100,void 0,void 0,!1);f.SetColor_vnjrmz$(ui().black_mx4ult$(0)),f.SetVerticalAlign_qn2em6$(ro()),f.SetHorizontalAlign_jdpdm8$(so()),null!=(t=b.view.screen)&&t.actionFadeIn_hkbjms$(f,0,.6,0,.3,void 0,void 0,void 0,zh(b,f));var m,v=S,g=b.view,_=100+b.bannerOffset/b.view.sizeScale.yRatio,y=jn().value;e:do{if(null==y){m=0;break e}if(Ke.isNumber(y)){m=it(y);break e}if("string"==typeof y)try{m=Qe(y);break e}catch(e){if(Ke.isType(e,ta)){m=0;break e}throw e}m=0}while(0);v.v=g.createSprite_591x4d$(0,_,m,"Resource/UI/FEVER",260),null!=(i=S.v)&&i.SetHorizontalAlign_jdpdm8$(lo()),null!=(r=S.v)&&r.SetVerticalAlign_qn2em6$(ro()),null!=(o=S.v)&&o.SetPosition_dleff0$(-1*Je(S.v).GetSize().width/2,Je(S.v).GetPosition().y),null!=(n=S.v)&&n.SetColor_vnjrmz$(ui().white_mx4ult$()),null!=(a=S.v)&&a.SetBlendFactor_mx4ult$(1),null!=(s=S.v)&&s.SetTimeToLive_mx4ult$(2),b.view.addChild_g5h3xp$(Je(S.v)),k.SetTarget_nfvrp9$(160*b.view.sizeScale.xRatio+Je(S.v).GetSize().width/2,-10,.3,!0,1.5)}var $=k.update_mx4ult$(e.elapsed);return null!=(l=S.v)&&l.SetPosition_dleff0$(-1*Je(S.v).GetSize().width/2+$,Je(S.v).GetPosition().y),!0}}function Ah(Pe,je,Be,Ee,Le,Fe,De,Ve,Ue,qe,He,We,Ye,Xe){return function(e){var t,i,r,o,n,a,s,l,h,u,c,d,p,f,m,v,g,_,y,$,b,S,k,w;if(1===e.count){var x,C=Fe,z=Pe.view,T=je,A=Be,G=Cn().value;e:do{if(null==G){x=0;break e}if(Ke.isNumber(G)){x=it(G);break e}if("string"==typeof G)try{x=Qe(G);break e}catch(e){if(Ke.isType(e,ta)){x=0;break e}throw e}x=0}while(0);C.v=z.createMask_jga54f$(T,A,x,Pe.gameConfigure.uiFolder+"fever_board",Ee.v,Le.v,void 0,void 0,!1,void 0,void 0,!1),null!=(t=Fe.v)&&t.SetHorizontalAlign_jdpdm8$(lo()),null!=(i=Fe.v)&&i.SetVerticalAlign_qn2em6$(oo()),null!=(r=Fe.v)&&r.SetName_61zpoe$("Fever Gauge Mask");var I,N=Pe.view,O=je-.5*Ee.v,M=Be,R=Cn().value;e:do{if(null==R){I=0;break e}if(Ke.isNumber(R)){I=it(R);break e}if("string"==typeof R)try{I=Qe(R);break e}catch(e){if(Ke.isType(e,ta)){I=0;break e}throw e}I=0}while(0);var P=N.createSprite_591x4d$(O,M,I,Pe.gameConfigure.uiFolder+"fever_board_left",-1,Le.v,void 0,void 0,!1,!1);P.SetHorizontalAlign_jdpdm8$(ho()),P.SetVerticalAlign_qn2em6$(oo());var j,B=Pe.view,E=je+.5*Ee.v,L=Be,F=Cn().value;e:do{if(null==F){j=0;break e}if(Ke.isNumber(F)){j=it(F);break e}if("string"==typeof F)try{j=Qe(F);break e}catch(e){if(Ke.isType(e,ta)){j=0;break e}throw e}j=0}while(0);var D=B.createSprite_591x4d$(E,L,j,Pe.gameConfigure.uiFolder+"fever_board_right",-1,Le.v,void 0,void 0,!1,!1);D.SetHorizontalAlign_jdpdm8$(so()),D.SetVerticalAlign_qn2em6$(oo()),Ee.v=Je(Fe.v).GetSize().width,Le.v=Je(Fe.v).GetSize().height;var V=la(0,0,void 0,Pe.gameConfigure.uiFolder+"fever_board",Ee.v,Le.v);V.SetBlendFactor_mx4ult$(1),null!=(o=Fe.v)&&o.addChild_g5h3xp$(V),De.v=la(0,.2*Le.v,void 0,Pe.gameConfigure.uiFolder+"fever_gage",0,.6*Le.v),null!=(n=De.v)&&n.SetBlendFactor_mx4ult$(1),null!=(a=Fe.v)&&a.addChild_g5h3xp$(Je(De.v)),Pe.view.SetFontHorizontalAlign_jdpdm8$(lo()),Pe.view.SetFontVerticalAlign_qn2em6$(ro()),Pe.view.SetFontName_61zpoe$("Gage/"),Ve.v=Pe.view.createLabel_17tgk7$(Ee.v/2,Le.v/2,void 0,"",Fe.v),null!=(s=Ve.v)&&s.SetVerticalAlign_qn2em6$(ro()),null!=(l=Ve.v)&&l.SetSize_dleff0$(-1,1.2*Je(De.v).GetSize().height),null!=(h=Ve.v)&&h.SetBlendFactor_mx4ult$(1),null!=(u=Ve.v)&&u.SetColor_vnjrmz$(ui().puzzleYellow_mx4ult$()),Pe.view.SetFontName_61zpoe$()}switch(Ue.v<Pe.gameValue.feverLevel&&qe.v<3&&(He.v=100,qe.v=99,null!=(c=Pe.view.screen)&&c.actionDelay_ab0iom$(.7,void 0,(d=qe,p=We,f=Ye,m=He,v=Ve,g=Pe,_=De,function(){var e,t;d.v=3;var i,r=p,o=f.v;e:do{if(null==o){i=0;break e}if(Ke.isNumber(o)){i=it(o);break e}if("string"==typeof o)try{i=Qe(o);break e}catch(e){if(Ke.isType(e,ta)){i=0;break e}throw e}i=0}while(0);r.reset_y2kzbl$(void 0,void 0,i);var n,a=p,s=m.v;e:do{if(null==s){n=0;break e}if(Ke.isNumber(s)){n=it(s);break e}if("string"==typeof s)try{n=Qe(s);break e}catch(e){if(Ke.isType(e,ta)){n=0;break e}throw e}n=0}while(0);if(a.SetTarget_nfvrp9$(n,-50,.5,void 0,-1),null!=(e=v.v)){var l,h=g.gameValue.feverLevel;e:do{if(Ke.isNumber(h)){l=h.toString();break e}if("string"==typeof h){l=h;break e}if("boolean"==typeof h){l=h.toString();break e}if(Ke.isChar(h)){l=h.toString();break e}l=""}while(0);e.SetText_61zpoe$(l)}return null!=(t=v.v)&&t.SetSize_dleff0$(-1,1.2*Je(_.v).GetSize().height),Ze})),!0===Pe.gameConfigure.resetInactiveWhenFever&&Pe.resetDisabledBlock_wnu51o$(void 0,void 0,!1,!1)),qe.v){case 0:var U,q,H=Pe,W=Ue,Y=De,X=Ve,K=Ye,Z=qe,Q=He,J=We;if(0<W.v&&0===H.gameValue.feverLevel&&(Je(Y.v).SetBlendFactor_mx4ult$(1),W.v=0,null!=(U=X.v)&&U.SetText_61zpoe$(""),1<=H.quality&&(H.removeFeverBackgroundEffect(),H.createBackgroundEffect()),ql().shared().BGMFadeOut_o5txl1$(Je(H.view.screen),"FeverBGM",void 0,.5,(w=H,function(){return!1===w.gameOverFlag&&ql().shared().BGMFadeIn_o5txl1$(Je(w.view.screen),"TutorialBGM",void 0,.5),Ze}))),K.v<H.gameValue.feverGage&&(Z.v=99,null!=(q=H.view.screen)&&q.actionDelay_ab0iom$(.6,void 0,(y=Z,$=H,b=Q,S=J,k=K,function(){y.v=1,b.v=$.gameValue.feverGage;var t,e=S,i=k.v;e:do{if(null==i){t=0;break e}if(Ke.isNumber(i)){t=it(i);break e}if("string"==typeof i)try{t=Qe(i);break e}catch(e){if(Ke.isType(e,ta)){t=0;break e}throw e}t=0}while(0);e.reset_y2kzbl$(void 0,void 0,t);var r,o=S,n=b.v;e:do{if(null==n){r=0;break e}if(Ke.isNumber(n)){r=it(n);break e}if("string"==typeof n)try{r=Qe(n);break e}catch(e){if(Ke.isType(e,ta)){r=0;break e}throw e}r=0}while(0);return o.SetTarget_nfvrp9$(r,-50,.5,void 0,-1),Ze}))),K.v>H.gameValue.feverGage){Z.v=2,Q.v=H.gameValue.feverGage;var ee,te=K.v;e:do{if(null==te){ee=0;break e}if(Ke.isNumber(te)){ee=it(te);break e}if("string"==typeof te)try{ee=Qe(te);break e}catch(e){if(Ke.isType(e,ta)){ee=0;break e}throw e}ee=0}while(0);J.reset_y2kzbl$(void 0,void 0,ee);var ie,re=Q.v;e:do{if(null==re){ie=0;break e}if(Ke.isNumber(re)){ie=it(re);break e}if("string"==typeof re)try{ie=Qe(re);break e}catch(e){if(Ke.isType(e,ta)){ie=0;break e}throw e}ie=0}while(0);J.SetTarget_nfvrp9$(ie,50,.5,void 0,-1)}break;case 1:var oe=Pe,ne=He,ae=qe,se=We,le=Ye,he=De,ue=Ee;e:do{var ce;if(ne.v!==oe.gameValue.feverGage){ae.v=0;break e}le.v=se.update_mx4ult$(e.elapsed),le.v>=ne.v&&(le.v=ne.v,ae.v=0),null!=(ce=he.v)&&ce.SetSize_dleff0$(le.v*ue.v/100,Je(he.v).GetSize().height)}while(0);break;case 2:var de=Pe,pe=He,fe=qe,me=We,ve=Ye,ge=De,_e=Ee;e:do{var ye;if(pe.v!==de.gameValue.feverGage){fe.v=0;break e}ve.v=me.update_mx4ult$(e.elapsed),ve.v<=pe.v&&(ve.v=pe.v,fe.v=0),null!=(ye=ge.v)&&ye.SetSize_dleff0$(ve.v*_e.v/100,Je(ge.v).GetSize().height)}while(0);break;case 3:var $e=Pe,be=We,Se=Ye,ke=He,we=Xe,xe=Ue,Ce=qe,ze=De,Te=Ee;e:do{var Ae;if(Se.v=be.update_mx4ult$(e.elapsed),Se.v>=ke.v){Se.v=ke.v,we.v=e.age,xe.v=$e.gameValue.feverLevel,Ce.v=0;break e}null!=(Ae=ze.v)&&Ae.SetSize_dleff0$(Se.v*Te.v/100,Je(ze.v).GetSize().height)}while(0);break;case 4:var Ge=Xe,Ie=qe,Ne=De,Oe=Ye,Me=Ee;e:do{var Re;if(Ge.v+1<e.age){Ie.v=0;break e}null!=(Re=Ne.v)&&Re.SetSize_dleff0$(Oe.v*Me.v/100,Je(Ne.v).GetSize().height)}while(0)}return!0}}function Gh(i){return function(e,t){!0===t&&i.removeFromParent()}}function Ih(c,d,p){return function(){var t,e=c.GetRealScreenX(),i=c.GetRealScreenY(),r=d.particleManager,o=Gi(e,i,-50),n=d.gameConfigure.tileWidth/2,a=p.v,s=ui().white_mx4ult$(),l=Gi(d.gameConfigure.tileWidth/4,d.gameConfigure.tileWidth/4,-10),h=Gi(d.gameConfigure.tileWidth/2,d.gameConfigure.tileWidth/2,500),u=Fn().value;e:do{if(null==u){t=0;break e}if(Ke.isNumber(u)){t=it(u);break e}if("string"==typeof u)try{t=Qe(u);break e}catch(e){if(Ke.isType(e,ta)){t=0;break e}throw e}t=0}while(0);return r.createExplosion_3jyyep$(o,n,10,a,1,"Resource/UI/Particle",s,l,h,!0,t),Ze}}function Nh(e,g,_,y,$,b){return function(){var e,t,i=g.boardRect.x,r=_;e:do{if(null==r){t=0;break e}if(Ke.isNumber(r)){t=it(r);break e}if("string"==typeof r)try{t=Qe(r);break e}catch(e){if(Ke.isType(e,ta)){t=0;break e}throw e}t=0}while(0);var o,n=i+t*g.gameConfigure.tileWidth,a=g.gameConfigure.tileWidth/2;e:do{if(null==a){o=0;break e}if(Ke.isNumber(a)){o=it(a);break e}if("string"==typeof a)try{o=Qe(a);break e}catch(e){if(Ke.isType(e,ta)){o=0;break e}throw e}o=0}while(0);var s,l=n+o,h=g.boardRect.y,u=y;e:do{if(null==u){s=0;break e}if(Ke.isNumber(u)){s=it(u);break e}if("string"==typeof u)try{s=Qe(u);break e}catch(e){if(Ke.isType(e,ta)){s=0;break e}throw e}s=0}while(0);var c,d=h+s*g.gameConfigure.tileHeight,p=g.gameConfigure.tileHeight/2;e:do{if(null==p){c=0;break e}if(Ke.isNumber(p)){c=it(p);break e}if("string"==typeof p)try{c=Qe(p);break e}catch(e){if(Ke.isType(e,ta)){c=0;break e}throw e}c=0}while(0);var f,m,v=Gi(l,d+c);return g.createScore_l4u1g4$(v,$.second),null!=(e=g.view.screen)&&e.actionDelay_ab0iom$(0,void 0,(f=g,m=b,function(){return f.increaseFeverGage_8ca0d4$(f.GetFeverGagePerBlock_za3lpa$(m.v.size)+f.GetFeverGageBonusPerCombo_za3lpa$(f.gameValue.combo)),Ze})),g.gameValue.lastEarnedScore=g.gameValue.lastEarnedScore+$.second|0,g.gameValue.score=g.gameValue.score+$.second|0,Ie().shared().SetTitle_61zpoe$(Is(g.gameValue.score)),Ze}}function Oh(o,n,a){return function(){var e,t,i,r;return Ke.isType(o,Pd)?o.explode_nhq4am$(10,0,n.gameConfigure.removeFireDelay+.5):o.explode_nhq4am$(10,0,.5),null!=(e=n.view.screen)&&e.actionDelay_ab0iom$(.2,void 0,(t=o,i=n,r=a,function(){var e=Gi(t.GetRealScreenX(),t.GetRealScreenY());return i.createScore_l4u1g4$(e,r.first),Ze})),Ze}}function Mh(o,n,a){return function(){var e,t,i,r;return Ke.isType(o,Pd)?o.explode_nhq4am$(10,0,n.gameConfigure.removeFireDelay+.5):o.explode_nhq4am$(10,0,.5),null!=(e=n.view.screen)&&e.actionDelay_ab0iom$(.2,void 0,(t=o,i=n,r=a,function(){var e=Gi(t.GetRealScreenX(),t.GetRealScreenY());return i.createScore_l4u1g4$(e,r.first),Ze})),Ze}}function Rh(s,l,h){return function(){var e,t,i;if(0<s.v)if(l.gameValue.combo<1)ql().shared().playEffect_bm4lxs$("feverPop0");else{var r=1+((l.gameValue.combo-1|0)/5|0)|0;5<r&&(r=5);var o,n=ql().shared(),a=r;e:do{if(Ke.isNumber(a)){o=a.toString();break e}if("string"==typeof a){o=a;break e}if("boolean"==typeof a){o=a.toString();break e}if(Ke.isChar(a)){o=a.toString();break e}o=""}while(0);n.playEffect_bm4lxs$("feverPop"+o)}return null!=(e=l.view.screen)&&e.actionDelay_ab0iom$(0,void 0,(t=l,i=s,function(){return t.increaseFeverGage_8ca0d4$(t.GetFeverGagePerBlock_za3lpa$(i.v+1|0)+t.GetFeverGageBonusPerCombo_za3lpa$(t.gameValue.combo)),Ze})),l.gameValue.lastEarnedScore=l.gameValue.lastEarnedScore+h.second|0,l.gameValue.score=l.gameValue.score+h.second|0,Ie().shared().SetTitle_61zpoe$(Is(l.gameValue.score)),Ze}}function Ph(e){return e.GetRealScreenY()}function jh(_,y,$,b,S,k,w){return function(e){var t,i,r;if(0===e.elapsed)return _.SetAlpha_8ca0d4$(0),void(Ke.isType(y,ld)?null!=(t=$.view.screen)&&t.actionDelay_ab0iom$(0,void 0,(r=y,function(){var e;return(Ke.isType(e=r,ld)?e:Ee()).resetDisable_6taknv$(),Ze})):Ke.isType(y,Pd)&&(Ke.isType(i=y,Pd)?i:Ee()).explode_nhq4am$(10,0,$.gameConfigure.removeFireDelay+.5));var o=b;o<0&&(o=0);var n=.6*$.gameConfigure.tileWidth-.6*$.gameConfigure.tileWidth/S*e.age;if(_.SetSize_dleff0$(n,o),k.v+.1<=e.age){k.v=e.age;var a,s=go(),l=.3*$.gameConfigure.tileWidth;e:do{if(null==l){a=0;break e}if(Ke.isNumber(l)){a=et(l);break e}if("string"==typeof l)try{a=tt(l);break e}catch(e){if(Ke.isType(e,ta)){a=0;break e}throw e}a=0}while(0);var h,u=s.arc4random_uniform_za3lpa$(a);e:do{if(null==u){h=0;break e}if(Ke.isNumber(u)){h=et(u);break e}if("string"==typeof u)try{h=tt(u);break e}catch(e){if(Ke.isType(e,ta)){h=0;break e}throw e}h=0}while(0);var c,d=h,p=.15*$.gameConfigure.tileWidth;e:do{if(null==p){c=0;break e}if(Ke.isNumber(p)){c=et(p);break e}if("string"==typeof p)try{c=tt(p);break e}catch(e){if(Ke.isType(e,ta)){c=0;break e}throw e}c=0}while(0);var f,m=d-c|0,v=_,g=w.x;e:do{if(null==m){f=0;break e}if(Ke.isNumber(m)){f=it(m);break e}if("string"==typeof m)try{f=Qe(m);break e}catch(e){if(Ke.isType(e,ta)){f=0;break e}throw e}f=0}while(0);v.SetPosition_dleff0$(g+f,w.y)}}}function Bh(h,u,c,d,p,f,m){return function(){var e,t,i,r=h,o=u,n=In().value;e:do{if(null==n){i=0;break e}if(Ke.isNumber(n)){i=it(n);break e}if("string"==typeof n)try{i=Qe(n);break e}catch(e){if(Ke.isType(e,ta)){i=0;break e}throw e}i=0}while(0);var a=la(r,o,i,"Resource/UI/LightningBar",c,d);a.SetBlendMode_ieo8yr$(ti()),a.SetBlendFactor_mx4ult$(1),p.view.addChild_g5h3xp$(a),a.SetVerticalAlign_qn2em6$(oo()),a.SetHorizontalAlign_jdpdm8$(lo()),a.SetTimeToLive_mx4ult$(.5);var s=Ke.isType(e=p.gameValue.blockInfo,Jf)?e:Ee();if(Ke.isType(f,ld))switch(s.colorMap.get_za3lpa$(f.value)){case"yellow":a.SetColor_vnjrmz$(ui().yellow_mx4ult$());break;case"red":a.SetColor_vnjrmz$(ui().red_mx4ult$());break;case"green":a.SetColor_vnjrmz$(ui().green_mx4ult$());break;case"blue":a.SetColor_vnjrmz$(ui().blue_mx4ult$());break;default:a.SetColor_vnjrmz$(ui().purple_mx4ult$())}else a.SetColor_vnjrmz$(ui().white_mx4ult$());a.SetAlpha_8ca0d4$(.9);var l=a.GetPosition();return null!=(t=p.view.screen)&&t.actionInstant_cinp1s$(0,.5,void 0,void 0,jh(a,f,p,d,m,{v:0},l)),Ze}}function Eh(){return ql().shared().playEffect_bm4lxs$("feverPop5"),Ze}function Lh(r,o,n){return function(){var e,t,i;return null!=(e=r.view.screen)&&e.actionDelay_ab0iom$(0,void 0,(t=r,i=o,function(){return t.increaseFeverGage_8ca0d4$(t.GetFeverGagePerBlock_za3lpa$(i.v+1|0)+t.GetFeverGageBonusPerCombo_za3lpa$(t.gameValue.combo)),Ze})),r.gameValue.lastEarnedScore=r.gameValue.lastEarnedScore+n.second|0,r.gameValue.score=r.gameValue.score+n.second|0,Ie().shared().SetTitle_61zpoe$(Is(r.gameValue.score)),Ze}}nh.prototype.clearCompleteTileByChunk=function(){var e,t,i,r,o,n,a,s,l,h,u,c,d,p,f,m,v,g,_,y,$,b=0,S={v:!1},k=0,w=this.gameConfigure.nirvanaDelayGap,x=0,C=Fe();e=this.gameConfigure.height-1|0;for(var z=0;z<=e;z++){t=this.gameConfigure.width-1|0;for(var T=0;T<=t;T++)if(0!==this.clear[T][z]){var A=Ke.isType(i=this.map[T][z],ld)?i:Ee(),G=this.GetChainedTile_vux9f0$(T,z);this.makeMatchConnection_n4bh9e$(hh(G));var I={v:Fe()},N=this.clearCompleteRec_tu1qy8$(T,z,A.value,0,I.v);C.addAll_brywnq$(I.v),this.gameValue.addBlockCount_za3lpa$(N),b=b+N|0;var O=this.calcScore_za3lpa$(N);if(N>=this.gameConfigure.amountOfNirvana){S.v=!0,this.nirvanaCount=this.nirvanaCount+1|0,k=N;var M,R=this.gameConfigure.matchDelay,P=w,j=N+1|0;e:do{if(null==j){M=0;break e}if(Ke.isNumber(j)){M=it(j);break e}if("string"==typeof j)try{M=Qe(j);break e}catch(e){if(Ke.isType(e,ta)){M=0;break e}throw e}M=0}while(0);var B,E=R+P*M+.2,L=w;e:do{if(null==N){B=0;break e}if(Ke.isNumber(N)){B=it(N);break e}if("string"==typeof N)try{B=Qe(N);break e}catch(e){if(Ke.isType(e,ta)){B=0;break e}throw e}B=0}while(0);if(.5<(E=L*B)){var F;e:do{if(null==N){F=0;break e}if(Ke.isNumber(N)){F=it(N);break e}if("string"==typeof N)try{F=Qe(N);break e}catch(e){if(Ke.isType(e,ta)){F=0;break e}throw e}F=0}while(0);w=.5/F,E=.5}E+=.5;var D=-1;if(-1!==(D=1<this.nirvanaCount?this.gameConfigure.alternativeItemForNirvana:N<this.gameConfigure.itemTable.length?this.gameConfigure.itemTable[N]:this.gameConfigure.itemTable[this.gameConfigure.itemTable.length-1|0])){var V=new Le(T,z);for(r=I.v.iterator();r.hasNext();){var U=r.next();this.lastInput.first===U.GetScreenX()&&this.lastInput.second===U.GetScreenY()&&(V=new Le(this.lastInput.first,this.lastInput.second))}(o=this.createColumn)[n=V.first]=o[n]-1|0;var q=A.value;if(103===D){var H,W=go().arc4random_uniform_za3lpa$(2);e:do{if(null==W){H=0;break e}if(Ke.isNumber(W)){H=et(W);break e}if("string"==typeof W)try{H=tt(W);break e}catch(e){if(Ke.isType(e,ta)){H=0;break e}throw e}H=0}while(0);q=H}var Y=this.createItem_mbbjvw$(D,q,V.first,V.second,V.first,V.second);this.map[V.first][V.second]=Y,Je(Y.sprite).SetAlpha_8ca0d4$(0),null!=(a=this.view.screen)&&a.actionDelay_ab0iom$(this.gameConfigure.matchDelay+E,void 0,sh(Y))}var X=this.gameConfigure.GetStarForNirvanaPerFever_za3lpa$(this.gameValue.feverLevel);Lm().shared().addStar_za3lpa$(X),(s=this.gameValue).earnedStar=s.earnedStar+X|0;var K=Ke.isType(l=this.view.findChildByName_3m52m6$("Star Amount"),ma)?l:null;null!=K&&K.clearText_gam257$(void 0,lh(K))}else{var Z=-1;if(-1!==(Z=N<this.gameConfigure.itemTable.length?this.gameConfigure.itemTable[N]:this.gameConfigure.itemTable[this.gameConfigure.itemTable.length-1|0])){var Q=new Le(T,z);for(h=I.v.iterator();h.hasNext();){var J=h.next();this.lastInput.first===J.GetScreenX()&&this.lastInput.second===J.GetScreenY()&&(Q=new Le(this.lastInput.first,this.lastInput.second))}(u=this.createColumn)[c=Q.first]=u[c]-1|0;var ee=A.value;if(103===Z){var te,ie=go().arc4random_uniform_za3lpa$(2);e:do{if(null==ie){te=0;break e}if(Ke.isNumber(ie)){te=et(ie);break e}if("string"==typeof ie)try{te=tt(ie);break e}catch(e){if(Ke.isType(e,ta)){te=0;break e}throw e}te=0}while(0);ee=te}var re=this.createItem_mbbjvw$(Z,ee,Q.first,Q.second,Q.first,Q.second);Je(re.sprite).SetAlpha_8ca0d4$(0),this.map[Q.first][Q.second]=re,x+=.3,null!=(d=this.view.screen)&&d.actionFadeIn_hkbjms$(Je(re.sprite),void 0,void 0,void 0,.3)}}if(!0===S.v){var oe,ne=hh(I.v),ae=this.gameConfigure.matchDelay,se=w,le=N+1|0;e:do{if(null==le){oe=0;break e}if(Ke.isNumber(le)){oe=it(le);break e}if("string"==typeof le)try{oe=Qe(le);break e}catch(e){if(Ke.isType(e,ta)){oe=0;break e}throw e}oe=0}while(0);this.createMatchBackground_old_jpdi8v$(ne,ae+se*oe,ui().puzzleYellow_mx4ult$()),null!=(p=this.view.screen)&&p.actionDelay_ab0iom$(this.gameConfigure.matchDelay,void 0,uh(this,I))}else 0<x?this.createMatchBackground_old_jpdi8v$(hh(I.v),this.gameConfigure.matchDelay,ui().puzzleBlue_mx4ult$()):this.createMatchBackground_jpdi8v$(hh(I.v),this.gameConfigure.matchDelay,ui().puzzlePink_mx4ult$());var he=Gi();for(f=I.v.iterator();f.hasNext();){var ue=f.next(),ce=Ke.isType(m=ue,ld)?m:null;if(null!=ce)if(!0===S.v){ce.connectionBitMask=0,ce.removeConnection();var de,pe=this.gameConfigure.matchDelay,fe=w,me=N+1|0;e:do{if(null==me){de=0;break e}if(Ke.isNumber(me)){de=it(me);break e}if("string"==typeof me)try{de=Qe(me);break e}catch(e){if(Ke.isType(e,ta)){de=0;break e}throw e}de=0}while(0);ce.explode_902hsc$(N,pe+fe*de+.2,.5,1)}else ce.connectionBitMask=0,ce.removeConnection(),ce.explode_902hsc$(N,this.gameConfigure.matchDelay,x,2);var ve,ge=he.x,_e=ue.GetRealScreenX();e:do{if(null==_e){ve=0;break e}if(Ke.isNumber(_e)){ve=it(_e);break e}if("string"==typeof _e)try{ve=Qe(_e);break e}catch(e){if(Ke.isType(e,ta)){ve=0;break e}throw e}ve=0}while(0);he.x=ge+ve;var ye,$e=he.y,be=ue.GetRealScreenY();e:do{if(null==be){ye=0;break e}if(Ke.isNumber(be)){ye=it(be);break e}if("string"==typeof be)try{ye=Qe(be);break e}catch(e){if(Ke.isType(e,ta)){ye=0;break e}throw e}ye=0}while(0);he.y=$e+ye}var Se,ke=he.x,we=I.v.size;e:do{if(null==we){Se=0;break e}if(Ke.isNumber(we)){Se=it(we);break e}if("string"==typeof we)try{Se=Qe(we);break e}catch(e){if(Ke.isType(e,ta)){Se=0;break e}throw e}Se=0}while(0);he.x=ke/Se;var xe,Ce=he.y,ze=I.v.size;e:do{if(null==ze){xe=0;break e}if(Ke.isNumber(ze)){xe=it(ze);break e}if("string"==typeof ze)try{xe=Qe(ze);break e}catch(e){if(Ke.isType(e,ta)){xe=0;break e}throw e}xe=0}while(0);he.y=Ce/xe;var Te={v:this.gameConfigure.matchDelay+x+this.gameConfigure.removeFireDelay};if(!0===S.v){var Ae,Ge=this.gameConfigure.matchDelay+this.gameConfigure.removeFireDelay,Ie=w,Ne=N+1|0;e:do{if(null==Ne){Ae=0;break e}if(Ke.isNumber(Ne)){Ae=it(Ne);break e}if("string"==typeof Ne)try{Ae=Qe(Ne);break e}catch(e){if(Ke.isType(e,ta)){Ae=0;break e}throw e}Ae=0}while(0);Te.v=Ge+Ie*Ae+.2}for(null!=(v=this.view.screen)&&v.actionDelay_ab0iom$(Te.v,this.view,ch(this,he,O,S,Te,N)),g=this.entityManager.GetList(),_=0;_!==g.length;++_){var Oe=g[_],Me=Ke.isType(y=Oe,Pd)?y:null;if(null!=Me&&!0===Me.matched&&Me.value%1e3===A.value){Me.matched=!1;var Re=this.gameConfigure.matchDelay+x;if(!0===S.v){var Pe,je=this.gameConfigure.matchDelay,Be=k+1|0;e:do{if(null==Be){Pe=0;break e}if(Ke.isNumber(Be)){Pe=it(Be);break e}if("string"==typeof Be)try{Pe=Qe(Be);break e}catch(e){if(Ke.isType(e,ta)){Pe=0;break e}throw e}Pe=0}while(0);Re=je+.05*Pe+.2}null!=($=this.view.screen)&&$.actionDelay_ab0iom$(Re,void 0,dh(Me))}}}}return b},nh.prototype.showNirvanaEffect_kj86xc$=function(e,t){var i,r,o;void 0===t&&(t=0),null!=(i=this.view.screen)&&i.actionDelay_ab0iom$(0,void 0,ph);var n,a=this.gameConfigure.nirvanaDelayGap,s=a;e:do{if(null==e.length){n=0;break e}if(Ke.isNumber(e.length)){n=it(e.length);break e}if("string"==typeof e.length)try{n=Qe(e.length);break e}catch(e){if(Ke.isType(e,ta)){n=0;break e}throw e}n=0}while(0);var l=s*n;if(.5<l){var h;e:do{if(null==e.length){h=0;break e}if(Ke.isNumber(e.length)){h=it(e.length);break e}if("string"==typeof e.length)try{h=Qe(e.length);break e}catch(e){if(Ke.isType(e,ta)){h=0;break e}throw e}h=0}while(0);a=.5/h,l=.5}var u={v:3*this.gameConfigure.tileWidth};3<this.gameConfigure.width&&(u.v*=2);for(var c=Ke.isType(r=this.gameValue.blockInfo,Jf)?r:Ee(),d=0,p=K(e,X([fh,mh])).iterator();p.hasNext();++d){var f,m,v=p.next(),g="Particle_"+c.colorMap.get_za3lpa$(v.value);e:do{if(null==d){m=0;break e}if(Ke.isNumber(d)){m=it(d);break e}if("string"==typeof d)try{m=Qe(d);break e}catch(e){if(Ke.isType(e,ta)){m=0;break e}throw e}m=0}while(0);var _=m*a;null!=(f=this.view.screen)&&f.actionDelay_ab0iom$(_,void 0,vh(v,this,u,g))}if(0===t&&null!=(o=this.view.screen)){var y,$=a,b=e.length+1|0;e:do{if(null==b){y=0;break e}if(Ke.isNumber(b)){y=it(b);break e}if("string"==typeof b)try{y=Qe(b);break e}catch(e){if(Ke.isType(e,ta)){y=0;break e}throw e}y=0}while(0);o.actionDelay_ab0iom$($*y+.2,void 0,gh)}},nh.prototype.GetFeverGagePerBlock_za3lpa$=function(e){if(null==this.gameValue)return 0;var t=0;return this.gameValue.feverLevel>=this.gameConfigure.feverGagePerBlock.length&&(t=this.gameConfigure.feverGagePerBlock.length-1|0),e>=this.gameConfigure.feverGagePerBlock[t].length?this.gameConfigure.feverGagePerBlock[t][this.gameConfigure.feverGagePerBlock[t].length-1|0]:this.gameConfigure.feverGagePerBlock[t][e]},nh.prototype.GetFeverGageBonusPerCombo_za3lpa$=function(e){return e>=this.gameConfigure.feverGageBonusPerCombo.length?this.gameConfigure.feverGageBonusPerCombo[this.gameConfigure.feverGageBonusPerCombo.length-1|0]:this.gameConfigure.feverGageBonusPerCombo[e]},nh.prototype.clearCompleteRec_tu1qy8$=function(e,t,i,r,o){var n,a=r;if(e<0||e>=this.gameConfigure.width)return a;if(t<0||t>=this.gameConfigure.height)return a;if(0===this.clear[e][t])return a;var s=Ke.isType(n=this.map[e][t],ld)?n:null;if(null!=s){if(s.value!==i)return a;this.clear[e][t]=0,o.add_wxm5ur$(0,s),this.removeBlock_vux9f0$(e,t),a=a+1|0,a=this.clearCompleteRec_tu1qy8$(e,t-1|0,i,a,o),a=this.clearCompleteRec_tu1qy8$(e+1|0,t,i,a,o),a=this.clearCompleteRec_tu1qy8$(e,t+1|0,i,a,o),a=this.clearCompleteRec_tu1qy8$(e-1|0,t,i,a,o)}return a},nh.prototype.removeBlock_vux9f0$=function(e,t){var i,r,o,n,a,s=Ke.isType(i=this.map[e][t],Ed)?i:null;if(null!=s){if(Ke.isType(s,ld))this.gameValue.addBlockType_za3lpa$(s.value);else if(Ke.isType(s,Pd)){this.gameValue.addObstacleClear_za3lpa$(s.value);var l=Ke.isType(r=this.view.findChildByName_3m52m6$("Ghost Amount"),ma)?r:null;null!=l&&l.clearText_gam257$(void 0,(n=l,a=this,function(){return n.addText_r4v59z$("[Color][Image Ghost_white 35][Scale 0.6]X[Scale] [Color 35BEC1]"+Is(a.gameValue.clearedObstacleSum)),Ze}))}this.map[e][t]=null,(o=this.createColumn)[e]=o[e]+1|0}},nh.prototype.preIncreaseChainedTile_qt1dr2$=function(e,t,i){var r,o=ol(this.gameConfigure.width);r=o.length-1|0;for(var n=0;n<=r;n++){var a,s=new Int32Array(this.gameConfigure.height);a=s.length-1|0;for(var l=0;l<=a;l++)s[l]=0;o[n]=s}this.increaseCheck=o;var h=new Es(0);return this.increaseChainedTileRec_t5mq2m$(e,t,i,!0,h)},nh.prototype.increaseChainedTile_qt1dr2$=function(e,t,i){var r,o=ol(this.gameConfigure.width);r=o.length-1|0;for(var n=0;n<=r;n++){var a,s=new Int32Array(this.gameConfigure.height);a=s.length-1|0;for(var l=0;l<=a;l++)s[l]=0;o[n]=s}this.increaseCheck=o;var h=new Es(0);this.increaseChainedTileRec_t5mq2m$(e,t,i,!1,h)},nh.prototype.increaseChainedTileRec_t5mq2m$=function(e,t,i,r,o){var n;if(o.v=o.v+1|0,t<0||t>=this.gameConfigure.height)return o.v=o.v-1|0,!0;if(e<0||e>=this.gameConfigure.width)return o.v=o.v-1|0,!0;if(1===this.increaseCheck[e][t])return o.v=o.v-1|0,!0;this.increaseCheck[e][t]=1;var a=Ke.isType(n=this.map[e][t],ld)?n:null;return null==a?(o.v=o.v-1|0,!0):a.value!==i?(o.v=o.v-1|0,!0):!0===this.gameConfigure.onetimeGrow&&a.GetAttribute()===Vd()?(o.v=o.v-1|0,!0):!1===this.isBlockIncreasable_wsdf01$(a)?(o.v=o.v-1|0,!1):(!1===r&&a.transform_mx4ult$(0),!1===this.increaseChainedTileRec_t5mq2m$(e,t-1|0,i,r,o)?(o.v=o.v-1|0,!1):!1===this.increaseChainedTileRec_t5mq2m$(e+1|0,t,i,r,o)?(o.v=o.v-1|0,!1):!1===this.increaseChainedTileRec_t5mq2m$(e,t+1|0,i,r,o)?(o.v=o.v-1|0,!1):!1===this.increaseChainedTileRec_t5mq2m$(e-1|0,t,i,r,o)?(o.v=o.v-1|0,!1):(o.v=o.v-1|0,!0))},nh.prototype.GetChainedTile_vux9f0$=function(e,t){var i,r,o=ol(this.gameConfigure.width);r=o.length-1|0;for(var n=0;n<=r;n++){var a,s=new Int32Array(this.gameConfigure.height);a=s.length-1|0;for(var l=0;l<=a;l++)s[l]=0;o[n]=s}this.increaseCheck=o;var h=Fe(),u=Ke.isType(i=this.map[e][t],ld)?i:null;if(null!=u){var c=new Es(0);this.GetChainedTileRec_e9yo5h$(e,t,u.value,c,h)}return h},nh.prototype.GetChainedTileRec_e9yo5h$=function(e,t,i,r,o){var n;if(r.v=r.v+1|0,t<0||t>=this.gameConfigure.height)return r.v=r.v-1|0,!0;if(e<0||e>=this.gameConfigure.width)return r.v=r.v-1|0,!0;if(1===this.increaseCheck[e][t])return r.v=r.v-1|0,!0;this.increaseCheck[e][t]=1;var a=Ke.isType(n=this.map[e][t],ld)?n:null;return null==a?(r.v=r.v-1|0,!0):a.value!==i?(r.v=r.v-1|0,!0):(o.add_11rb$(a),!1===this.GetChainedTileRec_e9yo5h$(e,t-1|0,i,r,o)?(r.v=r.v-1|0,!1):!1===this.GetChainedTileRec_e9yo5h$(e+1|0,t,i,r,o)?(r.v=r.v-1|0,!1):!1===this.GetChainedTileRec_e9yo5h$(e,t+1|0,i,r,o)?(r.v=r.v-1|0,!1):!1===this.GetChainedTileRec_e9yo5h$(e-1|0,t,i,r,o)?(r.v=r.v-1|0,!1):(r.v=r.v-1|0,!0))},nh.prototype.isFilled=function(){var e,t;e=this.gameConfigure.width-1|0;for(var i=0;i<=e;i++){t=this.gameConfigure.height-1|0;for(var r=0;r<=t;r++)if(null==this.map[i][r])return!1}return!0},nh.prototype.isAllLanded=function(){var e,t=this.entityManager.GetList();for(e=0;e!==t.length;++e){var i=t[e],r=i.GetScreenX(),o=i.GetScreenY();if(r<0||r>=this.gameConfigure.width||o<0||o>=this.gameConfigure.height)return!1;if(this.map[r][o]!==i)return!1}return!0},nh.prototype.isNeedCheckRemain=function(){var e,t,i;e=this.gameConfigure.width-1|0;for(var r=0;r<=e;r++){t=this.gameConfigure.height-1|0;for(var o=0;o<=t;o++){var n=Ke.isType(i=this.map[r][o],Ed)?i:null;if(null!=n&&!0===n.needCheck)return!0}}return!1},nh.prototype.createOneBlock_7bka6z$=function(e,t,i,r,o){var n,a,s;void 0===o&&(o=!0);var l=0;if(!0===o&&this.gameConfigure.obstacleMinimumScore<this.gameValue.score&&0<this.gameConfigure.obstacleRatio){var h=0;for(n=this.entityManager.GetList(),a=0;a!==n.length;++a){var u=n[a];if(Ke.isType(u,Pd)&&(h=h+1|0)>=this.gameConfigure.obstacleMaximumNumber)break}h<this.gameConfigure.obstacleMaximumNumber&&(l=go().arc4random_uniform_za3lpa$(this.gameConfigure.obstacleRatio))}if(1===l){var c,d=go(),p=this.gameConfigure.kindOfNumber;e:do{if(null==p){c=0;break e}if(Ke.isNumber(p)){c=et(p);break e}if("string"==typeof p)try{c=tt(p);break e}catch(e){if(Ke.isType(e,ta)){c=0;break e}throw e}c=0}while(0);var f,m=d.arc4random_uniform_za3lpa$(c);e:do{if(null==m){f=0;break e}if(Ke.isNumber(m)){f=et(m);break e}if("string"==typeof m)try{f=tt(m);break e}catch(e){if(Ke.isType(e,ta)){f=0;break e}throw e}f=0}while(0);s=1e3+f|0}else s=3===this.gameConfigure.width&&3===this.gameConfigure.height?this.boardGenerator.GetAvailableBlock_vux9f0$(i,r):this.boardGenerator.GetAvailableBlockOriginal_za3lpa$(i);if(-1===s)return null;var v=this.entityManager.createBlock_mwco6a$(this,s,void 0,e,t);return v.needCheck=!0,v.needCheckReason=1,v.isDropping=!0,v},nh.prototype.createItem_mbbjvw$$default=function(e,t,i,r,o,n){return this.entityManager.createBlock_mwco6a$(this,e,t,i,r)},nh.prototype.createItem_mbbjvw$=function(e,t,i,r,o,n,a){return void 0===t&&(t=0),a?a(e,t,i,r,o,n):this.createItem_mbbjvw$$default(e,t,i,r,o,n)},nh.prototype.GetAvailableY=function(){var e,t,i,r=new Int32Array(this.gameConfigure.width);i=r.length-1|0;for(var o=0;o<=i;o++)r[o]=-1;var n=r,a=this.entityManager.GetList();for(e=0;e!==a.length;++e){var s=a[e],l=Ke.isType(t=s,Ed)?t:null;null!=l&&l.GetScreenY()<=n[l.GetScreenX()]&&(n[l.GetScreenX()]=l.GetScreenY()-1|0)}return n},nh.prototype.checkJustDrop_za3lpa$=function(e){return!1},nh.prototype.prepareDrop_103y6$=function(e,t,i){var r,o,n,a,s;if(void 0===t&&(t=!0),void 0===i&&(i=!0),!1===this.checkJustDrop_za3lpa$(e)&&!0===this.gameConfigure.createNewBlock){3===this.gameConfigure.width&&3===this.gameConfigure.height||this.boardGenerator.makeMapForNewBlock_klim6j$(this.map);var l=this.GetAvailableY();r=this.createColumn.length-1|0;for(var h=0;h<=r;h++){o=this.createColumn[h]-1|0;for(var u=0;u<=o;u++){var c=this.createOneBlock_7bka6z$(h,l[h]+this.gameConfigure.dropAdjust-u|0,h,u,i);if(null==c)return;c.moveTo_mp7p4f$(h,2,this.gameConfigure.fallingSpeed,this.gameConfigure.fallingSpeedLimit,this.gameConfigure.acceleration)}}n=this.createColumn.length-1|0;for(var d=0;d<=n;d++)this.createColumn[d]=0}a=this.gameConfigure.width-1|0;for(var p=0;p<=a;p++)for(var f=this.gameConfigure.height-2|0;0<=f;f--){var m=this.map[p][f];if(null!=m&&null==this.map[p][f+1|0]){m.moveTo_mp7p4f$(p,2,this.gameConfigure.fallingSpeed,this.gameConfigure.fallingSpeedLimit,this.gameConfigure.acceleration);var v=Ke.isType(s=m,Ed)?s:null;null!=v&&v.fall_6taknv$(t),this.map[p][f]=null}}},nh.prototype.printTile=function(){var e,t;e=this.gameConfigure.height-1|0;for(var i=0;i<=e;i++){t=this.gameConfigure.width-1|0;for(var r=0;r<=t;r++){var o=this.map[r][i];if(null!=o){var n,a=o.value;e:do{if(Ke.isNumber(a)){n=a.toString();break e}if("string"==typeof a){n=a;break e}if("boolean"==typeof a){n=a.toString();break e}if(Ke.isChar(a)){n=a.toString();break e}n=""}while(0);n}else"x"}"\n"}},nh.prototype.rendererUpdateCallback_mx4ult$=function(e){this.entityManager.update_mx4ult$(e)},nh.prototype.generateBoard=function(){if(this.boardGenerator=oh(this,this.gameConfigure.width,this.gameConfigure.height,this.gameConfigure.kindOfNumber,this.gameConfigure.minOfComplete),!0!==this.gameConfigure.takeSnapshot||1!==zf().GetInteger_rjan26$("Snapshot"))this.regenAllBlock_za3lpa$(this.gameConfigure.dropAdjust);else{zf().SetInteger_rjan26$("Snapshot",void 0,0),this.restoreSnapshot();var e,t=new Int32Array(this.gameConfigure.width);e=t.length-1|0;for(var i=0;i<=e;i++)t[i]=0;this.createColumn=t;var r,o=ol(this.gameConfigure.width);r=o.length-1|0;for(var n=0;n<=r;n++){var a,s=new Int32Array(this.gameConfigure.height);a=s.length-1|0;for(var l=0;l<=a;l++)s[l]=0;o[n]=s}this.increaseCheck=o}},Object.defineProperty(nh.prototype,"onReady",{get:function(){return this.onReady_m3wg3q$_0}}),Object.defineProperty(nh.prototype,"onGameOver",{get:function(){return this.onGameOver_4sel7f$_0}}),nh.prototype.continueGame=function(){var e,s;if(this.gameOverFlag=!1,this.noMoreMatch=!1,0<this.gameValue.feverLevel?ql().shared().BGMFadeIn_o5txl1$(Je(this.view.screen),"FeverBGM",void 0,.3):ql().shared().BGMFadeIn_o5txl1$(Je(this.view.screen),"TutorialBGM",void 0,.3),3===this.gameConfigure.width){var t=this.getRandomBlocks_za3lpa$(this.gameConfigure.explodeForContinue);this.explodeBlocks_mti8id$(t,.15)}else{var i=this.getRandomBlocks_za3lpa$(this.gameConfigure.explodeForContinue);this.explodeBlocks_mti8id$(i,1/12)}!0===this.gameConfigure.limitGameTime&&(this.gameRemainTime=this.gameRemainTime+this.gameConfigure.bonusTime,this.timerSoundFired=!1),null!=(e=this.view.screen)&&e.actionDelay_ab0iom$(1,void 0,(s=this,function(){var e,t,i,r,o,n,a=Ke.isType(e=s.view.findChildByName_3m52m6$("Pause Switch"),Kt)?e:null;return null!=a&&Je(a).SetEnable_6taknv$(!0),null!=(a=Ke.isType(t=s.view.findChildByName_3m52m6$("Abandon Button"),Kt)?t:null)&&Je(a).SetEnable_6taknv$(!0),s.gameState.SetNextState_9sobi5$("running"),s.isPausedOnlyForLogic=!1,null!=(i=s.gameTimer)&&i.resume(),null!=(r=s.blockDisableTimer)&&r.resume(),null!=(o=s.comboTimer)&&o.resume(),s.comboTimeRemain+=2,null!=(n=s.feverTimer)&&n.resume(),0<s.gameValue.feverLevel&&(s.feverTimeRemain+=3),Ze}))},Object.defineProperty(nh.prototype,"onWaitForStop",{get:function(){return this.onWaitForStop_ge8lbh$_0}}),_h.$metadata$={kind:Ke.Kind.CLASS,simpleName:null,interfaces:[q]},((_h.prototype=Object.create(q.prototype)).constructor=_h).prototype.doResume=function(){for(;;)try{switch(this.state_0){case 0:if(this.local$this$Game.boardGenerator.running=!0,this.state_0=2,this.result_0=this.local$this$Game.boardGenerator.isNoMoreMatch_nq05ln$(this.local$closure$temp.v.slice(),void 0,void 0,this),this.result_0===H)return H;continue;case 1:throw this.exception_0;case 2:var e=this.result_0;return this.local$closure$callback(e),this.local$this$Game.boardGenerator.running=!1,Ze}}catch(e){if(1===this.state_0)throw this.exceptionState_0=this.state_0,e;this.state_0=this.exceptionState_0,this.exception_0=e}},nh.prototype.checkNoMoreMatch_y8twos$=function(e){var t,i,r,o,n,a,s;if(!0!==this.noMoreMatch){var l,h=ol(this.gameConfigure.width);l=h.length-1|0;for(var u=0;u<=l;u++){var c,d=ol(this.gameConfigure.height);c=d.length-1|0;for(var p=0;p<=c;p++)d[p]=new Le(0,0);h[u]=d}var f={v:h},m=0;t=this.gameConfigure.width-1|0;for(var v=0;v<=t;v++){i=this.gameConfigure.height-1|0;for(var g=0;g<=i;g++){var _=Ke.isType(r=this.map[v][g],ld)?r:null;if(null!=_)f.v[v][g]=new Le(_.value,_.GetAttribute()===Vd()?1:0),0===f.v[v][g].second&&(m=m+1|0);else{if(Ke.isType(this.map[v][g],Gd))return;f.v[v][g]=new Le(-1,-1)}}}var y,$,b,S,k,w={v:.1},x={v:this.view.findChildByName_3m52m6$("Checking")},C=this.boardRect.x+this.boardRect.width,z=this.boardRect.y-2.1*this.gameConfigure.topGaugeHeight;if(m<9&&3<this.gameConfigure.width){if(null==x.v){x.v=this.view.createSprite_9wuqyc$(C,z,Rn(),"Resource/UI/IconChecking",15,15),x.v.SetName_61zpoe$("Checking"),x.v.SetVerticalAlign_qn2em6$(ro()),x.v.SetHorizontalAlign_jdpdm8$(ho());var T=Gi(0,5);T.rotateZ_mx4ult$(0),x.v.SetPosition_dleff0$(C+T.x*this.view.sizeScale.xRatio,z+T.y*this.view.sizeScale.yRatio),null!=(o=this.view.screen)&&o.actionInstant_cinp1s$(void 0,void 0,void 0,void 0,(y=w,$=this,b=x,S=C,k=z,function(e){var t=y.v+360*e.elapsed;if(!0===$.boardGenerator.running){var i=Gi(0,5);i.rotateZ_mx4ult$(t%360),b.v.SetPosition_dleff0$(S+i.x*$.view.sizeScale.xRatio,k+i.y*$.view.sizeScale.yRatio),y.v=t%360}else if(0!==y.v)if(360<=t){var r=Gi(0,5);r.rotateZ_mx4ult$(0),b.v.SetPosition_dleff0$(S+r.x*$.view.sizeScale.xRatio,k+r.y*$.view.sizeScale.yRatio),y.v=0}else{var o=Gi(0,5);o.rotateZ_mx4ult$(t%360),b.v.SetPosition_dleff0$(S+o.x*$.view.sizeScale.xRatio,k+o.y*$.view.sizeScale.yRatio),y.v=t%360}return Ze}))}x.v.SetShow_6taknv$(!0)}else null!=(n=x.v)&&n.SetShow_6taknv$(!1);if(9===Ke.imul(this.gameConfigure.width,this.gameConfigure.height)){var A=this.boardGenerator.countKindOf_9kzzq3$(f.v);if(2===A.first){if(A.second%2==0)return void e(!0);if(9===m)return}else if(3===A.first){var G,I=ol(f.v.length);G=I.length-1|0;for(var N=0;N<=G;N++){var O,M=ol(f.v[0].length);O=M.length-1|0;for(var R=0;R<=O;R++)M[R]=new Le(-1,-1);I[N]=M}var P=I;a=this.gameConfigure.height-1|0;for(var j=0;j<=a;j++){s=this.gameConfigure.width-1|0;for(var B=0;B<=s;B++)P[B][j]=f.v[B][j].copy_xwzc9p$()}if(f.v[0][0].second<this.gameConfigure.kindOfNumber&&0===f.v[0][0].second){var E=(f.v[0][0].first+1|0)%this.gameConfigure.kindOfNumber;f.v[1][0].first===E&&f.v[0][1].first===E&&(f.v[0][0]=new Le(E,f.v[0][0].second))}if(f.v[2][0].second<this.gameConfigure.kindOfNumber&&0===f.v[2][0].second){var L=(f.v[2][0].first+1|0)%this.gameConfigure.kindOfNumber;f.v[1][0].first===L&&f.v[2][1].first===L&&(f.v[2][0]=new Le(L,f.v[2][0].second))}if(f.v[0][2].second<this.gameConfigure.kindOfNumber&&0===f.v[0][2].second){var F=(f.v[0][2].first+1|0)%this.gameConfigure.kindOfNumber;f.v[0][1].first===F&&f.v[1][2].first===F&&(f.v[0][2]=new Le(F,f.v[0][2].second))}if(f.v[2][2].second<this.gameConfigure.kindOfNumber&&0===f.v[2][2].second){var D=(f.v[2][2].first+1|0)%this.gameConfigure.kindOfNumber;f.v[2][1].first===D&&f.v[1][2].first===D&&(f.v[2][2]=new Le(D,f.v[2][2].second))}if(!0===this.boardGenerator.checkComplete_9kzzq3$(f.v))return;var V=this.boardGenerator.countKindOf_9kzzq3$(f.v);if(2===V.first){if(V.second%2==0)return void e(!0);if(9===m)return}else if(9===m)return;if(f.v[0][0].second<this.gameConfigure.kindOfNumber){var U=(f.v[0][0].first+1|0)%this.gameConfigure.kindOfNumber;f.v[1][0].first===U&&f.v[0][1].first===U&&(f.v[0][0]=new Le(U,f.v[0][0].second))}if(f.v[2][0].second<this.gameConfigure.kindOfNumber){var q=(f.v[2][0].first+1|0)%this.gameConfigure.kindOfNumber;f.v[1][0].first===q&&f.v[2][1].first===q&&(f.v[2][0]=new Le(q,f.v[2][0].second))}if(f.v[0][2].second<this.gameConfigure.kindOfNumber){var H=(f.v[0][2].first+1|0)%this.gameConfigure.kindOfNumber;f.v[0][1].first===H&&f.v[1][2].first===H&&(f.v[0][2]=new Le(H,f.v[0][2].second))}if(f.v[2][2].second<this.gameConfigure.kindOfNumber){var W=(f.v[2][2].first+1|0)%this.gameConfigure.kindOfNumber;f.v[2][1].first===W&&f.v[1][2].first===W&&(f.v[2][2]=new Le(W,f.v[2][2].second))}var Y=this.boardGenerator.countKindOf_9kzzq3$(f.v);if(2===Y.first&&Y.second%2==0)return void e(!0);if(f.v=P.slice(),f.v[0][0].second<this.gameConfigure.kindOfNumber&&0===f.v[0][0].second){var X=(f.v[0][0].first+1|0)%this.gameConfigure.kindOfNumber;f.v[1][0].first===X&&f.v[0][1].first===X&&(f.v[0][0]=new Le(X,f.v[0][0].second))}if(f.v[2][0].second<this.gameConfigure.kindOfNumber&&0===f.v[2][0].second){var K=(f.v[2][0].first+1|0)%this.gameConfigure.kindOfNumber;f.v[1][0].first===K&&f.v[2][1].first===K&&(f.v[2][0]=new Le(K,f.v[2][0].second))}if(f.v[0][2].second<this.gameConfigure.kindOfNumber&&0===f.v[0][2].second){var Z=(f.v[0][2].first+1|0)%this.gameConfigure.kindOfNumber;f.v[0][1].first===Z&&f.v[1][2].first===Z&&(f.v[0][2]=new Le(Z,f.v[0][2].second))}if(f.v[2][2].second<this.gameConfigure.kindOfNumber&&0===f.v[2][2].second){var Q=(f.v[2][2].first+1|0)%this.gameConfigure.kindOfNumber;f.v[2][1].first===Q&&f.v[1][2].first===Q&&(f.v[2][2]=new Le(Q,f.v[2][2].second))}}else if(9===m)return}else if(8<m)return;this.boardGenerator.cancelFindNoMoreMatch(),w.v=.1;var J,ee,te;re(ie.Unconfined,void 0,void 0,void 0,(J=this,ee=f,te=e,function(e,t,i){var r=new _h(J,ee,te,e,this,t);return i?r:r.doResume(null)}))}},nh.prototype.isIdle=function(){return!0!==this.isPaused&&!0!==this.isPausedOnlyForLogic&&(!0!==this.isBouncingRemain()&&(!0===this.isFilled()&&!1===this.isTransforming()&&(1===this.gameConfigure.touchInputMode||!1===this.isNeedCheckRemain())))},nh.prototype.isBouncingRemain=function(){var e,t,i;e=this.gameConfigure.width-1|0;for(var r=0;r<=e;r++){t=this.gameConfigure.height-1|0;for(var o=0;o<=t;o++){var n=Ke.isType(i=this.map[r][o],Ed)?i:null;if(null!=n&&!0===n.bouncing)return!0}}return!1},nh.prototype.isTransforming=function(){var e,t,i;e=this.gameConfigure.width-1|0;for(var r=0;r<=e;r++){t=this.gameConfigure.height-1|0;for(var o=0;o<=t;o++){var n=Ke.isType(i=this.map[r][o],ld)?i:null;if(null!=n&&!0===n.isTransforming)return!0}}return!1},nh.prototype.updateInfo=function(){},nh.prototype.comboReset=function(){this.comboTimeRemain=0,this.gameValue.combo=0,!(this.comboSeedScore=0)===this.gameOverFlag&&0===this.gameValue.feverLevel||(this.gameValue.perfectPlay=!1),this.resetAllDelayedBlock()},nh.prototype.checkDelayedBlock=function(){var e,t,i,r=!1;if(0===this.gameConfigure.comboMode){e=this.gameConfigure.width-1|0;for(var o=0;o<=e;o++){t=this.gameConfigure.height-1|0;for(var n=0;n<=t;n++){var a=Ke.isType(i=this.map[o][n],ld)?i:null;null!=a&&0===a.needCheckReason&&(r=!0)}}}!0===r&&(this.comboReset(),this.gameValue.feverGage=this.gameValue.feverGage*this.gameValue.feverGageDecreaseValue,this.gameValue.feverGage<0&&(this.gameValue.feverGage=0))},nh.prototype.checkBottomObstacle=function(){var e,t,i;e=this.gameConfigure.width-1|0;for(var r=0;r<=e;r++)for(var o=this.gameConfigure.height-1|0;0<=o;o--){var n=Ke.isType(t=this.map[r][o],Pd)?t:null;if(null!=n){if(!0===n.isStone)continue;if(o===(this.gameConfigure.height-1|0))n.makeStone();else{var a=Ke.isType(i=this.map[r][o+1|0],Pd)?i:null;null!=a&&!0===a.isStone&&n.makeStone()}}}},nh.prototype.showHint=function(){var e,t,i,r=this.boardGenerator.GetHint();if(-1!==r.first&&-1!==r.second){var o=Ke.isType(e=this.map[r.first][r.second],ld)?e:null;if(null!=o&&o.GetAttribute()!==Vd()){var n,a=jn().value;e:do{if(null==a){n=0;break e}if(Ke.isNumber(a)){n=it(a);break e}if("string"==typeof a)try{n=Qe(a);break e}catch(e){if(Ke.isType(e,ta)){n=0;break e}throw e}n=0}while(0);var s=la(0,0,n,"Resource/UI/IconMarker",this.gameConfigure.tileWidthResult,this.gameConfigure.tileHeightResult);s.SetVerticalAlign_qn2em6$(ro()),s.SetHorizontalAlign_jdpdm8$(lo()),s.SetBlendMode_ieo8yr$(ti()),s.SetBlendFactor_mx4ult$(1),s.SetAlpha_8ca0d4$(0),this.view.addChild_g5h3xp$(s);var l,h=this.boardRect.x,u=r.first;e:do{if(null==u){l=0;break e}if(Ke.isNumber(u)){l=it(u);break e}if("string"==typeof u)try{l=Qe(u);break e}catch(e){if(Ke.isType(e,ta)){l=0;break e}throw e}l=0}while(0);var c,d=h+l*this.gameConfigure.tileWidthResult+.5*this.gameConfigure.tileWidthResult,p=this.boardRect.y,f=r.second;e:do{if(null==f){c=0;break e}if(Ke.isNumber(f)){c=it(f);break e}if("string"==typeof f)try{c=Qe(f);break e}catch(e){if(Ke.isType(e,ta)){c=0;break e}throw e}c=0}while(0);s.SetPosition_dleff0$(d,p+c*this.gameConfigure.tileHeightResult+.5*this.gameConfigure.tileHeightResult),s.addUpdateCallback_sds54w$("Marker",void 0,void 0,void 0,void 0,void 0,(t=s,i={v:0},function(e){return t.SetScaleFromOriginal_mx4ult$(i.v),1<i.v?t.SetAlpha_8ca0d4$(1-(i.v-1)):.8<i.v?t.SetAlpha_8ca0d4$(1):t.SetAlpha_8ca0d4$(0),i.v+=1.5*e.elapsed,!(2<i.v&&(t.SetTimeToLive_mx4ult$(0),1))}))}}},nh.prototype.disableOneBlock=function(){var e,t;e=this.gameConfigure.blockDisableCountAtOnce-1|0;for(var i=0;i<=e;i++){var r,o=go().arc4random_uniform_za3lpa$(Ke.imul(this.gameConfigure.width,this.gameConfigure.height));e:do{if(null==o){r=0;break e}if(Ke.isNumber(o)){r=et(o);break e}if("string"==typeof o)try{r=tt(o);break e}catch(e){if(Ke.isType(e,ta)){r=0;break e}throw e}r=0}while(0);for(var n=r,a=-1,s=0,l=0;;){if(l>Ke.imul(this.gameConfigure.width,this.gameConfigure.height)){this.blockDisableTimeRemain=.01;break}var h=s%this.gameConfigure.width,u=s/this.gameConfigure.width|0,c=Ke.isType(t=this.map[h][u],ld)?t:null;if(null!=c&&(c.GetAttribute()!==Vd()&&(a=a+1|0),a===n)){c.disabledDone=!1,c.SetAttribute_c9f3gi$(Vd());var d=this.boardGenerator.GetHint();d.first===h&&d.second===u&&this.boardGenerator.clearHint();break}(s=s+1|0)>=Ke.imul(this.gameConfigure.width,this.gameConfigure.height)&&(l=l+1|(s=0))}}},nh.prototype.isBlockIncreasable_wsdf01$=function(e){return(!0!==e.needCheck||0!==e.needCheckReason)&&!0!==e.isTransforming},nh.prototype.areAllBlocksIncreasable=function(){var e,t,i;e=this.gameConfigure.width-1|0;for(var r=0;r<=e;r++){t=this.gameConfigure.height-1|0;for(var o=0;o<=t;o++){var n=Ke.isType(i=this.map[r][o],ld)?i:null;if(null!=n&&!1===this.isBlockIncreasable_wsdf01$(n))return!1}}return!0},nh.prototype.isBlockClickable_nwthlc$=function(e){return!0!==e.bouncing&&((!Ke.isType(e,ld)||e.GetAttribute()!==Vd())&&(!0!==e.needCheck&&!0!==e.isTransforming))},nh.prototype.isBlockConnectable_wsdf01$=function(e){return!0},nh.prototype.updateBlockConnection=function(){var e,t,i,r,o,n,a;e=this.gameConfigure.width-1|0;for(var s=0;s<=e;s++){t=this.gameConfigure.height-1|0;for(var l=0;l<=t;l++){var h=Ke.isType(i=this.map[s][l],ld)?i:null;if(null!=h){if(!1===this.isBlockConnectable_wsdf01$(h)){h.connectionBitMask=0,h.removeConnection();continue}var u=0;if(0<l){var c=Ke.isType(r=this.map[s][l-1|0],ld)?r:null;null!=c&&!0===this.isBlockConnectable_wsdf01$(c)&&c.value===h.value&&(u=u+1|0)}if(l<(this.gameConfigure.height-1|0)){var d=Ke.isType(o=this.map[s][l+1|0],ld)?o:null;null!=d&&!0===this.isBlockConnectable_wsdf01$(d)&&d.value===h.value&&(u=u+2|0)}if(0<s){var p=Ke.isType(n=this.map[s-1|0][l],ld)?n:null;null!=p&&!0===this.isBlockConnectable_wsdf01$(p)&&p.value===h.value&&(u=u+4|0)}if(s<(this.gameConfigure.width-1|0)){var f=Ke.isType(a=this.map[s+1|0][l],ld)?a:null;null!=f&&!0===this.isBlockConnectable_wsdf01$(f)&&f.value===h.value&&(u=u+8|0)}h.connectionBitMask!==u&&(h.connectionBitMask=u,h.updateConnection())}}}},nh.prototype.makeMatchConnection_n4bh9e$=function(e){var t,i;for(t=0;t!==e.length;++t){var r=e[t],o=Ke.isType(i=r,ld)?i:null;null!=o&&o.removeConnection()}},nh.prototype.processKeyInput=function(){var e,t,i,r,o,n,a,s,l;for(e=this.entityManager.GetList(),t=0;t!==e.length;++t){var h=e[t],u=Ke.isType(i=h,Gd)?i:null;if(null!=u&&!0===u.isUsed())return void this.cancelKeyInput_za3lpa$()}var c=this.GetClickedButton();if(-1!==c.first&&-1!==c.second){this.lastInput=new Le(-1,-1);var d=c.first,p=c.second;(r=this.gameValue).clickAllCount=r.clickAllCount+1|0;var f=Ke.isType(o=this.map[d][p],Ed)?o:null;if(null!=f)if(Ke.isType(f,ld)){if(!1===this.isBlockClickable_nwthlc$(Ke.isType(n=f,ld)?n:Ee()))return void(f.GetAttribute()===Vd()&&(ql().shared().playEffect_bm4lxs$("shake"),this.cancelKeyInput_za3lpa$(0),f.shake_7b5o5w$(),this.gameValue.feverGage=.9*this.gameValue.feverGage));if(!1===this.preIncreaseChainedTile_qt1dr2$(d,p,f.value))return;ql().shared().playEffect_bm4lxs$("change"),this.boardGenerator.clearHint(),this.checkDelayedBlock(),this.increaseChainedTile_qt1dr2$(d,p,f.value),null!=(a=this.blockDisableTimer)&&a.pause(),this.gameValue.seq=0,this.lastInput=new Le(d,p)}else if(Ke.isType(f,Gd)){this.boardGenerator.clearHint(),(Ke.isType(s=f,Gd)?s:Ee()).SetUsed_6taknv$(!0),null!=(l=this.blockDisableTimer)&&l.pause(),this.gameValue.seq=0}else Ke.isType(f,Pd)&&(ql().shared().playEffect_bm4lxs$("shake"),f.shake_7b5o5w$(),this.gameValue.feverGage=.9*this.gameValue.feverGage);this.boardGenerator.cancelFindNoMoreMatch(),this.cancelKeyInput_za3lpa$(0)}},nh.prototype.addKeyInput_ydzd23$=function(e,t,i){if(void 0===i&&(i=!1),!1===i&&!0===this.gameOverFlag){if(!0!==this.gameConfigure.limitGameTime)return;if(0===this.gameValue.feverLevel)return}if(!0===this.keyInputIgnoreStart){if(this.gameTimeElapsed<this.keyInputIgnoreEnd)return;this.keyInputIgnoreStart=!1}1<this.inputQueue.size||this.inputQueue.add_11rb$(new Le(e,t))},nh.prototype.cancelKeyInput_za3lpa$=function(e){void 0===e&&(e=-1),-1===e?this.inputQueue.clear():this.inputQueue.removeAt_za3lpa$(e)},nh.prototype.ignoreKeyInput_mx4ult$=function(e){this.keyInputIgnoreStart=!0,this.keyInputIgnoreEnd=this.gameTimeElapsed+e},nh.prototype.GetClickedButton=function(){if(0<this.inputQueue.size){var e=this.inputQueue.get_za3lpa$(0);return new Le(e.first,e.second)}return new Le(-1,-1)},nh.prototype.processCheck=function(){var e,t,i,r,o,n,a,s=!1;if(!0===this.checkComplete()){var l=!0;this.processObstacle(),e=this.gameConfigure.width-1|0;for(var h=0;h<=e;h++){t=this.gameConfigure.height-1|0;for(var u=0;u<=t;u++){var c=Ke.isType(i=this.map[h][u],Pd)?i:null;null!=c&&!0===c.matched&&(l=!1,this.removeBlock_vux9f0$(h,u))}}var d=this.clearCompleteTileByChunk();this.increaseCombo(),d>=this.gameConfigure.amountOfNirvana?this.prepareDrop_103y6$(d,!1,l):this.prepareDrop_103y6$(d,void 0,l),s=!0}r=this.gameConfigure.width-1|0;for(var p=0;p<=r;p++){o=this.gameConfigure.height-1|0;for(var f=0;f<=o;f++){var m=Ke.isType(n=this.map[p][f],Gd)?n:null;if(null!=m&&!0===m.isUsed()&&!0===this.isIdle()){this.isPaused=!0,m.used=!1;var v=this.processItem_lwb297$(m,p,f);return null!=(a=this.view.screen)&&a.actionDelay_ab0iom$(v,void 0,yh(this)),this.prepareDrop_103y6$(1,void 0,!1),!0}}}return s},nh.prototype.increaseCombo=function(){var e,t;(e=this.gameValue).combo=e.combo+1|0;var i,r=this.gameConfigure.comboTiming,o=this.gameValue.combo;e:do{if(null==o){i=0;break e}if(Ke.isNumber(o)){i=it(o);break e}if("string"==typeof o)try{i=Qe(o);break e}catch(e){if(Ke.isType(e,ta)){i=0;break e}throw e}i=0}while(0);var n=r-i*this.gameConfigure.comboTimingAdjust;n<this.gameConfigure.comboTimingLowest&&(n=this.gameConfigure.comboTimingLowest),this.comboTimeRemain=n,1<this.gameValue.combo&&this.createComboMark(),null!=(t=this.beginnerTimer)&&t.pause(),(this.gameValue.combo-1|0)>this.gameValue.maxComboOnGame&&(this.gameValue.maxComboOnGame=this.gameValue.combo-1|0)},nh.prototype.processObstacle=function(){var e,t,i,r,o,n,a;e=this.gameConfigure.width-1|0;for(var s=0;s<=e;s++){t=this.gameConfigure.height-1|0;for(var l=0;l<=t;l++){var h=Ke.isType(i=this.map[s][l],Pd)?i:null;if(null!=h){if(!0===h.isStone)continue;if(0<s){var u=null!=(r=this.map[s-1|0][l])?r.value:null;if(null!=u&&0!==this.clear[s-1|0][l]&&!0===h.isPair_za3lpa$(u)){h.matched=!0;continue}}if(s<(this.gameConfigure.width-1|0)){var c=null!=(o=this.map[s+1|0][l])?o.value:null;if(null!=c&&0!==this.clear[s+1|0][l]&&!0===h.isPair_za3lpa$(c)){h.matched=!0;continue}}if(0<l){var d=null!=(n=this.map[s][l-1|0])?n.value:null;if(null!=d&&0!==this.clear[s][l-1|0]&&!0===h.isPair_za3lpa$(d)){h.matched=!0;continue}}if(l<(this.gameConfigure.height-1|0)){var p=null!=(a=this.map[s][l+1|0])?a.value:null;if(null!=p&&0!==this.clear[s][l+1|0]&&!0===h.isPair_za3lpa$(p)){h.matched=!0;continue}}}}}},nh.prototype.processItem_lwb297$=function(e,t,i){var r,o,n,a,s,l,h,u,c,d,p=0;return Ke.isType(e,Nd)?(p=this.resetDisabledBlock_wnu51o$(t-1|0,t+1|0,void 0,!0),null!=(r=this.view.screen)&&r.actionDelay_ab0iom$(p,void 0,(d=e,function(){return d.explode_nhq4am$(),Ze})),this.removeBlock_vux9f0$(t,i)):Ke.isType(e,Od)?(p=this.explodeSameBlock_n119nu$(Ke.isType(o=e,Od)?o:Ee()),null!=(n=this.view.screen)&&n.actionDelay_ab0iom$(p,void 0,(c=e,function(){return c.explode_nhq4am$(),Ze})),this.removeBlock_vux9f0$(t,i)):Ke.isType(e,Md)?(p=this.explodeNearBlock_qt1dr2$(t,i),null!=(a=e.sprite)&&a.SetBlendMode_ieo8yr$(ti()),null!=(s=e.sprite)&&s.SetBlendFactor_mx4ult$(0),null!=(l=e.sprite)&&l.SetColor_vnjrmz$(ui().red_mx4ult$()),null!=(h=this.view.screen)&&h.actionFade_ntk7i0$(p,0,1,null,(u=e,function(e,t){var i,r;null!=(i=u.sprite)&&i.SetBlendFactor_mx4ult$(e),!0===t&&(null!=(r=u.sprite)&&r.SetBlendFactor_mx4ult$(1),u.explode_nhq4am$())})),this.removeBlock_vux9f0$(t,i)):Ke.isType(e,Rd)&&(p=this.explodeLineBlock_lwb297$(e,t,i)),p},nh.prototype.isItemRemain=function(){var e,t;e=this.gameConfigure.width-1|0;for(var i=0;i<=e;i++){t=this.gameConfigure.height-1|0;for(var r=0;r<=t;r++)if(Ke.isType(this.map[i][r],Gd))return!0}return!1},nh.prototype.processRemain=function(){var e,t,i,r,o,n,a,s;e=this.gameConfigure.width-1|0;for(var l=0;l<=e;l++){t=this.gameConfigure.height-1|0;for(var h=0;h<=t;h++)if(Ke.isType(this.map[l][h],Rd))return this.cancelKeyInput_za3lpa$(),this.addKeyInput_ydzd23$(l,h,!0),!0}i=this.gameConfigure.width-1|0;for(var u=0;u<=i;u++){r=this.gameConfigure.height-1|0;for(var c=0;c<=r;c++)if(Ke.isType(this.map[u][c],Md))return this.cancelKeyInput_za3lpa$(),this.addKeyInput_ydzd23$(u,c,!0),!0}o=this.gameConfigure.width-1|0;for(var d=0;d<=o;d++){n=this.gameConfigure.height-1|0;for(var p=0;p<=n;p++)if(Ke.isType(this.map[d][p],Od))return this.cancelKeyInput_za3lpa$(),this.addKeyInput_ydzd23$(d,p,!0),!0}a=this.gameConfigure.width-1|0;for(var f=0;f<=a;f++){s=this.gameConfigure.height-1|0;for(var m=0;m<=s;m++)if(Ke.isType(this.map[f][m],Nd))return this.cancelKeyInput_za3lpa$(),this.addKeyInput_ydzd23$(f,m,!0),!0}return!1},nh.prototype.isAllDisabled=function(){var e,t,i;e=this.gameConfigure.width-1|0;for(var r=0;r<=e;r++){t=this.gameConfigure.height-1|0;for(var o=0;o<=t;o++){var n=Ke.isType(i=this.map[r][o],ld)?i:null;if(null!=n&&n.GetAttribute()!==Vd())return!1}}return!0},nh.prototype.disabledAllBlock=function(){for(var e,t,i=0,r=this.gameConfigure.height-1|0;0<=r;r--){e=this.gameConfigure.width-1|0;for(var o=0;o<=e;o++){if(null!=this.map[o][r]){var n=Ke.isType(t=this.map[o][r],ld)?t:null;null!=n&&n.SetAttribute_c9f3gi$(Vd())}i=i+1|0}}},nh.prototype.dropOffAllBlock=function(){var e,t,i,r,o,n=0,a=Ke.imul(this.gameConfigure.height,this.gameConfigure.width);e:do{if(null==a){o=0;break e}if(Ke.isNumber(a)){o=it(a);break e}if("string"==typeof a)try{o=Qe(a);break e}catch(e){if(Ke.isType(e,ta)){o=0;break e}throw e}o=0}while(0);for(var s=1/o,l=this.gameConfigure.height-1|0;0<=l;l--){e=this.gameConfigure.width-1|0;for(var h=0;h<=e;h++){if(null!=this.map[h][l]){var u=Ke.isType(t=this.map[h][l],Ed)?t:null;if(null!=u){if(null!=(i=this.view.screen)){var c,d=n;e:do{if(null==d){c=0;break e}if(Ke.isNumber(d)){c=it(d);break e}if("string"==typeof d)try{c=Qe(d);break e}catch(e){if(Ke.isType(e,ta)){c=0;break e}throw e}c=0}while(0);i.actionDelay_ab0iom$(s*c,void 0,$h(u,this))}this.map[h][l]=null;var p=Ke.isType(r=u,ld)?r:null;null!=p&&(p.connectionBitMask=0,p.removeConnection())}}n=n+1|0}}},nh.prototype.regenAllBlock_za3lpa$=function(e){var t,i;this.boardGenerator.createNewBoard_s8cxhz$();var r=this.boardGenerator.GetBoard().first;t=this.gameConfigure.width-1|0;for(var o=0;o<=t;o++){i=this.gameConfigure.height-1|0;for(var n=0;n<=i;n++){var a=r[o][this.gameConfigure.height-n-1|0];this.entityManager.createBlock_mwco6a$(this,a,void 0,o,e-(o+(3*n|0))|0).moveTo_mp7p4f$(o,3,this.gameConfigure.fallingSpeed,this.gameConfigure.fallingSpeedLimitForNoMoreMove,this.gameConfigure.acceleration),this.map[o][n]=null,this.hintMap[o][n]=0,this.clear[o][n]=0}}var s,l=new Int32Array(this.gameConfigure.width);s=l.length-1|0;for(var h=0;h<=s;h++)l[h]=0;this.createColumn=l;var u,c=ol(this.gameConfigure.width);u=c.length-1|0;for(var d=0;d<=u;d++){var p,f=new Int32Array(this.gameConfigure.height);p=f.length-1|0;for(var m=0;m<=p;m++)f[m]=0;c[d]=f}this.increaseCheck=c},nh.prototype.createScore_l4u1g4$=function(e,t){if(!(this.quality<1)){var i="";if(0<(t/1e3|0)){var r,o=t/100|0;e:do{if(null==o){r=0;break e}if(Ke.isNumber(o)){r=it(o);break e}if("string"==typeof o)try{r=Qe(o);break e}catch(e){if(Ke.isType(e,ta)){r=0;break e}throw e}r=0}while(0);var n=r/10;if((t/100|0)%10==0){var a;e:do{if(null==n){a=0;break e}if(Ke.isNumber(n)){a=et(n);break e}if("string"==typeof n)try{a=tt(n);break e}catch(e){if(Ke.isType(e,ta)){a=0;break e}throw e}a=0}while(0);var s,l=a;e:do{if(Ke.isNumber(l)){s=l.toString();break e}if("string"==typeof l){s=l;break e}if("boolean"==typeof l){s=l.toString();break e}if(Ke.isChar(l)){s=l.toString();break e}s=""}while(0);i=s+"K"}else{var h;e:do{if(Ke.isNumber(n)){h=n.toString();break e}if("string"==typeof n){h=n;break e}if("boolean"==typeof n){h=n.toString();break e}if(Ke.isChar(n)){h=n.toString();break e}h=""}while(0);i=h+"K"}}else{var u;e:do{if(Ke.isNumber(t)){u=t.toString();break e}if("string"==typeof t){u=t;break e}if("boolean"==typeof t){u=t.toString();break e}if(Ke.isChar(t)){u=t.toString();break e}u=""}while(0);i=u}var c;if(t<1e3){var d,p=e.x,f=e.y,m=Mn().value;e:do{if(null==m){d=0;break e}if(Ke.isNumber(m)){d=it(m);break e}if("string"==typeof m)try{d=Qe(m);break e}catch(e){if(Ke.isType(e,ta)){d=0;break e}throw e}d=0}while(0);(c=Yr(p,f,d,i,"Gage/")).SetBlendFactor_mx4ult$(1),c.SetColor_vnjrmz$(ui().white_mx4ult$())}else{var v,g=e.x,_=e.y,y=Mn().value;e:do{if(null==y){v=0;break e}if(Ke.isNumber(y)){v=it(y);break e}if("string"==typeof y)try{v=Qe(y);break e}catch(e){if(Ke.isType(e,ta)){v=0;break e}throw e}v=0}while(0);(c=Yr(g,_,v,i,"Gage/")).SetColor_vnjrmz$(ui().puzzleYellow_mx4ult$()),c.SetBlendFactor_mx4ult$(1)}c.SetSize_dleff0$(-1,26*this.view.sizeScale.yRatio),c.SetVerticalAlign_qn2em6$(ro()),c.SetHorizontalAlign_jdpdm8$(lo());var $,b,S,k=e.x-c.GetSize().width/2,w=this.boardRect.x;e:do{if(null==w){$=0;break e}if(Ke.isNumber(w)){$=it(w);break e}if("string"==typeof w)try{$=Qe(w);break e}catch(e){if(Ke.isType(e,ta)){$=0;break e}throw e}$=0}while(0);if(k<$){var x,C=this.boardRect.x;e:do{if(null==C){x=0;break e}if(Ke.isNumber(C)){x=it(C);break e}if("string"==typeof C)try{x=Qe(C);break e}catch(e){if(Ke.isType(e,ta)){x=0;break e}throw e}x=0}while(0);e.x=x+c.GetSize().width/2,c.SetPosition_dleff0$(e.x,e.y)}if(e.x+c.GetSize().width/2>this.boardRect.x+this.boardRect.width){var z,T=this.boardRect.x;e:do{if(null==T){z=0;break e}if(Ke.isNumber(T)){z=it(T);break e}if("string"==typeof T)try{z=Qe(T);break e}catch(e){if(Ke.isType(e,ta)){z=0;break e}throw e}z=0}while(0);e.x=z+this.boardRect.width-c.GetSize().width/2,c.SetPosition_dleff0$(e.x,e.y)}c.SetTimeToLive_mx4ult$(1),c.addUpdateCallback_sds54w$("Create Score",void 0,void 0,void 0,void 0,void 0,(b=c,S=this,function(e){var t=e.elapsed;return b.SetPosition_dleff0$(b.GetPosition().x,b.GetPosition().y-100*t*S.view.sizeScale.yRatio),.5<e.age&&b.SetAlpha_8ca0d4$(1-2*(e.age-.5),!0),!0})),this.view.addChild_g5h3xp$(c)}},nh.prototype.createTimePlus_4tzqwv$=function(e,t){var i,r,o,n="+"+Ns(t)+"s",a=e.x,s=e.y,l=Mn().value;e:do{if(null==l){r=0;break e}if(Ke.isNumber(l)){r=it(l);break e}if("string"==typeof l)try{r=Qe(l);break e}catch(e){if(Ke.isType(e,ta)){r=0;break e}throw e}r=0}while(0);(i=Yr(a,s,r,n,"Gage/")).SetColor_vnjrmz$(ui().puzzleYellow_mx4ult$()),i.SetBlendFactor_mx4ult$(1),i.SetSize_dleff0$(-1,16*this.view.sizeScale.yRatio),i.SetVerticalAlign_qn2em6$(ro()),i.SetHorizontalAlign_jdpdm8$(so()),i.SetTimeToLive_mx4ult$(2),i.addUpdateCallback_sds54w$("Create Score",void 0,void 0,void 0,void 0,void 0,(o=i,function(e){return e.timeToLive-e.age<.5&&o.SetAlpha_8ca0d4$(1-2*(e.timeToLive-e.age-.5),!0),!0})),this.view.addChild_g5h3xp$(i)},nh.prototype.createMatchBackground_old_jpdi8v$=function(e,t,i){var r,o,n,a,s,l,h,u,c,d;if(void 0===t&&(t=.5),!(this.quality<1)){var p,f=ol(this.gameConfigure.width);p=f.length-1|0;for(var m=0;m<=p;m++){var v,g=ol(this.gameConfigure.height);v=g.length-1|0;for(var _=0;_<=v;_++)g[_]=new Le(null,255);f[m]=g}var y=f;for(r=0;r!==e.length;++r){var $=e[r],b=Ke.isType(o=$,ld)?o:null;null!=b&&(y[b.GetScreenX()][b.GetScreenY()]=new Le(b,255))}n=this.gameConfigure.width-1|0;for(var S=0;S<=n;S++){a=this.gameConfigure.height-1|0;for(var k=0;k<=a;k++){var w=y[S][k].first;if(null!=w){var x=null!=w?w.value:null,C=0;if(0<k){var z=y[S][k-1|0].first;null!=z&&z.value===x&&(C=C+1|0)}if(k<(this.gameConfigure.height-1|0)){var T=y[S][k+1|0].first;null!=T&&T.value===x&&(C=C+2|0)}if(0<S){var A=y[S-1|0][k].first;null!=A&&A.value===x&&(C=C+4|0)}if(S<(this.gameConfigure.width-1|0)){var G=y[S+1|0][k].first;null!=G&&G.value===x&&(C=C+8|0)}y[S][k]=new Le(y[S][k].first,C);var I,N=Je(w).GetRealScreenX(),O=Je(w).GetRealScreenY(),M=Mn().value;e:do{if(null==M){I=0;break e}if(Ke.isNumber(M)){I=it(M);break e}if("string"==typeof M)try{I=Qe(M);break e}catch(e){if(Ke.isType(e,ta)){I=0;break e}throw e}I=0}while(0);var R,P=I,j=C;e:do{if(Ke.isNumber(j)){R=j.toString();break e}if("string"==typeof j){R=j;break e}if("boolean"==typeof j){R=j.toString();break e}if(Ke.isChar(j)){R=j.toString();break e}R=""}while(0);var B,E="MatchBorder"+R,L=this.gameConfigure.tileWidthResult;e:do{if(null==L){B=0;break e}if(Ke.isNumber(L)){B=it(L);break e}if("string"==typeof L)try{B=Qe(L);break e}catch(e){if(Ke.isType(e,ta)){B=0;break e}throw e}B=0}while(0);var F,D=B,V=this.gameConfigure.tileHeightResult;e:do{if(null==V){F=0;break e}if(Ke.isNumber(V)){F=it(V);break e}if("string"==typeof V)try{F=Qe(V);break e}catch(e){if(Ke.isType(e,ta)){F=0;break e}throw e}F=0}while(0);var U=la(N,O,P,E,D,F);U.SetHorizontalAlign_jdpdm8$(lo()),U.SetVerticalAlign_qn2em6$(ro()),U.SetBlendFactor_mx4ult$(1),U.SetColor_vnjrmz$(i),this.view.addChild_g5h3xp$(U),U.SetAlpha_8ca0d4$(0),null!=(s=this.view.screen)&&s.actionFadeIn_hkbjms$(U,void 0,void 0,void 0,.1),null!=(l=this.view.screen)&&l.actionFadeOut_7vo5wp$(U,void 0,t,.3,void 0,void 0,void 0,bh(U))}}}h=this.gameConfigure.width-1|0;for(var q=0;q<=h;q++){u=this.gameConfigure.height-1|0;for(var H=0;H<=u;H++){var W=y[q][H].first;if(null!=W){var Y=y[q][H].second;if(0===Y||1===Y||2===Y||4===Y||8===Y)continue;var X=255,K=255,Z=255,Q=255;0<H&&(X=y[q][H-1|0].second),H<(this.gameConfigure.height-1|0)&&(K=y[q][H+1|0].second),0<q&&(Z=y[q-1|0][H].second),q<(this.gameConfigure.width-1|0)&&(Q=y[q+1|0][H].second);var J=0;0==(1&Z)&&0==(4&X)&&(J=J+1|0),0==(1&Q)&&0==(8&X)&&(J=J+2|0),0==(2&Z)&&0==(4&K)&&(J=J+4|0),0==(2&Q)&&0==(8&K)&&(J=J+8|0);var ee,te=W.GetRealScreenX(),ie=W.GetRealScreenY(),re=Mn().value;e:do{if(null==re){ee=0;break e}if(Ke.isNumber(re)){ee=it(re);break e}if("string"==typeof re)try{ee=Qe(re);break e}catch(e){if(Ke.isType(e,ta)){ee=0;break e}throw e}ee=0}while(0);var oe,ne=ee,ae=J;e:do{if(Ke.isNumber(ae)){oe=ae.toString();break e}if("string"==typeof ae){oe=ae;break e}if("boolean"==typeof ae){oe=ae.toString();break e}if(Ke.isChar(ae)){oe=ae.toString();break e}oe=""}while(0);var se,le="MatchCorner"+oe,he=this.gameConfigure.tileWidthResult;e:do{if(null==he){se=0;break e}if(Ke.isNumber(he)){se=it(he);break e}if("string"==typeof he)try{se=Qe(he);break e}catch(e){if(Ke.isType(e,ta)){se=0;break e}throw e}se=0}while(0);var ue,ce=se,de=this.gameConfigure.tileHeightResult;e:do{if(null==de){ue=0;break e}if(Ke.isNumber(de)){ue=it(de);break e}if("string"==typeof de)try{ue=Qe(de);break e}catch(e){if(Ke.isType(e,ta)){ue=0;break e}throw e}ue=0}while(0);var pe=la(te,ie,ne,le,ce,ue);pe.SetHorizontalAlign_jdpdm8$(lo()),pe.SetVerticalAlign_qn2em6$(ro()),pe.SetBlendFactor_mx4ult$(1),pe.SetColor_vnjrmz$(i),this.view.addChild_g5h3xp$(pe),pe.SetAlpha_8ca0d4$(0),null!=(c=this.view.screen)&&c.actionFadeIn_hkbjms$(pe,void 0,void 0,void 0,.1),null!=(d=this.view.screen)&&d.actionFadeOut_7vo5wp$(pe,void 0,t,.3,void 0,void 0,void 0,Sh(pe))}}}}},nh.prototype.createMatchBackground_jpdi8v$=function(e,t,i){var r,o,n,a,s,l,h,u,c,d;if(void 0===t&&(t=.5),!(this.quality<1)){var p,f=ol(this.gameConfigure.width);p=f.length-1|0;for(var m=0;m<=p;m++){var v,g=ol(this.gameConfigure.height);v=g.length-1|0;for(var _=0;_<=v;_++)g[_]=new Le(null,255);f[m]=g}var y=f,$=0,b=0;r=this.gameConfigure.width-1|0;for(var S=0;S<=r;S++){for(o=b=0;o!==e.length;++o){var k=e[o],w=Ke.isType(n=k,ld)?n:null;null!=w&&w.GetScreenX()===S&&(b=b+1|0,y[S][w.GetScreenY()]=new Le(w,255))}var x;if(3<=b)x=($=$+1|0)%2==0?ui().puzzleYellow_mx4ult$():ui().white_mx4ult$(),this.createMatchBackgroundLine_4vdr8k$(y,t,Je(x));a=this.gameConfigure.width-1|0;for(var C=0;C<=a;C++){s=this.gameConfigure.height-1|0;for(var z=0;z<=s;z++)y[C][z]=new Le(null,255)}}l=this.gameConfigure.height-1|0;for(var T=0;T<=l;T++){for(h=b=0;h!==e.length;++h){var A=e[h],G=Ke.isType(u=A,ld)?u:null;null!=G&&G.GetScreenY()===T&&(b=b+1|0,y[G.GetScreenX()][T]=new Le(G,255))}var I;if(3<=b)I=($=$+1|0)%2==0?ui().puzzleYellow_mx4ult$():ui().white_mx4ult$(),this.createMatchBackgroundLine_4vdr8k$(y,t,Je(I));c=this.gameConfigure.width-1|0;for(var N=0;N<=c;N++){d=this.gameConfigure.height-1|0;for(var O=0;O<=d;O++)y[N][O]=new Le(null,255)}}}},nh.prototype.createMatchBackgroundLine_4vdr8k$=function(e,t,i){var r,o,n,a,s,l;void 0===t&&(t=.5);var h=e;r=this.gameConfigure.width-1|0;for(var u=0;u<=r;u++){o=this.gameConfigure.height-1|0;for(var c=0;c<=o;c++){var d=h[u][c].first;if(null!=d){var p=d.value,f=0;if(0<c){var m=h[u][c-1|0].first;null!=m&&m.value===p&&(f=f+1|0)}if(c<(this.gameConfigure.height-1|0)){var v=h[u][c+1|0].first;null!=v&&v.value===p&&(f=f+2|0)}if(0<u){var g=h[u-1|0][c].first;null!=g&&g.value===p&&(f=f+4|0)}if(u<(this.gameConfigure.width-1|0)){var _=h[u+1|0][c].first;null!=_&&_.value===p&&(f=f+8|0)}h[u][c]=new Le(h[u][c].first,f);var y,$=d.GetRealScreenX(),b=d.GetRealScreenY(),S=Mn().value;e:do{if(null==S){y=0;break e}if(Ke.isNumber(S)){y=it(S);break e}if("string"==typeof S)try{y=Qe(S);break e}catch(e){if(Ke.isType(e,ta)){y=0;break e}throw e}y=0}while(0);var k,w=y,x=f;e:do{if(Ke.isNumber(x)){k=x.toString();break e}if("string"==typeof x){k=x;break e}if("boolean"==typeof x){k=x.toString();break e}if(Ke.isChar(x)){k=x.toString();break e}k=""}while(0);var C,z="MatchBorder"+k,T=this.gameConfigure.tileWidthResult;e:do{if(null==T){C=0;break e}if(Ke.isNumber(T)){C=it(T);break e}if("string"==typeof T)try{C=Qe(T);break e}catch(e){if(Ke.isType(e,ta)){C=0;break e}throw e}C=0}while(0);var A,G=C,I=this.gameConfigure.tileHeightResult;e:do{if(null==I){A=0;break e}if(Ke.isNumber(I)){A=it(I);break e}if("string"==typeof I)try{A=Qe(I);break e}catch(e){if(Ke.isType(e,ta)){A=0;break e}throw e}A=0}while(0);var N=la($,b,w,z,G,A);N.SetHorizontalAlign_jdpdm8$(lo()),N.SetVerticalAlign_qn2em6$(ro()),N.SetBlendMode_ieo8yr$(ti()),N.SetBlendFactor_mx4ult$(1),N.SetColor_vnjrmz$(i),this.view.addChild_g5h3xp$(N),N.SetAlpha_8ca0d4$(1),null!=(n=this.view.screen)&&n.actionFadeOut_7vo5wp$(N,void 0,t,.1,void 0,void 0,void 0,kh(N))}}}a=this.gameConfigure.width-1|0;for(var O=0;O<=a;O++){s=this.gameConfigure.height-1|0;for(var M=0;M<=s;M++){var R=h[O][M].first;if(null!=R){var P=h[O][M].second;if(0===P||1===P||2===P||4===P||8===P)continue;var j=255,B=255,E=255,L=255;0<M&&(j=h[O][M-1|0].second),M<(this.gameConfigure.height-1|0)&&(B=h[O][M+1|0].second),0<O&&(E=h[O-1|0][M].second),O<(this.gameConfigure.width-1|0)&&(L=h[O+1|0][M].second);var F=0;0==(1&E)&&0==(4&j)&&(F=F+1|0),0==(1&L)&&0==(8&j)&&(F=F+2|0),0==(2&E)&&0==(4&B)&&(F=F+4|0),0==(2&L)&&0==(8&B)&&(F=F+8|0);var D,V=R.GetRealScreenX(),U=R.GetRealScreenY(),q=Mn().value;e:do{if(null==q){D=0;break e}if(Ke.isNumber(q)){D=it(q);break e}if("string"==typeof q)try{D=Qe(q);break e}catch(e){if(Ke.isType(e,ta)){D=0;break e}throw e}D=0}while(0);var H,W=D,Y=F;e:do{if(Ke.isNumber(Y)){H=Y.toString();break e}if("string"==typeof Y){H=Y;break e}if("boolean"==typeof Y){H=Y.toString();break e}if(Ke.isChar(Y)){H=Y.toString();break e}H=""}while(0);var X,K="MatchCorner"+H,Z=this.gameConfigure.tileWidthResult;e:do{if(null==Z){X=0;break e}if(Ke.isNumber(Z)){X=it(Z);break e}if("string"==typeof Z)try{X=Qe(Z);break e}catch(e){if(Ke.isType(e,ta)){X=0;break e}throw e}X=0}while(0);var Q,J=X,ee=this.gameConfigure.tileHeightResult;e:do{if(null==ee){Q=0;break e}if(Ke.isNumber(ee)){Q=it(ee);break e}if("string"==typeof ee)try{Q=Qe(ee);break e}catch(e){if(Ke.isType(e,ta)){Q=0;break e}throw e}Q=0}while(0);var te=la(V,U,W,K,J,Q);te.SetHorizontalAlign_jdpdm8$(lo()),te.SetVerticalAlign_qn2em6$(ro()),te.SetBlendMode_ieo8yr$(ti()),te.SetBlendFactor_mx4ult$(1),te.SetColor_vnjrmz$(i),this.view.addChild_g5h3xp$(te),te.SetAlpha_8ca0d4$(1),null!=(l=this.view.screen)&&l.actionFadeOut_7vo5wp$(te,void 0,t,.1,void 0,void 0,void 0,wh(te))}}}},nh.prototype.createComboMark=function(){var e=new dn(1,-3);e.SetScale_mx4ult$(1.2),e.SetTimeMultiplier_mx4ult$(3);var t=new dn(0,-30*this.view.sizeScale.yRatio);t.SetTimeMultiplier_mx4ult$(2.5);var A,G,I,N,O;this.view.createAction_xcdeti$("Combo Mark",!1,!0,void 0,-1,void 0,void 0,(A=e,G=this,N={v:!(I={v:null})},O=t,function(e){var t,i,r,o,n,a,s,l,h,u,c,d,p=A.update_mx4ult$(e.elapsed),f=G.gameValue.combo-1|0,m=160*G.view.sizeScale.xRatio;e:do{if(Ke.isNumber(f)){d=f.toString();break e}if("string"==typeof f){d=f;break e}if("boolean"==typeof f){d=f.toString();break e}if(Ke.isChar(f)){d=f.toString();break e}d=""}while(0);var v,g=d.length;e:do{if(null==g){v=0;break e}if(Ke.isNumber(g)){v=it(g);break e}if("string"==typeof g)try{v=Qe(g);break e}catch(e){if(Ke.isType(e,ta)){v=0;break e}throw e}v=0}while(0);var _=Gi(m+5*v,G.boardRect.y-G.gameConfigure.tileHeightResult);if(1===e.count){var y,$;e:do{if(Ke.isNumber(f)){$=f.toString();break e}if("string"==typeof f){$=f;break e}if("boolean"==typeof f){$=f.toString();break e}if(Ke.isChar(f)){$=f.toString();break e}$=""}while(0);y=$+As(" Combo");var b,S=I,k=_.x,w=_.y,x=Pn().value;e:do{if(null==x){b=0;break e}if(Ke.isNumber(x)){b=it(x);break e}if("string"==typeof x)try{b=Qe(x);break e}catch(e){if(Ke.isType(e,ta)){b=0;break e}throw e}b=0}while(0);S.v=Yr(k,w,b,y,"Gage/"),null!=(t=I.v)&&t.SetSize_dleff0$(-1,30*G.view.sizeScale.yRatio),null!=(i=I.v)&&i.SetVerticalAlign_qn2em6$(ro()),null!=(r=I.v)&&r.SetHorizontalAlign_jdpdm8$(lo());var C=[new Le(ui().sky_mx4ult$(),ui().salmon_mx4ult$(.8)),new Le(ui().lemon_mx4ult$(),ui().salmon_mx4ult$(.8)),new Le(ui().strawberry_mx4ult$(),ui().salmon_mx4ult$(.8)),new Le(ui().grape_mx4ult$(),ui().salmon_mx4ult$(.8)),new Le(ui().spring_mx4ult$(),ui().salmon_mx4ult$(.8))],z=f/20|0;C.length<=z&&(z=C.length-1|0),null!=(o=I.v)&&o.SetColor_vnjrmz$(C[z].first),null!=(n=I.v)&&n.SetBlendFactor_mx4ult$(1),G.view.addChild_g5h3xp$(Je(I.v)),null!=(a=I.v)&&a.SetChildAlpha_qiya20$(void 0,void 0,1)}if(G.comboTimeRemain<.5&&!1===N.v&&(N.v=!0,null!=(s=G.view.screen)&&s.actionFadeOut_7vo5wp$(Je(I.v),void 0,void 0,.5)),!0===N.v){var T=O.update_mx4ult$(e.elapsed);null!=(l=I.v)&&l.SetPosition_dleff0$(Je(I.v).GetPosition().x,_.y+T*G.view.sizeScale.yRatio)}return 0<p?null!=(h=I.v)&&h.SetScaleOriginal_mx4ult$(1+p):p<=0&&null!=(u=I.v)&&u.SetScaleOriginal_mx4ult$(1),0!==e.elapsed&&0!==G.gameValue.combo||(null!=(c=I.v)&&c.removeFromParent(),!1)}))},nh.prototype.createBackgroundEffect=function(){var w,e=.15;this.quality<2&&(e=.3),this.view.createAction_xcdeti$("Background Effect",!0,!1,!0,void 0,e,void 0,(w=this,function(e){var t,i=go().arc4random_uniform_za3lpa$(320);e:do{if(null==i){t=0;break e}if(Ke.isNumber(i)){t=it(i);break e}if("string"==typeof i)try{t=Qe(i);break e}catch(e){if(Ke.isType(e,ta)){t=0;break e}throw e}t=0}while(0);var r,o=0+t,n=go().arc4random_uniform_za3lpa$(480);e:do{if(null==n){r=0;break e}if(Ke.isNumber(n)){r=it(n);break e}if("string"==typeof n)try{r=Qe(n);break e}catch(e){if(Ke.isType(e,ta)){r=0;break e}throw e}r=0}while(0);var a=0+r,s=w.view.positionUniversalToDevice_xpb3zu$(o,a),l=!(s.z=100),h=ui().white_mx4ult$(),u=go().arc4random_uniform_za3lpa$(100);u<60&&(l=!0),20<u&&u<50&&(h=ui().puzzleYellow_mx4ult$(.8));var c,d=w.particleManager,p=5*w.view.sizeScale.xRatio,f=800*w.view.sizeScale.xRatio,m=go().arc4random_uniform_za3lpa$(100);e:do{if(null==m){c=0;break e}if(Ke.isNumber(m)){c=it(m);break e}if("string"==typeof m)try{c=Qe(m);break e}catch(e){if(Ke.isType(e,ta)){c=0;break e}throw e}c=0}while(0);var v,g=3+c/100,_=h,y=Gi(5,5,100),$=Gi(50*w.view.sizeScale.xRatio,50*w.view.sizeScale.xRatio,100),b=l,S=jn().value;e:do{if(null==S){v=0;break e}if(Ke.isNumber(S)){v=it(S);break e}if("string"==typeof S)try{v=Qe(S);break e}catch(e){if(Ke.isType(e,ta)){v=0;break e}throw e}v=0}while(0);var k=d.createFairy2_emwd81$(s,p,f,g,"Resource/UI/Particle",_,y,$,void 0,!0,b,v,w.view);return null!=k&&(k.name="fairy"),!0}))},nh.prototype.removeBackgroundEffect=function(){var e;for(this.view.removeAction_sbe383$("Background Effect"),e=this.particleManager.GetObjectList().iterator();e.hasNext();){var t=e.next();ue(t.name,"fairy")&&(t.movement.x=0,t.movement.y=0,t.movement.z=0,t.accel.y=-1500)}},nh.prototype.createFeverBackgroundEffect=function(){var e=.05;this.quality<2&&(e=.1);var fe,me;this.view.createAction_xcdeti$("Fever Background",void 0,void 0,void 0,void 0,e,void 0,(fe=this,me={v:0},function(e){if(0===e.elapsed)return!1;if(e.age<1)return!0;if(-1!==e.timeToLive&&e.age+1>e.timeToLive)return!1;var t=1;if(fe.quality<2&&(t=6),me.v=me.v+1|0,me.v===t){me.v=0;var i=ui().white_mx4ult$(),r=go().arc4random_uniform_za3lpa$(100);20<r&&r<50&&(i=ui().puzzleYellow_mx4ult$(.8));var o,n=go(),a=fe.view.size.width;e:do{if(null==a){o=0;break e}if(Ke.isNumber(a)){o=et(a);break e}if("string"==typeof a)try{o=tt(a);break e}catch(e){if(Ke.isType(e,ta)){o=0;break e}throw e}o=0}while(0);var s,l=n.arc4random_uniform_za3lpa$(o);e:do{if(null==l){s=0;break e}if(Ke.isNumber(l)){s=it(l);break e}if("string"==typeof l)try{s=Qe(l);break e}catch(e){if(Ke.isType(e,ta)){s=0;break e}throw e}s=0}while(0);var h,u=s,c=fe.view.size.height+50,d=fe.particleManager,p=go().arc4random_uniform_za3lpa$(70);e:do{if(null==p){h=0;break e}if(Ke.isNumber(p)){h=it(p);break e}if("string"==typeof p)try{h=Qe(p);break e}catch(e){if(Ke.isType(e,ta)){h=0;break e}throw e}h=0}while(0);var f,m=h-50,v=200+go().arc4random_uniform_za3lpa$(200)|0;e:do{if(null==v){f=0;break e}if(Ke.isNumber(v)){f=it(v);break e}if("string"==typeof v)try{f=Qe(v);break e}catch(e){if(Ke.isType(e,ta)){f=0;break e}throw e}f=0}while(0);var g=d.createStar_2a19qk$(u,c,m,f*fe.view.sizeScale.xRatio,"Resource/UI/Particle",i,void 0,void 0,!0,!0,-20);null!=g&&(g.timeToLive=3,g.movement.y=-1500*fe.view.sizeScale.yRatio)}if(fe.quality<1)return!0;if(0===go().arc4random_uniform_za3lpa$(2)){var _,y=ui().white_mx4ult$(),$=go(),b=fe.view.size.width;e:do{if(null==b){_=0;break e}if(Ke.isNumber(b)){_=et(b);break e}if("string"==typeof b)try{_=tt(b);break e}catch(e){if(Ke.isType(e,ta)){_=0;break e}throw e}_=0}while(0);var S,k=$.arc4random_uniform_za3lpa$(_);e:do{if(null==k){S=0;break e}if(Ke.isNumber(k)){S=it(k);break e}if("string"==typeof k)try{S=Qe(k);break e}catch(e){if(Ke.isType(e,ta)){S=0;break e}throw e}S=0}while(0);var w,x=S,C=go(),z=fe.view.size.height;e:do{if(null==z){w=0;break e}if(Ke.isNumber(z)){w=et(z);break e}if("string"==typeof z)try{w=tt(z);break e}catch(e){if(Ke.isType(e,ta)){w=0;break e}throw e}w=0}while(0);var T,A=C.arc4random_uniform_za3lpa$(w);e:do{if(null==A){T=0;break e}if(Ke.isNumber(A)){T=it(A);break e}if("string"==typeof A)try{T=Qe(A);break e}catch(e){if(Ke.isType(e,ta)){T=0;break e}throw e}T=0}while(0);var G,I=T,N=100*fe.view.sizeScale.yRatio;e:do{if(null==N){G=0;break e}if(Ke.isNumber(N)){G=it(N);break e}if("string"==typeof N)try{G=Qe(N);break e}catch(e){if(Ke.isType(e,ta)){G=0;break e}throw e}G=0}while(0);var O,M=I+G,R=fe.particleManager,P=go().arc4random_uniform_za3lpa$(70)+30|0;e:do{if(null==P){O=0;break e}if(Ke.isNumber(P)){O=it(P);break e}if("string"==typeof P)try{O=Qe(P);break e}catch(e){if(Ke.isType(e,ta)){O=0;break e}throw e}O=0}while(0);var j,B=O,E=100+go().arc4random_uniform_za3lpa$(150)|0;e:do{if(null==E){j=0;break e}if(Ke.isNumber(E)){j=it(E);break e}if("string"==typeof E)try{j=Qe(E);break e}catch(e){if(Ke.isType(e,ta)){j=0;break e}throw e}j=0}while(0);var L=R.createStar_2a19qk$(x,M,B,j*fe.view.sizeScale.xRatio,"Resource/UI/Particle",y,void 0,void 0,!0,!0,-10);if(null!=L){L.timeToLive=2;var F,D=L.rotation;e:do{if(Ke.isNumber(975)){F=it(975);break e}F=0}while(0);D.z=F,L.keepDirection=!0;var V,U=L.movement,q=300+go().arc4random_uniform_za3lpa$(300)|0;e:do{if(null==q){V=0;break e}if(Ke.isNumber(q)){V=it(q);break e}if("string"==typeof q)try{V=Qe(q);break e}catch(e){if(Ke.isType(e,ta)){V=0;break e}throw e}V=0}while(0);U.y=-1*V*fe.view.sizeScale.yRatio,L.SetCallback_lnidq9$(xh)}}var H,W=go(),Y=fe.view.size.width;e:do{if(null==Y){H=0;break e}if(Ke.isNumber(Y)){H=et(Y);break e}if("string"==typeof Y)try{H=tt(Y);break e}catch(e){if(Ke.isType(e,ta)){H=0;break e}throw e}H=0}while(0);var X,K=W.arc4random_uniform_za3lpa$(H);e:do{if(null==K){X=0;break e}if(Ke.isNumber(K)){X=it(K);break e}if("string"==typeof K)try{X=Qe(K);break e}catch(e){if(Ke.isType(e,ta)){X=0;break e}throw e}X=0}while(0);var Z,Q=X,J=go(),ee=fe.view.size.height;e:do{if(null==ee){Z=0;break e}if(Ke.isNumber(ee)){Z=et(ee);break e}if("string"==typeof ee)try{Z=tt(ee);break e}catch(e){if(Ke.isType(e,ta)){Z=0;break e}throw e}Z=0}while(0);var te,ie=J.arc4random_uniform_za3lpa$(Z);e:do{if(null==ie){te=0;break e}if(Ke.isNumber(ie)){te=it(ie);break e}if("string"==typeof ie)try{te=Qe(ie);break e}catch(e){if(Ke.isType(e,ta)){te=0;break e}throw e}te=0}while(0);var re,oe=te,ne=100*fe.view.sizeScale.yRatio;e:do{if(null==ne){re=0;break e}if(Ke.isNumber(ne)){re=it(ne);break e}if("string"==typeof ne)try{re=Qe(ne);break e}catch(e){if(Ke.isType(e,ta)){re=0;break e}throw e}re=0}while(0);var ae,se=oe+re,le=fe.particleManager,he=100+go().arc4random_uniform_za3lpa$(50)|0;e:do{if(null==he){ae=0;break e}if(Ke.isNumber(he)){ae=it(he);break e}if("string"==typeof he)try{ae=Qe(he);break e}catch(e){if(Ke.isType(e,ta)){ae=0;break e}throw e}ae=0}while(0);var ue=le.createStar_2a19qk$(Q,se,-50,ae*fe.view.sizeScale.xRatio,"Resource/UI/Particle",void 0,1,void 0,!0,!0,-10);if(null!=ue){var ce,de=ue.movement,pe=400+go().arc4random_uniform_za3lpa$(500)|0;e:do{if(null==pe){ce=0;break e}if(Ke.isNumber(pe)){ce=it(pe);break e}if("string"==typeof pe)try{ce=Qe(pe);break e}catch(e){if(Ke.isType(e,ta)){ce=0;break e}throw e}ce=0}while(0);de.y=-1*ce*fe.view.sizeScale.yRatio,ue.timeToLive=2,ue.SetCallback_lnidq9$(Ch)}return!0}))},nh.prototype.removeFeverBackgroundEffect=function(){this.view.removeAction_sbe383$("Fever Background")},nh.prototype.createFeverMark=function(){var e=new dn;this.view.createAction_xcdeti$("Fever Mark",!0,void 0,void 0,2,void 0,void 0,Th(this,{v:null},e))},nh.prototype.createMainScore=function(){var C,z,T,A,G,I,e=new dn;this.view.createAction_xcdeti$("Main Score",void 0,void 0,void 0,void 0,void 0,void 0,(C=this,z={v:null},T=50,A={v:0},G=e,I={v:0},function(e){var t,i,r,o,n,a,s,l,h;if(1===e.count){var u=30+C.bannerOffset/C.view.sizeScale.yRatio;return C.view.SetChildVerticalAlign_qn2em6$(io()),C.view.SetFontName_61zpoe$("BigScore/"),z.v=C.view.createLabel_17tgk7$(160,u,Rn(),"0",null,!1,null,null,!1),null!=(t=z.v)&&t.SetColor_vnjrmz$(ui().puzzleYellow_mx4ult$()),null!=(i=z.v)&&i.SetBlendFactor_mx4ult$(1),null!=(r=z.v)&&r.SetHorizontalAlign_jdpdm8$(lo()),null!=(o=z.v)&&o.SetVerticalAlign_qn2em6$(io()),null!=(n=z.v)&&n.SetText_61zpoe$("0"),null!=(a=z.v)&&a.SetSize_dleff0$(-1,T*C.view.sizeScale.yRatio),!0}if(A.v!==C.gameValue.score){A.v=C.gameValue.score;var c,d=G,p=I.v;e:do{if(null==p){c=0;break e}if(Ke.isNumber(p)){c=it(p);break e}if("string"==typeof p)try{c=Qe(p);break e}catch(e){if(Ke.isType(e,ta)){c=0;break e}throw e}c=0}while(0);d.reset_y2kzbl$(void 0,void 0,c);var f,m=G,v=A.v;e:do{if(null==v){f=0;break e}if(Ke.isNumber(v)){f=it(v);break e}if("string"==typeof v)try{f=Qe(v);break e}catch(e){if(Ke.isType(e,ta)){f=0;break e}throw e}f=0}while(0);m.SetTarget_nfvrp9$(f,-50,1.5,void 0,-1)}if(I.v<A.v){var g,_=I,y=G.update_mx4ult$(e.elapsed);e:do{if(null==y){g=0;break e}if(Ke.isNumber(y)){g=et(y);break e}if("string"==typeof y)try{g=tt(y);break e}catch(e){if(Ke.isType(e,ta)){g=0;break e}throw e}g=0}while(0);_.v=g,I.v>A.v&&(I.v=A.v);var $=Is(I.v);if(null!=(s=z.v)&&s.SetText_61zpoe$($),5<$.length){if(null!=(l=z.v)){var b,S=T*C.view.sizeScale.yRatio,k=$.length-5|0;e:do{if(null==k){b=0;break e}if(Ke.isNumber(k)){b=it(k);break e}if("string"==typeof k)try{b=Qe(k);break e}catch(e){if(Ke.isType(e,ta)){b=0;break e}throw e}b=0}while(0);var w,x=b;e:do{if(Ke.isNumber(25)){w=it(25);break e}w=0}while(0);l.SetSize_dleff0$(-1,S*(1-x/w))}}else null!=(h=z.v)&&h.SetSize_dleff0$(-1,T*C.view.sizeScale.yRatio)}return!0}))},nh.prototype.createTimeBar=function(){new dn;var t,e=this.gameConfigure.width;e:do{if(null==e){t=0;break e}if(Ke.isNumber(e)){t=it(e);break e}if("string"==typeof e)try{t=Qe(e);break e}catch(e){if(Ke.isType(e,ta)){t=0;break e}throw e}t=0}while(0);var Ee,Le,Fe,De,Ve,Ue,qe,He,We,Ye,Xe,i={v:this.gameConfigure.tileWidthResult*t-4*this.gameConfigure.tileWidthGap},r={v:this.gameConfigure.bottomGaugeHeight},o=this.view.positionDeviceToUniversal_xpb3zu$(0,this.boardRect.y+this.boardRect.height+this.gameConfigure.tileHeightGap),n=this.view.positionDeviceToUniversal_xpb3zu$(i.v,r.v),a=o.y;i.v=n.x,r.v=n.y,this.view.createAction_xcdeti$("Time Bar",void 0,void 0,void 0,void 0,void 0,void 0,(Ee=this,Le=160,Fe=a,De=i,Ve=r,Ue={v:null},qe={v:null},He={v:0},We={v:0},Ye={v:null},Xe={v:0},function(e){var t,i,r,o,n,a,s,l,h,u,c,d,p,f,m,v,g,_,y,$,b,S,k,w,x,C;if(1===e.count){var z,T=Ue,A=Ee.view,G=Le,I=Fe,N=Cn().value;e:do{if(null==N){z=0;break e}if(Ke.isNumber(N)){z=it(N);break e}if("string"==typeof N)try{z=Qe(N);break e}catch(e){if(Ke.isType(e,ta)){z=0;break e}throw e}z=0}while(0);T.v=A.createMask_jga54f$(G,I,z,Ee.gameConfigure.uiFolder+"fever_board",De.v,Ve.v,void 0,void 0,!1,void 0,void 0,!1),null!=(t=Ue.v)&&t.SetHorizontalAlign_jdpdm8$(lo()),null!=(i=Ue.v)&&i.SetVerticalAlign_qn2em6$(io());var O,M=Ee.view,R=Le-.5*De.v,P=Fe,j=Cn().value;e:do{if(null==j){O=0;break e}if(Ke.isNumber(j)){O=it(j);break e}if("string"==typeof j)try{O=Qe(j);break e}catch(e){if(Ke.isType(e,ta)){O=0;break e}throw e}O=0}while(0);var B=M.createSprite_591x4d$(R,P,O,Ee.gameConfigure.uiFolder+"fever_board_left",-1,Ve.v,void 0,void 0,!1,!1);B.SetHorizontalAlign_jdpdm8$(ho()),B.SetVerticalAlign_qn2em6$(io());var E,L=Ee.view,F=Le+.5*De.v,D=Fe,V=Cn().value;e:do{if(null==V){E=0;break e}if(Ke.isNumber(V)){E=it(V);break e}if("string"==typeof V)try{E=Qe(V);break e}catch(e){if(Ke.isType(e,ta)){E=0;break e}throw e}E=0}while(0);var U=L.createSprite_591x4d$(F,D,E,Ee.gameConfigure.uiFolder+"fever_board_right",-1,Ve.v,void 0,void 0,!1,!1);U.SetHorizontalAlign_jdpdm8$(so()),U.SetVerticalAlign_qn2em6$(io()),De.v=Je(Ue.v).GetSize().width,Ve.v=Je(Ue.v).GetSize().height;var q=la(0,0,void 0,Ee.gameConfigure.uiFolder+"fever_board",De.v,Ve.v);q.SetBlendFactor_mx4ult$(1),null!=(r=Ue.v)&&r.addChild_g5h3xp$(q),qe.v=la(0,.2*Ve.v,void 0,Ee.gameConfigure.uiFolder+"timer_gage",De.v,.6*Ve.v),null!=(o=qe.v)&&o.SetBlendFactor_mx4ult$(1),null!=(n=Ue.v)&&n.addChild_g5h3xp$(Je(qe.v)),He.v=Ee.gameValue.gameTime;var H,W=We,Y=He.v;e:do{if(null==Y){H=0;break e}if(Ke.isNumber(Y)){H=et(Y);break e}if("string"==typeof Y)try{H=tt(Y);break e}catch(e){if(Ke.isType(e,ta)){H=0;break e}throw e}H=0}while(0);if(W.v=H,Ee.view.SetFontName_61zpoe$("Gage/"),!0===Ee.gameConfigure.blockDisablePeriodically){Ee.view.SetFontHorizontalAlign_jdpdm8$(lo()),Ee.view.SetFontVerticalAlign_qn2em6$(ro());var X=Ee.gameValue.blockDisableTime.toString(),K=rt(X,".")+3|0;K>X.length&&(K=X.length,X+=".00");var Z=K;X=X.substring(0,Z),Ye.v=Ee.view.createLabel_17tgk7$(De.v/2,Ve.v/2,void 0,X,Ue.v),null!=(a=Ye.v)&&a.SetVerticalAlign_qn2em6$(ro()),null!=(s=Ye.v)&&s.SetSize_dleff0$(-1,1.2*Je(qe.v).GetSize().height),null!=(l=Ye.v)&&l.SetBlendFactor_mx4ult$(1),null!=(h=Ye.v)&&h.SetColor_vnjrmz$(ui().white_mx4ult$()),Xe.v=Ee.gameValue.blockDisableTime}if(!0===Ee.gameConfigure.limitGameTime){Ee.view.SetFontHorizontalAlign_jdpdm8$(lo()),Ee.view.SetFontVerticalAlign_qn2em6$(ro());var Q,J=Ee.gameValue.gameTime;e:do{if(null==J){Q=0;break e}if(Ke.isNumber(J)){Q=et(J);break e}if("string"==typeof J)try{Q=tt(J);break e}catch(e){if(Ke.isType(e,ta)){Q=0;break e}throw e}Q=0}while(0);var ee,te=Q%60;e:do{if(Ke.isNumber(te)){ee=te.toString();break e}if("string"==typeof te){ee=te;break e}if("boolean"==typeof te){ee=te.toString();break e}if(Ke.isChar(te)){ee=te.toString();break e}ee=""}while(0);var ie=ee;1===ie.length&&(ie="0"+ie);var re,oe=Ye,ne=Ee.view,ae=De.v/2,se=Ve.v/2,le=Ee.gameValue.gameTime;e:do{if(null==le){re=0;break e}if(Ke.isNumber(le)){re=et(le);break e}if("string"==typeof le)try{re=tt(le);break e}catch(e){if(Ke.isType(e,ta)){re=0;break e}throw e}re=0}while(0);var he,ue=re/60|0;e:do{if(Ke.isNumber(ue)){he=ue.toString();break e}if("string"==typeof ue){he=ue;break e}if("boolean"==typeof ue){he=ue.toString();break e}if(Ke.isChar(ue)){he=ue.toString();break e}he=""}while(0);oe.v=ne.createLabel_17tgk7$(ae,se,void 0,he+":"+ie,Ue.v),null!=(u=Ye.v)&&u.SetSize_dleff0$(-1,1.2*Je(qe.v).GetSize().height),null!=(c=Ye.v)&&c.SetBlendFactor_mx4ult$(1),null!=(d=Ye.v)&&d.SetColor_vnjrmz$(ui().white_mx4ult$())}}if(null!=(p=Ye.v)&&p.SetName_61zpoe$("Timer Label"),!0===Ee.gameConfigure.blockDisablePeriodically){var ce=Ee.blockDisableTimeRemain/Ee.gameValue.blockDisableTime;if(null!=(f=qe.v)&&f.SetPosition_dleff0$(-1*De.v+ce*De.v,Je(qe.v).GetPosition().y),Xe.v!==Ee.gameValue.blockDisableTime){if(Ee.gameValue.blockDisableTime===Ee.gameConfigure.minimumTimeForBlockDisableTime&&null!=(m=Ye.v)&&m.SetColor_vnjrmz$(ui().puzzlePurple_mx4ult$()),null!=(v=Ye.v)){var de,pe=Ee.gameValue.blockDisableTime;e:do{if(Ke.isNumber(pe)){de=pe.toString();break e}if("string"==typeof pe){de=pe;break e}if("boolean"==typeof pe){de=pe.toString();break e}if(Ke.isChar(pe)){de=pe.toString();break e}de=""}while(0);v.SetText_61zpoe$(de)}null!=(g=Ye.v)&&g.SetSize_dleff0$(-1,1.2*Je(qe.v).GetSize().height),Xe.v=Ee.gameValue.blockDisableTime}}if(!0===Ee.gameConfigure.resetTimeEveryClear){var fe=Ee.gameValue.gameTime-Ee.gameTimeElapsed;fe<=0&&(fe=0,null!=(_=Ye.v)&&_.SetText_61zpoe$("0:00"));var me=fe/Ee.gameValue.gameTime;if(null!=(y=qe.v)&&y.SetPosition_dleff0$(-1*De.v+me*De.v,Je(qe.v).GetPosition().y),null!=($=Ye.v)){var ve,ge=fe+.99;e:do{if(null==ge){ve=0;break e}if(Ke.isNumber(ge)){ve=et(ge);break e}if("string"==typeof ge)try{ve=tt(ge);break e}catch(e){if(Ke.isType(e,ta)){ve=0;break e}throw e}ve=0}while(0);var _e,ye=ve;e:do{if(Ke.isNumber(ye)){_e=ye.toString();break e}if("string"==typeof ye){_e=ye;break e}if("boolean"==typeof ye){_e=ye.toString();break e}if(Ke.isChar(ye)){_e=ye.toString();break e}_e=""}while(0);$.SetText_61zpoe$(_e)}null!=(b=Ye.v)&&b.SetSize_dleff0$(-1,1.2*Je(qe.v).GetSize().height)}else if(!0===Ee.gameConfigure.limitGameTime){var $e=Ee.gameRemainTime;$e<=0&&($e=0,null!=(S=Ye.v)&&S.SetText_61zpoe$("0:00"),null!=(k=Ye.v)&&k.SetSize_dleff0$(-1,1.2*Je(qe.v).GetSize().height));var be,Se=$e;e:do{if(null==Se){be=0;break e}if(Ke.isNumber(Se)){be=et(Se);break e}if("string"==typeof Se)try{be=tt(Se);break e}catch(e){if(Ke.isType(e,ta)){be=0;break e}throw e}be=0}while(0);if(be!==We.v){var ke,we=We,xe=$e;e:do{if(null==xe){ke=0;break e}if(Ke.isNumber(xe)){ke=et(xe);break e}if("string"==typeof xe)try{ke=tt(xe);break e}catch(e){if(Ke.isType(e,ta)){ke=0;break e}throw e}ke=0}while(0);we.v=ke;var Ce,ze=We.v+1|0;e:do{if(null==ze){Ce=0;break e}if(Ke.isNumber(ze)){Ce=et(ze);break e}if("string"==typeof ze)try{Ce=tt(ze);break e}catch(e){if(Ke.isType(e,ta)){Ce=0;break e}throw e}Ce=0}while(0);var Te,Ae=Ce%60;e:do{if(Ke.isNumber(Ae)){Te=Ae.toString();break e}if("string"==typeof Ae){Te=Ae;break e}if("boolean"==typeof Ae){Te=Ae.toString();break e}if(Ke.isChar(Ae)){Te=Ae.toString();break e}Te=""}while(0);var Ge=Te;if(1===Ge.length&&(Ge="0"+Ge),null!=(w=Ye.v)){var Ie,Ne=We.v+1|0;e:do{if(null==Ne){Ie=0;break e}if(Ke.isNumber(Ne)){Ie=et(Ne);break e}if("string"==typeof Ne)try{Ie=tt(Ne);break e}catch(e){if(Ke.isType(e,ta)){Ie=0;break e}throw e}Ie=0}while(0);var Oe,Me=Ie/60|0;e:do{if(Ke.isNumber(Me)){Oe=Me.toString();break e}if("string"==typeof Me){Oe=Me;break e}if("boolean"==typeof Me){Oe=Me.toString();break e}if(Ke.isChar(Me)){Oe=Me.toString();break e}Oe=""}while(0);w.SetText_61zpoe$(Oe+":"+Ge)}null!=(x=Ye.v)&&x.SetSize_dleff0$(-1,1.2*Je(qe.v).GetSize().height)}var Re,Pe=Ee.gameRemainTime,je=Ee.gameValue.gameTime;e:do{if(null==je){Re=0;break e}if(Ke.isNumber(je)){Re=it(je);break e}if("string"==typeof je)try{Re=Qe(je);break e}catch(e){if(Ke.isType(e,ta)){Re=0;break e}throw e}Re=0}while(0);var Be=Pe/Re;0<=Be&&null!=(C=qe.v)&&C.SetPosition_dleff0$(-1*De.v+Be*De.v,Je(qe.v).GetPosition().y),$e<=5&&!1===Ee.timerSoundFired&&(ql().shared().playEffect_bm4lxs$("timer",-1),Ee.timerSoundFired=!0)}return!0}))},nh.prototype.createFeverGage=function(){var t,e=new dn,i=this.gameConfigure.width;e:do{if(null==i){t=0;break e}if(Ke.isNumber(i)){t=it(i);break e}if("string"==typeof i)try{t=Qe(i);break e}catch(e){if(Ke.isType(e,ta)){t=0;break e}throw e}t=0}while(0);var r={v:this.gameConfigure.tileWidthResult*t-4*this.gameConfigure.tileWidthGap},o={v:this.gameConfigure.topGaugeHeight},n=this.view.positionDeviceToUniversal_xpb3zu$(0,this.boardRect.y-this.gameConfigure.tileHeightGap),a=this.view.positionDeviceToUniversal_xpb3zu$(r.v,o.v),s=n.y;r.v=a.x,o.v=a.y,this.view.createAction_xcdeti$("Fever Gage",void 0,void 0,void 0,void 0,void 0,void 0,Ah(this,160,s,r,o,{v:null},{v:null},{v:null},{v:0},{v:0},{v:0},e,{v:0},{v:0}))},nh.prototype.explodeSameBlock_n119nu$=function(e){var t,i,r,o,n,a,s,l=e.subValue,h={v:Fe()};t=this.gameConfigure.width-1|0;for(var u=0;u<=t;u++){i=this.gameConfigure.height-1|0;for(var c=0;c<=i;c++){var d=Ke.isType(r=this.map[u][c],Ed)?r:null;null!=d&&Ke.isType(d,ld)&&d.value===l&&(h.v.add_11rb$(d),this.removeBlock_vux9f0$(u,c))}}if(0===h.v.size)return 0;ql().shared().playEffect_bm4lxs$("laser"),this.shakeBoard_s2l86p$(void 0,void 0,void 0,1,2.5);var p=.7*this.gameConfigure.tileWidth,f=e.GetRealScreenX(),m=e.GetRealScreenY();for(o=h.v.iterator();o.hasNext();){var v,g=o.next(),_=Gi(g.GetRealScreenX()-f,g.GetRealScreenY()-m),y=_.length2D(),$=_.GetDegree(),b=Ke.isType(n=this.gameValue.blockInfo,Jf)?n:Ee(),S=f+.5*_.x,k=m+.5*_.y,w=In().value;e:do{if(null==w){v=0;break e}if(Ke.isNumber(w)){v=it(w);break e}if("string"==typeof w)try{v=Qe(w);break e}catch(e){if(Ke.isType(e,ta)){v=0;break e}throw e}v=0}while(0);var x,C=la(S,k,v,"Lightning01_"+b.colorMap.get_za3lpa$(l),p,y),z=new Et(["Lightning01_"+b.colorMap.get_za3lpa$(l),"Lightning02_"+b.colorMap.get_za3lpa$(l),"Lightning03_"+b.colorMap.get_za3lpa$(l)],.1,-1,p,y,0,0),T=go().arc4random_uniform_za3lpa$(3);e:do{if(null==T){x=0;break e}if(Ke.isNumber(T)){x=et(T);break e}if("string"==typeof T)try{x=tt(T);break e}catch(e){if(Ke.isType(e,ta)){x=0;break e}throw e}x=0}while(0);z.SetStartFrame_za3lpa$(x),z.SetEndFrame_za3lpa$(2),C.SetAnimation_pe1q5w$(z),C.SetVerticalAlign_qn2em6$(ro()),C.SetHorizontalAlign_jdpdm8$(lo()),C.SetRotationDegree_mx4ult$($),C.SetBlendMode_ieo8yr$(ti()),C.SetBlendFactor_mx4ult$(1),this.view.addChild_g5h3xp$(C),null!=(a=this.view.screen)&&a.actionFade_ntk7i0$(.6,.8*this.gameConfigure.tileWidth,0,null,Gh(C))}var A,G,I,N=this.calcScore_za3lpa$(h.v.size);return null!=(s=this.view.screen)&&s.actionDelay_ab0iom$(.6,void 0,(A=h,G=this,I=N,function(){var e;for(0<A.v.size&&(ql().shared().playEffect_bm4lxs$("singlebomb"),G.increaseCombo()),e=A.v.iterator();e.hasNext();){var t=e.next();t.explode_nhq4am$();var i=Gi(t.GetRealScreenX(),t.GetRealScreenY());G.createScore_l4u1g4$(i,I.first)}return Ze})),this.gameValue.lastEarnedScore=this.gameValue.lastEarnedScore+N.second|0,this.gameValue.score=this.gameValue.score+N.second|0,Ie().shared().SetTitle_61zpoe$(Is(this.gameValue.score)),.6},nh.prototype.explodeNearBlock_qt1dr2$=function(e,t,i){var r,o,n,a,s;void 0===i&&(i=0);var l=[new Le(e+1|0,t+1|0),new Le(e,t+1|0),new Le(e-1|0,t+1|0),new Le(e-1|0,t),new Le(e-1|0,t-1|0),new Le(e,t-1|0),new Le(e+1|0,t-1|0),new Le(e+1|0,t)],h={v:Fe()},u={v:0};for(r=0;r!==l.length;++r){var c=l[r];if(0<=c.first&&c.first<this.gameConfigure.width&&0<=c.second&&c.second<this.gameConfigure.height){var d=Ke.isType(o=this.map[c.first][c.second],Ed)?o:null;null!=d&&(Ke.isType(d,ld)||Ke.isType(d,Pd))&&(h.v.add_11rb$(d),0===i&&(this.removeBlock_vux9f0$(c.first,c.second),u.v=u.v+1|0))}}if(0===h.v.size)return 0;var p={v:3*this.gameConfigure.tileWidth};3<this.gameConfigure.width&&(p.v*=2);var f,m=h.v.size;e:do{if(null==m){f=0;break e}if(Ke.isNumber(m)){f=it(m);break e}if("string"==typeof m)try{f=Qe(m);break e}catch(e){if(Ke.isType(e,ta)){f=0;break e}throw e}f=0}while(0);var v=.6/f;.06<v&&(v=.06),ql().shared().playEffect_bm4lxs$("pop9");for(var g,_,y,$,b,S,k,w=0,x=h.v.iterator();x.hasNext();++w){var C,z,T=x.next();e:do{if(null==w){z=0;break e}if(Ke.isNumber(w)){z=it(w);break e}if("string"==typeof w)try{z=Qe(w);break e}catch(e){if(Ke.isType(e,ta)){z=0;break e}throw e}z=0}while(0);var A=z*v;null!=(C=this.view.screen)&&C.actionDelay_ab0iom$(A,void 0,Ih(T,this,p))}if(null!=(n=this.view.screen)){var G,I=h.v.size-1;e:do{if(null==I){G=0;break e}if(Ke.isNumber(I)){G=it(I);break e}if("string"==typeof I)try{G=Qe(I);break e}catch(e){if(Ke.isType(e,ta)){G=0;break e}throw e}G=0}while(0);n.actionDelay_ab0iom$(G*v+.2,void 0,(g=this,_=e,y=t,function(){var t,e=jn().value;e:do{if(null==e){t=0;break e}if(Ke.isNumber(e)){t=it(e);break e}if("string"==typeof e)try{t=Qe(e);break e}catch(e){if(Ke.isType(e,ta)){t=0;break e}throw e}t=0}while(0);var i=la(0,0,t,"Resource/UI/IconMarker",g.gameConfigure.tileWidthResult,g.gameConfigure.tileHeightResult);i.SetVerticalAlign_qn2em6$(ro()),i.SetHorizontalAlign_jdpdm8$(lo()),i.SetBlendMode_ieo8yr$(ti()),i.SetBlendFactor_mx4ult$(1),i.SetAlpha_8ca0d4$(0),g.view.addChild_g5h3xp$(i);var r,o=g.boardRect.x,n=_;e:do{if(null==n){r=0;break e}if(Ke.isNumber(n)){r=it(n);break e}if("string"==typeof n)try{r=Qe(n);break e}catch(e){if(Ke.isType(e,ta)){r=0;break e}throw e}r=0}while(0);var a,s,l,h=o+r*g.gameConfigure.tileWidthResult+.5*g.gameConfigure.tileWidthResult,u=g.boardRect.y,c=y;e:do{if(null==c){a=0;break e}if(Ke.isNumber(c)){a=it(c);break e}if("string"==typeof c)try{a=Qe(c);break e}catch(e){if(Ke.isType(e,ta)){a=0;break e}throw e}a=0}while(0);return i.SetPosition_dleff0$(h,u+a*g.gameConfigure.tileHeightResult+.5*g.gameConfigure.tileHeightResult),i.addUpdateCallback_sds54w$("Marker",void 0,void 0,void 0,void 0,void 0,(s=i,l={v:0},function(e){return s.SetScaleFromOriginal_mx4ult$(l.v),l.v<=3&&(.8<l.v?s.SetAlpha_8ca0d4$(1):s.SetAlpha_8ca0d4$(0)),l.v+=25*e.elapsed,.15<e.age&&s.SetAlpha_8ca0d4$(1-2*(e.age-.15)),1<e.age&&s.SetTimeToLive_mx4ult$(0),!0})),Ze}))}if(null!=(a=this.view.screen)){var N,O=h.v.size-1|0;e:do{if(null==O){N=0;break e}if(Ke.isNumber(O)){N=it(O);break e}if("string"==typeof O)try{N=Qe(O);break e}catch(e){if(Ke.isType(e,ta)){N=0;break e}throw e}N=0}while(0);a.actionDelay_ab0iom$(N*v+.3,void 0,($=u,b=this,S=h,k=i,function(){var e;for(0<$.v&&(b.increaseCombo(),ql().shared().playEffect_bm4lxs$("boom"),b.shakeBoard_s2l86p$(void 0,void 0,void 0,2,5)),e=S.v.iterator();e.hasNext();){var t=e.next();0===k&&t.explode_nhq4am$(void 0,void 0,.3)}return Ze}))}var M=this.calcScore_za3lpa$(u.v);if(null!=(s=this.view.screen)){var R,P=h.v.size-1|0;e:do{if(null==P){R=0;break e}if(Ke.isNumber(P)){R=it(P);break e}if("string"==typeof P)try{R=Qe(P);break e}catch(e){if(Ke.isType(e,ta)){R=0;break e}throw e}R=0}while(0);s.actionDelay_ab0iom$(R*v,void 0,Nh(0,this,e,t,M,h))}var j,B=h.v.size-1|0;e:do{if(null==B){j=0;break e}if(Ke.isNumber(B)){j=it(B);break e}if("string"==typeof B)try{j=Qe(B);break e}catch(e){if(Ke.isType(e,ta)){j=0;break e}throw e}j=0}while(0);return j*v+.3},nh.prototype.explodeLineBlock_lwb297$=function(e,t,i){var r,o,n,a,s,l,h,u=Fe(),c=Fe(),d={v:0},p=(Ke.isType(r=e,Rd)?r:Ee()).subValue;if(0===p||2===p){o=this.gameConfigure.width-1|0;for(var f=0;f<=o;f++){var m=this.map[f][i];Ke.isType(m,ld)?(m.connectionBitMask=0,m.removeConnection(),u.add_11rb$(m),this.removeBlock_vux9f0$(f,i),d.v=d.v+1|0):Ke.isType(m,Pd)?!1===m.isStone&&(u.add_11rb$(m),this.removeBlock_vux9f0$(f,i),d.v=d.v+1|0):Ke.isType(m,Gd)&&m===e&&(u.add_11rb$(m),this.removeBlock_vux9f0$(f,i),d.v=d.v+1|0)}}if(1===p||2===p)for(var v=this.gameConfigure.height-1|0;0<=v;v--){var g=this.map[t][v];Ke.isType(g,ld)?(g.connectionBitMask=0,g.removeConnection(),c.add_11rb$(g),this.removeBlock_vux9f0$(t,v),d.v=d.v+1|0):Ke.isType(g,Pd)?!1===g.isStone&&(c.add_11rb$(g),this.removeBlock_vux9f0$(t,v),d.v=d.v+1|0):Ke.isType(g,Gd)&&g===e&&(c.add_11rb$(g),this.removeBlock_vux9f0$(t,v),d.v=d.v+1|0)}if(0===u.size&&0===c.size)return 0;this.increaseCombo(),ql().shared().playEffect_bm4lxs$("electricity"),this.shakeBoard_s2l86p$(void 0,void 0,void 0,1.5,3);var _,y,$=["LineFlash01_red","LineFlash02_red","LineFlash03_red"];if(0<u.size){var b,S=this.gameConfigure.tileWidth,k=this.gameConfigure.tileHeightResult,w=this.gameConfigure.height;e:do{if(null==w){b=0;break e}if(Ke.isNumber(w)){b=it(w);break e}if("string"==typeof w)try{b=Qe(w);break e}catch(e){if(Ke.isType(e,ta)){b=0;break e}throw e}b=0}while(0);var x,C=k*b,z=this.boardRect.x,T=this.gameConfigure.tileHeightResult,A=this.gameConfigure.height;e:do{if(null==A){x=0;break e}if(Ke.isNumber(A)){x=it(A);break e}if("string"==typeof A)try{x=Qe(A);break e}catch(e){if(Ke.isType(e,ta)){x=0;break e}throw e}x=0}while(0);var G,I=z+T*x*.5,N=this.boardRect.y;e:do{if(null==i){G=0;break e}if(Ke.isNumber(i)){G=it(i);break e}if("string"==typeof i)try{G=Qe(i);break e}catch(e){if(Ke.isType(e,ta)){G=0;break e}throw e}G=0}while(0);var O,M=N+G*this.gameConfigure.tileHeightResult+this.gameConfigure.tileHeightResult/2,R=In().value;e:do{if(null==R){O=0;break e}if(Ke.isNumber(R)){O=it(R);break e}if("string"==typeof R)try{O=Qe(R);break e}catch(e){if(Ke.isType(e,ta)){O=0;break e}throw e}O=0}while(0);var P,j=la(I,M,O,"LineFlash03_red",S,C),B=new Et($,.1,-1,S,C,0,0),E=go().arc4random_uniform_za3lpa$(3);e:do{if(null==E){P=0;break e}if(Ke.isNumber(E)){P=et(E);break e}if("string"==typeof E)try{P=tt(E);break e}catch(e){if(Ke.isType(e,ta)){P=0;break e}throw e}P=0}while(0);B.SetStartFrame_za3lpa$(P),B.SetEndFrame_za3lpa$(2),j.SetAnimation_pe1q5w$(B),j.SetVerticalAlign_qn2em6$(ro()),j.SetHorizontalAlign_jdpdm8$(lo()),j.SetRotationDegree_mx4ult$(90),j.SetBlendMode_ieo8yr$(ti()),j.SetBlendFactor_mx4ult$(1),this.view.addChild_g5h3xp$(j),null!=(n=this.view.screen)&&n.actionFade_ntk7i0$(.8,this.gameConfigure.tileWidth,0,null,(_=j,function(e,t){!0===t&&_.removeFromParent()}))}if(0<c.size){var L,F=this.gameConfigure.tileWidth,D=this.gameConfigure.tileHeightResult,V=this.gameConfigure.height;e:do{if(null==V){L=0;break e}if(Ke.isNumber(V)){L=it(V);break e}if("string"==typeof V)try{L=Qe(V);break e}catch(e){if(Ke.isType(e,ta)){L=0;break e}throw e}L=0}while(0);var U,q=D*L,H=this.boardRect.x;e:do{if(null==t){U=0;break e}if(Ke.isNumber(t)){U=it(t);break e}if("string"==typeof t)try{U=Qe(t);break e}catch(e){if(Ke.isType(e,ta)){U=0;break e}throw e}U=0}while(0);var W,Y=H+U*this.gameConfigure.tileWidthResult+this.gameConfigure.tileWidthResult/2,X=this.boardRect.y,K=In().value;e:do{if(null==K){W=0;break e}if(Ke.isNumber(K)){W=it(K);break e}if("string"==typeof K)try{W=Qe(K);break e}catch(e){if(Ke.isType(e,ta)){W=0;break e}throw e}W=0}while(0);var Z,Q=la(Y,X,W,"LineFlash03_red",F,q),J=new Et($,.1,-1,F,q,0,0),ee=go().arc4random_uniform_za3lpa$(3);e:do{if(null==ee){Z=0;break e}if(Ke.isNumber(ee)){Z=et(ee);break e}if("string"==typeof ee)try{Z=tt(ee);break e}catch(e){if(Ke.isType(e,ta)){Z=0;break e}throw e}Z=0}while(0);J.SetStartFrame_za3lpa$(Z),J.SetEndFrame_za3lpa$(2),Q.SetAnimation_pe1q5w$(J),Q.SetVerticalAlign_qn2em6$(io()),Q.SetHorizontalAlign_jdpdm8$(lo()),Q.SetBlendMode_ieo8yr$(ti()),Q.SetBlendFactor_mx4ult$(1),this.view.addChild_g5h3xp$(Q),null!=(a=this.view.screen)&&a.actionFade_ntk7i0$(.8,this.gameConfigure.tileWidth,0,null,(y=Q,function(e,t){!0===t&&y.removeFromParent()}))}var te,ie=this.calcScore_za3lpa$(d.v+1|0),re=this.gameConfigure.width;e:do{if(null==re){te=0;break e}if(Ke.isNumber(re)){te=it(re);break e}if("string"==typeof re)try{te=Qe(re);break e}catch(e){if(Ke.isType(e,ta)){te=0;break e}throw e}te=0}while(0);var oe=.8/te;for(.08<oe&&(oe=.08),s=ge(ve(u)).iterator();s.hasNext();){var ne,ae=s.next(),se=ae.component1(),le=ae.component2();e:do{if(null==se){ne=0;break e}if(Ke.isNumber(se)){ne=it(se);break e}if("string"==typeof se)try{ne=Qe(se);break e}catch(e){if(Ke.isType(e,ta)){ne=0;break e}throw e}ne=0}while(0);var he=.8-.2+ne*oe;null!=(l=this.view.screen)&&l.actionDelay_ab0iom$(he,void 0,Oh(le,this,ie))}for(var ue=0,ce=c.iterator();ce.hasNext();++ue){var de,pe,fe=ce.next();e:do{if(null==ue){pe=0;break e}if(Ke.isNumber(ue)){pe=it(ue);break e}if("string"==typeof ue)try{pe=Qe(ue);break e}catch(e){if(Ke.isType(e,ta)){pe=0;break e}throw e}pe=0}while(0);var me=.8-.2+pe*oe;null!=(de=this.view.screen)&&de.actionDelay_ab0iom$(me,void 0,Mh(fe,this,ie))}return null!=(h=this.view.screen)&&h.actionDelay_ab0iom$(.8,void 0,Rh(d,this,ie)),.8-.2+.8};var Fh,Dh,Vh,Uh,qh,Hh,Wh,Yh,Xh,Kh,Zh,Qh,Jh,eu,tu,iu,ru,ou,nu,au,su,lu,hu,uu,cu,du,pu,fu,mu,vu,gu,_u,yu,$u,bu,Su,ku,wu,xu,Cu,zu,Tu,Au,Gu,Iu,Nu,Ou,Mu,Ru,Pu,ju,Bu,Eu,Lu,Fu,Du,Vu,Uu,qu,Hu,Wu,Yu,Xu,Ku,Zu,Qu,Ju,ec,tc,ic,rc,oc,nc,ac,sc,lc,hc,uc,cc,dc,pc,fc,mc,vc,gc,_c,yc=I(function(){var o=Ke.kotlin.comparisons.compareValues_s00gnj$;return function(r){return function(e,t){var i=r;return o(i(e),i(t))}}});function $c(e){this.closure$comparison=e}function bc(e){return function(){return Ke.isType(e,ld)?(e.connectionBitMask=0,e.removeConnection(),e.explode_902hsc$(void 0,void 0,void 0,2),ql().shared().playEffect_bm4lxs$("feverPop0")):e.explode_nhq4am$(),Ze}}function Sc(h,u,c,d){return function(){for(var e,t,i,r,o,n=0,a=h.iterator();a.hasNext();++n){var s,l=a.next();null!=(s=u.view.screen)&&s.actionDelay_ab0iom$(n*c,void 0,bc(l))}return null!=(e=u.view.screen)&&e.actionDelay_ab0iom$(c*d+.3,void 0,(i=d,r=u,function(){return r.prepareDrop_103y6$(i,!1,!1),Ze})),null!=(t=u.view.screen)&&t.actionDelay_ab0iom$(c*d,void 0,(o=u,function(){return o.isPaused=!1,Ze})),Ze}}function kc(){return ql().shared().SetVolume_9sobi5$("GameOverBGM",100),ql().shared().playBGM_llw80p$("GameOverBGM",0),Ze}function wc(){return Ze}function xc(){return ql().shared().SetVolume_9sobi5$("GameOverBGM",100),ql().shared().playBGM_llw80p$("GameOverBGM",0),Ze}function Cc(e,t){return t=t||Object.create(nh.prototype),nh.call(t),t.gameConfigure=e,t}function zc(){this.cur_0="_init",this.next_0="_transform",this.elapsed=0,this.delay=0,this.onUpdateCallback=le(),this.cur_0="_init",this.next_0="_init",this.elapsed=0,this.delay=0}function Tc(e){this.configure=e,this.blockSet="",this.blockInfo_3jid96$_0=this.blockInfo_3jid96$_0,this.basicBonus=1,this.gameTime=e.gameTime,this.gameTimeInitialValue=e.gameTime,this.blockDisableTime=e.blockDisableTime,this.blockDisableTimeInitialValue=e.blockDisableTime,this.score=0,this.lastEarnedScore=0,this.combo=0,this.earnedStar=0,this.finalFlag=!1,this.maxComboOnGame=0,this.maxFeverOnGame=0,this.seq=0,this.seqMax=0,this.feverGage=0,this.feverGageDecreaseValue=.5,this.feverLevel=0,this.perfectPlay=!0,this.hintFlag=!1,this.clickCount=0,this.clickAllCount=0;var t,i=new Int32Array(e.kindOfNumber);t=i.length-1|0;for(var r=0;r<=t;r++)i[r]=0;this.clearBlockType=i;var o,n=new Int32Array(Ke.imul(e.width,e.height)+1|0);o=n.length-1|0;for(var a=0;a<=o;a++)n[a]=0;this.clearBlockCount=n,this.clearBlockAmount=0,this.clearedObstacleSum=0;var s,l=new Int32Array(e.kindOfNumber);s=l.length-1|0;for(var h=0;h<=s;h++)l[h]=0;this.clearedObstacleSumByType=l,this.mapForSharing_9nqlsq$_0=this.mapForSharing_9nqlsq$_0,this.playingTime=0,this.addTimeEveryFeverAmount=0}function Ac(e,t,i,r,o){void 0===i&&(i=0),void 0===r&&(r=0),void 0===o&&(o=""),this.name=o,this.manager_punyzj$_0=this.manager_punyzj$_0,this.startTime=e,this.endTime=t,this.interval=i,this.repeatCount=r,this.lastExcuteTime=0,this.onUpdateCallback=null,this.onChangeCallback=le(),this.state=Nc()}function Gc(e,t){s.call(this),this.name$=e,this.ordinal$=t}function Ic(){Ic=function(){},Fh=new Gc("ready",0),Dh=new Gc("running",1),Vh=new Gc("paused",2),Uh=new Gc("stop",3)}function Nc(){return Ic(),Fh}function Oc(){return Ic(),Dh}function Mc(){return Ic(),Vh}function Rc(){return Ic(),Uh}function Pc(){var o;this.currentTime=0,this.list=Fe(),this.update=(o=this,function(e){o.currentTime=o.currentTime+e;for(var t=o.currentTime,i=o.list.size-1|0;0<=i;i--){var r=o.list.get_za3lpa$(i);switch(r.state.name){case"running":0<r.endTime&&r.endTime<=t?r.state=Rc():r.startTime<=t&&(r.update_mx4ult$(t-r.lastExcuteTime),r.lastExcuteTime=t,r.startTime=t+r.interval,0<r.repeatCount&&(r.repeatCount=r.repeatCount-1|0,0===r.repeatCount&&(r.state=Rc())));break;case"stop":r.remove(),o.list.removeAt_za3lpa$(i)}}})}function jc(){var t,i,r;this.inputEnable=Fe(),this.inputMask=Fe(),this.availableInputCount=0,this.lastIncrease=new Le(-1,-1),this.justDropType=0,this.justDropCount=-1,this.markerScale=new Float32Array([]),this.item=Fe(),this.onReady_1hbg4m$_0=(t=this,function(e){ue(e,"enter")||ue(e,"leave")||(!0===t.isIdle()?t.gameState.SetNextState_9sobi5$("timerStart"):t.processCheck())}),this.onGameOver_mfeufl$_0=(i=this,function(e){ue(e,"enter")||ue(e,"leave")||(i.gameOverFlag=!1,i.gameState.SetNextState_9sobi5$("running"))}),this.onWaitForStop_7w6bbt$_0=(r=this,function(e){ue(e,"enter")||ue(e,"leave")||r.gameState.SetNextState_9sobi5$("gameClose")})}function Bc(i,r,o,n){return function(e){var t=i.markerScale[r+Ke.imul(o,i.gameConfigure.width)|0];return n.SetScaleFromOriginal_mx4ult$(t),1<t?n.SetAlpha_8ca0d4$(1-(t-1)):.8<t?n.SetAlpha_8ca0d4$(1):n.SetAlpha_8ca0d4$(0),i.markerScale[r+Ke.imul(o,i.gameConfigure.width)|0]=i.markerScale[r+Ke.imul(o,i.gameConfigure.width)|0]+1.5*e.elapsed,2<i.markerScale[r+Ke.imul(o,i.gameConfigure.width)|0]&&(i.markerScale[r+Ke.imul(o,i.gameConfigure.width)|0]=0),!0}}function Ec(e,t){return Cc(e,t=t||Object.create(jc.prototype)),jc.call(t),t}function Lc(){this.index=1,this.block=Fe(),this.blockIndex=0,this.reuseBlock=!1,this.reuseWhenNoMoreMove=!1,this.resetClearBlockCount=!1,this.stopCreateBlock=!1}function Fc(e,t,i,r,o,n,a,s){return void 0===t&&(t=-1),void 0===i&&(i=null),void 0===r&&(r=new Int32Array([])),void 0===o&&(o=!1),void 0===n&&(n=!1),void 0===a&&(a=!1),s=s||Object.create(Lc.prototype),oh(e,e.gameConfigure.width,e.gameConfigure.height,e.gameConfigure.kindOfNumber,e.gameConfigure.minOfComplete,s),Lc.call(s),s.index=t,s.block=J(r),s.reuseBlock=o,s.reuseWhenNoMoreMove=n,s.resetClearBlockCount=a,null==i?s.createNewBoard_s8cxhz$(Ke.Long.ZERO,Kl.prototype.createNewBoard_s8cxhz$$default.bind(s)):s.map=s.rotateMap_ytlutl$(Je(i)),s}function Dc(){}function Vc(e,t){return Yc(e,t=t||Object.create(Dc.prototype)),Dc.call(t),t.modeString="Classic",t.localizedModeString=As("Classic Mode"),t.needStar=0,t.blockDisablePeriodically=!1,t.blockDisableTime=2,t.comboMode=1,t.showHint=!1,t.limitGameTime=!0,t.gameTime=60,t.lastChance=!0,t.kindOfNumber=4,t.minOfComplete=3,t.obstacleRatio=15,t.obstacleMinimumScore=0,t.obstacleMaximumNumber=0,t.itemTable=new Int32Array([-1]),t.regenNoMoreMove=!0,t.checkNoMoreMatch=!0,t.touchInputMode=0,t.onetimeGrow=!1,t.clickOnce=!0,t.createNewBlockWithClicked=!1,t.dropBlock=!0,t.rotation=!0,t.disableChained=!0,t.dropAdjust=-1,t.fallingSpeed=0,t.fallingSpeedLimit=300,t.acceleration=100,t.transformDelay=.14,t.matchDelay=.2,t.addTimeEveryFever=!0,t.addTimeEveryFeverAmount=5,t.addTimeEveryFeverAmountAdjust=.5,t.addTimeEveryFeverAmountMinimum=3,t.allowFeverGaugeIncreasementAfterGameOver=!0,t.showSPS=!0,t}function Uc(){}function qc(e,t){return Vc(e,t=t||Object.create(Uc.prototype)),Uc.call(t),t.needStar=0,t.needStarForContinue=10,t.bonusTime=15,t.transformDelay=.14,t.matchDelay=.2,t.scorePerBlock=new Int32Array([0,10,20,30,40,60,90,130,180,1e3]),t.topMargin=.65,t.boardSize=180,t.gaugeHeightRatio=.5,t}function Hc(){}function Wc(){this.screenSize=Di(),this.modeString="",this.localizedModeString="",this.needStar=0,this.needStarForContinue=5,this.explodeForContinue=4,this.bonusTime=15,this.score=0,this.gameUpdateInterval=0,this.comboTimerInterval=0,this.feverTimerInterval=0,this.blockDisableTimerInterval=0,this.gameTimerInterval=0,this.showReadyStart=!0,this.takeSnapshot=!1,this.comboMode=1,this.showHint=!1,this.blockDisablePeriodically=!1,this.blockDisableTime=2,this.adjustTimeForBlockDisableTime=.1,this.timeForAdjustBlockDisableTime=60,this.minimumTimeForBlockDisableTime=.1,this.scoreForAdjustBlockDisableTime=5e3,this.blockDisableCountAtOnce=1,this.checkPerfectPlay=!1,this.limitGameTime=!0,this.gameTime=60,this.resetTimeEveryClear=!1,this.gameTimeAdjustPerScore=3e3,this.kindOfNumber=4,this.minOfComplete=3,this.indexOfGroup=new Int32Array([0,0,0,0,-1]),this.startOfGroup=new Int32Array([0]),this.countOfGroup=new Int32Array([4]),this.obstacleRatio=0,this.obstacleMinimumScore=0,this.obstacleMaximumNumber=1,this.obstacleType=0,this.itemTable=new Int32Array([-1,-1,-1,-1,-1,-1,101,103,104,102,100]),this.alternativeItemForNirvana=-1,this.regenNoMoreMove=!1,this.checkNoMoreMatch=!1,this.lastChance=!1,this.touchInputMode=0,this.onetimeGrow=!1,this.clickOnce=!0,this.preventStreakClick=!0,this.createNewBlock=!0,this.createNewBlockWithClicked=!1,this.dropBlock=!0,this.rotation=!0,this.disableChained=!0,this.reactivateDisabled=!1,this.reactivateAfter=0,this.amountOfNirvana=9,this.scorePerBlock=new Int32Array([0,11,22,33,44,66,99,143,198,1100]),this.scoreMultiplierPerCombo=new Float32Array([1,1,2,3,4,5,6,7,8,9,9,10,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25]),this.scoreMultiplierPerFever=new Float32Array([1,2,2.5,3,3.5,4,5]),this.feverGagePerBlock=[new Float32Array([0,0,0,3,4,6,9,13,18,100])],this.feverGageBonusPerCombo=new Float32Array([0,0,0,0,0,0,0,0,0,0,10]),this.starPerFever=new Int32Array([0,1,1,1,1,1,2,3,4,5,6]),this.starForNirvanaPerFever=new Int32Array([10,25]),this.feverTime=10,this.resetInactiveWhenFever=!0,this.topMargin=.6,this.width=3,this.height=3,this.tileWidthResult=45,this.tileHeightResult=45,this.tileWidthGapRatio=.1,this.tileHeightGapRatio=.1,this.tileWidthGap=0,this.tileHeightGap=0,this.tileWidth=0,this.tileHeight=0,this.uiFolder="Resource/UI/",this.dropAdjust=-1,this.bounceOnLanding=!0,this.fallingSpeed=12,this.fallingSpeedLimit=12,this.acceleration=14,this.fallingSpeedLimitForNoMoreMove=12,this.transformDelay=.2,this.matchDelay=0,this.matchEffectSpeed=2,this.matchEffectDuration=.5,this.removeFireDelay=.1,this.shakeDuration=.4,this.scoreDuration=.1,this.comboTiming=2,this.comboTimingAdjust=.03,this.comboTimingLowest=1,this.nirvanaDelayGap=.05,this.boardSize=360,this.gaugeHeightRatio=.38,this.topGaugeHeight=30,this.bottomGaugeHeight=30,this.addTimeEveryFever=!1,this.addTimeEveryFeverAmount=30,this.addTimeEveryFeverAmountAdjust=-.5,this.addTimeEveryFeverAmountMinimum=0,this.allowFeverGaugeIncreasementAfterGameOver=!1,this.showSPS=!1,this.minimumSecondsForSPS=60}function Yc(e,t){return t=t||Object.create(Wc.prototype),Wc.call(t),t.screenSize=e,t}function Xc(){}function Kc(e,t){return Yc(e,t=t||Object.create(Xc.prototype)),Xc.call(t),t.modeString="Beginner",t.localizedModeString=As("Beginner Mode"),t.showReadyStart=!1,t.blockDisablePeriodically=!1,t.blockDisableTime=2,t.showHint=!1,t.limitGameTime=!1,t.resetTimeEveryClear=!1,t.itemTable=new Int32Array([-1]),t.width=3,t.height=3,t.kindOfNumber=4,t.minOfComplete=3,t.obstacleRatio=15,t.obstacleMinimumScore=3e5,t.obstacleMaximumNumber=0,t.regenNoMoreMove=!1,t.checkNoMoreMatch=!0,t.clickOnce=!0,t.createNewBlockWithClicked=!1,t.dropBlock=!0,t.onetimeGrow=!1,t.rotation=!0,t.disableChained=!0,t.fallingSpeed=0,t.fallingSpeedLimit=300,t.acceleration=100,t.transformDelay=.14,t.matchDelay=.2,t.feverGagePerBlock=[new Float32Array([0,0,0,6,8,12,18,26,36,100]),new Float32Array([0,0,0,4,5,8,12,17,24,100]),new Float32Array([0,0,0,3,4,6,9,13,18,100])],t.topMargin=.6,t.takeSnapshot=!0,t}function Zc(){}function Qc(e,t){return Kc(e,t=t||Object.create(Zc.prototype)),Zc.call(t),t.transformDelay=.14,t.matchDelay=.2,t.scorePerBlock=new Int32Array([0,10,20,30,40,60,90,130,180,1e3]),t.topMargin=.65,t.boardSize=180,t.gaugeHeightRatio=.5,t}function Jc(){}function ed(e,t){return Kc(e,t=t||Object.create(Jc.prototype)),Jc.call(t),t.modeString="Beginner6x6",t.localizedModeString=As("Beginner Mode 6x6"),t.needStar=0,t.needStarForContinue=20,t.explodeForContinue=12,t.touchInputMode=1,t.comboMode=1,t.comboTimingLowest=1.5,t.kindOfNumber=5,t.minOfComplete=3,t.indexOfGroup=new Int32Array([0,0,0,0,0,-1]),t.startOfGroup=new Int32Array([0]),t.countOfGroup=new Int32Array([5]),t.obstacleRatio=6,t.obstacleMinimumScore=0,t.obstacleMaximumNumber=36,t.obstacleType=1,t.checkNoMoreMatch=!0,t.itemTable=new Int32Array([-1,-1,-1,-1,-1,-1,101,103,102,104,100]),t.alternativeItemForNirvana=102,t.reactivateDisabled=!1,t.reactivateAfter=2,t.resetInactiveWhenFever=!1,t.amountOfNirvana=10,t.transformDelay=.12,t.matchDelay=.12,t.scorePerBlock=new Int32Array([0,10,20,30,40,60,90,120,180]),t.feverGagePerBlock=[new Float32Array([0,0,0,3,4,6,9,13,18,18])],t.topMargin=.65,t.width=6,t.height=6,t.fallingSpeed=0,t.fallingSpeedLimit=300,t.acceleration=200,t.boardSize=270,t.gaugeHeightRatio=.5,t}function td(){}function id(){}function rd(e,t){return Yc(e,t=t||Object.create(id.prototype)),id.call(t),t.modeString="Timeless",t.localizedModeString=As("Timeless Mode"),t.blockDisablePeriodically=!0,t.blockDisableTime=.5,t.adjustTimeForBlockDisableTime=.01,t.timeForAdjustBlockDisableTime=1,t.minimumTimeForBlockDisableTime=.3,t.blockDisableCountAtOnce=1,t.limitGameTime=!1,t.obstacleRatio=15,t.obstacleMinimumScore=0,t.obstacleMaximumNumber=0,t.itemTable=new Int32Array([-1]),t.starPerFever=new Int32Array([0,1,1,1,2,3,4,5,6,7,8]),t.starForNirvanaPerFever=new Int32Array([50,50]),t.width=3,t.height=3,t.fallingSpeed=0,t.fallingSpeedLimit=300,t.acceleration=160,t.transformDelay=.12,t.matchDelay=.15,t}function od(){}function nd(){}function ad(){}function sd(e,t){return Yc(e,t=t||Object.create(ad.prototype)),ad.call(t),t.modeString="Tutorial",t.limitGameTime=!1,t.regenNoMoreMove=!0,t.clickOnce=!0,t.blockDisablePeriodically=!1,t.itemTable=new Int32Array([-1]),t.width=3,t.height=3,t.fallingSpeed=0,t.fallingSpeedLimit=12,t.acceleration=100,t.dropAdjust=-5,t.amountOfNirvana=9,t.transformDelay=.2,t.matchDelay=0,t.comboMode=0,t.starPerFever=new Int32Array([0]),t.starForNirvanaPerFever=new Int32Array([0]),t.boardSize=180,t.topMargin=.5,t}function ld(){this.transformCount=0,this.disabledMask=null;var t,e=In().value;e:do{if(null==e){t=0;break e}if(Ke.isNumber(e)){t=it(e);break e}if("string"==typeof e)try{t=Qe(e);break e}catch(e){if(Ke.isType(e,ta)){t=0;break e}throw e}t=0}while(0);this.disabledMaskZ=t,this.disabledDone=!0,this.effectSprite=null;var i,R,r,o=In().value;e:do{if(null==o){i=0;break e}if(Ke.isNumber(o)){i=it(o);break e}if("string"==typeof o)try{i=Qe(o);break e}catch(e){if(Ke.isType(e,ta)){i=0;break e}throw e}i=0}while(0);this.effectSpriteZ=i,this.connectionBitMask=0,this.connection=[null,null,null,null],this.onWait=(R=this,function(e){var t,i,r,o,n,a,s;if(ue(e,"run"))!1===R.needCheck&&!1===R.goingToRemove&&R.attribute===Vd()&&!1===R.disabledDone&&R.makeDisable();else if(ue(e,"enter")){var l,h=R.game.gameValue.blockSet,u=R.value;e:do{if(Ke.isNumber(u)){l=u.toString();break e}if("string"==typeof u){l=u;break e}if("boolean"==typeof u){l=u.toString();break e}if(Ke.isChar(u)){l=u.toString();break e}l=""}while(0);var c=h+l+"_normal";if(R.isTransforming=!1,R.isDropping=!1,0<R.transformCount&&!0===R.game.gameConfigure.clickOnce&&(R.SetAttribute_c9f3gi$(Vd()),!(R.disabledDone=!1)===R.game.gameConfigure.reactivateDisabled&&null!=(t=R.game.view.screen)&&t.actionDelay_ab0iom$(R.game.gameConfigure.reactivateAfter,void 0,(s=R,function(){return s.resetDisable_6taknv$(!0),Ze}))),null==R.sprite){var d,p=R,f=R.GetBoardX(),m=R.GetBoardY(),v=R.spriteZ,g=R.game.gameConfigure.tileWidth;e:do{if(null==g){d=0;break e}if(Ke.isNumber(g)){d=it(g);break e}if("string"==typeof g)try{var _=Qe(g);d=_;break e}catch(e){if(Ke.isType(e,ta)){d=0;break e}throw e}d=0}while(0);var y,$=d,b=R.game.gameConfigure.tileHeight;e:do{if(null==b){y=0;break e}if(Ke.isNumber(b)){y=it(b);break e}if("string"==typeof b)try{var S=Qe(b);y=S;break e}catch(e){if(Ke.isType(e,ta)){y=0;break e}throw e}y=0}while(0);p.sprite=la(f,m,v,c,$,y),null!=(i=R.sprite)&&i.SetHorizontalAlign_jdpdm8$(lo()),null!=(r=R.sprite)&&r.SetVerticalAlign_qn2em6$(ro()),R.game.view.GetMask().addChild_g5h3xp$(Je(R.sprite));var k,w=R,x=R.GetBoardX(),C=R.GetBoardY(),z=R.disabledMaskZ,T=R.game.gameValue.blockSet+"inactive_mask",A=R.game.gameConfigure.tileWidth;e:do{if(null==A){k=0;break e}if(Ke.isNumber(A)){k=it(A);break e}if("string"==typeof A)try{var G=Qe(A);k=G;break e}catch(e){if(Ke.isType(e,ta)){k=0;break e}throw e}k=0}while(0);var I,N=k,O=R.game.gameConfigure.tileHeight;e:do{if(null==O){I=0;break e}if(Ke.isNumber(O)){I=it(O);break e}if("string"==typeof O)try{var M=Qe(O);I=M;break e}catch(e){if(Ke.isType(e,ta)){I=0;break e}throw e}I=0}while(0);w.disabledMask=la(x,C,z,T,N,I),null!=(o=R.disabledMask)&&o.SetHorizontalAlign_jdpdm8$(lo()),null!=(n=R.disabledMask)&&n.SetVerticalAlign_qn2em6$(ro()),R.game.view.GetMask().addChild_g5h3xp$(Je(R.disabledMask)),Je(R.disabledMask).SetAlpha_8ca0d4$(0)}}else ue(e,"leave")&&null!=(a=R.sprite)&&a.SetAnimation_pe1q5w$(null)}),this.onRollback=(r=this,function(e){ue(e,"run")?r.animationState.SetNextState_9sobi5$("wait",.1):ue(e,"enter")&&r.rollback()})}function hd(o,n,a,s){return function(e,t){var i,r;o.SetAlpha_8ca0d4$(e),!0===t&&(Je(n.sprite).SetAlpha_8ca0d4$(0),n.explodeEffect_24o109$(a,0),null!=(i=n.game.view.screen)&&i.actionDelay_ab0iom$(s,void 0,(r=n,function(){return r.remove(),Ze})),n.animationState.SetNextState_9sobi5$("remove"))}}function ud(h,u,c,d){return function(){var e,i,r,o,n,a,t,s=ji(Je(h.sprite).GetSize().width,Je(h.sprite).GetSize().height),l=new dn(h.game.gameConfigure.matchEffectSpeed,1,.5);return u.SetTimeToLive_mx4ult$(h.game.gameConfigure.matchEffectDuration),u.addUpdateCallback_sds54w$("BlockEntity Matched",void 0,void 0,void 0,void 0,void 0,(i={v:!1},r=h,o=l,n=u,a=s,function(e){if(0===e.elapsed)return!1===i.v&&r.animationState.SetNextState_9sobi5$("remove"),!1;e.age>r.game.gameConfigure.removeFireDelay&&!1===i.v&&(r.animationState.SetNextState_9sobi5$("remove"),i.v=!0),o.update_mx4ult$(e.elapsed);var t=o.GetPosition();return n.SetSize_dleff0$(a.width*(.5+t),a.height*(.5+t)),.3<e.age&&n.SetAlpha_8ca0d4$(1-5*(e.age-.3)),!0})),h.explodeEffect_24o109$(c,0),null!=(e=h.game.view.screen)&&e.actionDelay_ab0iom$(d,void 0,(t=h,function(){return t.remove(),Ze})),Ze}}function cd(h,u,c,d){return function(){var e,i,r,o,n,a,t,s=ji(Je(h.sprite).GetSize().width,Je(h.sprite).GetSize().height),l=new dn(h.game.gameConfigure.matchEffectSpeed,1,.5);return u.SetTimeToLive_mx4ult$(h.game.gameConfigure.matchEffectDuration),u.addUpdateCallback_sds54w$("BlockEntity Matched",void 0,void 0,void 0,void 0,void 0,(i={v:!1},r=h,o=l,n=u,a=s,function(e){if(0===e.elapsed)return!1===i.v&&r.animationState.SetNextState_9sobi5$("remove"),!1;e.age>r.game.gameConfigure.removeFireDelay&&!1===i.v&&(r.animationState.SetNextState_9sobi5$("remove"),i.v=!0),o.update_mx4ult$(e.elapsed);var t=o.GetPosition();return n.SetSize_dleff0$(a.width*(.5+t),a.height*(.5+t)),n.SetAlpha_8ca0d4$(1-3*e.age),!0})),h.explodeEffect_24o109$(c,0),null!=(e=h.game.view.screen)&&e.actionDelay_ab0iom$(d,void 0,(t=h,function(){return t.remove(),Ze})),Ze}}function dd(i,r,o){return function(){var e,t;return i.explodeEffect_24o109$(r,0),null!=(e=i.game.view.screen)&&e.actionDelay_ab0iom$(o,void 0,(t=i,function(){return t.remove(),Ze})),i.animationState.SetNextState_9sobi5$("remove"),Ze}}function pd(e,t,i,r,o){return Wd(e,t,i,r,o=o||Object.create(ld.prototype)),ld.call(o),o.animationState.addOnUpdateCallback_bodv9c$("wait",o.onWait),o.animationState.addOnUpdateCallback_bodv9c$("transform",fd),o.animationState.addOnUpdateCallback_bodv9c$("remove",md),o.animationState.addOnUpdateCallback_bodv9c$("rollback",o.onRollback),o.animationState.SetNextState_9sobi5$("wait"),o}function fd(e){return Ze}function md(e){return Ze}function vd(){}function gd(){this.entityList=null}function _d(e){return e=e||Object.create(gd.prototype),gd.call(e),e.entityList=Fe(),e}function yd(){this.lifetime=0,this.timeToLive_prt4ss$_0=0,this.game_7su03y$_0=this.game_7su03y$_0,this.value=0,this.text=null,this.entityState_e2ys3e$_0=null,this.order_ws1p7q$_0=null,this.internalX=null,this.internalY=null,this.nextX=null,this.nextY=null,this.preprocessed=!1,this.hasGoal=!1,this.moveToX=null,this.moveToY=null,this.speedX=null,this.speedY=null,this.accelX=null,this.accelY=null,this.speedXLimit=null,this.speedYLimit=null,this.checkCollide_22kq6u$_0=!0,this.needLanding_redr4d$_0=!1,this.prevLanding=new Le(-1,-1)}function $d(e,t){s.call(this),this.name$=e,this.ordinal$=t}function bd(){bd=function(){},qh=new $d("alive",0),Hh=new $d("dead",1)}function Sd(){return bd(),qh}function kd(){return bd(),Hh}function wd(e,t){s.call(this),this.name$=e,this.ordinal$=t}function xd(){xd=function(){},Wh=new wd("bottom",0),Yh=new wd("middle",1),Xh=new wd("top",2)}function Cd(){return xd(),Wh}function zd(){return xd(),Yh}function Td(){return xd(),Xh}function Ad(e,t,i,r,o){return o=o||Object.create(yd.prototype),yd.call(o),o.lifetime=0,o.timeToLive_prt4ss$_0=0,o.game=e,o.value=t,o.text="",o.entityState_e2ys3e$_0=Sd(),o.order_ws1p7q$_0=zd(),o.internalX=Ke.Long.fromInt(1e3*i|0),o.internalY=Ke.Long.fromInt(1e3*r|0),o.nextX=o.internalX,o.nextY=o.internalY,o.preprocessed=!1,o.hasGoal=!1,o.moveToX=o.internalX,o.moveToY=o.internalY,o.speedX=Ke.Long.ZERO,o.speedY=Ke.Long.ZERO,o.accelX=Ke.Long.ZERO,o.accelY=Ke.Long.ZERO,o.speedXLimit=Ke.Long.ZERO,o.speedYLimit=Ke.Long.ZERO,o}function Gd(){this.subValue=0,this.used=!1,this.effectDelay=0}function Id(e,t,i,r,o,n){var a;if(Wd(e,t,r,o,n=n||Object.create(Gd.prototype)),Gd.call(n),n.subValue=i,n.SetImage(),2<=zf().GetInteger_hh7mhe$(vp(),void 0,1)){var s=vn(1);s.SetScale_mx4ult$(.05*e.gameConfigure.tileHeight),null!=(a=n.sprite)&&a.SetYMotion_vn0wwp$(s,!0)}return n}function Nd(e,t,i,r,o){Id(e,t,i,r,o,this)}function Od(e,t,i,r,o){Id(e,t,i,r,o,this)}function Md(e,t,i,r,o){Id(e,t,i,r,o,this)}function Rd(e,t,i,r,o){Id(e,t,i,r,o,this)}function Pd(){this.matched=!1,this.isStone=!1}function jd(i,r,o){return function(){var e,t;return i._createExplosion_vl24u5$(r,9,"Resource/UI/Particle",8*i.game.gameConfigure.tileWidth),null!=(e=i.game.view.screen)&&e.actionDelay_ab0iom$(o,void 0,(t=i,function(){return t.remove(),Ze})),Ze}}function Bd(e,t,i,r,o){var n,a,s,l;Wd(e,t,i,r,o=o||Object.create(Pd.prototype)),Pd.call(o);var h,u="Ghost_"+(Ke.isType(n=e.gameValue.blockInfo,Jf)?n:Ee()).colorMap.get_za3lpa$(t%1e3),c=o.GetBoardX(),d=o.GetBoardY(),p=o.spriteZ,f=.7*e.gameConfigure.tileWidth;e:do{if(null==f){h=0;break e}if(Ke.isNumber(f)){h=it(f);break e}if("string"==typeof f)try{h=Qe(f);break e}catch(e){if(Ke.isType(e,ta)){h=0;break e}throw e}h=0}while(0);var m,v,g=h,_=.7*e.gameConfigure.tileHeight;e:do{if(null==_){m=0;break e}if(Ke.isNumber(_)){m=it(_);break e}if("string"==typeof _)try{m=Qe(_);break e}catch(e){if(Ke.isType(e,ta)){m=0;break e}throw e}m=0}while(0);return o.sprite=la(c,d,p,u,g,m),null!=(a=o.sprite)&&a.SetHorizontalAlign_jdpdm8$(lo()),null!=(s=o.sprite)&&s.SetVerticalAlign_qn2em6$(ro()),e.view.GetMask().addChild_g5h3xp$(Je(o.sprite)),2<=zf().GetInteger_hh7mhe$(vp(),void 0,1)&&null!=(l=e.view.screen)&&l.actionFadeLoop_xukj3e$("blink",.6,.6,1,o.sprite,(v=o,function(e,t){var i,r;return!0===t?null!=(i=v.sprite)&&i.SetAlpha_8ca0d4$(1):null!=(r=v.sprite)&&r.SetAlpha_8ca0d4$(e),!0})),o}function Ed(){this.attribute=Dd(),this.animationState=new zc,this.bouncing=!1,this.needCheck=!1,this.needCheckReason=-1,this.isDropping=!1,this.isTransforming=!1,this.goingToRemove=!1,this.goingToRollback=!1,this.sprite=null,this.spriteZ=7,this.score=0}function Ld(e,t){s.call(this),this.name$=e,this.ordinal$=t}function Fd(){Fd=function(){},Kh=new Ld("normal",0),Zh=new Ld("disabled",1),Qh=new Ld("hint",2),Jh=new Ld("clear",3)}function Dd(){return Fd(),Kh}function Vd(){return Fd(),Zh}function Ud(){return Fd(),Qh}function qd(){return Fd(),Jh}function Hd(o,n,a,s){return function(e,t){var i,r;o.SetAlpha_8ca0d4$(e),!0===t&&(Je(n.sprite).SetAlpha_8ca0d4$(0),n.explodeEffect_24o109$(a,0),null!=(i=n.game.view.screen)&&i.actionDelay_ab0iom$(s,void 0,(r=n,function(){return r.remove(),Ze})),n.animationState.SetNextState_9sobi5$("remove"))}}function Wd(e,t,i,r,o){return Ad(e,t,i,r,o=o||Object.create(Ed.prototype)),Ed.call(o),o}function Yd(){this.user=null,this.achievementList=le(),this.achievementIdentifierList=S([Sp(),kp(),wp(),xp(),Cp(),zp(),Mp(),Rp(),Pp(),jp(),Tp(),Ap(),Gp(),Ip(),Np(),Op(),Bp(),Ep(),Lp(),Fp(),Dp(),Vp(),Up(),qp(),Hp(),Wp(),Yp(),Xp(),Kp(),Zp(),Qp(),Jp(),ef(),tf(),rf(),of(),nf(),af(),sf(),lf(),hf(),uf(),cf(),df(),pf(),ff(),mf(),vf(),gf(),_f(),yf()])}function Xd(e,t){var i;for(t=t||Object.create(Yd.prototype),Yd.call(t),t.user=e,i=t.achievementIdentifierList.iterator();i.hasNext();){var r=i.next();t.AddAchievement_ze4fts$(r)}return t}function Kd(){this.mode=null,this.user=null,this.highScore=0,this.maxCombo=0,this.maxFever=0,this.minInterval=.5,this.maxSPS=0}function Zd(e,t,i){return void 0===t&&(t="local"),i=i||Object.create(Kd.prototype),Kd.call(i),i.mode=e,i.user=t,i}function Qd(e,t,i){s.call(this),this.value=i,this.name$=e,this.ordinal$=t}function Jd(){Jd=function(){},eu=new Qd("HIGH_SCORE",0,"HighScore"),tu=new Qd("MAX_COMBO",1,"MaxCombo"),iu=new Qd("MAX_FEVER",2,"MaxFever"),ru=new Qd("MIN_INTERVAL",3,"MinInterval"),ou=new Qd("MAX_SPS",4,"MaxSPS"),nu=new Qd("PLAY_COUNT",5,"PlayCount"),au=new Qd("GHOST_REMOVAL",6,"GhostRemoval"),su=new Qd("SOUND_ON",7,"Sound ON"),lu=new Qd("MASTER_VOLUME",8,"Master Volume"),hu=new Qd("BGM_VOLUME",9,"BGM Volume"),uu=new Qd("EFFECT_VOLUME",10,"Effect Volume"),cu=new Qd("LAST_PLAYED_MODE",11,"Last Played Mode"),du=new Qd("STAR_LAST_CHARGED_TIME",12,"Star Last Charged Time"),pu=new Qd("STAR_CHARGE_START",13,"Star Charge Start"),fu=new Qd("CURRENT_BLOCK_SET",14,"Current Block Set"),mu=new Qd("CURRENT_BOARD_TYPE",15,"Current Board Type"),vu=new Qd("BATTERY_USAGE_MODE",16,"Battery Usage Mode"),gu=new Qd("CURRENT_LOCALE",17,"Current Locale"),_u=new Qd("COLOR_MODE",18,"Color Mode"),yu=new Qd("TUTORIAL_COMPLETE",19,"Tutorial Complete"),$u=new Qd("TUTORIAL_3_3_COMPLETE",20,"Tutorial 3x3 Complete"),bu=new Qd("TUTORIAL_6_6_COMPLETE",21,"Tutorial 6x6 Complete"),Su=new Qd("BEGINNER_COMBOS_5",22,"Samsara_Beginner_Combos_5"),ku=new Qd("BEGINNER_COMBOS_10",23,"Samsara_Beginner_Combos_10"),wu=new Qd("BEGINNER_COMBOS_20",24,"Samsara_Beginner_Combos_20"),xu=new Qd("BEGINNER_COMBOS_50",25,"Samsara_Beginner_Combos_50"),Cu=new Qd("BEGINNER_COMBOS_100",26,"Samsara_Beginner_Combos_100"),zu=new Qd("BEGINNER_COMBOS_150",27,"Samsara_Beginner_Combos_150"),Tu=new Qd("BEGINNER_50K",28,"Samsara_Beginner_50K"),Au=new Qd("BEGINNER_100K",29,"Samsara_Beginner_100K"),Gu=new Qd("BEGINNER_200K",30,"Samsara_Beginner_200K"),Iu=new Qd("BEGINNER_1M",31,"Samsara_Beginner_1M"),Nu=new Qd("BEGINNER_2M",32,"Samsara_Beginner_2M"),Ou=new Qd("BEGINNER_3M",33,"Samsara_Beginner_3M"),Mu=new Qd("BEGINNER_FEVER_1",34,"Samsara_Beginner_Fever_1"),Ru=new Qd("BEGINNER_FEVER_3",35,"Samsara_Beginner_Fever_3"),Pu=new Qd("BEGINNER_FEVER_5",36,"Samsara_Beginner_Fever_5"),ju=new Qd("BEGINNER_FEVER_10",37,"Samsara_Beginner_Fever_10"),Bu=new Qd("BEGINNER_CLEAR_9",38,"Samsara_Beginner_Clear_9"),Eu=new Qd("CLASSIC_COMBOS_10",39,"Samsara_Classic_Combos_10"),Lu=new Qd("CLASSIC_COMBOS_30",40,"Samsara_Classic_Combos_30"),Fu=new Qd("CLASSIC_FEVER_1",41,"Samsara_Classic_Fever_1"),Du=new Qd("CLASSIC_FEVER_5",42,"Samsara_Classic_Fever_5"),Vu=new Qd("CLASSIC_100K",43,"Samsara_Classic_100K"),Uu=new Qd("CLASSIC_300K",44,"Samsara_Classic_300K"),qu=new Qd("CLASSIC_1500K",45,"Samsara_Classic_1500K"),Hu=new Qd("CLASSIC_CLEAR_9",46,"Samsara_Classic_Clear_9"),Wu=new Qd("TIMELESS_MODE_OPEN",47,"Samsara_Timeless_Mode_Open"),Yu=new Qd("TIMELESS_COMBOS_50",48,"Samsara_Timeless_Combos_50"),Xu=new Qd("TIMELESS_COMBOS_80",49,"Samsara_Timeless_Combos_80"),Ku=new Qd("TIMELESS_COMBOS_100",50,"Samsara_Timeless_Combos_100"),Zu=new Qd("TIMELESS_FEVER_10",51,"Samsara_Timeless_Fever_10"),Qu=new Qd("TIMELESS_1M",52,"Samsara_Timeless_1M"),Ju=new Qd("TIMELESS_2M",53,"Samsara_Timeless_2M"),ec=new Qd("HARDCORE_MODE_OPEN",54,"Samsara_Hardcore_Mode_Open"),tc=new Qd("HARDCORE_COMBOS_60",55,"Samsara_Hardcore_Combos_60"),ic=new Qd("HARDCORE_FEVER_10",56,"Samsara_Hardcore_Fever_10"),rc=new Qd("HARDCORE_1M",57,"Samsara_Hardcore_1M"),oc=new Qd("GHOST_50",58,"Samsara_Ghost_50"),nc=new Qd("GHOST_100",59,"Samsara_Ghost_100"),ac=new Qd("GHOST_150",60,"Samsara_Ghost_150"),sc=new Qd("GHOST_200",61,"Samsara_Ghost_200"),lc=new Qd("BEGINNER6x6_COMBOS_30",62,"Samsara_Beginner6x6_Combos_30"),hc=new Qd("BEGINNER6x6_COMBOS_50",63,"Samsara_Beginner6x6_Combos_50"),uc=new Qd("BEGINNER6x6_COMBOS_100",64,"Samsara_Beginner6x6_Combos_100"),cc=new Qd("BEGINNER6x6_500K",65,"Samsara_Beginner6x6_500K"),dc=new Qd("BEGINNER6x6_1M",66,"Samsara_Beginner6x6_1M"),pc=new Qd("CLASSIC6x6_MODE_OPEN",67,"Samsara_Classic6x6_Mode_Open"),fc=new Qd("CLASSIC6x6_COMBOS_50",68,"Samsara_Classic6x6_Combos_50"),mc=new Qd("CLASSIC6x6_1M",69,"Samsara_Classic6x6_1M"),vc=new Qd("TIMELESS6x6_MODE_OPEN",70,"Samsara_Timeless6x6_Mode_Open"),gc=new Qd("TIMELESS6x6_COMBOS_100",71,"Samsara_Timeless6x6_Combos_100"),_c=new Qd("TIMELESS6x6_2M",72,"Samsara_Timeless6x6_2M")}function ep(){return Jd(),eu}function tp(){return Jd(),tu}function ip(){return Jd(),iu}function rp(){return Jd(),ru}function op(){return Jd(),ou}function np(){return Jd(),nu}function ap(){return Jd(),au}function sp(){return Jd(),su}function lp(){return Jd(),lu}function hp(){return Jd(),hu}function up(){return Jd(),uu}function cp(){return Jd(),cu}function dp(){return Jd(),du}function pp(){return Jd(),pu}function fp(){return Jd(),fu}function mp(){return Jd(),mu}function vp(){return Jd(),vu}function gp(){return Jd(),gu}function _p(){return Jd(),_u}function yp(){return Jd(),yu}function $p(){return Jd(),$u}function bp(){return Jd(),bu}function Sp(){return Jd(),Su}function kp(){return Jd(),ku}function wp(){return Jd(),wu}function xp(){return Jd(),xu}function Cp(){return Jd(),Cu}function zp(){return Jd(),zu}function Tp(){return Jd(),Tu}function Ap(){return Jd(),Au}function Gp(){return Jd(),Gu}function Ip(){return Jd(),Iu}function Np(){return Jd(),Nu}function Op(){return Jd(),Ou}function Mp(){return Jd(),Mu}function Rp(){return Jd(),Ru}function Pp(){return Jd(),Pu}function jp(){return Jd(),ju}function Bp(){return Jd(),Bu}function Ep(){return Jd(),Eu}function Lp(){return Jd(),Lu}function Fp(){return Jd(),Fu}function Dp(){return Jd(),Du}function Vp(){return Jd(),Vu}function Up(){return Jd(),Uu}function qp(){return Jd(),qu}function Hp(){return Jd(),Hu}function Wp(){return Jd(),Wu}function Yp(){return Jd(),Yu}function Xp(){return Jd(),Xu}function Kp(){return Jd(),Ku}function Zp(){return Jd(),Zu}function Qp(){return Jd(),Qu}function Jp(){return Jd(),Ju}function ef(){return Jd(),ec}function tf(){return Jd(),tc}function rf(){return Jd(),ic}function of(){return Jd(),rc}function nf(){return Jd(),oc}function af(){return Jd(),nc}function sf(){return Jd(),ac}function lf(){return Jd(),sc}function hf(){return Jd(),lc}function uf(){return Jd(),hc}function cf(){return Jd(),uc}function df(){return Jd(),cc}function pf(){return Jd(),dc}function ff(){return Jd(),pc}function mf(){return Jd(),fc}function vf(){return Jd(),mc}function gf(){return Jd(),vc}function _f(){return Jd(),gc}function yf(){return Jd(),_c}function $f(){kf()}function bf(){Sf=this}$c.prototype.compare=function(e,t){return this.closure$comparison(e,t)},$c.$metadata$={kind:o,interfaces:[$l]},nh.prototype.resetDisabledBlock_wnu51o$=function(e,t,i,r){var o,n,a,s,l,h;void 0===e&&(e=0),void 0===t&&(t=2),void 0===i&&(i=!0);for(var u=this.gameConfigure.width-1|0,c=Fe(),d={v:0},p=0;p<=u;p++){o=this.gameConfigure.height-1|0;for(var f=0;f<=o;f++){var m=this.map[p][f];Ke.isType(m,ld)?m.GetAttribute()!==Vd()&&0===m.transformCount||c.add_11rb$(m):Ke.isType(m,Pd)&&!0===r&&(c.add_11rb$(m),this.removeBlock_vux9f0$(p,f),d.v=d.v+1|0)}}if(0===c.size)return 0;if(!1===i){for(ql().shared().playEffect_bm4lxs$("feverPop5"),n=c.iterator();n.hasNext();){var v=n.next();Ke.isType(v,ld)?(Ke.isType(a=v,ld)?a:Ee()).resetDisable_6taknv$():Ke.isType(v,Pd)&&(Ke.isType(s=v,Pd)?s:Ee()).explode_nhq4am$()}return 0}var g,_=Z(c,new $c(yc(Ph))),y=.8*this.gameConfigure.tileWidth,$=this.boardRect.y,b=this.gameConfigure.tileHeight,S=this.gameConfigure.height;e:do{if(null==S){g=0;break e}if(Ke.isNumber(S)){g=it(S);break e}if("string"==typeof S)try{g=Qe(S);break e}catch(e){if(Ke.isType(e,ta)){g=0;break e}throw e}g=0}while(0);var k,w=$+b*g,x=_.size;e:do{if(null==x){k=0;break e}if(Ke.isNumber(x)){k=it(x);break e}if("string"==typeof x)try{k=Qe(x);break e}catch(e){if(Ke.isType(e,ta)){k=0;break e}throw e}k=0}while(0);for(var C=1/k,z=0,T=_.iterator();T.hasNext();++z){var A,G=T.next(),I=G.GetRealScreenX(),N=G.GetRealScreenY();if(null!=(A=this.view.screen)){var O;e:do{if(null==z){O=0;break e}if(Ke.isNumber(z)){O=it(z);break e}if("string"==typeof z)try{O=Qe(z);break e}catch(e){if(Ke.isType(e,ta)){O=0;break e}throw e}O=0}while(0);A.actionDelay_ab0iom$(O*C,void 0,Bh(I,N,y,w,this,G,1))}}ql().shared().playEffect_bm4lxs$("angel"),this.shakeBoard_s2l86p$(void 0,void 0,-.5,2,2.5),null!=(l=this.view.screen)&&l.actionDelay_ab0iom$(1,void 0,Eh),0<d.v&&this.increaseCombo();var M=this.calcScore_za3lpa$(d.v+1|0);null!=(h=this.view.screen)&&h.actionDelay_ab0iom$(1.5,void 0,Lh(this,d,M));var R;e:do{if(Ke.isNumber(1.5)){R=it(1.5);break e}R=0}while(0);return R},nh.prototype.getRandomBlocks_za3lpa$=function(e){var t,i,r,o,n=Fe(),a=new Int32Array(Ke.imul(this.gameConfigure.width,this.gameConfigure.height));o=a.length-1|0;for(var s=0;s<=o;s++)a[s]=0;var l=a;t=e-1|0;for(var h=0;h<=t;h++){for(var u=go().arc4random_uniform_za3lpa$(l.length)+1|0,c=0,d=0;0!==l[c]||(d=d+1|0)!==u;)(c=c+1|0)>=l.length&&(c=0);l[c]=1}i=l.length-1|0;for(var p=0;p<=i;p++)if(1===l[p]){var f=p%this.gameConfigure.width,m=p/this.gameConfigure.width|0,v=Ke.isType(r=this.map[f][m],Ed)?r:null;null!=v&&n.add_11rb$(v)}return n},nh.prototype.getBottomBlocks_za3lpa$=function(e){for(var t,i,r=Fe(),o=1;o<=e;o++){t=this.gameConfigure.width-1|0;for(var n=0;n<=t;n++){var a=Ke.isType(i=this.map[n][this.gameConfigure.height-o|0],Ed)?i:null;null!=a&&r.add_11rb$(a)}}return r},nh.prototype.explodeBlocks_mti8id$=function(e,t){var i,r,o;if(0===e.size)return 0;for(i=e.iterator();i.hasNext();){var n=i.next(),a=Ke.isType(r=n,Ed)?r:null;if(null!=a){var s=a.GetScreenX(),l=a.GetScreenY();this.removeBlock_vux9f0$(s,l)}}var h=e.size;return this.isPaused=!0,null!=(o=this.view.screen)&&o.actionDelay_ab0iom$(.5,void 0,Sc(e,this,t,h)),0},nh.prototype.shakeBoard_s2l86p$=function(e,t,i,r,o){void 0===e&&(e=10),void 0===t&&(t=0),void 0===i&&(i=-1),void 0===r&&(r=1),void 0===o&&(o=2.5);var n,a,s,l=vn(e,t,void 0,i);l.SetScale_mx4ult$(this.view.sizeScale.xRatio*o),this.view.createAction_xcdeti$("shake",!1,void 0,void 0,void 0,void 0,void 0,(n=r,a=this,s=l,function(e){if(e.age>n)return a.view.SetPosition_dleff0$(0,0),!1;var t=s.update_mx4ult$(e.elapsed);return a.view.SetPosition_dleff0$(t,a.view.GetPosition().y),!0}))},nh.$metadata$={kind:o,simpleName:"Game",interfaces:[]},zc.prototype.GetState=function(){return this.cur_0},zc.prototype.SetNextState_9sobi5$=function(e,t){void 0===t&&(t=0);var i=this.onUpdateCallback.get_11rb$(this.cur_0);null!=i&&i("leave"),this.elapsed=0,this.delay=t,this.cur_0="_transform",this.next_0=e},zc.prototype.GetNextState=function(){return this.next_0},zc.prototype.update_mx4ult$=function(e){if(this.elapsed=this.elapsed+e,!ue(this.cur_0,this.next_0)&&this.elapsed>=this.delay){this.cur_0=this.next_0;var t=this.onUpdateCallback.get_11rb$(this.cur_0);null!=t&&t("enter")}if(!ue(this.cur_0,this.next_0))return!1;var i=this.onUpdateCallback.get_11rb$(this.cur_0);return null!=i&&i("run"),!0},zc.prototype.addOnUpdateCallback_bodv9c$=function(e,t){ue(e,"_init")||ue(e,"_transform")||this.onUpdateCallback.put_xwzc9p$(e,t)},zc.$metadata$={kind:o,simpleName:"GameState",interfaces:[]},Object.defineProperty(Tc.prototype,"blockInfo",{get:function(){return null==this.blockInfo_3jid96$_0?T("blockInfo"):this.blockInfo_3jid96$_0},set:function(e){this.blockInfo_3jid96$_0=e}}),Object.defineProperty(Tc.prototype,"mapForSharing",{get:function(){return null==this.mapForSharing_9nqlsq$_0?T("mapForSharing"):this.mapForSharing_9nqlsq$_0},set:function(e){this.mapForSharing_9nqlsq$_0=e}}),Tc.prototype.reset=function(){this.gameTime=this.gameTimeInitialValue,this.blockDisableTime=this.blockDisableTimeInitialValue,this.score=0,this.lastEarnedScore=0,this.combo=0,this.earnedStar=0,this.finalFlag=!1,this.maxComboOnGame=0,this.seq=0,this.seqMax=0,this.feverGage=0,this.feverLevel=0,this.perfectPlay=!0,this.hintFlag=!1,this.clickCount=0,this.clickAllCount=0;var e,t=new Int32Array(this.configure.kindOfNumber);e=t.length-1|0;for(var i=0;i<=e;i++)t[i]=0;this.clearBlockType=t;var r,o=new Int32Array(Ke.imul(this.configure.width,this.configure.height)+1|0);r=o.length-1|0;for(var n=0;n<=r;n++)o[n]=0;this.clearBlockCount=o,this.clearedObstacleSum=0;var a,s=new Int32Array(this.configure.kindOfNumber);a=s.length-1|0;for(var l=0;l<=a;l++)s[l]=0;this.clearedObstacleSumByType=s,this.mapForSharing=[],this.playingTime=0,this.addTimeEveryFeverAmount=0},Tc.prototype.addBlockType_za3lpa$=function(e){var t;(t=this.clearBlockType)[e]=t[e]+1|0},Tc.prototype.addBlockCount_za3lpa$=function(e){var t;(t=this.clearBlockCount)[e]=t[e]+1|0,this.clearBlockAmount=this.clearBlockAmount+e|0},Tc.prototype.addObstacleClear_za3lpa$=function(e){var t;this.clearedObstacleSum=this.clearedObstacleSum+1|0,(t=this.clearedObstacleSumByType)[e%1e3]=t[e%1e3]+1|0},Tc.$metadata$={kind:o,simpleName:"GameValue",interfaces:[]},Gc.$metadata$={kind:o,simpleName:"State",interfaces:[s]},Gc.values=function(){return[Nc(),Oc(),Mc(),Rc()]},Gc.valueOf_61zpoe$=function(e){switch(e){case"ready":return Nc();case"running":return Oc();case"paused":return Mc();case"stop":return Rc();default:c("No enum constant com.blindcatstudio.samsara.logic.ScheduledJob.State."+e)}},Object.defineProperty(Ac.prototype,"manager",{get:function(){return null==this.manager_punyzj$_0?T("manager"):this.manager_punyzj$_0},set:function(e){this.manager_punyzj$_0=e}}),Ac.prototype.SetUpdateCallback_d6xl6w$=function(e){this.onUpdateCallback=e},Ac.prototype.SetStartCallback_o14v8n$=function(e){this.onChangeCallback.put_xwzc9p$("start",e)},Ac.prototype.SetPauseCallback_o14v8n$=function(e){this.onChangeCallback.put_xwzc9p$("pause",e)},Ac.prototype.SetResumeCallback_o14v8n$=function(e){this.onChangeCallback.put_xwzc9p$("resume",e)},Ac.prototype.SetRestartCallback_o14v8n$=function(e){this.onChangeCallback.put_xwzc9p$("restart",e)},Ac.prototype.SetStopCallback_o14v8n$=function(e){this.onChangeCallback.put_xwzc9p$("stop",e)},Ac.prototype.SetRemoveCallback_o14v8n$=function(e){this.onChangeCallback.put_xwzc9p$("remove",e)},Ac.prototype.SetInterver_mx4ult$=function(e){this.interval=e},Ac.prototype.update_mx4ult$=function(e){var t;null!=(t=this.onUpdateCallback)&&t(e)},Ac.prototype.start=function(){var e;this.state===Nc()&&(null!=(e=this.onChangeCallback.get_11rb$("start"))&&e(),this.lastExcuteTime=this.manager.currentTime,this.startTime=this.manager.currentTime+this.interval,this.state=Oc())},Ac.prototype.pause=function(){var e;this.state===Oc()&&(null!=(e=this.onChangeCallback.get_11rb$("pause"))&&e(),this.startTime=this.startTime-this.manager.currentTime,this.state=Mc())},Ac.prototype.resume=function(){var e;this.state===Mc()&&(null!=(e=this.onChangeCallback.get_11rb$("resume"))&&e(),this.lastExcuteTime=this.manager.currentTime,this.startTime+=this.manager.currentTime,this.state=Oc())},Ac.prototype.restart=function(){var e;null!=(e=this.onChangeCallback.get_11rb$("restart"))&&e(),this.lastExcuteTime=this.manager.currentTime,this.startTime=this.manager.currentTime+this.interval,this.state=Oc()},Ac.prototype.stop=function(){var e;this.state!==Rc()&&(null!=(e=this.onChangeCallback.get_11rb$("stop"))&&e(),this.state=Rc())},Ac.prototype.remove=function(){var e;null!=(e=this.onChangeCallback.get_11rb$("remove"))&&e(),this.onUpdateCallback=null,this.onChangeCallback.clear()},Ac.$metadata$={kind:o,simpleName:"ScheduledJob",interfaces:[]},Pc.prototype.addJob_5h0cc$=function(e){(e.manager=this).list.add_11rb$(e)},Pc.$metadata$={kind:o,simpleName:"ScheduledJobManager",interfaces:[]},jc.prototype.initGameVariables=function(){var e;nh.prototype.initGameVariables.call(this);var t=Ke.isType(e=hm().shared().GetItemInfo_61zpoe$("BlocksetNumber"),Jf)?e:Ee();this.gameValue.blockInfo=t,this.gameValue.blockSet=t.resource;var i,r=new Float32Array(Ke.imul(this.gameConfigure.width,this.gameConfigure.height));i=r.length-1|0;for(var o=0;o<=i;o++)r[o]=0;this.markerScale=r},jc.prototype.initAdditional=function(){var e,t,i,r,o;this.view.SetChildHorizontalAlign_jdpdm8$(lo()),this.view.SetChildVerticalAlign_qn2em6$(ro());var n=Ke.isType(e=this.gameValue.blockInfo,Jf)?e:Ee();t=this.gameConfigure.height-1|0;for(var a=0;a<=t;a++){i=this.gameConfigure.width-1|0;for(var s=0;s<=i;s++){var l,h=this.boardRect.x;e:do{if(null==s){l=0;break e}if(Ke.isNumber(s)){l=it(s);break e}if("string"==typeof s)try{l=Qe(s);break e}catch(e){if(Ke.isType(e,ta)){l=0;break e}throw e}l=0}while(0);var u,c=h+l*this.gameConfigure.tileWidthResult+.5*this.gameConfigure.tileWidthGap,d=this.boardRect.y;e:do{if(null==a){u=0;break e}if(Ke.isNumber(a)){u=it(a);break e}if("string"==typeof a)try{u=Qe(a);break e}catch(e){if(Ke.isType(e,ta)){u=0;break e}throw e}u=0}while(0);var p,f=d+u*this.gameConfigure.tileHeightResult+.5*this.gameConfigure.tileHeightGap,m=Cn().value;e:do{if(null==m){p=0;break e}if(Ke.isNumber(m)){p=it(m);break e}if("string"==typeof m)try{p=Qe(m);break e}catch(e){if(Ke.isType(e,ta)){p=0;break e}throw e}p=0}while(0);var v=la(c,f,p,n.resource+"board_tile",this.gameConfigure.tileWidth,this.gameConfigure.tileHeight);v.SetBlendMode_ieo8yr$(ei()),v.SetBlendFactor_mx4ult$(1),v.SetColor_vnjrmz$(n.tileColor),this.view.addChild_g5h3xp$(v),this.boardList.add_11rb$(v);var g,_=this.boardRect.x;e:do{if(null==s){g=0;break e}if(Ke.isNumber(s)){g=it(s);break e}if("string"==typeof s)try{g=Qe(s);break e}catch(e){if(Ke.isType(e,ta)){g=0;break e}throw e}g=0}while(0);var y,$=_+g*this.gameConfigure.tileWidthResult,b=this.boardRect.y;e:do{if(null==a){y=0;break e}if(Ke.isNumber(a)){y=it(a);break e}if("string"==typeof a)try{y=Qe(a);break e}catch(e){if(Ke.isType(e,ta)){y=0;break e}throw e}y=0}while(0);var S,k=b+y*this.gameConfigure.tileHeightResult,w=Rn().value;e:do{if(null==w){S=0;break e}if(Ke.isNumber(w)){S=it(w);break e}if("string"==typeof w)try{S=Qe(w);break e}catch(e){if(Ke.isType(e,ta)){S=0;break e}throw e}S=0}while(0);var x=la($,k,S,null,this.gameConfigure.tileWidthResult,this.gameConfigure.tileHeightResult);x.SetBlendMode_ieo8yr$(ei()),x.SetColor_b53zri$(45,37,53,0),x.SetAlpha_8ca0d4$(0),x.SetShow_6taknv$(!0),this.view.addChild_g5h3xp$(x),this.inputMask.add_11rb$(x),this.inputEnable.add_11rb$(!0)}}for(var C=[Di(0,0,this.view.size.width,this.boardRect.y),Di(0,this.boardRect.y,this.boardRect.x,this.boardRect.height),Di(this.boardRect.x+this.boardRect.width,this.boardRect.y,this.view.size.width-(this.boardRect.x+this.boardRect.width),this.boardRect.height),Di(0,this.boardRect.y+this.boardRect.height,this.view.size.width,this.view.size.height-(this.boardRect.y+this.boardRect.height))],z=0;z<=3;z++){var T,A=C[z].x,G=C[z].y,I=Rn().value;e:do{if(null==I){T=0;break e}if(Ke.isNumber(I)){T=it(I);break e}if("string"==typeof I)try{T=Qe(I);break e}catch(e){if(Ke.isType(e,ta)){T=0;break e}throw e}T=0}while(0);var N=la(A,G,T,null,C[z].width,C[z].height);N.SetBlendMode_ieo8yr$(ei()),N.SetColor_b53zri$(45,37,53,0),N.SetAlpha_8ca0d4$(0),N.SetShow_6taknv$(!0),this.view.addChild_g5h3xp$(N),this.inputMask.add_11rb$(N)}var O,M=this.boardRect.x,R=this.boardRect.y,P=Tn().value;e:do{if(null==P){O=0;break e}if(Ke.isNumber(P)){O=it(P);break e}if("string"==typeof P)try{O=Qe(P);break e}catch(e){if(Ke.isType(e,ta)){O=0;break e}throw e}O=0}while(0);var j=Kr(M,R,O,"Resource/UI/board_mask",this.boardRect.width,this.boardRect.height);j.SetVerticalAlign_qn2em6$(io()),j.SetHorizontalAlign_jdpdm8$(so()),this.view.addChild_g5h3xp$(j),this.view.mask=j,r=this.gameConfigure.height-1|0;for(var B=0;B<=r;B++){o=this.gameConfigure.width-1|0;for(var E=0;E<=o;E++){this.markerScale[E+Ke.imul(B,this.gameConfigure.width)|0]=0;var L,F=jn().value;e:do{if(null==F){L=0;break e}if(Ke.isNumber(F)){L=it(F);break e}if("string"==typeof F)try{L=Qe(F);break e}catch(e){if(Ke.isType(e,ta)){L=0;break e}throw e}L=0}while(0);var D=la(0,0,L,"Resource/UI/IconMarker",this.gameConfigure.tileWidthResult,this.gameConfigure.tileHeightResult);D.SetVerticalAlign_qn2em6$(ro()),D.SetHorizontalAlign_jdpdm8$(lo());var V,U=E+Ke.imul(B,this.gameConfigure.width)|0;e:do{if(Ke.isNumber(U)){V=U.toString();break e}if("string"==typeof U){V=U;break e}if("boolean"==typeof U){V=U.toString();break e}if(Ke.isChar(U)){V=U.toString();break e}V=""}while(0);D.SetName_61zpoe$("Marker"+V),D.SetBlendMode_ieo8yr$(ti()),D.SetBlendFactor_mx4ult$(1),D.SetAlpha_8ca0d4$(0),this.view.addChild_g5h3xp$(D),D.SetShow_6taknv$(!1);var q,H=this.boardRect.x;e:do{if(null==E){q=0;break e}if(Ke.isNumber(E)){q=it(E);break e}if("string"==typeof E)try{q=Qe(E);break e}catch(e){if(Ke.isType(e,ta)){q=0;break e}throw e}q=0}while(0);var W,Y=H+q*this.gameConfigure.tileWidthResult+.5*this.gameConfigure.tileWidthResult,X=this.boardRect.y;e:do{if(null==B){W=0;break e}if(Ke.isNumber(B)){W=it(B);break e}if("string"==typeof B)try{W=Qe(B);break e}catch(e){if(Ke.isType(e,ta)){W=0;break e}throw e}W=0}while(0);D.SetPosition_dleff0$(Y,X+W*this.gameConfigure.tileHeightResult+.5*this.gameConfigure.tileHeightResult),D.addUpdateCallback_sds54w$("Marker",void 0,void 0,void 0,void 0,void 0,Bc(this,E,B,D));var K,Z=jn().value;e:do{if(null==Z){K=0;break e}if(Ke.isNumber(Z)){K=it(Z);break e}if("string"==typeof Z)try{K=Qe(Z);break e}catch(e){if(Ke.isType(e,ta)){K=0;break e}throw e}K=0}while(0);var Q=la(0,0,K,"Resource/UI/IconFinger_0",this.gameConfigure.tileWidthResult,this.gameConfigure.tileHeightResult),J=new Et(["Resource/UI/IconFinger_0","Resource/UI/IconFinger_1"],.5,-1,this.gameConfigure.tileWidthResult,this.gameConfigure.tileHeightResult,0,0);J.SetStartFrame_za3lpa$(0),J.SetEndFrame_za3lpa$(1),Q.SetAnimation_pe1q5w$(J),Q.SetVerticalAlign_qn2em6$(ro()),Q.SetHorizontalAlign_jdpdm8$(lo());var ee,te=E+Ke.imul(B,this.gameConfigure.width)|0;e:do{if(Ke.isNumber(te)){ee=te.toString();break e}if("string"==typeof te){ee=te;break e}if("boolean"==typeof te){ee=te.toString();break e}if(Ke.isChar(te)){ee=te.toString();break e}ee=""}while(0);Q.SetName_61zpoe$("Finger"+ee),this.view.addChild_g5h3xp$(Q),Q.SetShow_6taknv$(!1);var ie,re=this.boardRect.x;e:do{if(null==E){ie=0;break e}if(Ke.isNumber(E)){ie=it(E);break e}if("string"==typeof E)try{ie=Qe(E);break e}catch(e){if(Ke.isType(e,ta)){ie=0;break e}throw e}ie=0}while(0);var oe,ne=re+ie*this.gameConfigure.tileWidthResult+.5*this.gameConfigure.tileWidthResult,ae=this.boardRect.y;e:do{if(null==B){oe=0;break e}if(Ke.isNumber(B)){oe=it(B);break e}if("string"==typeof B)try{oe=Qe(B);break e}catch(e){if(Ke.isType(e,ta)){oe=0;break e}throw e}oe=0}while(0);Q.SetPosition_dleff0$(ne,ae+oe*this.gameConfigure.tileHeightResult+1*this.gameConfigure.tileHeightResult)}}},jc.prototype.deinitGameVariables=function(){var e,t;null!=(e=this.view.mask)&&e.removeFromParent();for(var i=this.boardList.size-1|0;0<=i;i--){this.boardList.removeAt_za3lpa$(i).removeFromParent(),this.inputMask.removeAt_za3lpa$(i).removeFromParent()}nh.prototype.deinitGameVariables.call(this),null!=(t=this.view.screen)&&t.removeTouchListener_61zpoe$("For Game")},jc.prototype.start=function(){var e;this.masterTimer.start(),null!=(e=this.gameLogicUpdater)&&e.start(),this.gameState.SetNextState_9sobi5$("ready"),this.cancelKeyInput_za3lpa$(),this.initializeDone=!0},jc.prototype.generateBoard=function(){this.regenAllBlock_za3lpa$(this.gameConfigure.dropAdjust)},jc.prototype.SetBoardIndex_3oypbd$=function(e,t,i,r,o,n){void 0===e&&(e=null),void 0===t&&(t=new Int32Array([])),void 0===i&&(i=new Int32Array([])),void 0===r&&(r=!1),void 0===o&&(o=!1),void 0===n&&(n=!1),this.boardGenerator=Fc(this,void 0,e,t,r,o,n)},jc.prototype.addBlock_q5rwfd$=function(e){var t;(Ke.isType(t=this.boardGenerator,Lc)?t:Ee()).addBlock_q5rwfd$(e)},Object.defineProperty(jc.prototype,"onReady",{get:function(){return this.onReady_1hbg4m$_0}}),Object.defineProperty(jc.prototype,"onGameOver",{get:function(){return this.onGameOver_mfeufl$_0}}),Object.defineProperty(jc.prototype,"onWaitForStop",{get:function(){return this.onWaitForStop_7w6bbt$_0}}),jc.prototype.updateInfo=function(){},jc.prototype.processKeyInput=function(){var e,t,i,r,o,n,a,s;if(0!==this.availableInputCount){var l=this.GetClickedButton();if(-1!==l.first&&-1!==l.second){var h=l.first,u=l.second;if(!1===this.inputEnable.get_za3lpa$(h+Ke.imul(u,this.gameConfigure.width)|0))return void this.cancelKeyInput_za3lpa$();(e=this.gameValue).clickAllCount=e.clickAllCount+1|0;var c=Ke.isType(t=this.map[h][u],Ed)?t:null;if(null!=c)if(Ke.isType(c,ld)){var d=Ke.isType(i=c,ld)?i:Ee();if(!1===this.isBlockClickable_nwthlc$(d))return void(d.GetAttribute()===Vd()&&(ql().shared().playEffect_bm4lxs$("shake"),this.cancelKeyInput_za3lpa$(0),d.shake_7b5o5w$()));if(!1===this.preIncreaseChainedTile_qt1dr2$(h,u,d.value))return;ql().shared().playEffect_bm4lxs$("change"),this.boardGenerator.clearHint(),this.checkDelayedBlock(),this.increaseChainedTile_qt1dr2$(h,u,d.value),(r=this.gameValue).clickCount=r.clickCount+1|0,0<this.availableInputCount&&(this.availableInputCount=this.availableInputCount-1|0),null!=(o=this.blockDisableTimer)&&o.pause(),this.gameValue.seq=0,this.lastIncrease=new Le(h,u)}else if(Ke.isType(c,Gd)){this.boardGenerator.clearHint(),this.checkDelayedBlock(),(Ke.isType(n=c,Gd)?n:Ee()).SetUsed_6taknv$(!0),(a=this.gameValue).clickCount=a.clickCount+1|0,0<this.availableInputCount&&(this.availableInputCount=this.availableInputCount-1|0),null!=(s=this.blockDisableTimer)&&s.pause(),this.gameValue.seq=0}else Ke.isType(c,Pd)&&(ql().shared().playEffect_bm4lxs$("shake"),c.shake_7b5o5w$());this.cancelKeyInput_za3lpa$(0)}}else this.cancelKeyInput_za3lpa$()},jc.prototype.checkJustDrop_za3lpa$=function(e){return this.justDropCount===e&&this.gameValue.clearBlockType[this.justDropType]===e},jc.prototype.createComboMark=function(){},jc.prototype.createScore_l4u1g4$=function(e,t){},jc.prototype.createFeverMark=function(){},jc.prototype.createItem_mbbjvw$$default=function(e,t,i,r,o,n){if(0<this.item.size){var a=this.item.removeAt_za3lpa$(0);return this.createItem_mbbjvw$(a%1e5,a/1e5|0,i,r,o,n,nh.prototype.createItem_mbbjvw$$default.bind(this))}return this.createItem_mbbjvw$(e,t,i,r,o,n,nh.prototype.createItem_mbbjvw$$default.bind(this))},jc.prototype.SetInputEnable_vux9f0$=function(e,t){var i=e+Ke.imul(t,this.gameConfigure.width)|0;this.inputEnable.set_wxm5ur$(i,!0)},jc.prototype.SetInputEnableAll=function(){var e;e=this.inputEnable.size-1|0;for(var t=0;t<=e;t++)this.inputEnable.set_wxm5ur$(t,!0)},jc.prototype.SetInputDisable_vux9f0$=function(e,t){var i=e+Ke.imul(t,this.gameConfigure.width)|0;this.inputEnable.set_wxm5ur$(i,!1)},jc.prototype.SetInputDisableAll_vux9f0$=function(e,t){var i;void 0===e&&(e=-1),void 0===t&&(t=-1),i=this.inputEnable.size-1|0;for(var r=0;r<=i;r++)(e+Ke.imul(t,this.gameConfigure.width)|0)===r?this.inputEnable.set_wxm5ur$(r,!0):this.inputEnable.set_wxm5ur$(r,!1)},jc.prototype.showInputMask=function(){var e,t,i;e=this.inputMask.size-1|0;for(var r=0;r<=e;r++)r>=this.inputEnable.size?null!=(t=this.view.screen)&&t.actionFadeIn_hkbjms$(this.inputMask.get_za3lpa$(r),void 0,.75,void 0,.5):!0!==this.inputEnable.get_za3lpa$(r)&&null!=(i=this.view.screen)&&i.actionFadeIn_hkbjms$(this.inputMask.get_za3lpa$(r),void 0,.75,void 0,.5)},jc.prototype.hideInputMask=function(){var e,t;e=this.inputMask.size-1|0;for(var i=0;i<=e;i++)null!=(t=this.view.screen)&&t.actionFadeOut_7vo5wp$(this.inputMask.get_za3lpa$(i),this.inputMask.get_za3lpa$(i).GetAlpha(),void 0,.5)},jc.prototype.SetAvailableInputCount_za3lpa$=function(e){void 0===e&&(e=-1),this.availableInputCount=e,0===this.availableInputCount&&this.cancelKeyInput_za3lpa$()},jc.prototype.showMarker_vux9f0$=function(e,t){var i,r=this.view,o=e+Ke.imul(t,this.gameConfigure.width)|0;e:do{if(Ke.isNumber(o)){i=o.toString();break e}if("string"==typeof o){i=o;break e}if("boolean"==typeof o){i=o.toString();break e}if(Ke.isChar(o)){i=o.toString();break e}i=""}while(0);var n=r.findChildByName_3m52m6$("Marker"+i);null!=n&&(this.markerScale[e+Ke.imul(t,this.gameConfigure.width)|0]=0,n.SetShow_6taknv$(!0))},jc.prototype.hideMarker=function(){var e,t;e=this.gameConfigure.width-1|0;for(var i=0;i<=e;i++){t=this.gameConfigure.height-1|0;for(var r=0;r<=t;r++){var o,n=this.view,a=i+Ke.imul(r,this.gameConfigure.width)|0;e:do{if(Ke.isNumber(a)){o=a.toString();break e}if("string"==typeof a){o=a;break e}if("boolean"==typeof a){o=a.toString();break e}if(Ke.isChar(a)){o=a.toString();break e}o=""}while(0);var s=n.findChildByName_3m52m6$("Marker"+o);null!=s&&s.SetShow_6taknv$(!1)}}},jc.prototype.showFinger_vux9f0$=function(e,t){var i,r=this.view,o=e+Ke.imul(t,this.gameConfigure.width)|0;e:do{if(Ke.isNumber(o)){i=o.toString();break e}if("string"==typeof o){i=o;break e}if("boolean"==typeof o){i=o.toString();break e}if(Ke.isChar(o)){i=o.toString();break e}i=""}while(0);var n=r.findChildByName_3m52m6$("Finger"+i);null!=n&&(n.SetShow_6taknv$(!0),n.SetAlpha_8ca0d4$(.8))},jc.prototype.hideFinger=function(){var e,t;e=this.gameConfigure.width-1|0;for(var i=0;i<=e;i++){t=this.gameConfigure.height-1|0;for(var r=0;r<=t;r++){var o,n=this.view,a=i+Ke.imul(r,this.gameConfigure.width)|0;e:do{if(Ke.isNumber(a)){o=a.toString();break e}if("string"==typeof a){o=a;break e}if("boolean"==typeof a){o=a.toString();break e}if(Ke.isChar(a)){o=a.toString();break e}o=""}while(0);var s=n.findChildByName_3m52m6$("Finger"+o);null!=s&&s.SetShow_6taknv$(!1)}}},jc.prototype.createFeverBackgroundEffect=function(){},jc.prototype.removeFeverBackgroundEffect=function(){},jc.prototype.SetTransformDelay_mx4ult$=function(e){void 0===e&&(e=.2),this.gameConfigure.transformDelay=e},jc.prototype.SetMatchDelay_mx4ult$=function(e){void 0===e&&(e=0),this.gameConfigure.matchDelay=e},jc.prototype.SetMatchEffectSpeed_mx4ult$=function(e){void 0===e&&(e=.8);var t=.8/e;this.gameConfigure.matchEffectSpeed=e,this.gameConfigure.matchEffectDuration=.5*t,this.gameConfigure.removeFireDelay=.4*t},jc.prototype.SetDropAdjust_za3lpa$=function(e){void 0===e&&(e=-1),this.gameConfigure.dropAdjust=e},jc.prototype.SetRegenNoMoreMove_6taknv$=function(e){this.gameConfigure.regenNoMoreMove=e},jc.prototype.SetJustDrop_vux9f0$=function(e,t){void 0===t&&(t=-1),this.justDropType=e,this.justDropCount=t},jc.$metadata$={kind:o,simpleName:"Tutorial",interfaces:[nh]},Lc.prototype.createNewBoard_s8cxhz$$default=function(e){var t;if(!0===this.reuseWhenNoMoreMove&&(this.blockIndex=0),!0===this.resetClearBlockCount){t=Je(this.game).gameValue.clearBlockType;for(var i=0;i!==t.length;++i)Je(this.game).gameValue.clearBlockType[i]=0}},Lc.prototype.GetAvailableBlock_vux9f0$=function(e,t){if(!0===this.stopCreateBlock)return-1;if(this.blockIndex<this.block.size){var i=this.block.get_za3lpa$(this.blockIndex);return this.blockIndex=this.blockIndex+1|0,i}if(!0===this.reuseBlock&&0<this.block.size){this.blockIndex=0;var r=this.block.get_za3lpa$(this.blockIndex);return this.blockIndex=this.blockIndex+1|0,r}var o,n=go().arc4random_uniform_za3lpa$(Je(this.game).gameConfigure.kindOfNumber);e:do{if(null==n){o=0;break e}if(Ke.isNumber(n)){o=et(n);break e}if("string"==typeof n)try{o=tt(n);break e}catch(e){if(Ke.isType(e,ta)){o=0;break e}throw e}o=0}while(0);return o},Lc.prototype.GetAvailableBlockOriginal_za3lpa$=function(e){return this.GetAvailableBlock_vux9f0$(e,0)},Lc.prototype.addBlock_q5rwfd$=function(e){this.block.addAll_brywnq$(Q(e))},Lc.$metadata$={kind:o,simpleName:"TutorialBoardGenerator",interfaces:[Kl]},Dc.$metadata$={kind:o,simpleName:"ClassicConfigureForWatch",interfaces:[Wc]},Uc.$metadata$={kind:o,simpleName:"ClassicConfigureForAndroid",interfaces:[Dc]},Hc.$metadata$={kind:o,simpleName:"ClassicConfigure6x6ForiOS",interfaces:[Dc]},Wc.prototype.GetStarPerFever_za3lpa$=function(e){var t=e;return t>=this.starPerFever.length&&(t=this.starPerFever.length-1|0),this.starPerFever[t]},Wc.prototype.GetStarForNirvanaPerFever_za3lpa$=function(e){var t=e;return t>=this.starForNirvanaPerFever.length&&(t=this.starForNirvanaPerFever.length-1|0),this.starForNirvanaPerFever[t]},Wc.prototype.adjustTileSize=function(){var e=this.screenSize.height*(this.boardSize/480),t=this.screenSize.width*(this.boardSize/320);t<e&&(e=t),e<t&&(t=e),this.tileWidthResult=t/this.width,this.tileHeightResult=e/this.height,this.tileWidthResult>this.tileHeightResult&&(this.tileWidthResult=this.tileHeightResult),this.tileHeightResult>this.tileWidthResult&&(this.tileHeightResult=this.tileWidthResult),this.tileWidthGap=this.tileWidthResult*this.tileWidthGapRatio,this.tileHeightGap=this.tileHeightResult*this.tileHeightGapRatio,this.tileWidth=this.tileWidthResult-this.tileWidthGap,this.tileHeight=this.tileHeightResult-this.tileHeightGap,this.topGaugeHeight=this.tileHeight*this.gaugeHeightRatio,this.bottomGaugeHeight=this.tileHeight*this.gaugeHeightRatio},Wc.$metadata$={kind:o,simpleName:"GameConfigure",interfaces:[]},Xc.$metadata$={kind:o,simpleName:"InfiniteConfigureForWatch",interfaces:[Wc]},Zc.$metadata$={kind:o,simpleName:"InfiniteConfigureForiOS",interfaces:[Xc]},Jc.$metadata$={kind:o,simpleName:"InfiniteConfigure6x6ForiOS",interfaces:[Xc]},td.$metadata$={kind:o,simpleName:"PuzzleConfigure",interfaces:[Wc]},id.$metadata$={kind:o,simpleName:"TimelessConfigureForWatch",interfaces:[Wc]},od.$metadata$={kind:o,simpleName:"TimelessConfigureForiOS",interfaces:[id]},nd.$metadata$={kind:o,simpleName:"TimelessConfigure6x6ForiOS",interfaces:[id]},ad.$metadata$={kind:o,simpleName:"TutorialConfigure",interfaces:[Wc]},ld.prototype.remove=function(){var e;Ed.prototype.remove.call(this),null!=this.disabledMask&&(Je(this.disabledMask).removeFromParent(),this.disabledMask=null),e=this.connection;for(var t=0;t!==e.length;++t){var i=e[t];null!=i&&(Je(i).removeFromParent(),this.connection[t]=null)}null!=this.effectSprite&&(Je(this.effectSprite).removeFromParent(),this.effectSprite=null)},ld.prototype.GetAttribute=function(){return this.attribute},ld.prototype.SetAttribute_c9f3gi$=function(e){this.attribute=e},ld.prototype.GetBlockState=function(){return this.animationState.GetState()},ld.prototype.SetDisabled=function(){this.transformCount=this.transformCount+1|0,this.SetAttribute_c9f3gi$(Vd()),this.disabledDone=!1},ld.prototype.transform_mx4ult$=function(e){var t;void 0===e&&(e=0),this.transformCount=this.transformCount+1|0,this.needCheck=!0,this.needCheckReason=0,this.isTransforming=!0,(this.value<0||this.value>=this.game.gameConfigure.indexOfGroup.length)&&(k("Abnormal BlockEntity Value : "+R(this.value)),this.value=0);var i,r=this.game.gameConfigure.indexOfGroup[this.value];this.value=this.value+1|0,this.game.gameConfigure.indexOfGroup[this.value]!==r&&(this.value=this.game.gameConfigure.startOfGroup[r]),null!=(t=this.game.view.screen)&&t.actionDelay_ab0iom$(e,void 0,(i=this,function(){return i.animationState.SetNextState_9sobi5$("transform"),i.transformMotion(),Ze})),this.removeConnection()},ld.prototype.transformMotion=function(){var e,t,n,a,s,l,h,u,c,d,p;if(this.goingToRollback)this.animationState.SetNextState_9sobi5$("rollback",.5);else{if(0!==(null!=(e=this.disabledMask)?e.GetAlpha():null)){var i,r=this.game.gameValue.blockSet,o=this.value;e:do{if(Ke.isNumber(o)){i=o.toString();break e}if("string"==typeof o){i=o;break e}if("boolean"==typeof o){i=o.toString();break e}if(Ke.isChar(o)){i=o.toString();break e}i=""}while(0);t=r+i+"_normal"}else{var f,m=this.game.gameValue.blockSet,v=this.value;e:do{if(Ke.isNumber(v)){f=v.toString();break e}if("string"==typeof v){f=v;break e}if("boolean"==typeof v){f=v.toString();break e}if(Ke.isChar(v)){f=v.toString();break e}f=""}while(0);t=m+f+"_normal"}var g,_=this.GetBoardX(),y=this.GetBoardY(),$=this.spriteZ,b=t,S=this.game.gameConfigure.tileWidth;e:do{if(null==S){g=0;break e}if(Ke.isNumber(S)){g=it(S);break e}if("string"==typeof S)try{g=Qe(S);break e}catch(e){if(Ke.isType(e,ta)){g=0;break e}throw e}g=0}while(0);var k,w=g,x=this.game.gameConfigure.tileHeight;e:do{if(null==x){k=0;break e}if(Ke.isNumber(x)){k=it(x);break e}if("string"==typeof x)try{k=Qe(x);break e}catch(e){if(Ke.isType(e,ta)){k=0;break e}throw e}k=0}while(0);var C=la(_,y,$,b,w,k);C.SetHorizontalAlign_jdpdm8$(lo()),C.SetVerticalAlign_qn2em6$(ro());var z,T=Je(this.sprite).GetSize().width,A=Je(this.sprite).GetSize().height,G=.5*this.game.gameConfigure.transformDelay,I={v:yn(1/G)},N=I.v,O=this.game.gameConfigure.tileHeight/2;e:do{if(null==O){z=0;break e}if(Ke.isNumber(O)){z=it(O);break e}if("string"==typeof O)try{z=Qe(O);break e}catch(e){if(Ke.isType(e,ta)){z=0;break e}throw e}z=0}while(0);N.SetScale_mx4ult$(z);Je(this.sprite).addUpdateCallback_sds54w$(void 0,void 0,void 0,void 0,void 0,void 0,(n=I,a=G,s=this,l=T,h=A,u={v:!1},c=C,d={v:0},p={v:0},function(e){n.v.update_mx4ult$(e.elapsed);var t=n.v.GetPosition();if(e.age<a&&Je(s.sprite).SetSize_dleff0$(l-t,h-t),0===e.elapsed||e.age>2*a)return!1===u.v&&(Je(s.sprite).SetImage_9xt0da$(Je(c.GetImage()),l,h),c.removeFromParent()),Je(s.sprite).SetSize_dleff0$(l,h),s.animationState.SetNextState_9sobi5$("wait"),!1;if(e.age>=a&&e.age<=2*a)if(!1===u.v){d.v=Je(s.sprite).GetSize().width,p.v=Je(s.sprite).GetSize().height,Je(s.sprite).SetImage_9xt0da$(Je(c.GetImage()),d.v,p.v),n.v=yn(1/a);var i,r=n.v,o=s.game.gameConfigure.tileHeight/2;e:do{if(null==o){i=0;break e}if(Ke.isNumber(o)){i=it(o);break e}if("string"==typeof o)try{i=Qe(o);break e}catch(e){if(Ke.isType(e,ta)){i=0;break e}throw e}i=0}while(0);r.SetScale_mx4ult$(i),c.removeFromParent(),u.v=!0}else Je(s.sprite).SetSize_dleff0$(d.v+t,p.v+t);return!0}))}},ld.prototype.rollback=function(){this.transformCount=this.transformCount-1|0;var e,t=this.game.gameValue.blockSet,i=this.value;e:do{if(Ke.isNumber(i)){e=i.toString();break e}if("string"==typeof i){e=i;break e}if("boolean"==typeof i){e=i.toString();break e}if(Ke.isChar(i)){e=i.toString();break e}e=""}while(0);var r=t+e+"_normal";if(null!=this.sprite){var o,n=Je(this.sprite),a=this.game.gameConfigure.tileWidth;e:do{if(null==a){o=0;break e}if(Ke.isNumber(a)){o=it(a);break e}if("string"==typeof a)try{o=Qe(a);break e}catch(e){if(Ke.isType(e,ta)){o=0;break e}throw e}o=0}while(0);var s,l=o,h=this.game.gameConfigure.tileHeight;e:do{if(null==h){s=0;break e}if(Ke.isNumber(h)){s=it(h);break e}if("string"==typeof h)try{s=Qe(h);break e}catch(e){if(Ke.isType(e,ta)){s=0;break e}throw e}s=0}while(0);n.SetImage_9xt0da$(r,l,s)}if(this.attribute!==Vd()&&null!=this.disabledMask){var u,c=Je(this.disabledMask),d=this.game.gameValue.blockSet,p=this.value;e:do{if(Ke.isNumber(p)){u=p.toString();break e}if("string"==typeof p){u=p;break e}if("boolean"==typeof p){u=p.toString();break e}if(Ke.isChar(p)){u=p.toString();break e}u=""}while(0);var f,m=d+u+"_bg",v=this.game.gameConfigure.tileWidth;e:do{if(null==v){f=0;break e}if(Ke.isNumber(v)){f=it(v);break e}if("string"==typeof v)try{f=Qe(v);break e}catch(e){if(Ke.isType(e,ta)){f=0;break e}throw e}f=0}while(0);var g,_=f,y=this.game.gameConfigure.tileHeight;e:do{if(null==y){g=0;break e}if(Ke.isNumber(y)){g=it(y);break e}if("string"==typeof y)try{g=Qe(y);break e}catch(e){if(Ke.isType(e,ta)){g=0;break e}throw e}g=0}while(0);c.SetImage_9xt0da$(m,_,g)}var $=this.game.gameConfigure.indexOfGroup[this.value];this.value=this.value-1|0,this.value<0&&(this.value=this.game.gameConfigure.countOfGroup[$]-1|0),this.game.gameConfigure.indexOfGroup[this.value]!==$&&(this.value=this.game.gameConfigure.startOfGroup[$]),this.animationState.SetNextState_9sobi5$("transform"),this.needCheck=!1,this.goingToRollback=!1,this.isTransforming=!0},ld.prototype.explode_902hsc$=function(e,t,i,r){var o,n,a,s,l,h;if(void 0===e&&(e=3),void 0===t&&(t=0),void 0===i&&(i=0),void 0===r&&(r=0),this.goingToRemove=!0,null!=this.disabledMask&&Je(this.disabledMask).removeFromParent(),0===r){var u=la(0,0,void 0,Je(this.sprite).GetImage(),Je(this.sprite).GetSize().width,Je(this.sprite).GetSize().height);u.SetBlendMode_ieo8yr$(ti()),u.SetBlendFactor_mx4ult$(1),u.SetAlpha_8ca0d4$(0),Je(this.sprite).addChild_g5h3xp$(u),null!=(o=this.game.view.screen)&&o.actionFade_ntk7i0$(t+this.game.gameConfigure.removeFireDelay,0,1,null,hd(u,this,e,i))}else if(1===r){null!=(n=this.sprite)&&n.SetAlpha_8ca0d4$(0);var c,d=this.GetRealScreenX(),p=this.GetRealScreenY(),f=this.spriteZ,m=Je(this.sprite).GetImage(),v=this.game.gameConfigure.tileWidth;e:do{if(null==v){c=0;break e}if(Ke.isNumber(v)){c=it(v);break e}if("string"==typeof v)try{c=Qe(v);break e}catch(e){if(Ke.isType(e,ta)){c=0;break e}throw e}c=0}while(0);var g,_=c,y=this.game.gameConfigure.tileHeight;e:do{if(null==y){g=0;break e}if(Ke.isNumber(y)){g=it(y);break e}if("string"==typeof y)try{g=Qe(y);break e}catch(e){if(Ke.isType(e,ta)){g=0;break e}throw e}g=0}while(0);var $=la(d,p,f,m,_,g);$.SetHorizontalAlign_jdpdm8$(lo()),$.SetVerticalAlign_qn2em6$(ro()),this.game.view.addChild_g5h3xp$($),null!=(a=this.game.view.screen)&&a.actionDelay_ab0iom$(t,void 0,ud(this,$,e,i))}else if(2===r){null!=(s=this.sprite)&&s.SetAlpha_8ca0d4$(0);var b,S=this.GetRealScreenX(),k=this.GetRealScreenY(),w=this.spriteZ,x=Je(this.sprite).GetImage(),C=this.game.gameConfigure.tileWidth;e:do{if(null==C){b=0;break e}if(Ke.isNumber(C)){b=it(C);break e}if("string"==typeof C)try{b=Qe(C);break e}catch(e){if(Ke.isType(e,ta)){b=0;break e}throw e}b=0}while(0);var z,T=b,A=this.game.gameConfigure.tileHeight;e:do{if(null==A){z=0;break e}if(Ke.isNumber(A)){z=it(A);break e}if("string"==typeof A)try{z=Qe(A);break e}catch(e){if(Ke.isType(e,ta)){z=0;break e}throw e}z=0}while(0);var G=la(S,k,w,x,T,z);G.SetHorizontalAlign_jdpdm8$(lo()),G.SetVerticalAlign_qn2em6$(ro()),G.SetBlendMode_ieo8yr$(ti()),G.SetColor_vnjrmz$(ui().white_mx4ult$()),this.game.view.addChild_g5h3xp$(G),null!=(l=this.game.view.screen)&&l.actionDelay_ab0iom$(t,void 0,cd(this,G,e,i))}else null!=(h=this.game.view.screen)&&h.actionDelay_ab0iom$(t+this.game.gameConfigure.removeFireDelay,void 0,dd(this,e,i))},ld.prototype.explode_nhq4am$$default=function(e,t,i){this.explode_902hsc$(e,t,i,0)},ld.prototype.explodeEffect_24o109$=function(e,t){var i=this.game.view.findChildByName_3m52m6$("Fever Gauge Mask");null!=i&&this.createHoming_7thp2o$(e,Gi(i.GetPosition().x-.5*i.GetSize().width+this.game.gameValue.feverGage*i.GetSize().width/100,i.GetPosition().y-.5*i.GetSize().height)),this.createExplosion_za3lpa$(e)},ld.prototype.fall_6taknv$=function(e){this.attribute===Vd()&&!1===this.disabledDone&&this.makeDisable(),this.needCheck=!0,this.needCheckReason=1,(this.isDropping=!0)===e&&this.shake_7b5o5w$(5,0,0,this.game.gameConfigure.shakeDuration),this.connectionBitMask=0,this.removeConnection()},ld.prototype.animate_mx4ult$=function(e){this.animationState.update_mx4ult$(e)},ld.prototype.draw=function(){var e,t=this.GetBoardX(),i=this.GetBoardY();!1===this.isTransforming&&(null!=this.disabledMask&&Je(this.disabledMask).SetPosition_dleff0$(t,i),null!=(e=this.sprite)&&e.SetPosition_dleff0$(t,i)),null!=this.effectSprite&&Je(this.effectSprite).SetPosition_dleff0$(t,i)},ld.prototype.onLanding_vux9f0$=function(e,t){if(Ed.prototype.onLanding_vux9f0$.call(this,e,t),ql().shared().playEffect_bm4lxs$("landing"),!0===this.game.gameConfigure.bounceOnLanding){if(null!=this.sprite){var i;this.bouncing=!0;e:do{if(null==t){i=0;break e}if(Ke.isNumber(t)){i=it(t);break e}if("string"==typeof t)try{i=Qe(t);break e}catch(e){if(Ke.isType(e,ta)){i=0;break e}throw e}i=0}while(0);this.spriteZ=7+.1*i;var r=Gi(this.GetBoardX(),this.GetBoardY()),o=new dn;o.SetTarget_nfvrp9$(-5,5,.15);var n,a=this.game.gameConfigure.tileHeight;e:do{if(null==a){n=0;break e}if(Ke.isNumber(a)){n=it(a);break e}if("string"==typeof a)try{n=Qe(a);break e}catch(e){if(Ke.isType(e,ta)){n=0;break e}throw e}n=0}while(0);o.SetScale_mx4ult$(n/50),Je(this.sprite).addUpdateCallback_sds54w$("BlockEntity Landing",void 0,void 0,void 0,void 0,void 0,(s=o,l=this,h=r,function(e){s.update_mx4ult$(e.elapsed);var t=s.GetPosition();if(0<=t)return l.needCheck=!0,l.needCheckReason=1,l.bouncing=!1;Je(l.sprite).SetPosition_dleff0$(h.x,h.y+t);var i=l.disabledMask;return null!=i&&i.SetPosition_dleff0$(h.x,h.y+t),!0}))}}else this.needCheck=!0,this.needCheckReason=1,this.bouncing=!1;var s,l,h},ld.prototype.isMatchCheckable=function(){return!0!==this.isTransforming},ld.prototype.makeDisableGray=function(){var e,T;null!=(e=this.sprite)&&e.addUpdateCallback_sds54w$(void 0,!1,void 0,void 0,.3,void 0,(T=this,function(e){var t,i,r,o;if(1===e.count){var n,a=T,s=T.GetBoardX(),l=T.GetBoardY(),h=T.disabledMaskZ,u=T.game.gameValue.blockSet,c=T.value;e:do{if(Ke.isNumber(c)){n=c.toString();break e}if("string"==typeof c){n=c;break e}if("boolean"==typeof c){n=c.toString();break e}if(Ke.isChar(c)){n=c.toString();break e}n=""}while(0);var d,p=u+n+"_gray",f=T.game.gameConfigure.tileWidth;e:do{if(null==f){d=0;break e}if(Ke.isNumber(f)){d=it(f);break e}if("string"==typeof f)try{d=Qe(f);break e}catch(e){if(Ke.isType(e,ta)){d=0;break e}throw e}d=0}while(0);var m,v=d,g=T.game.gameConfigure.tileHeight;e:do{if(null==g){m=0;break e}if(Ke.isNumber(g)){m=it(g);break e}if("string"==typeof g)try{m=Qe(g);break e}catch(e){if(Ke.isType(e,ta)){m=0;break e}throw e}m=0}while(0);return a.disabledMask=la(s,l,h,p,v,m),null!=(t=T.disabledMask)&&t.SetHorizontalAlign_jdpdm8$(lo()),null!=(i=T.disabledMask)&&i.SetVerticalAlign_qn2em6$(ro()),T.game.view.GetMask().addChild_g5h3xp$(Je(T.disabledMask)),Je(T.disabledMask).SetAlpha_8ca0d4$(0),!0}if(0===e.elapsed){var _,y=Je(T.sprite),$=T.game.gameValue.blockSet,b=T.value;e:do{if(Ke.isNumber(b)){_=b.toString();break e}if("string"==typeof b){_=b;break e}if("boolean"==typeof b){_=b.toString();break e}if(Ke.isChar(b)){_=b.toString();break e}_=""}while(0);var S,k=$+_+"_gray",w=T.game.gameConfigure.tileWidth;e:do{if(null==w){S=0;break e}if(Ke.isNumber(w)){S=it(w);break e}if("string"==typeof w)try{S=Qe(w);break e}catch(e){if(Ke.isType(e,ta)){S=0;break e}throw e}S=0}while(0);var x,C=S,z=T.game.gameConfigure.tileHeight;e:do{if(null==z){x=0;break e}if(Ke.isNumber(z)){x=it(z);break e}if("string"==typeof z)try{x=Qe(z);break e}catch(e){if(Ke.isType(e,ta)){x=0;break e}throw e}x=0}while(0);return y.SetImage_9xt0da$(k,C,x),Je(T.sprite).SetAlpha_8ca0d4$(1),null!=(r=T.disabledMask)&&r.removeFromParent(),!1===T.game.gameConfigure.clickOnce&&T.makeEnable(),!1}return null!=(o=T.disabledMask)&&o.SetAlpha_8ca0d4$(e.age*(1/.3)),!0})),Je(this.sprite).SetAnimation_pe1q5w$(null),this.disabledDone=!0},ld.prototype.removeConnection=function(){this.connectionBitMask=0,null!=this.connection[0]&&(Je(this.connection[0]).removeFromParent(),this.connection[0]=null),null!=this.connection[1]&&(Je(this.connection[1]).removeFromParent(),this.connection[1]=null),null!=this.connection[2]&&(Je(this.connection[2]).removeFromParent(),this.connection[2]=null),null!=this.connection[3]&&(Je(this.connection[3]).removeFromParent(),this.connection[3]=null)},ld.prototype.adjustConnection=function(){var e=this.connection[2];null!=e&&e.SetPosition_dleff0$(Je(this.sprite).GetPosition().x-.5*this.game.gameConfigure.tileWidth,e.GetPosition().y),null!=(e=this.connection[3])&&e.SetPosition_dleff0$(Je(this.sprite).GetPosition().x+.5*this.game.gameConfigure.tileWidth,e.GetPosition().y)},ld.prototype.updateConnection=function(){var e,t,i,r,o,n,a,s,l,h,u,c,d,p,f,m,v,g,_,y,$,b,S,k,w,x,C,z;if(1==(1&this.connectionBitMask)){var T=this.game.gameValue.blockSet+"connect_0",A=this.connection[0];if(null!=A&&!ue(Je(A).image,T)||null==A){var G,I=this.GetBoardX()-.5*this.game.gameConfigure.tileWidth,N=this.GetBoardY()-.5*this.game.gameConfigure.tileHeight,O=In().value;e:do{if(null==O){G=0;break e}if(Ke.isNumber(O)){G=it(O);break e}if("string"==typeof O)try{G=Qe(O);break e}catch(e){if(Ke.isType(e,ta)){G=0;break e}throw e}G=0}while(0);var M=la(I,N,G,T,this.game.gameConfigure.tileWidth,0),R=Ke.isType(e=this.game.gameValue.blockInfo,Jf)?e:null;if(null!=R){var P=ci(R.colorMap.get_za3lpa$(this.value+5|0));M.SetColor_vnjrmz$(P),M.SetBlendFactor_mx4ult$(1)}M.SetHorizontalAlign_jdpdm8$(so()),M.SetVerticalAlign_qn2em6$(oo()),this.game.view.GetMask().addChild_g5h3xp$(M),M.SetAlpha_8ca0d4$(1),null!=(t=this.game.view.screen)&&t.actionFade_ntk7i0$(.1,0,this.game.gameConfigure.tileHeightGap,void 0,(m=M,function(e,t){m.SetSize_dleff0$(m.GetSize().width,e)})),null!=A?null!=(i=this.game.view.screen)&&i.actionFadeOut_7vo5wp$(A,void 0,void 0,.2,void 0,void 0,void 0,(d=A,p=M,f=this,function(){return d.removeFromParent(),f.connection[0]=p,Ze})):this.connection[0]=M}}else null!=this.connection[0]&&(Je(this.connection[0]).removeFromParent(),this.connection[0]=null);if(2==(2&this.connectionBitMask)){var j=this.game.gameValue.blockSet+"connect_1",B=this.connection[1];if(null!=B&&!ue(Je(B).image,j)||null==B){var E,L=this.GetBoardX()-.5*this.game.gameConfigure.tileWidth,F=this.GetBoardY()+.5*this.game.gameConfigure.tileHeight,D=In().value;e:do{if(null==D){E=0;break e}if(Ke.isNumber(D)){E=it(D);break e}if("string"==typeof D)try{E=Qe(D);break e}catch(e){if(Ke.isType(e,ta)){E=0;break e}throw e}E=0}while(0);var V=la(L,F,E,j,this.game.gameConfigure.tileWidth,0),U=Ke.isType(r=this.game.gameValue.blockInfo,Jf)?r:null;if(null!=U){var q=ci(U.colorMap.get_za3lpa$(this.value+10|0));V.SetColor_vnjrmz$(q),V.SetBlendFactor_mx4ult$(1)}this.game.view.GetMask().addChild_g5h3xp$(V),V.SetAlpha_8ca0d4$(1),null!=(o=this.game.view.screen)&&o.actionFade_ntk7i0$(.1,0,this.game.gameConfigure.tileHeightGap,void 0,(y=V,function(e,t){y.SetSize_dleff0$(y.GetSize().width,e)})),null!=B?null!=(n=this.game.view.screen)&&n.actionFadeOut_7vo5wp$(B,void 0,void 0,.2,void 0,void 0,void 0,(v=B,g=V,_=this,function(){return v.removeFromParent(),_.connection[1]=g,Ze})):this.connection[1]=V}}else null!=this.connection[1]&&(Je(this.connection[1]).removeFromParent(),this.connection[1]=null);if(4==(4&this.connectionBitMask)){var H=this.game.gameValue.blockSet+"connect_2",W=this.connection[2];if(null!=W&&!ue(Je(W).image,H)||null==W){var Y,X=this.GetBoardX()-.5*this.game.gameConfigure.tileWidth,K=this.GetBoardY()-.5*this.game.gameConfigure.tileHeight,Z=In().value;e:do{if(null==Z){Y=0;break e}if(Ke.isNumber(Z)){Y=it(Z);break e}if("string"==typeof Z)try{Y=Qe(Z);break e}catch(e){if(Ke.isType(e,ta)){Y=0;break e}throw e}Y=0}while(0);var Q=la(X,K,Y,H,0,this.game.gameConfigure.tileHeight),J=Ke.isType(a=this.game.gameValue.blockInfo,Jf)?a:null;if(null!=J){var ee=ci(J.colorMap.get_za3lpa$(this.value+5|0));Q.SetColor_vnjrmz$(ee),Q.SetBlendFactor_mx4ult$(1)}Q.SetHorizontalAlign_jdpdm8$(ho()),Q.SetVerticalAlign_qn2em6$(io()),this.game.view.GetMask().addChild_g5h3xp$(Q),Q.SetAlpha_8ca0d4$(1),null!=(s=this.game.view.screen)&&s.actionFade_ntk7i0$(.1,0,this.game.gameConfigure.tileWidthGap,void 0,(k=Q,function(e,t){k.SetSize_dleff0$(e,k.GetSize().height)})),null!=W?null!=(l=this.game.view.screen)&&l.actionFadeOut_7vo5wp$(W,void 0,void 0,.2,void 0,void 0,void 0,($=W,b=Q,S=this,function(){return $.removeFromParent(),S.connection[2]=b,Ze})):this.connection[2]=Q}}else null!=this.connection[2]&&(Je(this.connection[2]).removeFromParent(),this.connection[2]=null);if(8==(8&this.connectionBitMask)){var te=this.game.gameValue.blockSet+"connect_3",ie=this.connection[3];if(null!=ie&&!ue(Je(ie).image,te)||null==ie){var re,oe=this.GetBoardX()+.5*this.game.gameConfigure.tileWidth,ne=this.GetBoardY()-.5*this.game.gameConfigure.tileHeight,ae=In().value;e:do{if(null==ae){re=0;break e}if(Ke.isNumber(ae)){re=it(ae);break e}if("string"==typeof ae)try{re=Qe(ae);break e}catch(e){if(Ke.isType(e,ta)){re=0;break e}throw e}re=0}while(0);var se=la(oe,ne,re,te,0,this.game.gameConfigure.tileHeight),le=Ke.isType(h=this.game.gameValue.blockInfo,Jf)?h:null;if(null!=le){var he=ci(le.colorMap.get_za3lpa$(this.value+10|0));se.SetColor_vnjrmz$(he),se.SetBlendFactor_mx4ult$(1)}this.game.view.GetMask().addChild_g5h3xp$(se),se.SetAlpha_8ca0d4$(1),null!=(u=this.game.view.screen)&&u.actionFade_ntk7i0$(.1,0,this.game.gameConfigure.tileWidthGap,void 0,(z=se,function(e,t){z.SetSize_dleff0$(e,z.GetSize().height)})),null!=ie?null!=(c=this.game.view.screen)&&c.actionFadeOut_7vo5wp$(ie,void 0,void 0,.2,void 0,void 0,void 0,(w=ie,x=se,C=this,function(){return w.removeFromParent(),C.connection[3]=x,Ze})):this.connection[3]=se}}else null!=this.connection[3]&&(Je(this.connection[3]).removeFromParent(),this.connection[3]=null)},ld.prototype.makeDisable=function(){var e,i;null!=(e=this.disabledMask)&&e.addUpdateCallback_sds54w$("BlockEntity makeDisable",void 0,void 0,void 0,.3,void 0,(i=this,function(e){var t;return 0===e.elapsed?(Je(i.disabledMask).SetAlpha_8ca0d4$(1),!1===i.game.gameConfigure.clickOnce&&i.makeEnable(),!1):(null!=(t=i.disabledMask)&&t.SetAlpha_8ca0d4$(e.age*(1/.3)),!0)})),Je(this.sprite).SetAnimation_pe1q5w$(null),this.disabledDone=!0},ld.prototype.resetDisable_6taknv$=function(e){var t,i;void 0===e&&(e=!0),null!=this.disabledMask&&(!0===e?(Je(this.disabledMask).removeUpdateCallback_9sobi5$("BlockEntity makeDisable"),Je(this.disabledMask).SetAlpha_8ca0d4$(0),null!=(t=this.game.view.screen)&&t.actionDelay_ab0iom$(0,void 0,(i=this,function(){return i.createExplosion_za3lpa$(3),Ze}))):(Je(this.disabledMask).removeUpdateCallback_9sobi5$("BlockEntity makeDisable"),Je(this.disabledMask).SetAlpha_8ca0d4$(0))),this.transformCount=0,this.needCheck=!0,this.disabledDone=!0,this.SetAttribute_c9f3gi$(Dd())},ld.prototype.makeEnable=function(){var e,t;null!=(e=this.disabledMask)&&e.addUpdateCallback_sds54w$("BlockEntity makeEnable",void 0,void 0,void 0,1,void 0,(t=this,function(e){return 0===e.elapsed?(Je(t.disabledMask).SetAlpha_8ca0d4$(0),t.transformCount=0,t.SetAttribute_c9f3gi$(Dd()),!1):(.7<e.age&&Je(t.disabledMask).SetAlpha_8ca0d4$(1-(e.age-.7)*(1/.3)),!0)}))},ld.prototype.shake_7b5o5w$$default=function(e,t,i,r){var o,n,a,s=vn(e,t,void 0,i);s.SetScale_mx4ult$(2*this.game.view.sizeScale.xRatio),Je(this.sprite).addUpdateCallback_sds54w$("shake",!1,void 0,void 0,void 0,void 0,(o=r,n=this,a=s,function(e){if(e.age>o)return n.adjustConnection(),!1;var t=a.update_mx4ult$(e.elapsed),i=Je(n.sprite);i.SetPosition_dleff0$(i.GetPosition().x+t,i.GetPosition().y),n.adjustConnection();var r=n.disabledMask;return null!=r&&r.SetPosition_dleff0$(r.GetPosition().x+t,r.GetPosition().y),!0}))},ld.prototype.createHoming_7thp2o$=function(e,t){var i;if(void 0===e&&(e=1),!(this.game.quality<1)){var r,o=this.GetRealScreenX(),n=this.GetRealScreenY(),a=3,s=ui().white_mx4ult$();this.game.quality<2&&(a=1),r="Particle_"+(Ke.isType(i=this.game.gameValue.blockInfo,Jf)?i:Ee()).colorMap.get_za3lpa$(this.value);var l=7*this.game.gameConfigure.tileWidth,h=this.game.gameConfigure.tileWidth/2*10,u=Gi(o,n,0),c=Gi(this.game.gameConfigure.tileWidth/4,this.game.gameConfigure.tileWidth/4,-50),d=Gi(this.game.gameConfigure.tileWidth/2,this.game.gameConfigure.tileWidth/2,-50),p=!0;e===Ke.imul(this.game.gameConfigure.width,this.game.gameConfigure.height)&&(p=!0,u=Gi(o,n,0),c=Gi(this.game.gameConfigure.tileWidth/4,this.game.gameConfigure.tileWidth/4,-50),d=Gi(this.game.gameConfigure.tileWidth/2,this.game.gameConfigure.tileWidth/2,-50)),3<this.game.gameConfigure.width&&(l*=1.5,d.x=this.game.gameConfigure.tileWidth,d.y=this.game.gameConfigure.tileWidth);var f,m=this.game.particleManager,v=u,g=a,_=c,y=d,$=Fn().value;e:do{if(null==$){f=0;break e}if(Ke.isNumber($)){f=it($);break e}if("string"==typeof $)try{f=Qe($);break e}catch(e){if(Ke.isType(e,ta)){f=0;break e}throw e}f=0}while(0);m.createHoming_nxmntm$(t,v,h,g,l,1.5,r,s,_,y,!0,f,p)}},ld.$metadata$={kind:o,simpleName:"BlockEntity",interfaces:[Ed]},vd.prototype.remove=function(){Ed.prototype.remove.call(this),null!=this.sprite&&(Je(this.sprite).removeFromParent(),this.sprite=null)},vd.prototype.SetAttribute_c9f3gi$=function(e){},vd.prototype.draw=function(){var e,t=this.GetRealScreenX(),i=this.GetRealScreenY();null!=(e=this.sprite)&&e.SetPosition_dleff0$(t,i)},vd.$metadata$={kind:o,simpleName:"BlankEntity",interfaces:[Ed]},gd.prototype.removeAll=function(){var e;for(e=ge(this.entityList).iterator();e.hasNext();){e.next().remove()}this.flush()},gd.prototype.GetList=function(){return hh(this.entityList)},gd.prototype.flush=function(){var e;for(e=ge(ve(this.entityList)).iterator();e.hasNext();){var t=e.next(),i=t.component1();t.component2().GetEntityState()===kd()&&this.entityList.removeAt_za3lpa$(i)}this.printEntity()},gd.prototype.addEntity_268i5w$=function(e){this.entityList.add_wxm5ur$(this.entityList.size,e),this.printEntity()},gd.prototype.createBlock_mwco6a$=function(e,t,i,r,o){var n,a,s;if(void 0===i&&(i=0),100===t)s=new Nd(e,t,i,r,o);else if(101===t)s=new Od(e,t,i,r,o);else if(102===t)s=new Md(e,t,i,r,o);else if(103===t)s=new Rd(e,t,i,r,o);else if(104===t)s=new Rd(e,t,2,r,o);else if(1e4<=t){var l=t-1e4|0;1e3<=l?(s=Bd(e,l,r,o),(Ke.isType(n=s,Pd)?n:Ee()).makeStone()):(s=pd(e,l,r,o),(Ke.isType(a=s,ld)?a:Ee()).SetDisabled())}else if(1e3<=t)s=Bd(e,t,r,o);else{var h=t;(h<0||h>=e.gameConfigure.kindOfNumber)&&(h=0),s=pd(e,h,r,o)}return this.addEntity_268i5w$(s),s},gd.prototype.update_mx4ult$=function(e){var t,i,r,o;for(this.flush(),t=this.entityList.iterator();t.hasNext();){var n=t.next();n.GetOrder()===Cd()&&(n.preprocessMove_mx4ult$(e),n.update_mx4ult$(e),n.draw())}for(i=this.entityList.iterator();i.hasNext();){var a=i.next();a.GetOrder()===zd()&&(a.preprocessMove_mx4ult$(e),a.update_mx4ult$(e),a.draw())}for(r=this.entityList.iterator();r.hasNext();){var s=r.next();s.GetOrder()===Td()&&(s.preprocessMove_mx4ult$(e),s.update_mx4ult$(e),s.draw())}for(o=this.entityList.iterator();o.hasNext();){o.next().preprocessed=!1}},gd.prototype.printEntity=function(){},gd.$metadata$={kind:o,simpleName:"EntityManager",interfaces:[]},$d.$metadata$={kind:o,simpleName:"EntityState",interfaces:[s]},$d.values=function(){return[Sd(),kd()]},$d.valueOf_61zpoe$=function(e){switch(e){case"alive":return Sd();case"dead":return kd();default:c("No enum constant com.blindcatstudio.samsara.logic.entity.GameEntity.EntityState."+e)}},wd.$metadata$={kind:o,simpleName:"ZOrder",interfaces:[s]},wd.values=function(){return[Cd(),zd(),Td()]},wd.valueOf_61zpoe$=function(e){switch(e){case"bottom":return Cd();case"middle":return zd();case"top":return Td();default:c("No enum constant com.blindcatstudio.samsara.logic.entity.GameEntity.ZOrder."+e)}},Object.defineProperty(yd.prototype,"game",{get:function(){return null==this.game_7su03y$_0?T("game"):this.game_7su03y$_0},set:function(e){this.game_7su03y$_0=e}}),yd.prototype.SetTimeToLive_mx4ult$=function(e){this.timeToLive_prt4ss$_0=e},yd.prototype.GetTimeToLive=function(){return this.timeToLive_prt4ss$_0},yd.prototype.SetEntityState_b38ml0$=function(e){this.entityState_e2ys3e$_0=e},yd.prototype.GetEntityState=function(){return this.entityState_e2ys3e$_0},yd.prototype.SetOrder_mb3qz2$=function(e){this.order_ws1p7q$_0=e},yd.prototype.GetOrder=function(){return this.order_ws1p7q$_0},yd.prototype.SetScreenX_za3lpa$=function(e){this.internalX=Ke.Long.fromInt(1e3*e|0)},yd.prototype.SetScreenY_za3lpa$=function(e){this.internalY=Ke.Long.fromInt(1e3*e|0)},yd.prototype.GetScreenX=function(){var e=this.internalX.div(Ke.Long.fromInt(1e3)).toNumber();return et(Yt.floor(e))},yd.prototype.GetScreenY=function(){var e=this.internalY.div(Ke.Long.fromInt(1e3)).toNumber();return et(Yt.floor(e))},yd.prototype.GetRealScreenX=function(){return this.game.boardRect.x+this.internalX.toNumber()*this.game.gameConfigure.tileWidthResult/1e3+.5*this.game.gameConfigure.tileWidthResult},yd.prototype.GetRealScreenY=function(){return this.game.boardRect.y+this.internalY.toNumber()*this.game.gameConfigure.tileHeightResult/1e3+.5*this.game.gameConfigure.tileHeightResult},yd.prototype.GetBoardX=function(){return this.internalX.toNumber()*this.game.gameConfigure.tileWidthResult/1e3+.5*this.game.gameConfigure.tileWidthResult},yd.prototype.GetBoardY=function(){return this.internalY.toNumber()*this.game.gameConfigure.tileHeightResult/1e3+.5*this.game.gameConfigure.tileHeightResult},yd.prototype.SetCheckCollide_6taknv$=function(e){this.checkCollide_22kq6u$_0=e,this.SetNeedLanding_6taknv$(!1)},yd.prototype.SetNeedLanding_6taknv$=function(e){this.needLanding_redr4d$_0=e},yd.prototype.moveTo_mp7p4f$=function(e,t,i,r,o){void 0===i&&(i=0),this.moveToX=Ke.Long.fromInt(1e3*e|0),this.moveToY=Ke.Long.fromInt(1e3*t|0),this.speedX=Ke.Long.ZERO,this.speedY=Ke.Long.fromNumber(1e3*i),this.accelX=Ke.Long.ZERO,this.accelY=Ke.Long.fromNumber(1e3*o),this.speedXLimit=Ke.Long.ZERO,this.speedYLimit=Ke.Long.fromNumber(1e3*r),this.needLanding_redr4d$_0=!0},yd.prototype.isArrived=function(){return!(!ue(this.speedX,Ke.Long.ZERO)||!ue(this.speedY,Ke.Long.ZERO))},yd.prototype.update_mx4ult$=function(e){this.lifetime=this.lifetime+e,this.lifetime>=this.timeToLive_prt4ss$_0&&0!==this.timeToLive_prt4ss$_0?this.remove():this.doUpdate_mx4ult$(e)},yd.prototype.doUpdate_mx4ult$=function(e){this.animate_mx4ult$(e),this.move_mx4ult$(e)},yd.prototype.animate_mx4ult$=function(e){},yd.prototype.onLanding_vux9f0$=function(e,t){(this.game.map[e][t]=this).prevLanding=new Le(e,t),this.needLanding_redr4d$_0=!1,this.speedX=Ke.Long.ZERO,this.speedY=Ke.Long.ZERO,this.accelX=Ke.Long.ZERO,this.accelY=Ke.Long.ZERO},yd.prototype.landing=function(){var e=this.GetScreenX(),t=this.GetScreenY();if(null==this.game.map[e][t]){if(this.prevLanding.first===e&&this.prevLanding.second===t)return;this.onLanding_vux9f0$(e,t)}},yd.prototype.move_mx4ult$=function(e){this.internalX=this.nextX,this.internalY=this.nextY;var t=this.GetScreenX(),i=this.GetScreenY();!0===this.checkCollide_22kq6u$_0?i===(this.game.gameConfigure.height-1|0)?(this.SetScreenX_za3lpa$(t),this.SetScreenY_za3lpa$(i),!0===this.needLanding_redr4d$_0&&this.landing()):0<=i&&null!=this.game.map[t][i+1|0]&&(this.SetScreenX_za3lpa$(t),this.SetScreenY_za3lpa$(i),!0===this.needLanding_redr4d$_0&&this.landing()):i>=this.game.gameConfigure.height&&this.remove()},yd.prototype.draw=function(){},yd.prototype.remove=function(){this.entityState_e2ys3e$_0=kd()},yd.prototype.preprocessMove_mx4ult$=function(e){var t,i;if(!0!==this.preprocessed){var r=Ke.Long.fromNumber(1e3*e);this.speedX=this.speedX.add(this.accelX.multiply(r).div(Ke.Long.fromInt(1e3))),0<this.speedX.compareTo_11rb$(this.speedXLimit)&&(this.speedX=this.speedXLimit);var o=this.speedY;this.speedY=this.speedY.add(this.accelY.multiply(r).div(Ke.Long.fromInt(1e3))),0<this.speedY.compareTo_11rb$(this.speedYLimit)&&(this.speedY=this.speedYLimit);var n=this.internalY.add(o.multiply(r).div(Ke.Long.fromInt(1e3))).add(this.accelY.multiply(r).multiply(r).div(Ke.Long.fromInt(2)).div(Ke.Long.fromInt(1e6)));if(ue(this.speedX,Ke.Long.ZERO)&&ue(this.speedY,Ke.Long.ZERO))this.nextY=this.internalY;else{if(!0===this.checkCollide_22kq6u$_0){var a=null!=(t=this.game.entityManager)?t.GetList():null;if(null!=a)for(i=0;i!==a.length;++i){var s=a[i];if(Ke.isType(s,Ed)&&s!==this){if(!ue(s.internalX,this.internalX))continue;if(s.internalY.compareTo_11rb$(this.internalY)<=0)continue;s.preprocessMove_mx4ult$(e),!0===s.checkCollideNext_61feqd$(this.internalX,n,e)&&(n=s.nextY.subtract(Ke.Long.fromInt(1e3)),this.speedY=Ke.Long.ZERO)}}0<=n.compareTo_11rb$(Ke.Long.fromInt(1e3*(this.game.gameConfigure.height-1|0)|0))&&(n=Ke.Long.fromInt(1e3*(this.game.gameConfigure.height-1|0)|0))}this.nextY=n}this.preprocessed=!0}},yd.prototype.checkCollide_61feqd$=function(e,t,i){if(!1===this.checkCollide_22kq6u$_0)return!1;var r=Ke.Long.fromNumber(1e3*i),o=this.speedX,n=this.speedY,a=this.internalX.add(o.multiply(r).div(Ke.Long.fromInt(1e3))).add(this.accelX.multiply(r).multiply(r).div(Ke.Long.fromInt(2)).div(Ke.Long.fromInt(1e6))),s=this.internalY.add(n.multiply(r).div(Ke.Long.fromInt(1e3))).add(this.accelY.multiply(r).multiply(r).div(Ke.Long.fromInt(2)).div(Ke.Long.fromInt(1e6)));return(0<=e.compareTo_11rb$(a)&&e.compareTo_11rb$(a.add(Ke.Long.fromInt(1e3)))<0||0<=e.add(Ke.Long.fromInt(1e3)).compareTo_11rb$(a)&&e.add(Ke.Long.fromInt(1e3)).compareTo_11rb$(a.add(Ke.Long.fromInt(1e3)))<0)&&(0<=t.compareTo_11rb$(s)&&t.compareTo_11rb$(s.add(Ke.Long.fromInt(1e3)))<0||0<=t.add(Ke.Long.fromInt(1e3)).compareTo_11rb$(s)&&t.add(Ke.Long.fromInt(1e3)).compareTo_11rb$(s.add(Ke.Long.fromInt(1e3)))<0)},yd.prototype.checkCollideNext_61feqd$=function(e,t,i){if(!1===this.checkCollide_22kq6u$_0)return!1;var r=this.nextX,o=this.nextY;return(0<=e.compareTo_11rb$(r)&&e.compareTo_11rb$(r.add(Ke.Long.fromInt(1e3)))<0||0<=e.add(Ke.Long.fromInt(1e3)).compareTo_11rb$(r)&&e.add(Ke.Long.fromInt(1e3)).compareTo_11rb$(r.add(Ke.Long.fromInt(1e3)))<0)&&(0<=t.compareTo_11rb$(o)||0<=t.add(Ke.Long.fromInt(1e3)).compareTo_11rb$(o))},yd.prototype.GetNextPosition_mx4ult$=function(e){return new Le(this.nextX,this.nextY)},yd.prototype.isMatchCheckable=function(){return!1},yd.$metadata$={kind:o,simpleName:"GameEntity",interfaces:[]},Gd.prototype.SetImage=function(){},Gd.prototype.remove=function(){Ed.prototype.remove.call(this),null!=this.sprite&&(Je(this.sprite).removeFromParent(),this.sprite=null)},Gd.prototype.SetAttribute_c9f3gi$=function(e){},Gd.prototype.draw=function(){var e,t=this.GetBoardX(),i=this.GetBoardY();null!=(e=this.sprite)&&e.SetPosition_dleff0$(t,i)},Gd.prototype.SetUsed_6taknv$=function(e){var t,i;if(!0===(this.used=e)){this.needCheck=!0,null!=(t=this.sprite)&&(t.yMotion=null);var r=vn(10,void 0,void 0,0);r.SetScale_mx4ult$(.06*this.game.gameConfigure.tileWidth),null!=(i=this.sprite)&&i.SetXMotion_vn0wwp$(r,!0)}else this.needCheck=!1},Gd.prototype.isUsed=function(){return this.used},Gd.$metadata$={kind:o,simpleName:"ItemEntity",interfaces:[Ed]},Nd.prototype.SetImage=function(){var e,t,i,r=this.GetBoardX(),o=this.GetBoardY(),n=this.spriteZ,a=.8*this.game.gameConfigure.tileWidth;e:do{if(null==a){i=0;break e}if(Ke.isNumber(a)){i=it(a);break e}if("string"==typeof a)try{i=Qe(a);break e}catch(e){if(Ke.isType(e,ta)){i=0;break e}throw e}i=0}while(0);var s,l=i,h=.8*this.game.gameConfigure.tileHeight;e:do{if(null==h){s=0;break e}if(Ke.isNumber(h)){s=it(h);break e}if("string"==typeof h)try{s=Qe(h);break e}catch(e){if(Ke.isType(e,ta)){s=0;break e}throw e}s=0}while(0);this.sprite=la(r,o,n,"Item_100",l,s),null!=(e=this.sprite)&&e.SetHorizontalAlign_jdpdm8$(lo()),null!=(t=this.sprite)&&t.SetVerticalAlign_qn2em6$(ro()),this.game.view.GetMask().addChild_g5h3xp$(Je(this.sprite))},Nd.$metadata$={kind:o,simpleName:"ReactivateItemEntity",interfaces:[Gd]},Od.prototype.SetImage=function(){var e,t,i,r,o=(Ke.isType(e=this.game.gameValue.blockInfo,Jf)?e:Ee()).colorMap.get_za3lpa$(this.subValue);e:do{if(Ke.isNumber(o)){r=o.toString();break e}if("string"==typeof o){r=o;break e}if("boolean"==typeof o){r=o.toString();break e}if(Ke.isChar(o)){r=o.toString();break e}r=""}while(0);var n,a="Item_101_"+r,s=this.GetBoardX(),l=this.GetBoardY(),h=this.spriteZ,u=.8*this.game.gameConfigure.tileWidth;e:do{if(null==u){n=0;break e}if(Ke.isNumber(u)){n=it(u);break e}if("string"==typeof u)try{n=Qe(u);break e}catch(e){if(Ke.isType(e,ta)){n=0;break e}throw e}n=0}while(0);var c,d=n,p=.8*this.game.gameConfigure.tileHeight;e:do{if(null==p){c=0;break e}if(Ke.isNumber(p)){c=it(p);break e}if("string"==typeof p)try{c=Qe(p);break e}catch(e){if(Ke.isType(e,ta)){c=0;break e}throw e}c=0}while(0);this.sprite=la(s,l,h,a,d,c),null!=(t=this.sprite)&&t.SetHorizontalAlign_jdpdm8$(lo()),null!=(i=this.sprite)&&i.SetVerticalAlign_qn2em6$(ro()),this.game.view.GetMask().addChild_g5h3xp$(Je(this.sprite))},Od.$metadata$={kind:o,simpleName:"SameBombEntity",interfaces:[Gd]},Md.prototype.SetImage=function(){var e,t,i,r=this.GetBoardX(),o=this.GetBoardY(),n=this.spriteZ,a=.8*this.game.gameConfigure.tileWidth;e:do{if(null==a){i=0;break e}if(Ke.isNumber(a)){i=it(a);break e}if("string"==typeof a)try{i=Qe(a);break e}catch(e){if(Ke.isType(e,ta)){i=0;break e}throw e}i=0}while(0);var s,l=i,h=.8*this.game.gameConfigure.tileHeight;e:do{if(null==h){s=0;break e}if(Ke.isNumber(h)){s=it(h);break e}if("string"==typeof h)try{s=Qe(h);break e}catch(e){if(Ke.isType(e,ta)){s=0;break e}throw e}s=0}while(0);this.sprite=la(r,o,n,"Item_102",l,s),null!=(e=this.sprite)&&e.SetHorizontalAlign_jdpdm8$(lo()),null!=(t=this.sprite)&&t.SetVerticalAlign_qn2em6$(ro()),this.game.view.GetMask().addChild_g5h3xp$(Je(this.sprite))},Md.$metadata$={kind:o,simpleName:"NearBombEntity",interfaces:[Gd]},Rd.prototype.SetImage=function(){var e,t,i="Item_103_h";104===this.value&&2===this.subValue?i="Item_104":(0===this.subValue&&(i="Item_103_h"),1===this.subValue&&(i="Item_103_v"));var r,o=this.GetBoardX(),n=this.GetBoardY(),a=this.spriteZ,s=i,l=.8*this.game.gameConfigure.tileWidth;e:do{if(null==l){r=0;break e}if(Ke.isNumber(l)){r=it(l);break e}if("string"==typeof l)try{r=Qe(l);break e}catch(e){if(Ke.isType(e,ta)){r=0;break e}throw e}r=0}while(0);var h,u=r,c=.8*this.game.gameConfigure.tileHeight;e:do{if(null==c){h=0;break e}if(Ke.isNumber(c)){h=it(c);break e}if("string"==typeof c)try{h=Qe(c);break e}catch(e){if(Ke.isType(e,ta)){h=0;break e}throw e}h=0}while(0);this.sprite=la(o,n,a,s,u,h),null!=(e=this.sprite)&&e.SetHorizontalAlign_jdpdm8$(lo()),null!=(t=this.sprite)&&t.SetVerticalAlign_qn2em6$(ro()),this.game.view.GetMask().addChild_g5h3xp$(Je(this.sprite))},Rd.$metadata$={kind:o,simpleName:"LineBombEntity",interfaces:[Gd]},Pd.prototype.remove=function(){Ed.prototype.remove.call(this),null!=this.sprite&&(Je(this.sprite).removeFromParent(),this.sprite=null)},Pd.prototype.SetAttribute_c9f3gi$=function(e){},Pd.prototype.draw=function(){var e,t=this.GetBoardX(),i=this.GetBoardY();null!=(e=this.sprite)&&e.SetPosition_dleff0$(t,i)},Pd.prototype.explode_nhq4am$$default=function(e,t,i){var r,o,n;if(null!=this.sprite){null!=(r=this.game.view.screen)&&r.removeAction_81ngrp$("blink",void 0,this.sprite),null!=(o=this.sprite)&&o.SetAlpha_8ca0d4$(0);var a,s=this.GetRealScreenX(),l=this.GetRealScreenY(),h=this.spriteZ,u=this.game.gameConfigure.tileWidth;e:do{if(null==u){a=0;break e}if(Ke.isNumber(u)){a=it(u);break e}if("string"==typeof u)try{a=Qe(u);break e}catch(e){if(Ke.isType(e,ta)){a=0;break e}throw e}a=0}while(0);var c,d=a,p=this.game.gameConfigure.tileHeight;e:do{if(null==p){c=0;break e}if(Ke.isNumber(p)){c=it(p);break e}if("string"==typeof p)try{c=Qe(p);break e}catch(e){if(Ke.isType(e,ta)){c=0;break e}throw e}c=0}while(0);var f=la(s,l,h,"Ghost_blank",d,c);f.SetHorizontalAlign_jdpdm8$(lo()),f.SetVerticalAlign_qn2em6$(ro());var m=Ke.isType(n=this.game.gameValue.blockInfo,Jf)?n:null;null!=m&&(f.SetBlendMode_ieo8yr$(m.blendMode),f.SetBlendFactor_mx4ult$(m.blendFactor),f.SetColor_vnjrmz$(m.color)),this.game.view.addChild_g5h3xp$(f);var v,g,_,y,$,b=ji(Je(this.sprite).GetSize().width,Je(this.sprite).GetSize().height),S=new dn(this.game.gameConfigure.matchEffectSpeed,1,.5);f.SetTimeToLive_mx4ult$(this.game.gameConfigure.matchEffectDuration),f.addUpdateCallback_sds54w$("BlockEntity Matched",void 0,void 0,void 0,void 0,void 0,(v={v:!1},g=this,_=S,y=f,$=b,function(e){if(0===e.elapsed)return!1===v.v&&g.animationState.SetNextState_9sobi5$("remove"),!1;e.age>g.game.gameConfigure.removeFireDelay&&!1===v.v&&(g.animationState.SetNextState_9sobi5$("remove"),v.v=!0),_.update_mx4ult$(e.elapsed);var t=_.GetPosition();return y.SetSize_dleff0$($.width*(.5+t),$.height*(.5+t)),.3<e.age&&y.SetAlpha_8ca0d4$(1-5*(e.age-.3)),!0})),ql().shared().playEffect_bm4lxs$("ghost"),this.explodeEffect_24o109$(e,i)}},Pd.prototype.explodeEffect_24o109$=function(e,t){var i,r;null!=(i=this.game.view.screen)&&i.actionDelay_ab0iom$(0,void 0,jd(this,e,t));var o,n=this.GetRealScreenX(),a=this.GetRealScreenY(),s=In().value;e:do{if(null==s){o=0;break e}if(Ke.isNumber(s)){o=it(s);break e}if("string"==typeof s)try{o=Qe(s);break e}catch(e){if(Ke.isType(e,ta)){o=0;break e}throw e}o=0}while(0);var l,h=o,u=1.2*this.game.gameConfigure.tileWidth;e:do{if(null==u){l=0;break e}if(Ke.isNumber(u)){l=it(u);break e}if("string"==typeof u)try{l=Qe(u);break e}catch(e){if(Ke.isType(e,ta)){l=0;break e}throw e}l=0}while(0);var c,d=l,p=1.2*this.game.gameConfigure.tileHeight;e:do{if(null==p){c=0;break e}if(Ke.isNumber(p)){c=it(p);break e}if("string"==typeof p)try{c=Qe(p);break e}catch(e){if(Ke.isType(e,ta)){c=0;break e}throw e}c=0}while(0);var f,m=la(n,a,h,"Ghost_white",d,c);m.SetVerticalAlign_qn2em6$(ro()),m.SetHorizontalAlign_jdpdm8$(lo()),this.game.view.addChild_g5h3xp$(m),null!=(r=this.game.view.screen)&&r.actionFadeOut_7vo5wp$(m,void 0,.5,.5,void 0,void 0,void 0,(f=m,function(){return f.SetTimeToLive_mx4ult$(0),Ze}));var v=vn(6,void 0,void 0,-3);v.SetAmplitude_mx4ult$(8),m.SetXMotion_vn0wwp$(v,!0);var g=new dn(void 0,void 0,0);g.SetTarget_nfvrp9$(-2.5*this.game.gameConfigure.tileHeight,30,1.5,void 0,0),m.SetYMotion_vn0wwp$(g,!0)},Pd.prototype.isPair_za3lpa$=function(e){return this.value%1e3===e},Pd.prototype.makeStone=function(){var e,t,i;this.isStone=!0,null!=(e=this.sprite)&&(e.xMotion=null),null!=(t=this.game.view.screen)&&t.removeAction_81ngrp$("blink",void 0,this.sprite);var r,o=.5*Je(this.sprite).GetSize().width,n=.5*Je(this.sprite).GetSize().height,a=this.game.gameConfigure.tileWidth;e:do{if(null==a){r=0;break e}if(Ke.isNumber(a)){r=it(a);break e}if("string"==typeof a)try{r=Qe(a);break e}catch(e){if(Ke.isType(e,ta)){r=0;break e}throw e}r=0}while(0);var s,l=r,h=this.game.gameConfigure.tileHeight;e:do{if(null==h){s=0;break e}if(Ke.isNumber(h)){s=it(h);break e}if("string"==typeof h)try{s=Qe(h);break e}catch(e){if(Ke.isType(e,ta)){s=0;break e}throw e}s=0}while(0);var u=la(o,n,void 0,"InactiveMaskForGhost",l,s);u.SetHorizontalAlign_jdpdm8$(lo()),u.SetVerticalAlign_qn2em6$(ro()),Je(this.sprite).addChild_g5h3xp$(u),u.SetAlpha_8ca0d4$(0),null!=(i=this.game.view.screen)&&i.actionFadeIn_hkbjms$(u,0,1,void 0,.5,void 0,void 0,this.sprite)},Pd.$metadata$={kind:o,simpleName:"ObstacleEntity",interfaces:[Ed]},Ld.$metadata$={kind:o,simpleName:"Attribute",interfaces:[s]},Ld.values=function(){return[Dd(),Vd(),Ud(),qd()]},Ld.valueOf_61zpoe$=function(e){switch(e){case"normal":return Dd();case"disabled":return Vd();case"hint":return Ud();case"clear":return qd();default:c("No enum constant com.blindcatstudio.samsara.logic.entity.TileEntity.Attribute."+e)}},Ed.prototype.remove=function(){yd.prototype.remove.call(this),null!=this.sprite&&(Je(this.sprite).removeFromParent(),this.sprite=null)},Ed.prototype.GetAttribute=function(){return this.attribute},Ed.prototype.SetAttribute_c9f3gi$=function(e){},Ed.prototype.fall_6taknv$=function(e){!0===e&&this.shake_7b5o5w$(5,0,0,this.game.gameConfigure.shakeDuration)},Ed.prototype.onLanding_vux9f0$=function(e,t){if(yd.prototype.onLanding_vux9f0$.call(this,e,t),ql().shared().playEffect_bm4lxs$("landing"),!0===this.game.gameConfigure.bounceOnLanding){if(null!=this.sprite){var i;this.bouncing=!0;e:do{if(null==t){i=0;break e}if(Ke.isNumber(t)){i=it(t);break e}if("string"==typeof t)try{i=Qe(t);break e}catch(e){if(Ke.isType(e,ta)){i=0;break e}throw e}i=0}while(0);this.spriteZ=7+.1*i;var r=Gi(this.GetBoardX(),this.GetBoardY()),o=new dn;o.SetTarget_nfvrp9$(-5,5,.15);var n,a=this.game.gameConfigure.tileHeight;e:do{if(null==a){n=0;break e}if(Ke.isNumber(a)){n=it(a);break e}if("string"==typeof a)try{n=Qe(a);break e}catch(e){if(Ke.isType(e,ta)){n=0;break e}throw e}n=0}while(0);o.SetScale_mx4ult$(n/50),Je(this.sprite).addUpdateCallback_sds54w$("BlockEntity Landing",void 0,void 0,void 0,void 0,void 0,(s=o,l=this,h=r,function(e){s.update_mx4ult$(e.elapsed);var t=s.GetPosition();return 0<=t?(l.needCheck=!0,l.needCheckReason=1,l.bouncing=!1):(Je(l.sprite).SetPosition_dleff0$(h.x,h.y+t),!0)}))}}else this.needCheck=!0,this.needCheckReason=1,this.bouncing=!1;var s,l,h},Ed.prototype.shake_7b5o5w$$default=function(e,t,i,r){var o,n,a,s=vn(e,t,void 0,i);s.SetScale_mx4ult$(2*this.game.view.sizeScale.xRatio),Je(this.sprite).addUpdateCallback_sds54w$("shake",!1,void 0,void 0,void 0,void 0,(o=r,n=s,a=this,function(e){if(e.age>o)return!1;var t=n.update_mx4ult$(e.elapsed),i=Je(a.sprite);return i.SetPosition_dleff0$(i.GetPosition().x+t,i.GetPosition().y),!0}))},Ed.prototype.shake_7b5o5w$=function(e,t,i,r,o){void 0===e&&(e=10),void 0===t&&(t=0),void 0===i&&(i=0),void 0===r&&(r=.5),o?o(e,t,i,r):this.shake_7b5o5w$$default(e,t,i,r)},Ed.prototype.bounce=function(){Je(this.sprite).SetZPosition_8ca0d4$(this.spriteZ);var t,e=Gi(Je(this.sprite).GetPosition().x,Je(this.sprite).GetPosition().y),i=this.game.gameConfigure.tileHeight;e:do{if(null==i){t=0;break e}if(Ke.isNumber(i)){t=it(i);break e}if("string"==typeof i)try{t=Qe(i);break e}catch(e){if(Ke.isType(e,ta)){t=0;break e}throw e}t=0}while(0);var r,o,n,a=fn(0,10,-1*t*.6,0,.7);a.SetTimeMultiplier_mx4ult$(15),Je(this.sprite).addUpdateCallback_sds54w$("BlockEntity Bounce",!1,void 0,void 0,void 0,void 0,(r=a,o=this,n=e,function(e){if(4<r.GetBounceCount())return!1;var t=r.update_mx4ult$(e.elapsed);return 0<r.GetBounceCount()&&Je(o.sprite).SetPosition_dleff0$(n.x,n.y+t),!0}))},Ed.prototype.removeBounce=function(){Je(this.sprite).removeUpdateCallback_9sobi5$("BlockEntity Bounce")},Ed.prototype.explode_nhq4am$$default=function(e,t,i){var r,o=la(0,0,void 0,Je(this.sprite).GetImage(),Je(this.sprite).GetSize().width,Je(this.sprite).GetSize().height);o.SetBlendMode_ieo8yr$(ti()),o.SetBlendFactor_mx4ult$(1),o.SetAlpha_8ca0d4$(0),Je(this.sprite).addChild_g5h3xp$(o),null!=(r=this.game.view.screen)&&r.actionFade_ntk7i0$(t+this.game.gameConfigure.removeFireDelay,0,1,null,Hd(o,this,e,i))},Ed.prototype.explode_nhq4am$=function(e,t,i,r){void 0===e&&(e=3),void 0===t&&(t=0),void 0===i&&(i=0),r?r(e,t,i):this.explode_nhq4am$$default(e,t,i)},Ed.prototype.explodeEffect_24o109$=function(e,t){this._createExplosion_vl24u5$(e,6,"Resource/UI/Particle",8*this.game.gameConfigure.tileWidth)},Ed.prototype.createExplosion_za3lpa$=function(e){var t;if(!(this.game.quality<1)){var i="";if(e<=3)i="Resource/UI/Particle";else i="Particle_"+(Ke.isType(t=this.game.gameValue.blockInfo,Jf)?t:Ee()).colorMap.get_za3lpa$(this.value);var r=4*this.game.gameConfigure.tileWidth;3<this.game.gameConfigure.width&&(r*=2);var o,n=r,a=e-3|0;e:do{if(null==a){o=0;break e}if(Ke.isNumber(a)){o=it(a);break e}if("string"==typeof a)try{o=Qe(a);break e}catch(e){if(Ke.isType(e,ta)){o=0;break e}throw e}o=0}while(0);(r=n+o*this.game.gameConfigure.tileWidth)>8*this.game.gameConfigure.tileWidth&&(r=8*this.game.gameConfigure.tileWidth),this._createExplosion_vl24u5$(e,6,i,r)}},Ed.prototype._createExplosion_vl24u5$=function(e,t,i,r){if(!(this.game.quality<1)){var o=this.GetRealScreenX(),n=this.GetRealScreenY(),a=t,s=ui().white_mx4ult$();this.game.quality<2&&(a=a/2|0);var l=Gi(this.game.gameConfigure.tileWidth/4,this.game.gameConfigure.tileWidth/4,-20),h=Gi(this.game.gameConfigure.tileWidth/2,this.game.gameConfigure.tileWidth/2,500),u=Gi(o,n,-50);e>=Ke.imul(this.game.gameConfigure.width,this.game.gameConfigure.height)&&(u=Gi(o,n,0),l=Gi(this.game.gameConfigure.tileWidth/4,this.game.gameConfigure.tileWidth/4,-30),h=Gi(this.game.gameConfigure.tileWidth/2,this.game.gameConfigure.tileWidth/2,-50));var c,d=this.game.gameConfigure.tileWidth/2*.8,p=this.game.particleManager,f=u,m=a,v=go().arc4random_uniform_za3lpa$(5);e:do{if(null==v){c=0;break e}if(Ke.isNumber(v)){c=it(v);break e}if("string"==typeof v)try{c=Qe(v);break e}catch(e){if(Ke.isType(e,ta)){c=0;break e}throw e}c=0}while(0);var g,_=1+c/10,y=l,$=h,b=Fn().value;e:do{if(null==b){g=0;break e}if(Ke.isNumber(b)){g=it(b);break e}if("string"==typeof b)try{g=Qe(b);break e}catch(e){if(Ke.isType(e,ta)){g=0;break e}throw e}g=0}while(0);p.createExplosion_3jyyep$(f,d,m,r,_,i,s,y,$,!0,g)}},Ed.$metadata$={kind:o,simpleName:"TileEntity",interfaces:[yd]},Yd.prototype.GetList=function(){return this.achievementList},Yd.prototype.AddAchievement_ze4fts$$default=function(e,t){this.AddAchievementString_io5o9c$(e.value,t)},Yd.prototype.AddAchievementString_io5o9c$$default=function(e,t){var i=this.achievementList,r=dm(e,t);i.put_xwzc9p$(e,r)},Yd.prototype.UpdateAchievement_ze4fts$=function(e,t){this.UpdateAchievementString_io5o9c$(e.value,t)},Yd.prototype.UpdateAchievementString_io5o9c$=function(e,t){var i=this.GetAchievementString_61zpoe$(e);null!=i&&(i.percentComplete=t,this.SaveAchievementString_61zpoe$(e))},Yd.prototype.GetAchievement_chhr4e$=function(e){return this.GetAchievementString_61zpoe$(e.value)},Yd.prototype.GetAchievementString_61zpoe$=function(e){return this.achievementList.get_11rb$(e)},Yd.prototype.LoadAchievement=function(){var e;for(e=this.achievementIdentifierList.iterator();e.hasNext();){var t=e.next(),i=zf().GetDouble_yzmc4y$(t);this.AddAchievement_ze4fts$(t,i)}},Yd.prototype.SaveAchievement_chhr4e$=function(e){this.SaveAchievementString_61zpoe$(e.value)},Yd.prototype.SaveAchievementString_61zpoe$=function(e){var t=this.GetAchievementString_61zpoe$(e);null!=t&&zf().SetDouble_do2bxa$(e,void 0,t.percentComplete)},Yd.prototype.SetPercentComplete_gspc9z$$default=function(e,t,i){this.SetPercentCompleteString_1truf$(e.value,t,i)},Yd.prototype.SetPercentCompleteString_1truf$$default=function(e,t,i){var r=this.GetAchievementString_61zpoe$(e);null!=r?(r.percentComplete<t||!0===i)&&(za().shared().printLog_7z05hs$(e+" set "+t.toString()),r.percentComplete=t,this.SaveAchievementString_61zpoe$(e)):za().shared().printLog_7z05hs$(e+" NOT LOADED")},Yd.prototype.GetPercentComplete_chhr4e$=function(e){return this.GetPercentCompleteString_61zpoe$(e.value)},Yd.prototype.GetPercentCompleteString_61zpoe$=function(e){var t=this.GetAchievementString_61zpoe$(e);return null!=t?t.percentComplete:0},Yd.$metadata$={kind:o,simpleName:"AndroidPlayerAchievement",interfaces:[pm]},Kd.prototype.GetMode=function(){return this.mode},Kd.prototype.SetHighScore_za3lpa$=function(e){this.highScore=e},Kd.prototype.GetHighScore=function(){return this.highScore},Kd.prototype.SaveHighScore_3uxocb$$default=function(e){zf().SetInteger_hh7mhe$(ep(),this.mode,this.GetHighScore()),null!=e&&e(!0)},Kd.prototype.LoadHighScore_3uxocb$$default=function(e){var t=zf().GetInteger_hh7mhe$(ep(),this.mode,0);this.SetHighScore_za3lpa$(t),za().shared().printLog_7z05hs$(this.mode+" "+ep().value+" "+t.toString()),null!=e&&e(!0)},Kd.prototype.SetMaxCombo_za3lpa$=function(e){this.maxCombo=e},Kd.prototype.GetMaxCombo=function(){return this.maxCombo},Kd.prototype.SaveMaxCombo_3uxocb$$default=function(e){zf().SetInteger_hh7mhe$(tp(),this.mode,this.GetMaxCombo()),null!=e&&e(!0)},Kd.prototype.LoadMaxCombo_3uxocb$$default=function(e){var t=zf().GetInteger_hh7mhe$(tp(),this.mode,0);this.SetMaxCombo_za3lpa$(t),za().shared().printLog_7z05hs$(this.mode+" "+tp().value+" "+t.toString()),null!=e&&e(!0)},Kd.prototype.SetMaxFever_za3lpa$=function(e){this.maxFever=e},Kd.prototype.GetMaxFever=function(){return this.maxFever},Kd.prototype.SaveMaxFever_3uxocb$$default=function(e){zf().SetInteger_hh7mhe$(ip(),this.mode,this.GetMaxFever()),null!=e&&e(!0)},Kd.prototype.LoadMaxFever_3uxocb$$default=function(e){var t=zf().GetInteger_hh7mhe$(ip(),this.mode,0);this.SetMaxFever_za3lpa$(t),za().shared().printLog_7z05hs$(this.mode+" "+ip().value+" "+t.toString()),null!=e&&e(!0)},Kd.prototype.SetMinInterval_mx4ult$=function(e){this.minInterval=e},Kd.prototype.GetMinInterval=function(){return this.minInterval},Kd.prototype.SaveMinInterval_3uxocb$$default=function(e){zf().SetFloat_x7mx2d$(rp(),this.mode,this.GetMinInterval()),null!=e&&e(!0)},Kd.prototype.LoadMinInterval_3uxocb$$default=function(e){var t=zf().GetFloat_x7mx2d$(rp(),this.mode,.4);this.SetMinInterval_mx4ult$(t),null!=e&&e(!0)},Kd.prototype.SetMaxSPS_za3lpa$=function(e){this.maxSPS=e},Kd.prototype.GetMaxSPS=function(){return this.maxSPS},Kd.prototype.SaveMaxSPS_3uxocb$$default=function(e){zf().SetInteger_hh7mhe$(op(),this.mode,this.GetMaxSPS()),null!=e&&e(!0)},Kd.prototype.LoadMaxSPS_3uxocb$$default=function(e){var t=zf().GetInteger_hh7mhe$(op(),this.mode,0);this.SetMaxSPS_za3lpa$(t),za().shared().printLog_7z05hs$(this.mode+" "+op().value+" "+t.toString()),null!=e&&e(!0)},Kd.$metadata$={kind:o,simpleName:"AndroidPlayerRecord",interfaces:[um]},Qd.$metadata$={kind:o,simpleName:"DataKey",interfaces:[s]},Qd.values=function(){return[ep(),tp(),ip(),rp(),op(),np(),ap(),sp(),lp(),hp(),up(),cp(),dp(),pp(),fp(),mp(),vp(),gp(),_p(),yp(),$p(),bp(),Sp(),kp(),wp(),xp(),Cp(),zp(),Tp(),Ap(),Gp(),Ip(),Np(),Op(),Mp(),Rp(),Pp(),jp(),Bp(),Ep(),Lp(),Fp(),Dp(),Vp(),Up(),qp(),Hp(),Wp(),Yp(),Xp(),Kp(),Zp(),Qp(),Jp(),ef(),tf(),rf(),of(),nf(),af(),sf(),lf(),hf(),uf(),cf(),df(),pf(),ff(),mf(),vf(),gf(),_f(),yf()]},Qd.valueOf_61zpoe$=function(e){switch(e){case"HIGH_SCORE":return ep();case"MAX_COMBO":return tp();case"MAX_FEVER":return ip();case"MIN_INTERVAL":return rp();case"MAX_SPS":return op();case"PLAY_COUNT":return np();case"GHOST_REMOVAL":return ap();case"SOUND_ON":return sp();case"MASTER_VOLUME":return lp();case"BGM_VOLUME":return hp();case"EFFECT_VOLUME":return up();case"LAST_PLAYED_MODE":return cp();case"STAR_LAST_CHARGED_TIME":return dp();case"STAR_CHARGE_START":return pp();case"CURRENT_BLOCK_SET":return fp();case"CURRENT_BOARD_TYPE":return mp();case"BATTERY_USAGE_MODE":return vp();case"CURRENT_LOCALE":return gp();case"COLOR_MODE":return _p();case"TUTORIAL_COMPLETE":return yp();case"TUTORIAL_3_3_COMPLETE":return $p();case"TUTORIAL_6_6_COMPLETE":return bp();case"BEGINNER_COMBOS_5":return Sp();case"BEGINNER_COMBOS_10":return kp();case"BEGINNER_COMBOS_20":return wp();case"BEGINNER_COMBOS_50":return xp();case"BEGINNER_COMBOS_100":return Cp();case"BEGINNER_COMBOS_150":return zp();case"BEGINNER_50K":return Tp();case"BEGINNER_100K":return Ap();case"BEGINNER_200K":return Gp();case"BEGINNER_1M":return Ip();case"BEGINNER_2M":return Np();case"BEGINNER_3M":return Op();case"BEGINNER_FEVER_1":return Mp();case"BEGINNER_FEVER_3":return Rp();case"BEGINNER_FEVER_5":return Pp();case"BEGINNER_FEVER_10":return jp();case"BEGINNER_CLEAR_9":return Bp();case"CLASSIC_COMBOS_10":return Ep();case"CLASSIC_COMBOS_30":return Lp();case"CLASSIC_FEVER_1":return Fp();case"CLASSIC_FEVER_5":return Dp();case"CLASSIC_100K":return Vp();case"CLASSIC_300K":return Up();case"CLASSIC_1500K":return qp();case"CLASSIC_CLEAR_9":return Hp();case"TIMELESS_MODE_OPEN":return Wp();case"TIMELESS_COMBOS_50":return Yp();case"TIMELESS_COMBOS_80":return Xp();case"TIMELESS_COMBOS_100":return Kp();case"TIMELESS_FEVER_10":return Zp();case"TIMELESS_1M":return Qp();case"TIMELESS_2M":return Jp();case"HARDCORE_MODE_OPEN":return ef();case"HARDCORE_COMBOS_60":return tf();case"HARDCORE_FEVER_10":return rf();case"HARDCORE_1M":return of();case"GHOST_50":return nf();case"GHOST_100":return af();case"GHOST_150":return sf();case"GHOST_200":return lf();case"BEGINNER6x6_COMBOS_30":return hf();case"BEGINNER6x6_COMBOS_50":return uf();case"BEGINNER6x6_COMBOS_100":return cf();case"BEGINNER6x6_500K":return df();case"BEGINNER6x6_1M":return pf();case"CLASSIC6x6_MODE_OPEN":return ff();case"CLASSIC6x6_COMBOS_50":return mf();case"CLASSIC6x6_1M":return vf();case"TIMELESS6x6_MODE_OPEN":return gf();case"TIMELESS6x6_COMBOS_100":return _f();case"TIMELESS6x6_2M":return yf();default:c("No enum constant com.blindcatstudio.samsara.user.DataKey."+e)}},bf.prototype.obj_61zpoe$=function(e){return el().string_61zpoe$(e)},bf.prototype.Set_hwpqgh$=function(e,t){return el().Set_hwpqgh$(e,t),!0},bf.$metadata$={kind:a,simpleName:"standard",interfaces:[]};var Sf=null;function kf(){return null===Sf&&new bf,Sf}function wf(){zf()}function xf(){Cf=this}$f.$metadata$={kind:o,simpleName:"KeychainWrapper",interfaces:[]},xf.prototype.GetInteger_hh7mhe$=function(e,t,i){return void 0===t&&(t=""),void 0===i&&(i=0),this.GetInteger_rjan26$(e.value,t,i)},xf.prototype.GetInteger_rjan26$=function(e,t,i){void 0===t&&(t=""),void 0===i&&(i=0);var r=el().string_61zpoe$(e+t);if(null!=r&&!1===Ts(r)){var o=tt(r);if(null!=o)return o}return i},xf.prototype.SetInteger_hh7mhe$=function(e,t,i){void 0===t&&(t=""),this.SetInteger_rjan26$(e.value,t,i)},xf.prototype.SetInteger_rjan26$=function(e,t,i){void 0===t&&(t="");var r=el(),o=i.toString();r.Set_hwpqgh$(o,e+t)},xf.prototype.GetFloat_x7mx2d$=function(e,t,i){return void 0===t&&(t=""),void 0===i&&(i=0),this.GetFloat_whnl05$(e.value,t,i)},xf.prototype.GetFloat_whnl05$=function(e,t,i){void 0===t&&(t=""),void 0===i&&(i=0);var r=el().string_61zpoe$(e+t);if(null!=r&&!1===Ts(r)){var o=Qe(r);if(null!=o)return o}return i},xf.prototype.SetFloat_x7mx2d$=function(e,t,i){void 0===t&&(t=""),this.SetFloat_whnl05$(e.value,t,i)},xf.prototype.SetFloat_whnl05$=function(e,t,i){void 0===t&&(t="");var r=el(),o=i.toString();r.Set_hwpqgh$(o,e+t)},xf.prototype.GetDouble_yzmc4y$=function(e,t,i){return void 0===t&&(t=""),void 0===i&&(i=0),this.GetDouble_do2bxa$(e.value,t,i)},xf.prototype.GetDouble_do2bxa$=function(e,t,i){void 0===t&&(t=""),void 0===i&&(i=0);var r=el().string_61zpoe$(e+t);if(null!=r&&!1===Ts(r)){var o=Qe(r);if(null!=o)return o}return i},xf.prototype.SetDouble_yzmc4y$=function(e,t,i){void 0===t&&(t=""),this.SetDouble_do2bxa$(e.value,t,i)},xf.prototype.SetDouble_do2bxa$=function(e,t,i){void 0===t&&(t="");var r=el(),o=i.toString();r.Set_hwpqgh$(o,e+t)},xf.prototype.GetString_sv46oe$=function(e,t,i){return void 0===t&&(t=""),void 0===i&&(i=""),this.GetString_6hosri$(e.value,t,i)},xf.prototype.GetString_6hosri$=function(e,t,i){void 0===t&&(t=""),void 0===i&&(i="");var r=el().string_61zpoe$(e+t);return null!=r&&!1===Ts(r)?r:i},xf.prototype.SetString_sv46oe$=function(e,t,i){void 0===t&&(t=""),this.SetString_6hosri$(e.value,t,i)},xf.prototype.SetString_6hosri$=function(e,t,i){void 0===t&&(t=""),el().Set_hwpqgh$(i,e+t)},xf.prototype.GetIntegerPermanent_pngao4$=function(e,t,i){void 0===t&&(t=""),void 0===i&&(i=0);var r=kf().obj_61zpoe$(e.value+t);if(null!=r){var o;e:do{if(null==r){o=0;break e}if(Ke.isNumber(r)){o=et(r);break e}if("string"==typeof r)try{o=tt(r);break e}catch(e){if(Ke.isType(e,ta)){o=0;break e}throw e}o=0}while(0);return o}return i},xf.prototype.SetIntegerPermanent_pngao4$=function(e,t,i){return void 0===t&&(t=""),kf().Set_hwpqgh$(i,e.value+t)},xf.prototype.GetFloatFromKeychain_3a935d$=function(e,t,i){void 0===t&&(t=""),void 0===i&&(i=0);var r=kf().obj_61zpoe$(e.value+t);if(null!=r){var o;e:do{if(null==r){o=0;break e}if(Ke.isNumber(r)){o=it(r);break e}if("string"==typeof r)try{o=Qe(r);break e}catch(e){if(Ke.isType(e,ta)){o=0;break e}throw e}o=0}while(0);return o}return i},xf.prototype.SetFloatPermanent_3a935d$=function(e,t,i){return void 0===t&&(t=""),kf().Set_hwpqgh$(i,e.value+t)},xf.prototype.GetDoublePermanent_twdn6k$=function(e,t,i){void 0===t&&(t=""),void 0===i&&(i=0);var r=kf().obj_61zpoe$(e.value+t);if(null!=r){var o;e:do{if(null==r){o=0;break e}if(Ke.isNumber(r)){o=it(r);break e}if("string"==typeof r)try{o=Qe(r);break e}catch(e){if(Ke.isType(e,ta)){o=0;break e}throw e}o=0}while(0);return o}return i},xf.prototype.SetDoublePermanent_twdn6k$=function(e,t,i){return void 0===t&&(t=""),kf().Set_hwpqgh$(i,e.value+t)},xf.prototype.GetStringPermanent_xycvms$=function(e,t,i){void 0===t&&(t=""),void 0===i&&(i="");var r=kf().obj_61zpoe$(e.value+t);if(null!=r){var o;e:do{if(Ke.isNumber(r)){o=r.toString();break e}if("string"==typeof r){o=r;break e}if("boolean"==typeof r){o=r.toString();break e}if(Ke.isChar(r)){o=r.toString();break e}o=""}while(0);return o}return i},xf.prototype.SetStringPermanent_xycvms$=function(e,t,i){return void 0===t&&(t=""),kf().Set_hwpqgh$(i,e.value+t)},xf.$metadata$={kind:a,simpleName:"Companion",interfaces:[]};var Cf=null;function zf(){return null===Cf&&new xf,Cf}function Tf(){Lf(),this.gcScore=le()}function Af(){(Gf=this).instance=null}wf.$metadata$={kind:o,simpleName:"DataUtil",interfaces:[]},Af.$metadata$={kind:a,simpleName:"Holder",interfaces:[]};var Gf=null;function If(){return null===Gf&&new Af,Gf}function Nf(){(Ef=this).initialized=!1}Nf.prototype.shared=function(){return null==If().instance&&(If().instance=new Tf),Je(If().instance)},Nf.prototype.shutdown=function(){If().instance=null},Nf.$metadata$={kind:a,simpleName:"Companion",interfaces:[]};var Of,Mf,Rf,Pf,jf,Bf,Ef=null;function Lf(){return null===Ef&&new Nf,Ef}function Ff(e,t,i){s.call(this),this.value=i,this.name$=e,this.ordinal$=t}function Df(){Df=function(){},Of=new Ff("block",0,0),Mf=new Ff("mode",1,1),Rf=new Ff("gameItem",2,2),Pf=new Ff("avatar",3,3),jf=new Ff("board",4,4),Bf=new Ff("End",5,5)}function Vf(){return Df(),Of}function Uf(){return Df(),Mf}function qf(){return Df(),Rf}function Hf(){return Df(),Pf}function Wf(){return Df(),jf}function Yf(){return Df(),Bf}function Xf(){}function Kf(){this.category_6wuk60$_0=null,this.id_h9wys5$_0=null,this.name_jm2jcr$_0=null,this.isConsumable_letcrr$_0=!1,this.resource_5fbxi0$_0=null,this.description_lg38b6$_0="",this.amount=0,this.ability=null,this.price=null}Tf.prototype.submitScore_4ipezg$=function(e,t,i,r){void 0===i&&(i=""),void 0===r&&(r=null);var o=this.gcScore.get_11rb$(e);if(null!=o&&t.compareTo_11rb$(o)<0)return k("Score less than GC High Score. SubmitScore rejected."),void(null!=r&&r(!0));var n="SamsaraHighScore"+e;za().shared().submitScore_ds2soj$(n,t,i),null!=r&&r(!0)},Tf.prototype.submitSPS_4ipezg$=function(e,t,i,r){void 0===i&&(i=""),void 0===r&&(r=null);var o="SamsaraSPS"+e;za().shared().submitScore_ds2soj$(o,t,i),null!=r&&r(!0)},Tf.$metadata$={kind:o,simpleName:"GameCenterManager",interfaces:[]},Ff.$metadata$={kind:o,simpleName:"ItemType",interfaces:[s]},Ff.values=function(){return[Vf(),Uf(),qf(),Hf(),Wf(),Yf()]},Ff.valueOf_61zpoe$=function(e){switch(e){case"block":return Vf();case"mode":return Uf();case"gameItem":return qf();case"avatar":return Hf();case"board":return Wf();case"End":return Yf();default:c("No enum constant com.blindcatstudio.samsara.user.ItemType."+e)}},Xf.$metadata$={kind:n,simpleName:"Item",interfaces:[]},Object.defineProperty(Kf.prototype,"category",{get:function(){return this.category_6wuk60$_0},set:function(e){this.category_6wuk60$_0=e}}),Object.defineProperty(Kf.prototype,"id",{get:function(){return this.id_h9wys5$_0},set:function(e){this.id_h9wys5$_0=e}}),Object.defineProperty(Kf.prototype,"name",{get:function(){return this.name_jm2jcr$_0},set:function(e){this.name_jm2jcr$_0=e}}),Object.defineProperty(Kf.prototype,"isConsumable",{get:function(){return this.isConsumable_letcrr$_0},set:function(e){this.isConsumable_letcrr$_0=e}}),Object.defineProperty(Kf.prototype,"resource",{get:function(){return this.resource_5fbxi0$_0},set:function(e){this.resource_5fbxi0$_0=e}}),Object.defineProperty(Kf.prototype,"description",{get:function(){return this.description_lg38b6$_0},set:function(e){this.description_lg38b6$_0=e}}),Kf.prototype.GetAmount=function(){return this.amount},Kf.prototype.SetAmount_za3lpa$=function(e){this.amount=e},Kf.prototype.AddAbility_6hosri$=function(e,t,i){var r=this.ability,o=new Le(t,i);r.put_xwzc9p$(e,o)},Kf.prototype.GetAbility_61zpoe$=function(e){return this.ability.get_11rb$(e)},Kf.prototype.GetAbilityList=function(){return this.ability},Kf.prototype.AddPrice_bm4lxs$=function(e,t){this.price.put_xwzc9p$(e,t)},Kf.prototype.GetPrice_61zpoe$=function(e){var t=this.price.get_11rb$(e);return null!=t?t:0},Kf.prototype.GetPriceList=function(){return this.price},Kf.prototype.Copy=function(){return Qf(this.category,this.id,this.name,this.resource,void 0,this.ability,this.price)},Kf.$metadata$={kind:o,simpleName:"BasicItem",interfaces:[Xf]};var Zf=Ke.kotlin.collections.emptyMap_q3lmfv$;function Qf(e,t,i,r,o,n,a,s){return void 0===o&&(o=""),void 0===n&&(n=Zf()),void 0===a&&(a=Zf()),s=s||Object.create(Kf.prototype),Kf.call(s),s.category=e,s.id=t,s.name=i,s.resource=r,s.description=o,s.ability=ee(n),s.price=ee(a),s}function Jf(){this.blendMode=ei(),this.blendFactor=1,this.color=null,this.tileColor=null,this.colorMap=S(["red","yellow","green","blue","purple"])}function em(e,t,i,r,o,n,a,s,l,h,u,c){return void 0===r&&(r=""),void 0===o&&(o=ei()),void 0===n&&(n=1),void 0===a&&(a=ui().white_mx4ult$()),void 0===s&&(s=ui().white_mx4ult$()),void 0===l&&(l=Zf()),void 0===h&&(h=Zf()),void 0===u&&(u=S(["red","yellow","green","blue","purple"])),c=c||Object.create(Jf.prototype),Qf(Vf(),e,t,i,r,l,h,c),Jf.call(c),c.blendMode=o,c.blendFactor=n,c.color=a,c.tileColor=s,c.colorMap=u,c}function tm(){this.width=0,this.height=0}function im(e,t,i,r,o,n,a,s,l){return void 0===r&&(r=""),void 0===a&&(a=Zf()),void 0===s&&(s=Zf()),l=l||Object.create(tm.prototype),Qf(Wf(),e,t,i,r,a,s,l),tm.call(l),l.width=o,l.height=n,l}function rm(){hm(),this.itemTable=le();var e,t=ol(Yf().value);e=t.length-1|0;for(var i=0;i<=e;i++){var r=Ke.kotlin.collections.ArrayList_init_ww73n8$;t[i]=r()}this.itemByCategory=t}function om(){(nm=this).instance=null}Jf.prototype.Copy=function(){return em(this.id,this.name,this.resource,void 0,this.blendMode,this.blendFactor,ui().copy_3nzkge$(this.color),void 0,this.ability,this.price,this.colorMap)},Jf.$metadata$={kind:o,simpleName:"BlockItem",interfaces:[Kf]},tm.prototype.Copy=function(){return im(this.id,this.name,this.resource,void 0,this.width,this.height,this.ability,this.price)},tm.$metadata$={kind:o,simpleName:"BoardItem",interfaces:[Kf]},om.$metadata$={kind:a,simpleName:"Holder",interfaces:[]};var nm=null;function am(){return null===nm&&new om,nm}function sm(){(lm=this).initialized=!1}sm.prototype.shared=function(){return null==am().instance&&(am().instance=new rm),Je(am().instance)},sm.prototype.shutdown=function(){am().instance=null},sm.$metadata$={kind:a,simpleName:"Companion",interfaces:[]};var lm=null;function hm(){return null===lm&&new sm,lm}function um(){}function cm(){this.identifier=null,this.percentComplete=0}function dm(e,t,i){return void 0===t&&(t=0),i=i||Object.create(cm.prototype),cm.call(i),i.identifier=e,i.percentComplete=t,i}function pm(){}function fm(){km(),this.userId="",this.recordList=le(),this.playerAchievement=null,this.loadComplete=!1,this.starAmount=0}function mm(){(vm=this).instance=null}rm.prototype.initializeItemTable=function(){se(new Le("",""));this.addItemInfo_su1nf8$(em("BlocksetNumber","Number","Resource/BlockSet/Number/","MENU_37",void 0,void 0,void 0,void 0,se(new Le("Basic Bonus",new Le("1.0",""))),void 0,S(["red","yellow","green","blue","purple","EC4339","EFB920","7CB82F","00A0DC","8C68CB","EC4339","EFB920","7CB82F","00A0DC","8C68CB"])),1);var e=0;ue(pl().GetConfigure_jyasbz$("Demo"),"true")&&(e=1),this.addItemInfo_su1nf8$(em("BlocksetDice","Dice","Resource/BlockSet/Dice/","MENU_38",void 0,void 0,void 0,void 0,se(new Le("Basic Bonus",new Le("1.10","MENU_39"))),se(new Le("Star",50)),S(["blue","yellow","red","green","purple","00A0DC","EFB920","EC4339","7CB82F","8C68CB","00A0DC","EFB920","EC4339","7CB82F","8C68CB"])),1),this.addItemInfo_su1nf8$(em("BlocksetBird","Bird","Resource/BlockSet/Bird/","MENU_42",void 0,void 0,void 0,void 0,se(new Le("Basic Bonus",new Le("1.20","MENU_43"))),se(new Le("Star",100)),S(["green","yellow","red","purple","blue","7CB82F","EFB920","EC4339","8C68CB","00A0DC","7CB82F","EFB920","EC4339","8C68CB","00A0DC"])),e)},rm.prototype.GetItemList=function(){return this.itemTable},rm.prototype.addItemInfo_su1nf8$=function(e,t){void 0===t&&(t=0);var i=e;i.SetAmount_za3lpa$(t);var r=this.itemTable,o=i.id;r.put_xwzc9p$(o,i),this.itemByCategory[i.category.value].add_11rb$(i)},rm.prototype.GetItemInfo_61zpoe$=function(e){return this.itemTable.get_11rb$(e)},rm.prototype.GetItemListByCategory_lssvdg$=function(e){return this.itemByCategory[e.value]},rm.prototype.GetItemOrderByCategory_99cvmi$=function(e,t){for(var i=0,r=this.itemByCategory[e.value].iterator();r.hasNext();++i){var o=r.next();if(ue(o.id,t))return i}return 0},rm.prototype.GetItemByCategory_1svh2y$=function(e,t){var i=t;return i>=this.itemByCategory[e.value].size&&(i=0),this.itemByCategory[e.value].get_za3lpa$(i)},rm.prototype.GetNextItemByCategory_99cvmi$=function(e,t){var i=this.GetItemOrderByCategory_99cvmi$(e,t)+1|0;return i>=this.itemByCategory[e.value].size&&(i=0),this.itemByCategory[e.value].get_za3lpa$(i)},rm.prototype.GetPrevItemByCategory_99cvmi$=function(e,t){var i=this.GetItemOrderByCategory_99cvmi$(e,t)-1|0;return i<0&&(i=this.itemByCategory[e.value].size-1|0),this.itemByCategory[e.value].get_za3lpa$(i)},rm.prototype.createItem_bm4lxs$=function(e,t){var i=this.GetItemInfo_61zpoe$(e);if(null!=i){var r=i.Copy();return r.SetAmount_za3lpa$(t),r}return null},rm.prototype.loadAllPlayerItem=function(){var e;for(e=this.itemTable.entries.iterator();e.hasNext();){var t=e.next();this.loadPlayerItem_61zpoe$(t.key)}},rm.prototype.loadPlayerItem_61zpoe$=function(e){var t=this.GetItemInfo_61zpoe$(e);null!=t&&t.SetAmount_za3lpa$(zf().GetInteger_rjan26$(e,void 0,t.GetAmount()))},rm.prototype.saveAllPlayerItem=function(){var e;for(e=this.itemTable.entries.iterator();e.hasNext();){var t=e.next();this.savePlayerItem_61zpoe$(t.key)}},rm.prototype.savePlayerItem_61zpoe$=function(e){var t=this.GetItemInfo_61zpoe$(e);null!=t&&0<t.GetAmount()&&zf().SetInteger_rjan26$(e,void 0,t.GetAmount())},rm.$metadata$={kind:o,simpleName:"ItemManager",interfaces:[]},um.prototype.SaveHighScore_3uxocb$=function(e,t){void 0===e&&(e=null),t?t(e):this.SaveHighScore_3uxocb$$default(e)},um.prototype.LoadHighScore_3uxocb$=function(e,t){void 0===e&&(e=null),t?t(e):this.LoadHighScore_3uxocb$$default(e)},um.prototype.SaveMaxCombo_3uxocb$=function(e,t){void 0===e&&(e=null),t?t(e):this.SaveMaxCombo_3uxocb$$default(e)},um.prototype.LoadMaxCombo_3uxocb$=function(e,t){void 0===e&&(e=null),t?t(e):this.LoadMaxCombo_3uxocb$$default(e)},um.prototype.SaveMaxFever_3uxocb$=function(e,t){void 0===e&&(e=null),t?t(e):this.SaveMaxFever_3uxocb$$default(e)},um.prototype.LoadMaxFever_3uxocb$=function(e,t){void 0===e&&(e=null),t?t(e):this.LoadMaxFever_3uxocb$$default(e)},um.prototype.SaveMinInterval_3uxocb$=function(e,t){void 0===e&&(e=null),t?t(e):this.SaveMinInterval_3uxocb$$default(e)},um.prototype.LoadMinInterval_3uxocb$=function(e,t){void 0===e&&(e=null),t?t(e):this.LoadMinInterval_3uxocb$$default(e)},um.prototype.SaveMaxSPS_3uxocb$=function(e,t){void 0===e&&(e=null),t?t(e):this.SaveMaxSPS_3uxocb$$default(e)},um.prototype.LoadMaxSPS_3uxocb$=function(e,t){void 0===e&&(e=null),t?t(e):this.LoadMaxSPS_3uxocb$$default(e)},um.$metadata$={kind:n,simpleName:"PlayerRecord",interfaces:[]},cm.$metadata$={kind:o,simpleName:"Achievement",interfaces:[]},pm.prototype.AddAchievement_ze4fts$=function(e,t,i){void 0===t&&(t=0),i?i(e,t):this.AddAchievement_ze4fts$$default(e,t)},pm.prototype.AddAchievementString_io5o9c$=function(e,t,i){void 0===t&&(t=0),i?i(e,t):this.AddAchievementString_io5o9c$$default(e,t)},pm.prototype.SetPercentComplete_gspc9z$=function(e,t,i,r){void 0===i&&(i=!1),r?r(e,t,i):this.SetPercentComplete_gspc9z$$default(e,t,i)},pm.prototype.SetPercentCompleteString_1truf$=function(e,t,i,r){void 0===i&&(i=!1),r?r(e,t,i):this.SetPercentCompleteString_1truf$$default(e,t,i)},pm.$metadata$={kind:n,simpleName:"PlayerAchievement",interfaces:[]},mm.$metadata$={kind:a,simpleName:"Holder",interfaces:[]};var vm=null;function gm(){return null===vm&&new mm,vm}function _m(){(Sm=this).initialized=!1}_m.prototype.shared=function(){return null==gm().instance&&(gm().instance=wm()),Je(gm().instance)},_m.prototype.shutdown=function(){gm().instance=null},_m.$metadata$={kind:a,simpleName:"Companion",interfaces:[]};var ym,$m,bm,Sm=null;function km(){return null===Sm&&new _m,Sm}function wm(e){return e=e||Object.create(fm.prototype),fm.call(e),e}function xm(e,t,i){s.call(this),this.value=i,this.name$=e,this.ordinal$=t}function Cm(){Cm=function(){},ym=new xm("EMPTY_KEY",0,""),$m=new xm("STAR_AMOUNT",1,"Star Amount"),bm=new xm("EXP",2,"EXP")}function zm(){return Cm(),ym}function Tm(){return Cm(),$m}function Am(){return Cm(),bm}function Gm(){Lm(),this.starAmount=0,this.exp=0}function Im(){(Nm=this).instance=null}fm.prototype.SetUserId_61zpoe$=function(e){this.userId=e},fm.prototype.GetuserId=function(){return this.userId},fm.prototype.SetLoadComplete=function(){this.loadComplete=!0},fm.prototype.GetLoadComplete=function(){return this.loadComplete},fm.prototype.addRecord_psi95l$=function(e,t){var i=t;this.recordList.put_xwzc9p$(e,i)},fm.prototype.GetRecord_61zpoe$=function(e){var t=this.recordList.get_11rb$(e);return null!=t?t:null},fm.prototype.SetPlayerAchievement_79oy9z$=function(e){this.playerAchievement=e},fm.prototype.GetPlayerAchievement=function(){return this.playerAchievement},fm.prototype.SetHighScore_bm4lxs$=function(e,t){var i;null!=(i=this.GetRecord_61zpoe$(e))&&i.SetHighScore_za3lpa$(t)},fm.prototype.GetHighScore_61zpoe$=function(e){var t=this.GetRecord_61zpoe$(e);return null!=t?t.GetHighScore():0},fm.prototype.saveHighScore_ae0sr1$=function(e,t){var i;void 0===t&&(t=null),null!=(i=this.GetRecord_61zpoe$(e))&&i.SaveHighScore_3uxocb$(t)},fm.prototype.loadHighScore_ae0sr1$=function(e,t){var i;void 0===t&&(t=null),null!=(i=this.GetRecord_61zpoe$(e))&&i.LoadHighScore_3uxocb$(t)},fm.prototype.SetMaxCombo_bm4lxs$=function(e,t){var i;null!=(i=this.GetRecord_61zpoe$(e))&&i.SetMaxCombo_za3lpa$(t)},fm.prototype.GetMaxCombo_61zpoe$=function(e){var t=this.GetRecord_61zpoe$(e);return null!=t?t.GetMaxCombo():0},fm.prototype.saveMaxCombo_ae0sr1$=function(e,t){var i;void 0===t&&(t=null),null!=(i=this.GetRecord_61zpoe$(e))&&i.SaveMaxCombo_3uxocb$(t)},fm.prototype.loadMaxCombo_ae0sr1$=function(e,t){var i;void 0===t&&(t=null),null!=(i=this.GetRecord_61zpoe$(e))&&i.LoadMaxCombo_3uxocb$(t)},fm.prototype.SetMaxFever_bm4lxs$=function(e,t){var i;null!=(i=this.GetRecord_61zpoe$(e))&&i.SetMaxFever_za3lpa$(t)},fm.prototype.GetMaxFever_61zpoe$=function(e){var t=this.GetRecord_61zpoe$(e);return null!=t?t.GetMaxFever():0},fm.prototype.saveMaxFever_ae0sr1$=function(e,t){var i;void 0===t&&(t=null),null!=(i=this.GetRecord_61zpoe$(e))&&i.SaveMaxFever_3uxocb$(t)},fm.prototype.loadMaxFever_ae0sr1$=function(e,t){var i;void 0===t&&(t=null),null!=(i=this.GetRecord_61zpoe$(e))&&i.LoadMaxFever_3uxocb$(t)},fm.prototype.saveMinInterval_ae0sr1$=function(e,t){var i;void 0===t&&(t=null),null!=(i=this.GetRecord_61zpoe$(e))&&i.SaveMinInterval_3uxocb$(t)},fm.prototype.loadMinInterval_ae0sr1$=function(e,t){var i;void 0===t&&(t=null),null!=(i=this.GetRecord_61zpoe$(e))&&i.LoadMinInterval_3uxocb$(t)},fm.prototype.SetMaxSPS_bm4lxs$=function(e,t){var i;null!=(i=this.GetRecord_61zpoe$(e))&&i.SetMaxSPS_za3lpa$(t)},fm.prototype.GetMaxSPS_61zpoe$=function(e){var t=this.GetRecord_61zpoe$(e);return null!=t?t.GetMaxSPS():0},fm.prototype.saveMaxSPS_ae0sr1$=function(e,t){var i;void 0===t&&(t=null),null!=(i=this.GetRecord_61zpoe$(e))&&i.SaveMaxSPS_3uxocb$(t)},fm.prototype.loadMaxSPS_ae0sr1$=function(e,t){var i;void 0===t&&(t=null),null!=(i=this.GetRecord_61zpoe$(e))&&i.LoadMaxSPS_3uxocb$(t)},fm.prototype.addAchievement_ze4fts$=function(e,t){void 0===t&&(t=0);var i=this.playerAchievement;null!=i&&i.AddAchievement_ze4fts$(e,t)},fm.prototype.loadAchievement=function(){var e=this.playerAchievement;null!=e&&e.LoadAchievement()},fm.prototype.saveAchievement_chhr4e$=function(e){var t=this.playerAchievement;null!=t&&t.SaveAchievement_chhr4e$(e)},fm.prototype.SetPercentComplete_gspc9z$=function(e,t,i){void 0===i&&(i=!1),this.SetPercentComplete_1truf$(e.value,t,i)},fm.prototype.SetPercentComplete_1truf$=function(e,t,i){void 0===i&&(i=!1);var r=this.playerAchievement;null!=r&&r.SetPercentCompleteString_1truf$(e,t,i)},fm.prototype.GetPercentComplete_chhr4e$=function(e){var t=this.playerAchievement;return null!=t?t.GetPercentComplete_chhr4e$(e):0},fm.prototype.GetPercentComplete_61zpoe$=function(e){var t=this.playerAchievement;return null!=t?t.GetPercentCompleteString_61zpoe$(e):0},fm.$metadata$={kind:o,simpleName:"PlayerRecordManager",interfaces:[]},xm.$metadata$={kind:o,simpleName:"PermanentKey",interfaces:[s]},xm.values=function(){return[zm(),Tm(),Am()]},xm.valueOf_61zpoe$=function(e){switch(e){case"EMPTY_KEY":return zm();case"STAR_AMOUNT":return Tm();case"EXP":return Am();default:c("No enum constant com.blindcatstudio.samsara.user.PermanentKey."+e)}},Im.$metadata$={kind:a,simpleName:"Holder",interfaces:[]};var Nm=null;function Om(){return null===Nm&&new Im,Nm}function Mm(){(Em=this).initialized=!1}Mm.prototype.shared=function(){return null==Om().instance&&(Om().instance=new Gm),Je(Om().instance)},Mm.prototype.shutdown=function(){Om().instance=null},Mm.$metadata$={kind:a,simpleName:"Companion",interfaces:[]};var Rm,Pm,jm,Bm,Em=null;function Lm(){return null===Em&&new Mm,Em}function Fm(){var r,c;$a(void 0,void 0,void 0,this),this.blockId=[null,null,null,null,null,null],this.menu_z3bng4$_0=this.menu_z3bng4$_0,this.particleManagerForFairy_bo91vu$_0=this.particleManagerForFairy_bo91vu$_0,this.menuBackCallback=(r=this,function(e,t,i){return r.menu.drop(),new cv}),this.menuCallback=(c=this,function(e,t,i){if(null!=i){var r,o={v:0},n=Je(i);e:do{if(null==n){r=0;break e}if(Ke.isNumber(n)){r=et(n);break e}if("string"==typeof n)try{var a=tt(n);r=a;break e}catch(e){if(Ke.isType(e,ta)){r=0;break e}throw e}r=0}while(0);var s=r;if(null!=s){var l=c.blockId[s];if(null!=l){var h=hm().shared().GetItemInfo_61zpoe$(l);null!=h&&(o.v=h.GetPrice_61zpoe$("Star"))}}return Xl().showNotice_z5sdl8$(c,As("MENU_13")+"\n\n\n\n[Button Resource/UI/IconYes 50 ok]        [Button Resource/UI/IconNo 50 no]",void 0,void 0,void 0,void 0,(d=c,p=o,f=i,function(e){var t,i,r;if(ue(e.GetName(),"ok")){null!=(t=d.screen)&&t.actionDelay_ab0iom$(.5,void 0,Um),Lm().shared().decreaseStar_za3lpa$(p.v);var o=Ke.isType(i=d.findChildByName_3m52m6$("Star Amount"),ma)?i:null;null!=o&&o.clearText_gam257$(void 0,(r=o,function(){return r.addText_r4v59z$("[image Resource/UI/IconStar 20] "+Is(Lm().shared().GetStarAmount())),Ze}));var n,a=Je(f);e:do{if(null==a){n=0;break e}if(Ke.isNumber(a)){n=et(a);break e}if("string"==typeof a)try{var s=tt(a);n=s;break e}catch(e){if(Ke.isType(e,ta)){n=0;break e}throw e}n=0}while(0);var l=n;if(null!=l){var h=d.blockId[l];if(null!=h){var u=hm().shared().GetItemInfo_61zpoe$(h);null!=u&&(u.SetAmount_za3lpa$(1),hm().shared().savePlayerItem_61zpoe$(h))}}d.menu.SetEnable_fzusl$(l,!0),d.menu.SetCurrent_za3lpa$(l);var c=d.blockId[l];null!=c&&(za().shared().changeCurrentBlockSet_61zpoe$(c),za().shared().saveCurrentBlockSet())}Xl().closeNotice_mx4ult$()})),null}var d,p,f;if(!1===t)return null;var u=c.blockId[e];return null!=u&&(za().shared().changeCurrentBlockSet_61zpoe$(u),za().shared().saveCurrentBlockSet()),null})}function Dm(i,a,s){return function(e){var r,o,n,t=Lm().shared().GetStarAmount();return i.v!==t&&(i.v=t,a.clearText_gam257$(void 0,(r=a,o=s,n=t,function(){var e,t=r,i=o.v;e:do{if(Ke.isNumber(i)){e=i.toString();break e}if("string"==typeof i){e=i;break e}if("boolean"==typeof i){e=i.toString();break e}if(Ke.isChar(i)){e=i.toString();break e}e=""}while(0);return t.addText_r4v59z$("[image Resource/UI/IconStar "+e+"] "+Is(n)),Ze}))),!0}}function Vm(r){return function(e){var t,i;return(e===Bt().ESCAPE||e===Bt().BACK)&&(r.menu.drop(),null!=(t=r.screen)&&t.actionDelay_ab0iom$(0,void 0,(i=r,function(){var e;return null!=(e=i.screen)&&e.presentView_xl35ob$(new cv),Ze})),!0)}}function Um(){return ql().shared().playEffect_bm4lxs$("buy"),Ze}function qm(){var m;this.game_lsce3y$_0=this.game_lsce3y$_0,this.menu=null,this.background=null,this.heightOffset1=40,this.bannerOffset=0,this.newRecord=!1,this.perfectPlay=!1,this.gameScore=0,this.bonusScore=0,this.scorePerSecond=0,this.particleManager_66rxx3$_0=this.particleManager_66rxx3$_0,this.cameraPreset=[ko(20,Gi(0,0,0),Gi(15,0,0),Gi(0,0,0),90,800,500,200),ko(20,Gi(0,0,-150),Gi(0,0,0),Gi(0,0,0),90,1600,200,100)],this.currentCamera_8wat6a$_0=this.currentCamera_8wat6a$_0,this.paperCount=0,this.fireworkManager_x19jg6$_0=this.fireworkManager_x19jg6$_0,this.step=0,this.menuItem=(m=this,function(e,t,i){var r,o,n,a,s;if(!1===t)return null;if(0===e){ue(pl().GetConfigure_jyasbz$("Demo"),"true")||Lm().shared().decreaseStar_za3lpa$(m.game.gameConfigure.needStar);var l=m.screen;ql().shared().BGMFadeOut_o5txl1$(Je(l),"NewRecordBGM",0,.5);var h=Cc(m.game.gameConfigure),u=sv(h);return m.game.stop(),m.game.deinitGame(),u}if(1===e){m.hideButton();var c=m.createSprite_591x4d$(160,400,0,"Resource/UI/Title",240,void 0,void 0,void 0,void 0,!1);c.SetHorizontalAlign_jdpdm8$(lo());var d=m.createSprite_9wuqyc$(160,455,void 0,"Resource/UI/SubTitle",240,void 0,void 0,m.sizeScale);d.SetVerticalAlign_qn2em6$(io()),d.SetHorizontalAlign_jdpdm8$(lo());var p=Di(0,0,m.GetSize().width,m.GetSize().height);null!=(r=m.screen)&&r.actionDelay_ab0iom$(1,void 0,(o=p,n=c,a=d,s=m,function(){var t,e=Ie().shared().GetScreenshot_3fx80m$(o);return n.removeFromParent(),a.removeFromParent(),zf().SetInteger_rjan26$("PreventAds",void 0,1),za().shared().shareSocial_3yj0dh$(As("Beat my score!"),e,null,(t=s,function(){var e;return t.showButton(),null!=(e=t.screen)&&e.actionDelay_ab0iom$(5,void 0,tv),Ze})),Ze}))}else if(2===e){var f=m.screen;return ql().shared().BGMFadeOut_o5txl1$(Je(f),"NewRecordBGM",0,.5),m.game.stop(),m.game.deinitGame(),new cv}return null})}function Hm(i,a,s){return function(e){var r,o,n,t=Lm().shared().GetStarAmount();return i.v!==t&&(i.v=t,a.clearText_gam257$(void 0,(r=a,o=s,n=t,function(){var e,t=r,i=o.v;e:do{if(Ke.isNumber(i)){e=i.toString();break e}if("string"==typeof i){e=i;break e}if("boolean"==typeof i){e=i.toString();break e}if(Ke.isChar(i)){e=i.toString();break e}e=""}while(0);return t.addText_r4v59z$("[image Resource/UI/IconStar "+e+"] "+Is(n)),Ze}))),!0}}function Wm(e){return pl().SetDouble_io5o9c$("PlayingTimeForAds",0),pl().SetInteger_bm4lxs$("PlayingCountForAds",0),Ze}function Ym(e){return e.event!==Gr()||(window.open("https://itunes.apple.com/app/samsara-stones-of-eternity/id1196258279","_blank"),!1)}function Xm(e){return e.event!==Gr()||(window.open("https://play.google.com/store/apps/details?id=com.blindcatstudio.samsara","_blank"),!1)}function Km(P,j,B,E,L,F){return function(e){var t,i,r,o,n,a,s,l,h,u,c;if(1===e.count){var d=Is(P.game.gameValue.score);if(5<d.length){var p,f=j,m=j.v*P.sizeScale.yRatio,v=d.length-5|0;e:do{if(null==v){p=0;break e}if(Ke.isNumber(v)){p=it(v);break e}if("string"==typeof v)try{p=Qe(v);break e}catch(e){if(Ke.isType(e,ta)){p=0;break e}throw e}p=0}while(0);var g,_=p;e:do{if(Ke.isNumber(25)){g=it(25);break e}g=0}while(0);f.v=m*(1-_/g)}else j.v=j.v*P.sizeScale.yRatio;return P.SetFontSize_mx4ult$(j.v),P.SetFontName_61zpoe$("BigScore/"),B.v=P.createLabel_17tgk7$(160,40+P.heightOffset1+P.bannerOffset,Rn(),"0",null,!1,null,null,!1),null!=(t=B.v)&&t.SetSize_dleff0$(-1,j.v),null!=(i=B.v)&&i.SetColor_vnjrmz$(ui().puzzleYellow_mx4ult$()),null!=(r=B.v)&&r.SetBlendFactor_mx4ult$(1),P.showRecord(),!0}if(E.v!==P.game.gameValue.score){E.v=P.game.gameValue.score;var y,$=L,b=F.v;e:do{if(null==b){y=0;break e}if(Ke.isNumber(b)){y=it(b);break e}if("string"==typeof b)try{y=Qe(b);break e}catch(e){if(Ke.isType(e,ta)){y=0;break e}throw e}y=0}while(0);$.reset_y2kzbl$(void 0,void 0,y);var S,k=L,w=E.v;e:do{if(null==w){S=0;break e}if(Ke.isNumber(w)){S=it(w);break e}if("string"==typeof w)try{S=Qe(w);break e}catch(e){if(Ke.isType(e,ta)){S=0;break e}throw e}S=0}while(0);k.SetTarget_nfvrp9$(S,-50,1,void 0,-1),0===P.step?ql().shared().playEffect_bm4lxs$("score"):ql().shared().playEffect_bm4lxs$("ghostscore")}if(F.v<E.v){var x,C=F,z=L.update_mx4ult$(e.elapsed);e:do{if(null==z){x=0;break e}if(Ke.isNumber(z)){x=et(z);break e}if("string"==typeof z)try{x=tt(z);break e}catch(e){if(Ke.isType(e,ta)){x=0;break e}throw e}x=0}while(0);C.v=x,F.v>E.v&&(F.v=E.v),null!=(o=B.v)&&o.SetText_61zpoe$(Is(F.v)),null!=(n=B.v)&&n.SetSize_dleff0$(-1,j.v)}if(F.v===E.v)switch(P.step){case 0:0===P.game.gameConfigure.obstacleMaximumNumber?P.step=3:(P.step=1,null!=(a=P.screen)&&a.actionDelay_ab0iom$(.5,void 0,(c=P,function(){return c.processGhost(),Ze})));break;case 1:break;default:if(!0===P.game.gameConfigure.showSPS){var T,A=Lf().shared(),G=P.game.gameConfigure.modeString,I=P.scorePerSecond;e:do{if(Ke.isNumber(I)){T=Zl(I);break e}if("string"==typeof I){T=Ql(I);break e}T=Ke.Long.ZERO}while(0);A.submitSPS_4ipezg$(G,T,"0")}var N,O=Lf().shared(),M=P.game.gameConfigure.modeString,R=P.game.gameValue.score;e:do{if(Ke.isNumber(R)){N=Zl(R);break e}if("string"==typeof R){N=Ql(R);break e}N=Ke.Long.ZERO}while(0);return O.submitScore_4ipezg$(M,N,"0"),!0===P.newRecord?null!=(s=P.screen)&&s.actionDelay_ab0iom$(.5,void 0,(u=P,function(){var e;u.game.GetPlayerRecord().SetHighScore_za3lpa$(u.game.gameValue.score),u.game.GetPlayerRecord().SaveHighScore_3uxocb$(null);var t=145;!0===pl().isWatchOS()&&(t=130),3===u.game.gameConfigure.width&&(t=105),u.SetFontName_61zpoe$("MENU_/");var i=u.createLabel_17tgk7$(160,t+u.heightOffset1+u.bannerOffset,void 0,As("MENU_53"));i.SetSize_dleff0$(240*u.sizeScale.xRatio,20*u.sizeScale.yRatio),i.SetHorizontalAlign_jdpdm8$(lo()),i.SetVerticalAlign_qn2em6$(ro()),i.SetColor_vnjrmz$(ci("F3C746")),i.SetBlendFactor_mx4ult$(1);var r=Ke.isType(e=u.findChildByName_3m52m6$("High Score Line"),ma)?e:null;return null!=r&&(r.clearText_gam257$(),r.addText_r4v59z$("[Color yellow][Font]"+As("MENU_30")+"[Color]: [Font Number/][Color yellow]"+Is(u.game.gameValue.score))),u.fireworkEffect(),ql().shared().BGMFadeIn_o5txl1$(Je(u.screen),"NewRecordBGM",100,.5),u.showMenu(),Ze})):(P.createBackgroundEffect(),P.showMenu()),P.checkAchievementComplete(),ue(pl().GetConfigure_jyasbz$("Auto Play"),"true")&&null!=(l=P.screen)&&l.actionDelay_ab0iom$(2,void 0,(h=P,function(){var e,t=h.menuItem(0,!0,null);return null!=(e=h.screen)&&e.presentView_xl35ob$(Je(t)),Ze})),!1}return!0}}function Zm(r,o){return function(){var e,t,i;return null!=(e=r.screen)&&e.actionDelay_ab0iom$(.5,void 0,(t=r,i=o,function(){var e;return(e=t.game.gameValue).score=e.score+i|0,t.step=t.step+1|0,Ze})),Ze}}function Qm(i){return function(){var e,t;return null!=(e=i.screen)&&e.actionDelay_ab0iom$(.5,void 0,(t=i,function(){return t.step=t.step+1|0,Ze})),Ze}}function Jm(e,t,i){return e.position.z>t.position.z+t.farMost}function ev(e,t,i){return e.position.z>t.position.z+t.farMost}function tv(){return zf().SetInteger_rjan26$("PreventAds",void 0,0),Ze}function iv(e,t){return $a(void 0,void 0,void 0,t=t||Object.create(qm.prototype)),qm.call(t),t.game=e,t}function rv(){this.game=null,this.bottomHeight=0}function ov(e){return pl().SetDouble_io5o9c$("PlayingTimeForAds",0),pl().SetInteger_bm4lxs$("PlayingCountForAds",0),Ze}function nv(n){return function(e){var t,i,r,o=e.GetName();ue(o,"ok")&&(Xl().closeNotice_mx4ult$(),n.game.initGame_g5c4ga$(n),n.game.start(),null!=(t=n.screen)&&t.actionDelay_ab0iom$(.5,void 0,(r=n,function(){return r.game.generateBoard(),Ze})),n.prepareMenu(),null!=(i=n.screen)&&i.removeKeydownListener_61zpoe$("Hint OK"))}}function av(){return!0===pl().isWatchOS()?Xl().addNotice_9sobi5$("[button Resource/UI/IconPlay 80 ok]",.3):Xl().addNotice_9sobi5$("[button Resource/UI/IconPlay 50 ok]",.3),Ze}function sv(e,t){return $a(void 0,void 0,void 0,t=t||Object.create(rv.prototype)),rv.call(t),t.game=e,t}function lv(){$a(void 0,void 0,void 0,this)}function hv(){var e=zf().GetString_sv46oe$(fp(),void 0,"BlocksetNumber");return za().shared().changeCurrentBlockSet_61zpoe$(e),za().shared().saveCurrentBlockSet(),Ze}function uv(p,f,v,g,_){return function(e){var t,m,i,r;if(0<p.v.size){p.v.removeAt_za3lpa$(0)();var o,n=100*(1-p.v.size/f);e:do{if(null==n){o=0;break e}if(Ke.isNumber(n)){o=et(n);break e}if("string"==typeof n)try{o=tt(n);break e}catch(e){if(Ke.isType(e,ta)){o=0;break e}throw e}o=0}while(0);if(o!==v.v){var a,s=v;e:do{if(null==n){a=0;break e}if(Ke.isNumber(n)){a=et(n);break e}if("string"==typeof n)try{a=tt(n);break e}catch(e){if(Ke.isType(e,ta)){a=0;break e}throw e}a=0}while(0);s.v=a;var l,h=v.v;e:do{if(null==h){l=0;break e}if(Ke.isNumber(h)){l=et(h);break e}if("string"==typeof h)try{l=tt(h);break e}catch(e){if(Ke.isType(e,ta)){l=0;break e}throw e}l=0}while(0);var u,c=l;e:do{if(Ke.isNumber(c)){u=c.toString();break e}if("string"==typeof c){u=c;break e}if("boolean"==typeof c){u=c.toString();break e}if(Ke.isChar(c)){u=c.toString();break e}u=""}while(0);var d=u+"%";g.clearText_gam257$(void 0,(i=g,r=d,function(){return i.addText_r4v59z$("Loading... "+r),Ze}))}0===p.v.size&&null!=(t=_.screen)&&t.actionDelay_ab0iom$(.5,void 0,(m=_,function(){var e,t;if(1===zf().GetInteger_rjan26$("Snapshot")){var i=null;switch(zf().GetString_sv46oe$(cp())){case"Beginner":var r,o=m.size.width;e:do{if(null==o){r=0;break e}if(Ke.isNumber(o)){r=it(o);break e}if("string"==typeof o)try{r=Qe(o);break e}catch(e){if(Ke.isType(e,ta)){r=0;break e}throw e}r=0}while(0);var n,a=r,s=m.size.height;e:do{if(null==s){n=0;break e}if(Ke.isNumber(s)){n=it(s);break e}if("string"==typeof s)try{n=Qe(s);break e}catch(e){if(Ke.isType(e,ta)){n=0;break e}throw e}n=0}while(0);i=Qc(Di(0,0,a,n));break;case"Beginner6x6":var l,h=m.size.width;e:do{if(null==h){l=0;break e}if(Ke.isNumber(h)){l=it(h);break e}if("string"==typeof h)try{l=Qe(h);break e}catch(e){if(Ke.isType(e,ta)){l=0;break e}throw e}l=0}while(0);var u,c=l,d=m.size.height;e:do{if(null==d){u=0;break e}if(Ke.isNumber(d)){u=it(d);break e}if("string"==typeof d)try{u=Qe(d);break e}catch(e){if(Ke.isType(e,ta)){u=0;break e}throw e}u=0}while(0);i=ed(Di(0,0,c,u))}if(null!=i){Je(i).adjustTileSize();var p=sv(Cc(Je(i)));null!=(e=m.screen)&&e.presentView_xl35ob$(p)}}else{var f=new cv;null!=(t=m.screen)&&t.presentView_xl35ob$(f)}return Ze}))}}}function cv(){var o,h;$a(void 0,void 0,void 0,this),this.particleManager=null,this.particleManagerForFairy=null,this.title=null,this.bg=null,this.screenToggle_6i50om$_0=this.screenToggle_6i50om$_0,this.bottomMenuItem=(o=this,function(e,t,i){if(!1===t)return null;if(0===e){if(!0===za().shared().isDesktop()){if(0===zf().GetInteger_hh7mhe$($p(),void 0,0))return eg(0);var r=As("MENU_54");r+="\n\n\n\n\n[button Resource/UI/IconBeginner 60 3x3]        [button Resource/UI/IconBeginner6x6 60 6x6]\n\n\n\n[button Resource/UI/IconAbandon 50 no]",Xl().showNotice_z5sdl8$(o,r,void 0,void 0,void 0,void 0,(n=o,function(e){var t,i,r,o;ue(e.GetName(),"3x3")?null!=(t=n.screen)&&t.actionDelay_ab0iom$(0,void 0,(o=n,function(){var e;return Xl().closeNotice_mx4ult$(.3),null!=(e=o.screen)&&e.presentView_xl35ob$(eg(0)),Ze})):ue(e.GetName(),"6x6")?null!=(i=n.screen)&&i.actionDelay_ab0iom$(0,void 0,(r=n,function(){var e;return Xl().closeNotice_mx4ult$(.3),null!=(e=r.screen)&&e.presentView_xl35ob$(eg(1)),Ze})):Xl().closeNotice_mx4ult$()}))}else za().shared().showLeaderboard();return null}return 1===e?new Fm:2===e?new Ov:null;var n}),this.menuCallback=(h=this,function(e,t,i){if(!1===t)return null;switch(e){case 0:if(!1===Ie().shared().GetDebug()&&0===zf().GetInteger_hh7mhe$(yp(),void 0,0)&&0===zf().GetInteger_hh7mhe$($p(),void 0,0))return eg(0);var r=Qc(Di(0,0,h.size.width,h.size.height));Je(r).adjustTileSize();var o=Cc(r);return zf().SetString_sv46oe$(cp(),void 0,r.modeString),ue(pl().GetConfigure_jyasbz$("Demo"),"true")||Lm().shared().decreaseStar_za3lpa$(r.needStar),sv(o);case 1:if(!1===Ie().shared().GetDebug()&&0===zf().GetInteger_hh7mhe$(yp(),void 0,0)&&0===zf().GetInteger_hh7mhe$(bp(),void 0,0))return eg(1);var n=ed(Di(0,0,h.size.width,h.size.height));Je(n).adjustTileSize();var a=Cc(n);return zf().SetString_sv46oe$(cp(),void 0,n.modeString),ue(pl().GetConfigure_jyasbz$("Demo"),"true")||Lm().shared().decreaseStar_za3lpa$(n.needStar),sv(a);case 2:var s=qc(Di(0,0,h.size.width,h.size.height));Je(s).adjustTileSize();var l=Cc(s);return zf().SetString_sv46oe$(cp(),void 0,s.modeString),ue(pl().GetConfigure_jyasbz$("Demo"),"true")||Lm().shared().decreaseStar_za3lpa$(s.needStar),sv(l)}return null})}function dv(){return za().shared().Shutdown(),Ze}function pv(t,r){return function(e){return e===Bt().ESCAPE||e===Bt().BACK?(Xl().showNotice_z5sdl8$(t,As("MENU_52")+"\n\n\n[Button Resource/UI/IconYes 50 ok]           [Button Resource/UI/IconNo 50 no]",void 0,void 0,void 0,void 0,(i=t,function(e){var t;Xl().closeNotice_mx4ult$(),ue(e.GetName(),"ok")&&null!=(t=i.screen)&&t.actionDelay_ab0iom$(.5,void 0,dv)})),!0):e===Bt().ENTER&&(r.click_za3lpa$(0),!0);var i}}function fv(e){return e.event!==Gr()}function mv(e){return e.event!==Gr()}function vv(e,t,i){return e.position.z<t.position.z}function gv(e,t,i){s.call(this),this.value=i,this.name$=e,this.ordinal$=t}function _v(){_v=function(){},Rm=new gv("NORMAL",0,0),Pm=new gv("RADIO",1,1),jm=new gv("SWITCH",2,2),Bm=new gv("TEXT",3,3)}function yv(){return _v(),Rm}function $v(){return _v(),Pm}function bv(){return _v(),jm}function Sv(){return _v(),Bm}function kv(){this.enable=!0,this.onOff=ca(),this.image=[null,null,null,null],this.upperCaption="",this.title="",this.description=[],this.callback=null,this.button=null,this.type=null,this.group=0,this.fontName="Credits/",this.fadeTime=.2}function wv(e,t,i,r,o,n,a,s){return void 0===t&&(t=""),void 0===i&&(i=["",""]),void 0===r&&(r=yv()),void 0===o&&(o=0),void 0===n&&(n=.15),s=s||Object.create(kv.prototype),kv.call(s),s.image[0]=e,s.title=t,s.description=i,s.type=r,s.group=o,s.fadeTime=n,s.callback=a,s}function xv(e,t,i,r,o,n,a,s){return void 0===t&&(t=""),void 0===i&&(i=["",""]),void 0===r&&(r=yv()),void 0===o&&(o=0),void 0===n&&(n=.15),s=s||Object.create(kv.prototype),kv.call(s),s.image=e,s.title=t,s.description=i,s.type=r,s.group=0,s.fadeTime=n,s.callback=a,s}function Cv(){this.view=null,this.size=null,this.menuDimension=null,this.tileSize=0,this.tileWidthScale=0,this.boardTile=null,this.items=null,this.title=null,this.titleForWatch=null,this.textArea=null,this.inputEnable=!1,this.current=-1}function zv(r,o,n){return function(){var e,t,i;return Ie().shared().SetInputPending_6taknv$(!1),null!=(e=r.textArea)&&e.SetMessageHandler_4mjqr2$((t=o,i=n,function(e){return e.event===Gr()?(ql().shared().playEffect_bm4lxs$("click"),t.callback(i,!0,Je(e.sender).GetName()),!1):(e.event===Ir()&&ql().shared().playEffect_bm4lxs$("shake"),!0)})),Ze}}function Tv(t,i,r,o){return function(e){return e.event===Ar()||(e.event===Tr()?(t.type!==bv()&&t.type!==$v()||(i===r.current?o.reaction=!1:o.reaction=!0),!0):e.event===Ir()?(ql().shared().playEffect_bm4lxs$("shake"),r.click_za3lpa$(i),!0):e.event!==Gr()||(ql().shared().playEffect_bm4lxs$("click"),!0!==r.inputEnable||(r.click_za3lpa$(i),t.type!==$v())))}}function Av(o,n,a,s){return function(){var e,t,i,r=fn(0,.3*o.tileSize,n.GetPosition().y,a.v,.3);return r.SetTimeMultiplier_mx4ult$(10),n.SetYMotion_vn0wwp$(r),null!=(e=o.view.screen)&&e.actionDelay_ab0iom$(.5,void 0,(t=s,i=o,function(){return ql().shared().playEffect_bm4lxs$("landing"),t.v=t.v+1|0,t.v>=i.menuDimension.height*i.menuDimension.width&&(i.inputEnable=!0),Ze})),Ze}}function Gv(){return Ie().shared().SetInputPending_6taknv$(!1),Ze}function Iv(t,i){return function(){var e=new dn(void 0,1.2*t.tileSize,i.GetPosition().y);return e.SetTimeMultiplier_mx4ult$(5),i.SetYMotion_vn0wwp$(e),Ze}}function Nv(e,t,i,r,o,n,a,s,l,h){void 0===o&&(o=1),void 0===a&&(a=null),void 0===s&&(s=""),void 0===l&&(l="Resource/UI/menu_tile"),h=h||Object.create(Cv.prototype),Cv.call(h),h.view=e,h.size=t,h.menuDimension=i;var u=e.sizeUniversalToDevice_1lj1ir$("Resource/UI/menu_selected_mask",r);return h.tileSize=u.width,h.tileWidthScale=o,h.items=n,h.title=a,h.titleForWatch=s,h.boardTile=l,h}function Ov(){var r,k;$a(void 0,void 0,void 0,this),this.menu_zk9po$_0=this.menu_zk9po$_0,this.particleManagerForFairy_8rru26$_0=this.particleManagerForFairy_8rru26$_0,this.menuBackCallback=(r=this,function(e,t,i){return r.menu.drop(),new cv}),this.menuCallback=(k=this,function(e,t,i){var r,o,n,a,s,l,h,u,c,d,p,f,m,v,g,_,y;if(!1===t)return null;switch(e){case 0:0===ql().shared().GetBGMVolume()?(zf().SetInteger_hh7mhe$(hp(),void 0,100),ql().shared().SetBGMVolume_mx4ult$(100),za().shared().setAdsMute_6taknv$(!1)):(zf().SetInteger_hh7mhe$(hp(),void 0,0),ql().shared().SetBGMVolume_mx4ult$(0),za().shared().setAdsMute_6taknv$(!0));break;case 1:0===ql().shared().GetEffectVolume()?(zf().SetInteger_hh7mhe$(up(),void 0,100),ql().shared().SetEffectVolume_mx4ult$(100)):(zf().SetInteger_hh7mhe$(up(),void 0,0),ql().shared().SetEffectVolume_mx4ult$(0));break;case 2:if(0===zf().GetInteger_hh7mhe$($p(),void 0,0))return eg(2);var $=As("MENU_54");return $+="\n\n\n\n\n[button Resource/UI/IconBeginner 60 3x3]        [button Resource/UI/IconBeginner6x6 60 6x6]\n\n\n\n[button Resource/UI/IconAbandon 50 no]",Xl().showNotice_z5sdl8$(k,$,void 0,void 0,void 0,void 0,(y=k,function(e){var t,i,r,o;ue(e.GetName(),"3x3")?null!=(t=y.screen)&&t.actionDelay_ab0iom$(0,void 0,(o=y,function(){var e;return Xl().closeNotice_mx4ult$(.3),null!=(e=o.screen)&&e.presentView_xl35ob$(eg(2)),Ze})):ue(e.GetName(),"6x6")?null!=(i=y.screen)&&i.actionDelay_ab0iom$(0,void 0,(r=y,function(){var e;return Xl().closeNotice_mx4ult$(.3),null!=(e=r.screen)&&e.presentView_xl35ob$(eg(3)),Ze})):Xl().closeNotice_mx4ult$()})),null;case 3:window.open("https://blindcatstudio.com","_blank");break;case 4:Cs("kr"),zf().SetString_sv46oe$(gp(),void 0,"kr"),null!=(o=Ke.isType(r=Ie().shared().GetGuestScreen(),Ol)?r:null)&&o.hideAllLabel_1zqrcg$(),null!=(n=k.screen)&&n.actionDelay_ab0iom$(0,void 0,(_=k,function(){var e;return za().shared().generateLocalFont_dleff0$(_.size.width,_.size.height),null!=(e=_.screen)&&e.presentView_xl35ob$(new Ov),Ze}));break;case 5:Cs("en"),zf().SetString_sv46oe$(gp(),void 0,"en"),null!=(s=Ke.isType(a=Ie().shared().GetGuestScreen(),Ol)?a:null)&&s.hideAllLabel_1zqrcg$(),null!=(l=k.screen)&&l.actionDelay_ab0iom$(0,void 0,(g=k,function(){var e;return za().shared().generateLocalFont_dleff0$(g.size.width,g.size.height),null!=(e=g.screen)&&e.presentView_xl35ob$(new Ov),Ze}));break;case 6:for(zf().SetString_sv46oe$(_p(),void 0,"Normal"),h=hm().shared().GetItemListByCategory_lssvdg$(Vf()).iterator();h.hasNext();){var b=h.next();gt().shared().addAlias_puj7f4$(b.resource+"inactive_mask",b.resource+"inactive_mask")}break;case 7:for(zf().SetString_sv46oe$(_p(),void 0,"Blind"),u=hm().shared().GetItemListByCategory_lssvdg$(Vf()).iterator();u.hasNext();){var S=u.next();gt().shared().addAlias_puj7f4$(S.resource+"inactive_mask_CB",S.resource+"inactive_mask")}break;case 8:zf().SetInteger_hh7mhe$(vp(),void 0,0),null!=(c=k.screen)&&c.actionDelay_ab0iom$(0,void 0,(v=k,function(){var e;return null!=(e=v.screen)&&e.presentView_xl35ob$(new Ov),Ze}));break;case 9:zf().SetInteger_hh7mhe$(vp(),void 0,1),null!=(d=k.screen)&&d.actionDelay_ab0iom$(0,void 0,(m=k,function(){var e;return null!=(e=m.screen)&&e.presentView_xl35ob$(new Ov),Ze}));break;case 10:zf().SetInteger_hh7mhe$(vp(),void 0,2),null!=(p=k.screen)&&p.actionDelay_ab0iom$(0,void 0,(f=k,function(){var e;return null!=(e=f.screen)&&e.presentView_xl35ob$(new Ov),Ze}))}return null})}function Mv(r){return function(e){var t,i;return(e===Bt().ESCAPE||e===Bt().BACK)&&(r.menu.drop(),null!=(t=r.screen)&&t.actionDelay_ab0iom$(0,void 0,(i=r,function(){var e;return null!=(e=i.screen)&&e.presentView_xl35ob$(new cv),Ze})),!0)}}function Rv(){$a(void 0,void 0,void 0,this)}function Pv(e,t,i){return null}function jv(e,t,i,r){this.script=e,this.intParam=t,this.floatParam=i,this.param=r}function Bv(){var r;this.gameView_pf9145$_0=this.gameView_pf9145$_0,this.game_d8z56e$_0=this.game_d8z56e$_0,this.enableCancel=!1,this.exit=!1,this.touched=!1,this.textArea=Fe(),this.fadeDuration=.2,this.scriptList=Fe(),this.scriptLabel=le(),this.scriptFire=!1,this.scriptCurrent=0,this.scriptIfBlock=!1,this.scriptIfCondition=!0,this.lastResult=0,this.lastIncrease=new Le(-1,-1),this.imageList=Fe(),this.mode=0,this.menuCallback=(r=this,function(e,t,i){return null!=r.game&&!1===Je(r.game).isIdle()?null:(r.removeAllAction_jldc6z$(void 0,!1),null!=r.game&&(r.game.stop(),r.game.deinitGame()),2===r.mode||3===r.mode?new Ov:new cv)})}function Ev(r){return function(e){var t,i;return(e===Bt().ESCAPE||e===Bt().BACK)&&(null!=r.game&&!1===Je(r.game).isIdle()||null!=(t=r.screen)&&t.actionDelay_ab0iom$(0,void 0,(i=r,function(){var e,t;return i.removeAllAction_jldc6z$(void 0,!1),null!=i.game&&(i.game.stop(),i.game.deinitGame()),2===i.mode||3===i.mode?null!=(e=i.screen)&&e.presentView_xl35ob$(new Ov):null!=(t=i.screen)&&t.presentView_xl35ob$(new cv),Ze})),!0)}}function Lv(i){return function(){var e,t,p;return null!=i.gameView&&(i.gameView.SetTimeToLive_mx4ult$(0),null!=(e=i.screen)&&e.removeTouchListenerAll(),i.game.deinitGame(),null!=(t=i.screen)&&t.actionDelay_ab0iom$(.5,void 0,(p=i,function(){var e,t;if(p.mode%2==0){var i,r=p.size.width;e:do{if(null==r){i=0;break e}if(Ke.isNumber(r)){i=it(r);break e}if("string"==typeof r)try{i=Qe(r);break e}catch(e){if(Ke.isType(e,ta)){i=0;break e}throw e}i=0}while(0);var o,n=i,a=p.size.height;e:do{if(null==a){o=0;break e}if(Ke.isNumber(a)){o=it(a);break e}if("string"==typeof a)try{o=Qe(a);break e}catch(e){if(Ke.isType(e,ta)){o=0;break e}throw e}o=0}while(0);t=Qc(Di(0,0,n,o))}else{var s,l=p.size.width;e:do{if(null==l){s=0;break e}if(Ke.isNumber(l)){s=it(l);break e}if("string"==typeof l)try{s=Qe(l);break e}catch(e){if(Ke.isType(e,ta)){s=0;break e}throw e}s=0}while(0);var h,u=s,c=p.size.height;e:do{if(null==c){h=0;break e}if(Ke.isNumber(c)){h=it(c);break e}if("string"==typeof c)try{h=Qe(c);break e}catch(e){if(Ke.isType(e,ta)){h=0;break e}throw e}h=0}while(0);t=ed(Di(0,0,u,h))}t.adjustTileSize();var d=sv(Cc(t));return null!=(e=p.screen)&&e.presentView_xl35ob$(d),zf().SetString_sv46oe$(cp(),void 0,t.modeString),Lm().shared().decreaseStar_za3lpa$(t.needStar),Ze}))),Ze}}function Fv(n){return function(e,t,i){var r,o,p;return!0===n.exit||(null!=n.game?(n.game.stop(),null!=(r=n.screen)&&r.actionFadeOut_7vo5wp$(n.gameView,void 0,void 0,1,void 0,!0,void 0,Lv(n))):null!=(o=n.screen)&&o.actionDelay_ab0iom$(.5,void 0,(p=n,function(){var e,t;if(p.mode%2==0){var i,r=p.size.width;e:do{if(null==r){i=0;break e}if(Ke.isNumber(r)){i=it(r);break e}if("string"==typeof r)try{i=Qe(r);break e}catch(e){if(Ke.isType(e,ta)){i=0;break e}throw e}i=0}while(0);var o,n=i,a=p.size.height;e:do{if(null==a){o=0;break e}if(Ke.isNumber(a)){o=it(a);break e}if("string"==typeof a)try{o=Qe(a);break e}catch(e){if(Ke.isType(e,ta)){o=0;break e}throw e}o=0}while(0);t=Qc(Di(0,0,n,o))}else{var s,l=p.size.width;e:do{if(null==l){s=0;break e}if(Ke.isNumber(l)){s=it(l);break e}if("string"==typeof l)try{s=Qe(l);break e}catch(e){if(Ke.isType(e,ta)){s=0;break e}throw e}s=0}while(0);var h,u=s,c=p.size.height;e:do{if(null==c){h=0;break e}if(Ke.isNumber(c)){h=it(c);break e}if("string"==typeof c)try{h=Qe(c);break e}catch(e){if(Ke.isType(e,ta)){h=0;break e}throw e}h=0}while(0);t=ed(Di(0,0,u,h))}t.adjustTileSize();var d=sv(Cc(t));return null!=(e=p.screen)&&e.presentView_xl35ob$(d),zf().SetString_sv46oe$(cp(),void 0,t.modeString),Lm().shared().decreaseStar_za3lpa$(t.needStar),Ze})),n.exit=!0),null}}function Dv(t){return function(e){t.lastResult=e,t.scriptFire=!1}}function Vv(s){return function(e,t,i,r,o){var n,a;return null!=(n=s.screen)&&n.actionOnce_ab0iom$(i,void 0,(a=o,function(){return a(0),Ze})),new Le(!0,0)}}function Uv(a,s,l){return function(e,t,i,r,o){var n;return a.textArea.get_za3lpa$(s).clearText_gam257$(l,(n=o,function(){return n(0),Ze})),new Le(!0,0)}}function qv(h){return function(e,t,i,r,o){var n,a,s,l;return null!=(n=h.game)&&n.stop(),null!=(a=h.screen)&&a.actionFadeOut_7vo5wp$(h.gameView,void 0,void 0,h.fadeDuration,void 0,!0,void 0,(s=h,l=o,function(){var e;return null!=s.gameView&&(s.gameView.SetTimeToLive_mx4ult$(0),null!=(e=s.screen)&&e.removeTouchListener_61zpoe$("For Game"),null!=s.game&&s.game.deinitGame(),l(0)),Ze})),new Le(!0,0)}}function Hv(h,u,c){return function(e,t,i,r,o){var n,a,s,l;return h.createAction_xcdeti$("Wait Touch",void 0,void 0,void 0,u,void 0,void 0,(n=h,a={v:0},s=o,l=c,function(e){return 1===e.count?(a.v=Je(n.game).gameValue.clickCount,Je(n.game).lastIncrease=new Le(-1,-1),!0):0===e.elapsed?(s(Je(n.game).gameValue.clickCount-a.v|0),!1):!(Je(n.game).gameValue.clickCount>=(a.v+l|0)&&(s(Je(n.game).gameValue.clickCount-a.v|0),1))})),new Le(!0,0)}}function Wv(h,u,c){return function(e,t,i,r,o){var n,a,s,l;return h.createAction_xcdeti$("Wait Touch All",void 0,void 0,void 0,u,void 0,void 0,(n=h,a={v:0},s=o,l=c,function(e){return 1===e.count?(a.v=Je(n.game).gameValue.clickAllCount,Je(n.game).lastIncrease=new Le(-1,-1),!0):0===e.elapsed?(s(Je(n.game).gameValue.clickAllCount-a.v|0),!1):!(Je(n.game).gameValue.clickAllCount>=(a.v+l|0)&&(s(Je(n.game).gameValue.clickAllCount-a.v|0),1))})),new Le(!0,0)}}function Yv(s){return function(e,t,i,r,o){var n,a;return s.createAction_xcdeti$("Wait For Idle",void 0,void 0,void 0,void 0,void 0,void 0,(n=s,a=o,function(e){return!0!==Je(n.game).isIdle()||(a(0),!1)})),new Le(!0,0)}}function Xv(l,h,u){return function(e,t,i,r,o){var n,a,s;return l.createAction_xcdeti$("Wait Crush With Type",void 0,void 0,void 0,h,void 0,void 0,(n=l,a=u,s=o,function(e){var t,i=0;t=Je(n.game).gameValue.clearBlockType;for(var r=0;r!==t.length;++r){var o=t[r];if(a[r]>o)break;i=i+1|0}return 0===e.elapsed?(s(i),!1):i!==a.length||(s(i),!1)})),new Le(!0,0)}}function Kv(l,h,u){return function(e,t,i,r,o){var n,a,s;return l.createAction_xcdeti$("Wait Crush With Type",void 0,void 0,void 0,h,void 0,void 0,(n=l,a=u,s=o,function(e){var t;t=Je(n.game).gameValue.clearBlockType;for(var i=0;i!==t.length;++i)if(t[i]>=a[i])return s(i),!1;return 0!==e.elapsed||(s(-1),!1)})),new Le(!0,0)}}function Zv(h,u,c){return function(e,t,i,r,o){var n,a,s,l;return h.createAction_xcdeti$("Wait Idle",void 0,void 0,void 0,void 0,void 0,void 0,(n=h,a=u,s=c,l=o,function(e){return!0!==Je(n.game).isIdle()||(a===Je(n.game).lastIncrease.first&&s===Je(n.game).lastIncrease.second?l(0):l(1),!1)})),new Le(!0,0)}}function Qv(s){return function(e,t,i,r,o){var n,a;return s.createAction_xcdeti$("Wait Idle",void 0,void 0,void 0,void 0,void 0,void 0,(n=o,a=s,function(e){return n(Je(a.game).gameValue.clearBlockAmount),!1})),new Le(!0,0)}}function Jv(s){return function(e,t,i,r,o){var n,a;return s.createAction_xcdeti$("Wait Idle",void 0,void 0,void 0,void 0,void 0,void 0,(n=s,a=o,function(e){return!0!==Je(n.game).isIdle()||(Je(n.game).gameValue.clearBlockAmount=0,a(0),!1)})),new Le(!0,0)}}function eg(e,t){return $a(void 0,void 0,void 0,t=t||Object.create(Bv.prototype)),Bv.call(t),t.mode=e,t.SetName_61zpoe$("TutorialView"),t}Gm.prototype.prepareInAppPurchase_o14v8n$=function(e){},Gm.prototype.load=function(){this.loadStar(),this.loadExp()},Gm.prototype.loadStar=function(){ue(pl().GetConfigure_jyasbz$("Demo"),"true")?this.starAmount=1100:this.starAmount=zf().GetIntegerPermanent_pngao4$(Tm())},Gm.prototype.saveStar=function(){zf().SetIntegerPermanent_pngao4$(Tm(),void 0,this.starAmount)},Gm.prototype.GetStarAmount=function(){return this.starAmount},Gm.prototype.addStar_za3lpa$=function(e){this.starAmount=this.starAmount+e|0,this.starAmount<0&&(this.starAmount=0),this.saveStar()},Gm.prototype.decreaseStar_za3lpa$=function(e){this.starAmount=this.starAmount-e|0,this.starAmount<0&&(this.starAmount=0),this.saveStar()},Gm.prototype.loadExp=function(){this.exp=zf().GetIntegerPermanent_pngao4$(Am())},Gm.prototype.saveExp=function(){zf().SetIntegerPermanent_pngao4$(Am(),void 0,this.exp)},Gm.prototype.GetExp=function(){return this.exp},Gm.prototype.addExp_za3lpa$=function(e){this.exp=this.exp+e|0,this.exp<0&&(this.exp=0),this.saveExp()},Gm.$metadata$={kind:o,simpleName:"StoreManager",interfaces:[]},Object.defineProperty(Fm.prototype,"menu",{get:function(){return null==this.menu_z3bng4$_0?T("menu"):this.menu_z3bng4$_0},set:function(e){this.menu_z3bng4$_0=e}}),Object.defineProperty(Fm.prototype,"particleManagerForFairy",{get:function(){return null==this.particleManagerForFairy_bo91vu$_0?T("particleManagerForFairy"):this.particleManagerForFairy_bo91vu$_0},set:function(e){this.particleManagerForFairy_bo91vu$_0=e}}),Fm.prototype.afterAttached=function(){var e,t,i;Ie().shared().SetBackgroundColor_qt1dr2$(28,28,28),null!=(e=this.screen)&&(e.isDrawTouchMark=!0),this.SetChildVerticalAlign_qn2em6$(ro()),this.SetChildHorizontalAlign_jdpdm8$(lo());var r,o=Sn().value;e:do{if(null==o){r=0;break e}if(Ke.isNumber(o)){r=it(o);break e}if("string"==typeof o)try{r=Qe(o);break e}catch(e){if(Ke.isType(e,ta)){r=0;break e}throw e}r=0}while(0);this.createSprite_591x4d$(160,240,r,"Resource/UI/Background",320,480,void 0,void 0,!1);var n,a=hm().shared().GetItemListByCategory_lssvdg$(Vf()),s=ol(2*a.size|0);n=s.length-1|0;for(var l=0;l<=n;l++)s[l]=null;for(var h=s,u=0,c=a.iterator();c.hasNext();++u){var d,p,f=c.next(),m=Ke.isType(d=f,Jf)?d:null;if(null!=m){var v,g="";for(p=m.GetAbilityList().entries.iterator();p.hasNext();){var _=p.next();_.key;g+=As(_.value.second)+"\n"}if(!0===pl().isWatchOS())v=["[COLOR]"+As(m.description)+"[SCALE][COLOR]\n\n[COLOR yellow]"+g+"[COLOR]","[COLOR]"+As(m.description)+"[SCALE][COLOR]\n\n[COLOR yellow]"+g+"[COLOR]"];else{var y="";if(m.GetPrice_61zpoe$("Star")>Lm().shared().GetStarAmount()){var $,b="[COLOR]"+As(m.description)+"[SCALE][COLOR]\n\n[COLOR yellow]"+g+"[COLOR]\n[image Resource/UI/IconStar 15] [Scale 0.5]X [SCALE 0.6]",S=m.GetPrice_61zpoe$("Star");e:do{if(Ke.isNumber(S)){$=S.toString();break e}if("string"==typeof S){$=S;break e}if("boolean"==typeof S){$=S.toString();break e}if(Ke.isChar(S)){$=S.toString();break e}$=""}while(0);var k,w=b+$+"\n[Button Resource/UI/IconLockDisabled 50 ";e:do{if(Ke.isNumber(u)){k=u.toString();break e}if("string"==typeof u){k=u;break e}if("boolean"==typeof u){k=u.toString();break e}if(Ke.isChar(u)){k=u.toString();break e}k=""}while(0);y=w+k+" false]"}else{var x,C="[COLOR]"+As(m.description)+"[SCALE][COLOR]\n\n[COLOR yellow]"+g+"[COLOR]\n[image Resource/UI/IconStar 15] [Scale 0.5]X [SCALE 0.6]",z=m.GetPrice_61zpoe$("Star");e:do{if(Ke.isNumber(z)){x=z.toString();break e}if("string"==typeof z){x=z;break e}if("boolean"==typeof z){x=z.toString();break e}if(Ke.isChar(z)){x=z.toString();break e}x=""}while(0);var T,A=C+x+"\n[Button Resource/UI/IconLock 50 ";e:do{if(Ke.isNumber(u)){T=u.toString();break e}if("string"==typeof u){T=u;break e}if("boolean"==typeof u){T=u.toString();break e}if(Ke.isChar(u)){T=u.toString();break e}T=""}while(0);y=A+T+"]"}v=["[COLOR]"+As(m.description)+"[SCALE][COLOR]\n\n[COLOR yellow]"+g+"[COLOR]",y]}var G=wv(m.resource+"IconMenu",void 0,v,$v(),void 0,void 0,this.menuCallback);G.enable=!0,0===m.amount&&(G.enable=!1),h[u]=G,this.blockId[u]=m.id}}var I=60,N=40,O=40;!0===pl().isWatchOS()&&(I=100,N=90,O=20);var M,R=this.GetSize(),P=a.size;e:do{if(null==P){M=0;break e}if(Ke.isNumber(P)){M=it(P);break e}if("string"==typeof P)try{M=Qe(P);break e}catch(e){if(Ke.isType(e,ta)){M=0;break e}throw e}M=0}while(0);this.menu=Nv(this,R,ji(M,1),I,void 0,h,null,As("MENU_12")),this.menu.prepare_1isvtk$(O,10,20,void 0,20);var j=za().shared().GetCurrentBlockSetId();t=this.blockId;for(var B=0;B!==t.length;++B){var E=t[B];if(ue(E,j)){this.menu.SetCurrent_za3lpa$(B);break}}var L={v:20},F=24;!0===pl().isWatchOS()&&(L.v=40,F=32),this.SetFontName_61zpoe$("Number/"),this.SetFontSize_mx4ult$(F),this.SetChildVerticalAlign_qn2em6$(io()),this.SetChildHorizontalAlign_jdpdm8$(ho());var D=this.createTextArea_pvsv9g$(310,5,void 0,320,0,0,.5,1);D.SetTextHorizontalAlign_jdpdm8$(ho()),D.SetTextVerticalAlign_qn2em6$(io());var V,U=L.v;e:do{if(Ke.isNumber(U)){V=U.toString();break e}if("string"==typeof U){V=U;break e}if("boolean"==typeof U){V=U.toString();break e}if(Ke.isChar(U)){V=U.toString();break e}V=""}while(0);if(D.addText_r4v59z$("[image Resource/UI/IconStar "+V+"] "+Is(Lm().shared().GetStarAmount())),D.SetName_61zpoe$("Star Amount"),!0===pl().isWatchOS()){var q={v:Lm().shared().GetStarAmount()};this.createAction_xcdeti$("Sync Watchdog",void 0,void 0,void 0,void 0,.5,void 0,Dm(q,D,L))}var H=Nv(this,this.GetSize(),ji(2,1),N,void 0,[wv("Resource/UI/IconBack",void 0,void 0,void 0,void 0,void 0,this.menuBackCallback),null]);!0===pl().isWatchOS()?H.prepare_1isvtk$(160,150):H.prepare_1isvtk$(200,150),this.particleManagerForFairy=cn(this),this.createBackgroundEffect_v32r7z$(this.particleManagerForFairy,Di(0,0,320,480)),null!=(i=this.screen)&&i.addKeydownListener_5ol7k9$("Back Key",Vm(this))},Fm.prototype.beforeDetached=function(){this.particleManagerForFairy.clearParticlePool()},Fm.prototype.update_mx4ult$=function(e){null!=this.particleManagerForFairy&&(this.particleManagerForFairy.updateObject_mx4ult$(e),this.particleManagerForFairy.projection_1s1xds$(this.size,Gi(0,0*this.sizeScale.yRatio,1e3))),ya.prototype.update_mx4ult$.call(this,e)},Fm.prototype.createBackgroundEffect_v32r7z$=function(e,t,i){var r;void 0===i&&(i=30);var o=zf().GetInteger_hh7mhe$(vp(),void 0,1);if(!(o<1)){var n=ko(20,Gi(0,0,-100),Gi(0,0,0),Gi(0,0,0),90,1600,200,50);e.SetCamera_s6wt6e$(n);var a,s=200*pl().GetPerformance();e:do{if(null==s){a=0;break e}if(Ke.isNumber(s)){a=et(s);break e}if("string"==typeof s)try{a=tt(s);break e}catch(e){if(Ke.isType(e,ta)){a=0;break e}throw e}a=0}while(0);e.SetMaxParticle_za3lpa$(a),n.projection=1,e.SetCamera_s6wt6e$(n);var N,O,M,R,k,w,l=.1;o<2&&(l=.2),this.createAction_xcdeti$("Background Effect",!0,!1,!0,void 0,l,void 0,(N=e,O=i,M=t,R=this,function(e){if(N.GetCurrentParticleCount()>O)return!0;var t,i=M.x,r=go(),o=M.width;e:do{if(null==o){t=0;break e}if(Ke.isNumber(o)){t=et(o);break e}if("string"==typeof o)try{t=tt(o);break e}catch(e){if(Ke.isType(e,ta)){t=0;break e}throw e}t=0}while(0);var n,a=r.arc4random_uniform_za3lpa$(t);e:do{if(null==a){n=0;break e}if(Ke.isNumber(a)){n=it(a);break e}if("string"==typeof a)try{n=Qe(a);break e}catch(e){if(Ke.isType(e,ta)){n=0;break e}throw e}n=0}while(0);var s,l=i+n,h=M.y,u=go(),c=M.height;e:do{if(null==c){s=0;break e}if(Ke.isNumber(c)){s=et(c);break e}if("string"==typeof c)try{s=tt(c);break e}catch(e){if(Ke.isType(e,ta)){s=0;break e}throw e}s=0}while(0);var d,p=u.arc4random_uniform_za3lpa$(s);e:do{if(null==p){d=0;break e}if(Ke.isNumber(p)){d=it(p);break e}if("string"==typeof p)try{d=Qe(p);break e}catch(e){if(Ke.isType(e,ta)){d=0;break e}throw e}d=0}while(0);var f=h+d,m=R.positionUniversalToDevice_xpb3zu$(l,f),v=!(m.z=100),g=ui().white_mx4ult$(1),_=go().arc4random_uniform_za3lpa$(100);_<70&&(v=!0),_<5?g=ui().puzzleYellow_mx4ult$(1):_<6?g=ui().puzzleBlue_mx4ult$(1):_<7?g=ui().puzzleRed_mx4ult$(1):_<8?g=ui().puzzlePurple_mx4ult$(1):_<10&&(g=ui().puzzleOrange_mx4ult$(1));var y,$=N,b=5*R.sizeScale.xRatio,S=200*R.sizeScale.xRatio,k=go().arc4random_uniform_za3lpa$(100);e:do{if(null==k){y=0;break e}if(Ke.isNumber(k)){y=it(k);break e}if("string"==typeof k)try{y=Qe(k);break e}catch(e){if(Ke.isType(e,ta)){y=0;break e}throw e}y=0}while(0);var w,x=3+y/100,C=g,z=Gi(5,5,-50),T=Gi(40*R.sizeScale.xRatio,40*R.sizeScale.xRatio,50),A=200*R.sizeScale.xRatio,G=v,I=wn().value;e:do{if(null==I){w=0;break e}if(Ke.isNumber(I)){w=it(I);break e}if("string"==typeof I)try{w=Qe(I);break e}catch(e){if(Ke.isType(e,ta)){w=0;break e}throw e}w=0}while(0);return $.createFairy2_emwd81$(m,b,S,x,"Resource/UI/ParticleFairy",C,z,T,A,!0,G,w,R),!0})),null!=(r=this.screen)&&r.addTouchListener_dal58m$(new Ct("Touch For Fairy",0,0,this.GetSize().width,this.GetSize().height,void 0,(k=e,w=this,function(e,t,i,r,o){var n,a;switch(r.name){case"began":for(n=k.GetObjectList().iterator();n.hasNext();){var s=n.next(),l=Gi(s.screenPosition.x-e.x,s.screenPosition.y-e.y),h=l.length2D();if(h<100*w.sizeScale.xRatio){var u=1e3*w.sizeScale.xRatio-2*h;l.normalize();var c=s.movement,d=s.movement.x;c.x=Yt.abs(d)*l.normalX;var p=s.movement,f=s.movement.y;p.y=Yt.abs(f)*l.normalY,s.accel.x=u*l.normalX,s.accel.y=u*l.normalY,s.accelRetain.x=.1,s.accelRetain.y=.1,s.drag.x=50*w.sizeScale.xRatio,s.drag.y=50*w.sizeScale.xRatio}}break;case"moved":for(a=k.GetObjectList().iterator();a.hasNext();){var m=a.next(),v=Gi(m.screenPosition.x-e.x,m.screenPosition.y-e.y),g=v.length2D();if(g<100*w.sizeScale.xRatio){var _=1e3*w.sizeScale.xRatio-2*g;v.normalize();var y=m.movement,$=m.movement.x;y.x=Yt.abs($)*v.normalX;var b=m.movement,S=m.movement.y;b.y=Yt.abs(S)*v.normalY,m.accel.x=_*v.normalX,m.accel.y=_*v.normalY,m.accelRetain.x=.1,m.accelRetain.y=.1,m.drag.x=50*w.sizeScale.xRatio,m.drag.y=50*w.sizeScale.xRatio}}}})))}},Fm.$metadata$={kind:o,simpleName:"BlockTypeView",interfaces:[ya]},Object.defineProperty(qm.prototype,"game",{get:function(){return null==this.game_lsce3y$_0?T("game"):this.game_lsce3y$_0},set:function(e){this.game_lsce3y$_0=e}}),Object.defineProperty(qm.prototype,"particleManager",{get:function(){return null==this.particleManager_66rxx3$_0?T("particleManager"):this.particleManager_66rxx3$_0},set:function(e){this.particleManager_66rxx3$_0=e}}),Object.defineProperty(qm.prototype,"currentCamera",{get:function(){return null==this.currentCamera_8wat6a$_0?T("currentCamera"):this.currentCamera_8wat6a$_0},set:function(e){this.currentCamera_8wat6a$_0=e}}),Object.defineProperty(qm.prototype,"fireworkManager",{get:function(){return null==this.fireworkManager_x19jg6$_0?T("fireworkManager"):this.fireworkManager_x19jg6$_0},set:function(e){this.fireworkManager_x19jg6$_0=e}}),qm.prototype.afterAttached=function(){if(this.particleManager=cn(this),ue(pl().GetConfigure_jyasbz$("AppLovin"),"true")){pl().SetInteger_bm4lxs$("PreventAds",0);var t,e=pl().GetDouble_io5o9c$("PlayingTimeForAds",0);e:do{if(null==e){t=0;break e}if(Ke.isNumber(e)){t=it(e);break e}if("string"==typeof e)try{t=Qe(e);break e}catch(e){if(Ke.isType(e,ta)){t=0;break e}throw e}t=0}while(0);var i=t+this.game.gameValue.playingTime;pl().SetDouble_io5o9c$("PlayingTimeForAds",i);var r=pl().GetInteger_bm4lxs$("PlayingCountForAds",0)+1|0;pl().SetInteger_bm4lxs$("PlayingCountForAds",r);var o,n=!1;(4<=r||3<=r&&60<i||2<=r&&90<i)&&(n=!0),!0===n?(pl().SetInteger_bm4lxs$("AdsShowing",1),!1===za().shared().showInterstitial_y8twos$((o=this,function(e){o.drawScreen()}))?this.drawScreen():(pl().SetDouble_io5o9c$("PlayingTimeForAds",0),pl().SetInteger_bm4lxs$("PlayingCountForAds",0))):this.drawScreen()}else this.drawScreen()},qm.prototype.drawScreen=function(){var e;this.bannerOffset=0,ue(pl().GetConfigure_jyasbz$("Demo"),"true")&&(this.bannerOffset=0),Ie().shared().SetTitle_61zpoe$(""),Ie().shared().changeFPS_za3lpa$(30),Ie().shared().SetBackgroundColor_qt1dr2$(28,28,28),null!=(e=this.screen)&&(e.isDrawTouchMark=!0),this.SetChildVerticalAlign_qn2em6$(ro()),this.SetChildHorizontalAlign_jdpdm8$(lo());var t,i=Sn().value;e:do{if(null==i){t=0;break e}if(Ke.isNumber(i)){t=it(i);break e}if("string"==typeof i)try{t=Qe(i);break e}catch(e){if(Ke.isType(e,ta)){t=0;break e}throw e}t=0}while(0);if(this.createSprite_591x4d$(160,240,t,"Resource/UI/Background",320,480,void 0,void 0,!1),this.currentCamera=bo().copy_s6wt6e$(this.cameraPreset[0]),this.gameScore=this.game.gameValue.score,this.game.gameValue.playingTime<this.game.gameConfigure.minimumSecondsForSPS&&(this.game.gameValue.playingTime=this.game.gameConfigure.minimumSecondsForSPS),0<this.game.gameValue.playingTime&&0<this.game.gameValue.score){var r,o=this.game.gameValue.score,n=this.game.gameValue.playingTime;e:do{if(null==n){r=0;break e}if(Ke.isNumber(n)){r=it(n);break e}if("string"==typeof n)try{r=Qe(n);break e}catch(e){if(Ke.isType(e,ta)){r=0;break e}throw e}r=0}while(0);var a,s=o/r;e:do{if(null==s){a=0;break e}if(Ke.isNumber(s)){a=et(s);break e}if("string"==typeof s)try{a=tt(s);break e}catch(e){if(Ke.isType(e,ta)){a=0;break e}throw e}a=0}while(0);this.scorePerSecond=a}else this.scorePerSecond=0;var l=5e3*this.game.gameValue.clearedObstacleSum|0;if(!0===this.game.gameConfigure.checkPerfectPlay&&!0===this.game.gameValue.perfectPlay){var h,u=this.gameScore;e:do{if(null==u){h=0;break e}if(Ke.isNumber(u)){h=it(u);break e}if("string"==typeof u)try{h=Qe(u);break e}catch(e){if(Ke.isType(e,ta)){h=0;break e}throw e}h=0}while(0);var c,d=.2*h;e:do{if(null==d){c=0;break e}if(Ke.isNumber(d)){c=et(d);break e}if("string"==typeof d)try{c=tt(d);break e}catch(e){if(Ke.isType(e,ta)){c=0;break e}throw e}c=0}while(0);this.bonusScore=c,this.game.gameValue.score=this.gameScore+this.bonusScore|0,this.perfectPlay=!0,this.currentCamera=bo().copy_s6wt6e$(this.cameraPreset[1])}else this.game.GetPlayerRecord().GetHighScore()<(this.game.gameValue.score+l|0)&&(this.newRecord=!0,this.currentCamera=bo().copy_s6wt6e$(this.cameraPreset[1]));this.createMainScore(),this.particleManager.SetCamera_s6wt6e$(this.currentCamera);var p,f=pl().GetPerformance(),m=this.particleManager,v=200*f;e:do{if(null==v){p=0;break e}if(Ke.isNumber(v)){p=et(v);break e}if("string"==typeof v)try{p=tt(v);break e}catch(e){if(Ke.isType(e,ta)){p=0;break e}throw e}p=0}while(0);m.SetMaxParticle_za3lpa$(p),this.fireworkManager=Us(this.particleManager),this.SetChildVerticalAlign_qn2em6$(ro());var g={v:20},_=24;!0===pl().isWatchOS()&&(g.v=40,_=32),this.SetFontName_61zpoe$("Number/"),this.SetFontSize_mx4ult$(_),this.SetChildVerticalAlign_qn2em6$(io()),this.SetChildHorizontalAlign_jdpdm8$(ho());var y=this.createTextArea_pvsv9g$(310,5+this.bannerOffset,void 0,320,0,0,.5,1);y.SetTextHorizontalAlign_jdpdm8$(ho()),y.SetTextVerticalAlign_qn2em6$(io());var $,b=g.v;e:do{if(Ke.isNumber(b)){$=b.toString();break e}if("string"==typeof b){$=b;break e}if("boolean"==typeof b){$=b.toString();break e}if(Ke.isChar(b)){$=b.toString();break e}$=""}while(0);if(y.addText_r4v59z$("[image Resource/UI/IconStar "+$+"] "+Is(Lm().shared().GetStarAmount())),!0===pl().isWatchOS()){var S={v:Lm().shared().GetStarAmount()};this.createAction_xcdeti$("Sync Watchdog",void 0,void 0,void 0,void 0,.5,void 0,Hm(S,y,g))}switch(this.SetChildVerticalAlign_qn2em6$(io()),this.SetChildHorizontalAlign_jdpdm8$(so()),zf().GetString_sv46oe$(cp(),void 0,"Beginner")){case"Beginner":this.createSprite_9wuqyc$(5,5+this.bannerOffset,void 0,"Resource/UI/IconBeginner",50);break;case"Classic":this.createSprite_9wuqyc$(5,5+this.bannerOffset,void 0,"Resource/UI/IconClassic",50);break;case"Timeless":this.createSprite_9wuqyc$(5,5+this.bannerOffset,void 0,"Resource/UI/IconInfection",50);break;case"Beginner6x6":this.createSprite_9wuqyc$(5,5+this.bannerOffset,void 0,"Resource/UI/IconBeginner6x6",50);break;case"Classic6x6":this.createSprite_9wuqyc$(5,5+this.bannerOffset,void 0,"Resource/UI/IconClassic6x6",50);break;case"Timeless6x6":this.createSprite_9wuqyc$(5,5+this.bannerOffset,void 0,"Resource/UI/IconInfection6x6",50)}!0===za().shared().isDesktop()&&(ue(zf().GetString_6hosri$("platform"),"twitch")||this.showPromotionMenu());var k=zf().GetInteger_hh7mhe$(np(),void 0,0);zf().SetInteger_hh7mhe$(np(),void 0,k+1|0)},qm.prototype.beforeDetached=function(){var e;null!=(e=this.screen)&&e.removeAction_81ngrp$("Firework Effect"),this.particleManager.clearParticlePool()},qm.prototype.update_mx4ult$=function(e){this.particleManager.updateObject_mx4ult$(e),this.particleManager.projection_1s1xds$(this.size,Gi(0,0*this.sizeScale.yRatio)),ya.prototype.update_mx4ult$.call(this,e)},qm.prototype.resume=function(){ya.prototype.resume.call(this),ue(pl().GetConfigure_jyasbz$("AppLovin"),"true")&&0===pl().GetInteger_bm4lxs$("PreventAds",0)&&(0===pl().GetInteger_bm4lxs$("AdsShowing")?(pl().SetInteger_bm4lxs$("AdsShowing",1),za().shared().showInterstitial_y8twos$(Wm)):pl().SetInteger_bm4lxs$("AdsShowing",0))},qm.prototype.showPromotionMenu=function(){this.SetChildHorizontalAlign_jdpdm8$(so()),this.createButton_ix8ej2$(40,340,Fn().value,void 0,void 0,100,-1,void 0,["Resource/UI/AppStoreBadge"],void 0,void 0,void 0,!0,Ym),this.SetChildHorizontalAlign_jdpdm8$(ho()),this.createButton_ix8ej2$(280,340,Fn().value,void 0,void 0,100,-1,void 0,["Resource/UI/google-play-badge"],void 0,void 0,void 0,!0,Xm)},qm.prototype.createMainScore=function(){this.SetFontName_61zpoe$(),this.SetFontSize_mx4ult$(24),this.SetFontHorizontalAlign_jdpdm8$(lo()),this.SetFontVerticalAlign_qn2em6$(ro());var e=new dn;this.createAction_xcdeti$("Main Score",void 0,void 0,void 0,void 0,void 0,void 0,Km(this,{v:50},{v:null},{v:0},e,{v:0}))},qm.prototype.processGhost=function(){this.SetFontSize_mx4ult$(30),this.SetFontName_61zpoe$("Number/");var e=this.createTextArea_pvsv9g$(160,80+this.heightOffset1+this.bannerOffset,Fn(),0,0,void 0,.5);e.SetVerticalAlign_qn2em6$(ro()),e.SetHorizontalAlign_jdpdm8$(lo()),zf().GetInteger_hh7mhe$(ap())<this.game.gameValue.clearedObstacleSum&&zf().SetInteger_hh7mhe$(ap(),void 0,this.game.gameValue.clearedObstacleSum);var t=5e3*this.game.gameValue.clearedObstacleSum|0;e.addText_r4v59z$("[Image Ghost_white 55][Scale 0.6]X[Scale] [Color 35BEC1]"+Is(this.game.gameValue.clearedObstacleSum)+"[Color] = [Color 35BEC1]"+Is(t),void 0,Zm(this,t)),e.SetTextHorizontalAlign_jdpdm8$(lo())},qm.prototype.processStar=function(){var e=30;!0===pl().isWatchOS()&&(e=40),this.SetFontSize_mx4ult$(e),this.SetFontName_61zpoe$("Number/");var t,i=this.createTextArea_pvsv9g$(160,115+this.heightOffset1+this.bannerOffset,Fn(),0,0,void 0,.5),r=this.game.gameValue.earnedStar;e:do{if(Ke.isNumber(r)){t=r.toString();break e}if("string"==typeof r){t=r;break e}if("boolean"==typeof r){t=r.toString();break e}if(Ke.isChar(r)){t=r.toString();break e}t=""}while(0);i.addText_r4v59z$("[Image Resource/UI/IconStar 35] [Scale 0.6]X[Scale] "+t,.5,Qm(this)),i.SetTextHorizontalAlign_jdpdm8$(lo())},qm.prototype.showRecord=function(){var e=15;!0===pl().isWatchOS()?(this.SetFontSize_mx4ult$(40),e=30):this.SetFontSize_mx4ult$(16),this.SetChildVerticalAlign_qn2em6$(ro()),this.SetChildHorizontalAlign_jdpdm8$(lo()),this.SetFontName_61zpoe$("MENU_/");var t=this.createTextArea_pvsv9g$(160,160+this.heightOffset1+this.bannerOffset,Fn(),0,0);t.addText_r4v59z$("[Font]"+As("MENU_30")+": [Font Number/][Color yellow]"+Is(this.game.GetPlayerRecord().GetHighScore())),t.SetTextHorizontalAlign_jdpdm8$(lo()),t.SetName_61zpoe$("High Score Line");var i=this.createTextArea_pvsv9g$(160,160+e+this.heightOffset1+this.bannerOffset,Fn(),0,0);this.game.GetPlayerRecord().GetMaxCombo()<this.game.gameValue.maxComboOnGame?(this.game.GetPlayerRecord().SetMaxCombo_za3lpa$(this.game.gameValue.maxComboOnGame),this.game.GetPlayerRecord().SaveMaxCombo_3uxocb$(null),i.addText_r4v59z$("[Font]"+As("MENU_31")+": [Font Number/][Color yellow]"+Is(this.game.gameValue.maxComboOnGame)+" [Font]("+As("MENU_32")+")")):i.addText_r4v59z$("[Font]"+As("MENU_31")+": [Font Number/]"+Is(this.game.gameValue.maxComboOnGame)+" [Font][Color yellow]("+As("MENU_33")+" [Font Number/]"+Is(this.game.GetPlayerRecord().GetMaxCombo())+")"),i.SetTextHorizontalAlign_jdpdm8$(lo());var r=this.createTextArea_pvsv9g$(160,160+2*e+this.heightOffset1+this.bannerOffset,Fn(),0,0);if(this.game.GetPlayerRecord().GetMaxFever()<this.game.gameValue.maxFeverOnGame?(this.game.GetPlayerRecord().SetMaxFever_za3lpa$(this.game.gameValue.maxFeverOnGame),this.game.GetPlayerRecord().SaveMaxFever_3uxocb$(null),r.addText_r4v59z$("[Font]"+As("MENU_34")+": [Font Number/][Color yellow]"+Is(this.game.gameValue.maxFeverOnGame)+" [Font]("+As("MENU_35")+")")):r.addText_r4v59z$("[Font]"+As("MENU_34")+": [Font Number/]"+Is(this.game.gameValue.maxFeverOnGame)+" [Font][Color yellow]("+As("MENU_36")+" [Font Number/]"+Is(this.game.GetPlayerRecord().GetMaxFever())+")"),r.SetTextHorizontalAlign_jdpdm8$(lo()),!0===this.game.gameConfigure.showSPS){var o=this.createTextArea_pvsv9g$(160,3*e+160+this.heightOffset1+this.bannerOffset,Fn(),0,0);this.game.GetPlayerRecord().GetMaxSPS()<this.scorePerSecond?(this.game.GetPlayerRecord().SetMaxSPS_za3lpa$(this.scorePerSecond),this.game.GetPlayerRecord().SaveMaxSPS_3uxocb$(null),o.addText_r4v59z$("[Font]"+As("MENU_23")+": [Font Number/][Color yellow]"+Is(this.scorePerSecond)+" [Font]("+As("MENU_35")+")")):o.addText_r4v59z$("[Font]"+As("MENU_23")+": [Font Number/]"+Is(this.scorePerSecond)+" [Font][Color yellow]("+As("MENU_36")+" [Font Number/]"+Is(this.game.GetPlayerRecord().GetMaxSPS())+")"),o.SetTextHorizontalAlign_jdpdm8$(lo())}if(ue(pl().GetConfigure_jyasbz$("Demo"),"true")){var n=zf().GetInteger_hh7mhe$(np(),void 0,1),a=this.createTextArea_pvsv9g$(160,4*e+160+this.heightOffset1+this.bannerOffset,Fn(),0,0);a.addText_r4v59z$("[Font]Count: [Font Number/]"+Is(n)),a.SetTextHorizontalAlign_jdpdm8$(lo())}var s,l=this.createTextArea_pvsv9g$(160,160+5*e+this.heightOffset1+this.bannerOffset,Fn(),0,0),h=this.game.gameValue.earnedStar;e:do{if(Ke.isNumber(h)){s=h.toString();break e}if("string"==typeof h){s=h;break e}if("boolean"==typeof h){s=h.toString();break e}if(Ke.isChar(h)){s=h.toString();break e}s=""}while(0);l.addText_r4v59z$("[Image Resource/UI/IconStar 25] X [Scale 1.5][Font Number/][Color 35BEC1]"+s),l.SetTextHorizontalAlign_jdpdm8$(lo())},qm.prototype.showMenu=function(){var e,t,r,i=50,o=180,n=20,a=wv("Resource/UI/IconRestart",void 0,void 0,void 0,void 0,void 0,this.menuItem),s=wv("Resource/UI/IconHome",void 0,void 0,void 0,void 0,void 0,this.menuItem),l=null,h=this.game.gameConfigure.needStar;0<h&&(a.title="[font Number/][Image Resource/UI/IconStar 12] [Scale 0.5]X[Scale 0.8] "+h.toString()),!0===pl().isWatchOS()?(i=100,o=170,n=0):!1===za().shared().isDesktop()&&(l=wv("Resource/UI/IconShare",void 0,void 0,void 0,void 0,void 0,this.menuItem)),this.menu=Nv(this,this.GetSize(),ji(3,1),i,void 0,[a,l,s]),null!=(e=this.menu)&&e.prepare_1isvtk$(o,n),this.SetPlayButton(),null!=(t=this.screen)&&t.addKeydownListener_5ol7k9$("Back Key",(r=this,function(e){var t,i;return e===Bt().ESCAPE||e===Bt().BACK?(null!=(t=r.menu)&&t.click_za3lpa$(2),!0):(e===Bt().ENTER&&null!=(i=r.menu)&&i.click_za3lpa$(0),!1)}))},qm.prototype.SetPlayButton=function(){var e,t;Lm().shared().GetStarAmount()<this.game.gameConfigure.needStar?null!=(e=this.menu)&&e.SetEnable_fzusl$(0,!1):null!=(t=this.menu)&&t.SetEnable_fzusl$(0,!0)},qm.prototype.hideButton=function(){var e;null!=(e=this.menu)&&e.hide()},qm.prototype.showButton=function(){var e;null!=(e=this.menu)&&e.show()},qm.prototype.checkAchievementComplete=function(){50<=this.game.gameValue.clearedObstacleSum&&km().shared().SetPercentComplete_gspc9z$(nf(),100),100<=this.game.gameValue.clearedObstacleSum&&km().shared().SetPercentComplete_gspc9z$(af(),100),150<=this.game.gameValue.clearedObstacleSum&&km().shared().SetPercentComplete_gspc9z$(sf(),100),200<=this.game.gameValue.clearedObstacleSum&&km().shared().SetPercentComplete_gspc9z$(lf(),100),ue(this.game.gameConfigure.modeString,"Beginner")?(5<=this.game.gameValue.maxComboOnGame&&km().shared().SetPercentComplete_gspc9z$(Sp(),100),10<=this.game.gameValue.maxComboOnGame&&km().shared().SetPercentComplete_gspc9z$(kp(),100),20<=this.game.gameValue.maxComboOnGame&&km().shared().SetPercentComplete_gspc9z$(wp(),100),50<=this.game.gameValue.maxComboOnGame&&km().shared().SetPercentComplete_gspc9z$(xp(),100),100<=this.game.gameValue.maxComboOnGame&&km().shared().SetPercentComplete_gspc9z$(Cp(),100),150<=this.game.gameValue.maxComboOnGame&&km().shared().SetPercentComplete_gspc9z$(zp(),100),5e4<=this.game.gameValue.score&&km().shared().SetPercentComplete_gspc9z$(Tp(),100),1e5<=this.game.gameValue.score&&km().shared().SetPercentComplete_gspc9z$(Ap(),100),2e5<=this.game.gameValue.score&&km().shared().SetPercentComplete_gspc9z$(Gp(),100),1e6<=this.game.gameValue.score&&km().shared().SetPercentComplete_gspc9z$(Ip(),100),2e6<=this.game.gameValue.score&&km().shared().SetPercentComplete_gspc9z$(Np(),100),3e6<=this.game.gameValue.score&&km().shared().SetPercentComplete_gspc9z$(Op(),100),1<=this.game.gameValue.maxFeverOnGame&&km().shared().SetPercentComplete_gspc9z$(Mp(),100),3<=this.game.gameValue.maxFeverOnGame&&km().shared().SetPercentComplete_gspc9z$(Rp(),100),5<=this.game.gameValue.maxFeverOnGame&&km().shared().SetPercentComplete_gspc9z$(Pp(),100),10<=this.game.gameValue.maxFeverOnGame&&km().shared().SetPercentComplete_gspc9z$(jp(),100),1<=this.game.gameValue.clearBlockCount[9]&&km().shared().SetPercentComplete_gspc9z$(Bp(),100)):ue(this.game.gameConfigure.modeString,"Classic")?(10<=this.game.gameValue.maxComboOnGame&&km().shared().SetPercentComplete_gspc9z$(Ep(),100),30<=this.game.gameValue.maxComboOnGame&&km().shared().SetPercentComplete_gspc9z$(Lp(),100),1<=this.game.gameValue.maxFeverOnGame&&km().shared().SetPercentComplete_gspc9z$(Fp(),100),5<=this.game.gameValue.maxFeverOnGame&&km().shared().SetPercentComplete_gspc9z$(Dp(),100),1e5<=this.game.gameValue.score&&km().shared().SetPercentComplete_gspc9z$(Vp(),100),3e5<=this.game.gameValue.score&&km().shared().SetPercentComplete_gspc9z$(Up(),100),15e5<=this.game.gameValue.score&&km().shared().SetPercentComplete_gspc9z$(qp(),100),1<=this.game.gameValue.clearBlockCount[9]&&km().shared().SetPercentComplete_gspc9z$(Hp(),100)):ue(this.game.gameConfigure.modeString,"Timeless")?(50<=this.game.gameValue.maxComboOnGame&&km().shared().SetPercentComplete_gspc9z$(Yp(),100),80<=this.game.gameValue.maxComboOnGame&&km().shared().SetPercentComplete_gspc9z$(Xp(),100),100<=this.game.gameValue.maxComboOnGame&&km().shared().SetPercentComplete_gspc9z$(Kp(),100),10<=this.game.gameValue.maxFeverOnGame&&km().shared().SetPercentComplete_gspc9z$(Zp(),100),1e6<=this.game.gameValue.score&&km().shared().SetPercentComplete_gspc9z$(Qp(),100),2e6<=this.game.gameValue.score&&km().shared().SetPercentComplete_gspc9z$(Jp(),100)):ue(this.game.gameConfigure.modeString,"Hardcore")?(60<=this.game.gameValue.maxComboOnGame&&km().shared().SetPercentComplete_gspc9z$(tf(),100),10<=this.game.gameValue.maxFeverOnGame&&km().shared().SetPercentComplete_gspc9z$(rf(),100),1e6<=this.game.gameValue.score&&km().shared().SetPercentComplete_gspc9z$(of(),100)):ue(this.game.gameConfigure.modeString,"Beginner6x6")?(30<=this.game.gameValue.maxComboOnGame&&km().shared().SetPercentComplete_gspc9z$(hf(),100),50<=this.game.gameValue.maxComboOnGame&&km().shared().SetPercentComplete_gspc9z$(uf(),100),100<=this.game.gameValue.maxComboOnGame&&km().shared().SetPercentComplete_gspc9z$(cf(),100),5e5<=this.game.gameValue.score&&km().shared().SetPercentComplete_gspc9z$(df(),100),1e6<=this.game.gameValue.score&&km().shared().SetPercentComplete_gspc9z$(pf(),100)):ue(this.game.gameConfigure.modeString,"Classic6x6")?(50<=this.game.gameValue.maxComboOnGame&&km().shared().SetPercentComplete_gspc9z$(mf(),100),1e6<=this.game.gameValue.score&&km().shared().SetPercentComplete_gspc9z$(vf(),100)):ue(this.game.gameConfigure.modeString,"Timeless6x6")&&(100<=this.game.gameValue.maxComboOnGame&&km().shared().SetPercentComplete_gspc9z$(_f(),100),2e6<=this.game.gameValue.score&&km().shared().SetPercentComplete_gspc9z$(yf(),100)),100!==km().shared().GetPercentComplete_chhr4e$(Wp())&&100===km().shared().GetPercentComplete_chhr4e$(Lp())&&100===km().shared().GetPercentComplete_chhr4e$(Up())&&km().shared().SetPercentComplete_gspc9z$(Wp(),100),100!==km().shared().GetPercentComplete_chhr4e$(ff())&&100===km().shared().GetPercentComplete_chhr4e$(nf())&&100===km().shared().GetPercentComplete_chhr4e$(hf())&&km().shared().SetPercentComplete_gspc9z$(ff(),100),100!==km().shared().GetPercentComplete_chhr4e$(gf())&&100===km().shared().GetPercentComplete_chhr4e$(af())&&100===km().shared().GetPercentComplete_chhr4e$(mf())&&km().shared().SetPercentComplete_gspc9z$(gf(),100)},qm.prototype.createBackgroundEffect=function(){var e,t,i;if(!(this.game.quality<1)){var r={v:.25};this.game.quality<2&&(r.v=.5),null==this.background&&(this.background=Ke.isType(e=this.findChildByName_3m52m6$("Background"),sa)?e:null);var o=[[ui().customDeepSpace4_mx4ult$(),ui().customDeepSpace5_mx4ult$()]],n={v:1},a={v:null},s={v:null},l={v:null},h={v:null};a.v=ui().copy_3nzkge$(o[0][0]),l.v=o[0][0],s.v=ui().copy_3nzkge$(a.v),h.v=o[0][n.v],null!=(t=this.background)&&t.SetBlendFactor_mx4ult$(1),null!=(i=this.background)&&i.SetColor_vnjrmz$(l.v);var u,c,d,p,f,m,v,g,_,y,$;this.createAction_xcdeti$("Background Effect",!0,!1,!0,void 0,void 0,void 0,(u=this,c=a,d={v:0},p=s,f=h,m=l,v=n,g=o,y={v:_=0},$=r,function(e){var t,i,r,o;return 0===e.elapsed?(null!=(t=u.background)&&t.SetColor_vnjrmz$(c.v),null!=(i=u.background)&&i.SetBlendFactor_mx4ult$(0),!1):(-1!==e.timeToLive&&e.age+1>e.timeToLive?null!=(r=u.background)&&r.SetBlendFactor_mx4ult$(Je(u.background).GetBlendFactor()-e.elapsed):(d.v+=.1*e.elapsed,m.v=ui().morphColor_u1nt5b$(p.v,f.v,d.v),!0===m.v.compare_3nzkge$(f.v)&&(v.v=v.v+1|0,v.v>=g[_].length&&(v.v=0),p.v=ui().copy_3nzkge$(f.v),f.v=g[_][v.v],d.v=0),null!=(o=u.background)&&o.SetColor_vnjrmz$(m.v),!1===u.newRecord&&!1===u.perfectPlay&&e.age>y.v+$.v&&u.particleManager.GetTotalParticleCount()<60&&(u.createStar(),y.v=e.age)),!0)}))}},qm.prototype.createStarOld=function(){var e,t;switch(go().arc4random_uniform_za3lpa$(4)){case 0:t=ui().yellow_mx4ult$();break;case 1:t=ui().strawberry_mx4ult$();break;case 2:t=ui().sky_mx4ult$();break;default:t=ui().white_mx4ult$()}var i,r=this.particleManager,o=go().arc4random_uniform_za3lpa$(320);e:do{if(null==o){i=0;break e}if(Ke.isNumber(o)){i=it(o);break e}if("string"==typeof o)try{i=Qe(o);break e}catch(e){if(Ke.isType(e,ta)){i=0;break e}throw e}i=0}while(0);var n,a=i-160,s=go().arc4random_uniform_za3lpa$(480);e:do{if(null==s){n=0;break e}if(Ke.isNumber(s)){n=it(s);break e}if("string"==typeof s)try{n=Qe(s);break e}catch(e){if(Ke.isType(e,ta)){n=0;break e}throw e}n=0}while(0);var l,h=n-240,u=go().arc4random_uniform_za3lpa$(10);e:do{if(null==u){l=0;break e}if(Ke.isNumber(u)){l=it(u);break e}if("string"==typeof u)try{l=Qe(u);break e}catch(e){if(Ke.isType(e,ta)){l=0;break e}throw e}l=0}while(0);var c=r.createStar_2a19qk$(a,h,0,l+30,"Resource/UI/particle_circle",t);if(null!=(e=null!=c?c.movement:null)){var d,p=go().arc4random_uniform_za3lpa$(50);e:do{if(null==p){d=0;break e}if(Ke.isNumber(p)){d=it(p);break e}if("string"==typeof p)try{d=Qe(p);break e}catch(e){if(Ke.isType(e,ta)){d=0;break e}throw e}d=0}while(0);e.z=100+d}null!=c&&c.SetOriginalAlpha_mx4ult$(1),null!=c&&(c.keepDirection=!0),null!=c&&c.SetCallback_lnidq9$(Jm)},qm.prototype.createStar=function(){var e,t,i=go().arc4random_uniform_za3lpa$(10);if(4<=i)this.createStarOld();else{var r,o=this.particleManager,n=go().arc4random_uniform_za3lpa$(320);e:do{if(null==n){r=0;break e}if(Ke.isNumber(n)){r=it(n);break e}if("string"==typeof n)try{r=Qe(n);break e}catch(e){if(Ke.isType(e,ta)){r=0;break e}throw e}r=0}while(0);var a,s=r-160,l=go().arc4random_uniform_za3lpa$(480);e:do{if(null==l){a=0;break e}if(Ke.isNumber(l)){a=it(l);break e}if("string"==typeof l)try{a=Qe(l);break e}catch(e){if(Ke.isType(e,ta)){a=0;break e}throw e}a=0}while(0);var h,u=a-240,c=go().arc4random_uniform_za3lpa$(10);e:do{if(null==c){h=0;break e}if(Ke.isNumber(c)){h=it(c);break e}if("string"==typeof c)try{h=Qe(c);break e}catch(e){if(Ke.isType(e,ta)){h=0;break e}throw e}h=0}while(0);var d,p=h+40,f=za().shared().GetCurrentBlockSetResource();e:do{if(Ke.isNumber(i)){d=i.toString();break e}if("string"==typeof i){d=i;break e}if("boolean"==typeof i){d=i.toString();break e}if(Ke.isChar(i)){d=i.toString();break e}d=""}while(0);var m=o.createStar_2a19qk$(s,u,0,p,f+d+"_normal");if(null!=(e=null!=m?m.movement:null)){var v,g=go().arc4random_uniform_za3lpa$(50);e:do{if(null==g){v=0;break e}if(Ke.isNumber(g)){v=it(g);break e}if("string"==typeof g)try{v=Qe(g);break e}catch(e){if(Ke.isType(e,ta)){v=0;break e}throw e}v=0}while(0);e.z=100+v}if(null!=(t=null!=m?m.rotation:null)){var _,y=go().arc4random_uniform_za3lpa$(360);e:do{if(null==y){_=0;break e}if(Ke.isNumber(y)){_=it(y);break e}if("string"==typeof y)try{_=Qe(y);break e}catch(e){if(Ke.isType(e,ta)){_=0;break e}throw e}_=0}while(0);t.z=_-160}null!=m&&m.SetOriginalAlpha_mx4ult$(1),null!=m&&(m.keepDirection=!0),null!=m&&m.SetCallback_lnidq9$(ev)}},qm.prototype.fireworkEffect=function(){var e;if(!(this.game.quality<1)){var k,t=ko(20,Gi(0,0,-300),Gi(0,0,0),Gi(0,0,0),90,1600,200,100);this.particleManager.SetCamera_s6wt6e$(t),null!=(e=this.screen)&&e.createAction_xcdeti$("Firework Effect",void 0,void 0,void 0,void 0,1.8,void 0,(k=this,function(e){if(0===e.elapsed)return!1;var t,i=k.particleManager,r=go().arc4random_uniform_za3lpa$(300);e:do{if(null==r){t=0;break e}if(Ke.isNumber(r)){t=et(r);break e}if("string"==typeof r)try{t=tt(r);break e}catch(e){if(Ke.isType(e,ta)){t=0;break e}throw e}t=0}while(0);var o,n=t-150|0;e:do{if(null==n){o=0;break e}if(Ke.isNumber(n)){o=it(n);break e}if("string"==typeof n)try{o=Qe(n);break e}catch(e){if(Ke.isType(e,ta)){o=0;break e}throw e}o=0}while(0);var a,s=o,l=go().arc4random_uniform_za3lpa$(300);e:do{if(null==l){a=0;break e}if(Ke.isNumber(l)){a=et(l);break e}if("string"==typeof l)try{a=tt(l);break e}catch(e){if(Ke.isType(e,ta)){a=0;break e}throw e}a=0}while(0);var h,u=a-150|0;e:do{if(null==u){h=0;break e}if(Ke.isNumber(u)){h=it(u);break e}if("string"==typeof u)try{h=Qe(u);break e}catch(e){if(Ke.isType(e,ta)){h=0;break e}throw e}h=0}while(0);var c,d=h,p=go().arc4random_uniform_za3lpa$(50);e:do{if(null==p){c=0;break e}if(Ke.isNumber(p)){c=et(p);break e}if("string"==typeof p)try{c=tt(p);break e}catch(e){if(Ke.isType(e,ta)){c=0;break e}throw e}c=0}while(0);var f,m=c+50|0;e:do{if(null==m){f=0;break e}if(Ke.isNumber(m)){f=it(m);break e}if("string"==typeof m)try{f=Qe(m);break e}catch(e){if(Ke.isType(e,ta)){f=0;break e}throw e}f=0}while(0);var v=i.createStar_2a19qk$(s,d,f,50,"Particle_white",void 0,void 0,void 0,!0);if(null!=v){v.timeToLive=0;var g,_=pl().GetPerformance();e:do{if(Ke.isNumber(30)){g=it(30);break e}g=0}while(0);var y,$=_*g;e:do{if(null==$){y=0;break e}if(Ke.isNumber($)){y=et($);break e}if("string"==typeof $)try{y=tt($);break e}catch(e){if(Ke.isType(e,ta)){y=0;break e}throw e}y=0}while(0);var b=y;100<b&&(b=100);var S=k.fireworkManager.createFirework_uq37hz$(void 0,b,0,400,1,1.5,100,1,2,0,1.5,void 0,void 0,0);v.addLocalVariables_bm4g0d$("Fireball",S),k.fireworkManager.explosion_xovnep$(v),k.particleManager.removeObject_xovnep$(v)}return!0}))}},qm.prototype.runCameraAngleX_gsqsg5$=function(e,t,i,r){void 0===t&&(t=.5),void 0===i&&(i=-3),void 0===r&&(r=null);var o={v:0},n=this.currentCamera.direction.x;o.v=e-this.currentCamera.direction.x;var a,s,l,h,u,c,d,p=gn(90,1/t/2);this.createAction_xcdeti$("Run Camera Angle X",!0,void 0,!0,void 0,void 0,void 0,(a=t,s=e,l=this,h=r,u=p,c=n,d=o,function(e){if(1===e.count)return!0;if(e.age>=a){var t=s-l.currentCamera.direction.x;return l.currentCamera.rotateX_8ca0d4$(t,!0),null!=h&&Je(h)(),!1}var i=u.update_mx4ult$(e.elapsed);i*=-.5,i+=.5;var r=c+d.v*i;return l.currentCamera.rotateX_8ca0d4$(r-l.currentCamera.direction.x,!0),!0}))},qm.$metadata$={kind:o,simpleName:"GameOverView",interfaces:[ya]},rv.prototype.moveToBackground=function(){!1===this.game.initializeDone||ue(this.game.gameState.GetState(),"_init")||ue(this.game.gameState.GetState(),"ready")||!0===this.game.gameConfigure.takeSnapshot&&!0===this.game.saveSnapshot()&&(zf().SetInteger_rjan26$("Snapshot",void 0,1),zf().SetString_6hosri$("Snapshot_mode",void 0,this.game.gameConfigure.modeString))},rv.prototype.resume=function(){!1===this.game.initializeDone||ue(this.game.gameState.GetState(),"_init")||ue(this.game.gameState.GetState(),"ready")||(zf().SetInteger_rjan26$("Snapshot",void 0,0),ue(pl().GetConfigure_jyasbz$("AppLovin"),"true")&&(0===pl().GetInteger_bm4lxs$("AdsShowing")?(pl().SetInteger_bm4lxs$("AdsShowing",1),za().shared().showInterstitial_y8twos$(ov)):pl().SetInteger_bm4lxs$("AdsShowing",0)))},rv.prototype.afterAttached=function(){var e,t,i,r;switch(this.bottomHeight=0,ue(pl().GetConfigure_jyasbz$("Demo"),"true")||!0===za().shared().isBannerReady()&&(za().shared().showAds_6taknv$(!0),this.bottomHeight=za().shared().getAdsHeight()/this.sizeScale.yRatio),this.game.bannerOffset=0,this.game.bottomHeight=this.bottomHeight,this.SetName_61zpoe$("GameView"),Ie().shared().SetTitle_61zpoe$(""),Ie().shared().SetInputMode_za3lpa$(1),Ie().shared().SetBackgroundColor_qt1dr2$(28,28,28),ue(pl().GetConfigure_jyasbz$("Record"),"true")?null!=(e=this.screen)&&(e.isDrawTouchMark=!0):null!=(t=this.screen)&&(t.isDrawTouchMark=!1),this.SetChildVerticalAlign_qn2em6$(ro()),this.SetChildHorizontalAlign_jdpdm8$(lo()),this.createSprite_591x4d$(160,240,Sn().value,"Resource/UI/Background",320,480,void 0,void 0,!1),ql().shared().BGMFadeIn_o5txl1$(Je(this.screen),"TutorialBGM",100,.3),this.game.quality=zf().GetInteger_hh7mhe$(vp(),void 0,1),this.game.quality){case 0:Ie().shared().changeFPS_za3lpa$(10);break;case 1:Ie().shared().changeFPS_za3lpa$(20);break;default:Ie().shared().changeFPS_za3lpa$(30)}if(!1===pl().isWatchOS()){this.SetFontName_61zpoe$("Number/"),this.SetFontSize_mx4ult$(24),this.SetChildVerticalAlign_qn2em6$(io()),this.SetChildHorizontalAlign_jdpdm8$(ho());var o=this.createTextArea_pvsv9g$(310,5+0/this.sizeScale.yRatio,void 0,320,0,0,.5,1);if(o.SetTextHorizontalAlign_jdpdm8$(ho()),o.SetTextVerticalAlign_qn2em6$(io()),o.addText_r4v59z$("[image Resource/UI/IconStar 20] "+Is(Lm().shared().GetStarAmount())),o.SetName_61zpoe$("Star Amount"),0<this.game.gameConfigure.obstacleMaximumNumber){this.SetChildVerticalAlign_qn2em6$(io()),this.SetChildHorizontalAlign_jdpdm8$(so());var n=this.createTextArea_pvsv9g$(5,5+0/this.sizeScale.yRatio,void 0,320,0,0,.5,1);n.SetTextHorizontalAlign_jdpdm8$(so()),n.SetTextVerticalAlign_qn2em6$(io()),n.addText_r4v59z$("[Image Ghost_white 35][Scale 0.6]X[Scale] [Color 35BEC1]0"),n.SetName_61zpoe$("Ghost Amount")}}var a,s="",l="";if(!1===pl().isWatchOS()){var h=this.game.gameConfigure.modeString;if(ue(h,"Beginner")){var u,c=zf().GetInteger_rjan26$(h+"GameHint",void 0,0),d=As("BEGINNER_TIP_COUNT");e:do{if(null==d){u=0;break e}if(Ke.isNumber(d)){u=et(d);break e}if("string"==typeof d)try{u=tt(d);break e}catch(e){if(Ke.isType(e,ta)){u=0;break e}throw e}u=0}while(0);if(null!=u&&c<u){s="BEGINNER_TIP_/";var p,f=c;e:do{if(Ke.isNumber(f)){p=f.toString();break e}if("string"==typeof f){p=f;break e}if("boolean"==typeof f){p=f.toString();break e}if(Ke.isChar(f)){p=f.toString();break e}p=""}while(0);l=As("BEGINNER_TIP_"+p),c=c+1|0,zf().SetInteger_rjan26$(h+"GameHint",void 0,c)}}else if(ue(h,"Beginner6x6")){var m,v=zf().GetInteger_rjan26$(h+"GameHint",void 0,0),g=As("BEGINNER6x6_TIP_COUNT");e:do{if(null==g){m=0;break e}if(Ke.isNumber(g)){m=et(g);break e}if("string"==typeof g)try{m=tt(g);break e}catch(e){if(Ke.isType(e,ta)){m=0;break e}throw e}m=0}while(0);if(null!=m&&v<m){s="BEGINNER6x6_TIP_/";var _,y=v;e:do{if(Ke.isNumber(y)){_=y.toString();break e}if("string"==typeof y){_=y;break e}if("boolean"==typeof y){_=y.toString();break e}if(Ke.isChar(y)){_=y.toString();break e}_=""}while(0);l=As("BEGINNER6x6_TIP_"+_),v=v+1|0,zf().SetInteger_rjan26$(h+"GameHint",void 0,v)}}else if(ue(h,"Classic")){var $,b=zf().GetInteger_rjan26$(h+"GameHint",void 0,0),S=As(h+"_TIP_COUNT");e:do{if(null==S){$=0;break e}if(Ke.isNumber(S)){$=et(S);break e}if("string"==typeof S)try{$=tt(S);break e}catch(e){if(Ke.isType(e,ta)){$=0;break e}throw e}$=0}while(0);if(null!=$&&b<$){s=h+"_TIP_/";var k,w=h+"_TIP_",x=b;e:do{if(Ke.isNumber(x)){k=x.toString();break e}if("string"==typeof x){k=x;break e}if("boolean"==typeof x){k=x.toString();break e}if(Ke.isChar(x)){k=x.toString();break e}k=""}while(0);l=As(w+k),b=b+1|0,zf().SetInteger_rjan26$(h+"GameHint",void 0,b)}}}else{var C,z=zf().GetInteger_rjan26$("AppleWatchGameHint",void 0,0),T=As("APPLE_WATCH_TIP_COUNT");e:do{if(null==T){C=0;break e}if(Ke.isNumber(T)){C=et(T);break e}if("string"==typeof T)try{C=tt(T);break e}catch(e){if(Ke.isType(e,ta)){C=0;break e}throw e}C=0}while(0);if(null!=C&&z<C){var A,G=z;e:do{if(Ke.isNumber(G)){A=G.toString();break e}if("string"==typeof G){A=G;break e}if("boolean"==typeof G){A=G.toString();break e}if(Ke.isChar(G)){A=G.toString();break e}A=""}while(0);l=As("APPLE_WATCH_TIP_"+A),z=z+1|0,zf().SetInteger_rjan26$("AppleWatchGameHint",void 0,z)}}if(!1===Ts(l))return Xl().showNotice_z5sdl8$(this,l+"\n\n",s,20,void 0,void 0,nv(this)),void(null!=(i=this.screen)&&i.actionDelay_ab0iom$(.5,void 0,av));this.game.initGame_g5c4ga$(this),this.game.start(),null!=(r=this.screen)&&r.actionDelay_ab0iom$(.5,void 0,(a=this,function(){return a.game.generateBoard(),Ze})),this.prepareMenu()},rv.prototype.beforeDetached=function(){var e;za().shared().showAds_6taknv$(!1),null!=(e=this.screen)&&e.removeScrollListener()},rv.prototype.prepareMenu=function(){var e;this.SetChildVerticalAlign_qn2em6$(ro()),this.SetChildHorizontalAlign_jdpdm8$(lo());var t=470-this.bottomHeight;!0===pl().isWatchOS()&&(t=600),this.SetChildVerticalAlign_qn2em6$(oo()),this.SetChildHorizontalAlign_jdpdm8$(so());var i,r=this.createImageButton_uax0jn$(10,t,void 0,void 0,40,40,void 0,void 0,["Resource/UI/IconAbandon","Resource/UI/IconAbandonDisabled",null,null]);this.SetChildVerticalAlign_qn2em6$(ro()),this.SetChildHorizontalAlign_jdpdm8$(lo()),r.SetName_61zpoe$("Abandon Button"),r.SetEnable_6taknv$(!1),r.SetMessageHandler_4mjqr2$((i=this,function(e){if(e.event===Gr()){if(!ue(i.game.gameState.GetState(),"running"))return!1;ql().shared().playEffect_bm4lxs$("click"),i.showExitPopup()}return!0}));this.SetChildVerticalAlign_qn2em6$(oo()),this.SetChildHorizontalAlign_jdpdm8$(ho());var o,n,a=this.createImageButton_uax0jn$(310,t,void 0,void 0,40,40,void 0,void 0,["Resource/UI/IconOption","Resource/UI/IconOption",null,null]);this.SetChildVerticalAlign_qn2em6$(ro()),this.SetChildHorizontalAlign_jdpdm8$(lo()),a.SetName_61zpoe$("Pause Switch"),a.SetEnable_6taknv$(!1),a.SetMessageHandler_4mjqr2$((o=this,function(e){if(e.event===Gr()){if(!ue(o.game.gameState.GetState(),"running"))return!1;ql().shared().playEffect_bm4lxs$("click"),o.showPausePopup()}return!0})),null!=(e=this.screen)&&e.addScrollListener_d6xl6w$((n=this,function(e){var t,i=Ke.isType(t=n.findChildByName_3m52m6$("Pause Switch"),Kt)?t:null;if(null!=i){var r=Ie().shared().convertCoordinate_dleff0$(i.GetPosition().x,i.GetPosition().y);Ie().shared().addInputQueue_o3bepn$(r.x,r.y,At()),Ie().shared().addInputQueue_o3bepn$(r.x,r.y,It())}}))},rv.prototype.showPausePopup=function(){var e,t,i,r,o="IconSoundOn";0===ql().shared().GetBGMVolume()&&(o="IconSoundOff");var n="IconSFXOn";0===ql().shared().GetEffectVolume()&&(n="IconSFXOff");var u,a="[Button Resource/UI/"+o+" 60 sound]        [Button Resource/UI/"+n+" 60 sfx]\n\n\n\n[Button Resource/UI/IconAbandon 50 resume]\n";!0===pl().isWatchOS()&&(a=As("MENU_46")+"\n\n\n\n[Scale]",a+="[Button Resource/UI/IconYes 100 ok]                [Button Resource/UI/IconNo 100 no]\n"),this.game.isPaused=!0,null!=(e=this.game.gameTimer)&&e.pause(),null!=(t=this.game.comboTimer)&&t.pause(),null!=(i=this.game.feverTimer)&&i.pause(),null!=(r=this.game.blockDisableTimer)&&r.pause(),Xl().showNotice_z5sdl8$(this,a,void 0,void 0,void 0,void 0,(u=this,function(e){var t,i,r,o,n,a,s,l,h=e.GetName();ue(h,"ok")?(u.game.isCanceled=!0,u.game.gameCancel(),Xl().closeNotice_mx4ult$()):ue(h,"no")?(u.game.isPaused=!1,null!=(t=u.game.gameTimer)&&t.resume(),null!=(i=u.game.comboTimer)&&i.resume(),null!=(r=u.game.feverTimer)&&r.resume(),null!=(o=u.game.blockDisableTimer)&&o.resume(),u.game.cancelKeyInput_za3lpa$(),Xl().closeNotice_mx4ult$()):ue(h,"sound")?0===ql().shared().GetBGMVolume()?(zf().SetInteger_hh7mhe$(hp(),void 0,100),ql().shared().SetBGMVolume_mx4ult$(100),null!=e&&e.SetImageFrame_a3w2ab$(["Resource/UI/IconSoundOn"]),za().shared().setAdsMute_6taknv$(!1)):(zf().SetInteger_hh7mhe$(hp(),void 0,0),ql().shared().SetBGMVolume_mx4ult$(0),null!=e&&e.SetImageFrame_a3w2ab$(["Resource/UI/IconSoundOff"]),za().shared().setAdsMute_6taknv$(!0)):ue(h,"sfx")?0===ql().shared().GetEffectVolume()?(zf().SetInteger_hh7mhe$(up(),void 0,100),ql().shared().SetEffectVolume_mx4ult$(100),null!=e&&e.SetImageFrame_a3w2ab$(["Resource/UI/IconSFXOn"])):(zf().SetInteger_hh7mhe$(up(),void 0,0),ql().shared().SetEffectVolume_mx4ult$(0),null!=e&&e.SetImageFrame_a3w2ab$(["Resource/UI/IconSFXOff"])):ue(h,"resume")&&(u.game.isPaused=!1,null!=(n=u.game.gameTimer)&&n.resume(),null!=(a=u.game.comboTimer)&&a.resume(),null!=(s=u.game.feverTimer)&&s.resume(),null!=(l=u.game.blockDisableTimer)&&l.resume(),u.game.cancelKeyInput_za3lpa$(),Xl().closeNotice_mx4ult$())}))},rv.prototype.showExitPopup=function(){var e,t,i,r,a;this.game.isPaused=!0,null!=(e=this.game.gameTimer)&&e.pause(),null!=(t=this.game.comboTimer)&&t.pause(),null!=(i=this.game.feverTimer)&&i.pause(),null!=(r=this.game.blockDisableTimer)&&r.pause(),Xl().showNotice_z5sdl8$(this,"[Scale 1.0]"+As("MENU_46")+"\n\n\n\n[Scale][Button Resource/UI/IconYes 50 ok]          [Button Resource/UI/IconNo 50 no]\n",void 0,void 0,void 0,void 0,(a=this,function(e){var t,i,r,o,n=e.GetName();ue(n,"ok")?(a.game.isCanceled=!0,a.game.gameCancel(),Xl().closeNotice_mx4ult$(.3)):(a.game.isPaused=!1,null!=(t=a.game.gameTimer)&&t.resume(),null!=(i=a.game.comboTimer)&&i.resume(),null!=(r=a.game.feverTimer)&&r.resume(),null!=(o=a.game.blockDisableTimer)&&o.resume(),a.game.cancelKeyInput_za3lpa$(),Xl().closeNotice_mx4ult$())}))},rv.$metadata$={kind:o,simpleName:"GameView",interfaces:[ya]},lv.prototype.afterAttached=function(){var e,t,i;this.SetChildVerticalAlign_qn2em6$(oo()),this.SetChildHorizontalAlign_jdpdm8$(so()),this.createSprite_9wuqyc$(0,480,void 0,"Resource/UI/Loading1",300);var r,o=this.createSprite_9wuqyc$(0,480,void 0,"Resource/UI/Loading2",300);o.SetAlpha_8ca0d4$(0),null!=(e=this.screen)&&e.actionFadeLoop_xukj3e$("",1,0,1,void 0,(r=o,function(e,t){return r.SetAlpha_8ca0d4$(e),!0}));for(t=oe("abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789_-,.!()[]%+?:>/'č→");t.hasNext();){var n,a=ne(t.next()),s=x(a);e:do{if(Ke.isNumber(s)){n=s.toString();break e}if("string"==typeof s){n=s;break e}if("boolean"==typeof s){n=s.toString();break e}if(Ke.isChar(s)){n=s.toString();break e}n=""}while(0);var l=n;qe().shared().createStringTexture_49g1x9$(l," ",96*this.sizeScale.xRatio,ui().white_mx4ult$(),ui().white_mx4ult$(),0,void 0,void 0,"Main/"+l)}this.SetChildHorizontalAlign_jdpdm8$(ho()),this.SetChildVerticalAlign_qn2em6$(oo());var h=this.createTextArea_pvsv9g$(300,480,void 0,120,20);h.addText_r4v59z$(""),h.SetTextHorizontalAlign_jdpdm8$(so()),h.SetTextVerticalAlign_qn2em6$(io());var u={v:Fe()};u.v.addAll_brywnq$(za().shared().loadSoundResource());var c,d=u.v,p=za().shared(),f=Je(this.screen).GetSize().width;e:do{if(null==f){c=0;break e}if(Ke.isNumber(f)){c=it(f);break e}if("string"==typeof f)try{c=Qe(f);break e}catch(e){if(Ke.isType(e,ta)){c=0;break e}throw e}c=0}while(0);var m,v=c,g=Je(this.screen).GetSize().height;e:do{if(null==g){m=0;break e}if(Ke.isNumber(g)){m=it(g);break e}if("string"==typeof g)try{m=Qe(g);break e}catch(e){if(Ke.isType(e,ta)){m=0;break e}throw e}m=0}while(0);d.addAll_brywnq$(p.loadDefaultResource_dleff0$(v,m)),u.v.add_11rb$(hv);var _=u.v.size;null!=(i=this.screen)&&i.actionInstant_cinp1s$(void 0,void 0,void 0,void 0,uv(u,_,{v:-1},h,this))},lv.prototype.beforeDetached=function(){ue(pl().GetConfigure_jyasbz$("Login GameCenter"),"true")&&!1===za().shared().isLogin()&&0===zf().GetInteger_rjan26$("Login",void 0,0)&&(zf().SetInteger_rjan26$("Login",void 0,1),za().shared().loginIntent())},lv.prototype.update_mx4ult$=function(e){ya.prototype.update_mx4ult$.call(this,e)},lv.prototype.loading_o14v8n$=function(e){var t,i=za().shared(),r=Je(this.screen).GetSize().width;e:do{if(null==r){t=0;break e}if(Ke.isNumber(r)){t=it(r);break e}if("string"==typeof r)try{t=Qe(r);break e}catch(e){if(Ke.isType(e,ta)){t=0;break e}throw e}t=0}while(0);var o,n=t,a=Je(this.screen).GetSize().height;e:do{if(null==a){o=0;break e}if(Ke.isNumber(a)){o=it(a);break e}if("string"==typeof a)try{o=Qe(a);break e}catch(e){if(Ke.isType(e,ta)){o=0;break e}throw e}o=0}while(0);i.loadDefaultResource_dleff0$(n,o);var s=zf().GetString_sv46oe$(fp(),void 0,"BlocksetNumber");za().shared().changeCurrentBlockSet_61zpoe$(s),za().shared().saveCurrentBlockSet(),e()},lv.$metadata$={kind:o,simpleName:"LoadingView",interfaces:[ya]},Object.defineProperty(cv.prototype,"screenToggle",{get:function(){return null==this.screenToggle_6i50om$_0?T("screenToggle"):this.screenToggle_6i50om$_0},set:function(e){this.screenToggle_6i50om$_0=e}}),cv.prototype.afterAttached=function(){var e,t,i,r;Ie().shared().SetBackgroundColor_qt1dr2$(28,28,28),null!=(e=this.screen)&&(e.isDrawTouchMark=!0),this.SetChildVerticalAlign_qn2em6$(ro()),this.SetChildHorizontalAlign_jdpdm8$(lo()),this.bg=this.createSprite_591x4d$(160,240,Sn().value,"Resource/UI/Background",320,480,void 0,void 0,!1),Je(this.bg).SetName_61zpoe$("Background"),ue(pl().GetConfigure_jyasbz$("RecordForTitle"),"true")?this.createTitleEffectForRecord():this.createTitleEffect();var o,n=Fe();n.add_11rb$(Qc(Di(0,0,0,0)).needStar),n.add_11rb$(ed(Di(0,0,0,0)).needStar),n.add_11rb$(qc(Di(0,0,0,0)).needStar);for(var a=[wv("Resource/UI/IconBeginner",void 0,void 0,void 0,void 0,.3,this.menuCallback),wv("Resource/UI/IconBeginner6x6",void 0,void 0,void 0,void 0,.3,this.menuCallback),wv("Resource/UI/IconClassic",void 0,void 0,void 0,void 0,.3,this.menuCallback)],s=["Beginner","Beginner6x6","Classic"],l=0;l!==a.length;++l){var h=a[l];if(null!=h){var u=km().shared().GetHighScore_61zpoe$(s[l]);0<u&&(h.title="[Color white][font Number/][Scale 0.5] "+Is(u)),0<n.get_za3lpa$(l)&&(h.upperCaption="[font Number/][Image Resource/UI/IconStar 15] [Scale 0.5]X[Scale 0.8] "+n.get_za3lpa$(l).toString(),Lm().shared().GetStarAmount()<n.get_za3lpa$(l)&&(h.enable=!1))}}0===zf().GetInteger_hh7mhe$(yp(),void 0,0)&&0===zf().GetInteger_hh7mhe$($p(),void 0,0)&&(null!=(t=a[1])&&(t.enable=!1),null!=(i=a[2])&&(i.enable=!1));za().shared().GetCurrentBlockSetResource();var c=60,d=0;!0===pl().isWatchOS()&&(c=110,d=75),(o=Nv(this,this.GetSize(),ji(3,1),c,void 0,a)).prepare_1isvtk$(d,40,10);var p=20,f=24;!0===pl().isWatchOS()&&(p=40,f=32),this.SetFontName_61zpoe$("Number/"),this.SetFontSize_mx4ult$(f),this.SetChildVerticalAlign_qn2em6$(io()),this.SetChildHorizontalAlign_jdpdm8$(ho());var m=this.createTextArea_pvsv9g$(310,5,void 0,320,0,0,.5,1);if(m.SetName_61zpoe$("Star Amount"),m.SetTextVerticalAlign_qn2em6$(io()),m.SetTextHorizontalAlign_jdpdm8$(ho()),m.addText_r4v59z$("[image Resource/UI/IconStar "+p.toString()+"] "+Is(Lm().shared().GetStarAmount())),!0===za().shared().isDesktop()){var v=this.createLabel_17tgk7$(160,400,void 0,"© 2017 BlindCat Studio ALL RIGHTS RESERVED.");ue(zf().GetString_6hosri$("platform"),"twitch")?v.SetSize_dleff0$(280*this.sizeScale.xRatio,20*this.sizeScale.yRatio):v.SetSize_dleff0$(240*this.sizeScale.xRatio,10*this.sizeScale.yRatio),v.SetVerticalAlign_qn2em6$(io()),v.SetHorizontalAlign_jdpdm8$(lo())}this.showBottomMenu(),this.particleManagerForFairy=cn(this),this.createBackgroundEffect_v32r7z$(Je(this.particleManagerForFairy),Di(0,160,320,320)),!1===za().shared().isWeb()&&null!=(r=this.screen)&&r.addKeydownListener_5ol7k9$("Back Key",pv(this,o));var g=10;ue(zf().GetString_6hosri$("platform"),"twitch")&&(g=-1e3),_.game.scale.isFullScreen?this.screenToggle=_.game.add.button(g,10,"window",B("screenToggleButton",function(e){return e.screenToggleButton(),Ze}.bind(null,this)),this,0,0,0):this.screenToggle=_.game.add.button(g,10,"fullscreen",B("screenToggleButton",function(e){return e.screenToggleButton(),Ze}.bind(null,this)),this,0,0,0),this.screenToggle.width=40*this.sizeScale.yRatio,this.screenToggle.height=40*this.sizeScale.yRatio,_.game.scale.onFullScreenChange.add(B("onChangeFullScreen",function(e,t){return e.onChangeFullScreen_nwh8sm$(t),Ze}.bind(null,this)),this)},cv.prototype.screenToggleButton=function(){var e;_.game.scale.isFullScreen?_.game.scale.stopFullScreen():(_.game.scale.startFullScreen(),(Ke.isType(e=_.game.canvas.parentElement,HTMLElement)?e:Ee()).style.backgroundColor="#2D2535")},cv.prototype.onChangeFullScreen_nwh8sm$=function(e){_.game.scale.isFullScreen?(this.screenToggle.destroy(),this.screenToggle=_.game.add.button(10,10,"window",B("screenToggleButton",function(e){return e.screenToggleButton(),Ze}.bind(null,this)),this,0,0,0)):(this.screenToggle.destroy(),this.screenToggle=_.game.add.button(10,10,"fullscreen",B("screenToggleButton",function(e){return e.screenToggleButton(),Ze}.bind(null,this)),this,0,0,0)),this.screenToggle.width=40*this.sizeScale.yRatio,this.screenToggle.height=40*this.sizeScale.yRatio},cv.prototype.showBlockMenU=function(){var e=wv("Resource/UI/IconTutorial",void 0,void 0,void 0,void 0,void 0,this.bottomMenuItem),t=wv("Resource/UI/IconOption",void 0,void 0,void 0,void 0,void 0,this.bottomMenuItem);Nv(this,this.GetSize(),ji(2,1),40,void 0,[e,t]).prepare_1isvtk$(210,200)},cv.prototype.showPromotionMenu=function(){this.SetChildHorizontalAlign_jdpdm8$(so()),this.createButton_ix8ej2$(40,340,Fn().value,void 0,void 0,100,-1,void 0,["Resource/UI/AppStoreBadge"],void 0,void 0,void 0,!0,fv),this.SetChildHorizontalAlign_jdpdm8$(ho()),this.createButton_ix8ej2$(280,340,Fn().value,void 0,void 0,100,-1,void 0,["Resource/UI/google-play-badge"],void 0,void 0,void 0,!0,mv)},cv.prototype.showBottomMenu=function(){var e;e=!0===za().shared().isDesktop()?wv("Resource/UI/IconTutorial",void 0,void 0,void 0,void 0,void 0,this.bottomMenuItem):wv("Resource/UI/IconGameCenter",void 0,void 0,void 0,void 0,void 0,this.bottomMenuItem);var t=wv(za().shared().GetCurrentBlockSetResource()+"IconMenu",void 0,void 0,void 0,void 0,void 0,this.bottomMenuItem),i=wv("Resource/UI/IconOption",void 0,void 0,void 0,void 0,void 0,this.bottomMenuItem);Nv(this,this.GetSize(),ji(3,1),40,void 0,[e,t,i]).prepare_1isvtk$(210,90)},cv.prototype.beforeDetached=function(){var e,t;this.screenToggle.destroy(),_.game.scale.onFullScreenChange.removeAll(this),this.removeAction_sbe383$("Title Effect"),null!=(e=this.particleManager)&&e.clearParticlePool(),(this.particleManager=null)!=(t=this.particleManagerForFairy)&&t.clearParticlePool(),this.particleManagerForFairy=null},cv.prototype.update_mx4ult$=function(e){null!=this.particleManager&&(Je(this.particleManager).updateObject_mx4ult$(e),Je(this.particleManager).projection_1s1xds$(this.size,Gi(0,0*this.sizeScale.yRatio,1e3))),null!=this.particleManagerForFairy&&(Je(this.particleManagerForFairy).updateObject_mx4ult$(e),Je(this.particleManagerForFairy).projection_1s1xds$(this.size,Gi(0,0*this.sizeScale.yRatio,1e3))),ya.prototype.update_mx4ult$.call(this,e)},cv.prototype.createTitleEffect=function(){var e,t,i,r,o=this.createSprite_9wuqyc$(160,70,void 0,"Resource/UI/Title",280,void 0,void 0,this.sizeScale);o.SetBlendMode_ieo8yr$(ti()),o.SetVerticalAlign_qn2em6$(io()),o.SetHorizontalAlign_jdpdm8$(lo()),o.SetAlpha_8ca0d4$(0),null!=(e=this.screen)&&e.actionFadeIn_hkbjms$(o,void 0,1,void 0,3);var n;Je(o).GetSize().width,Je(o).GetSize().height,o.GetPosition().x,o.GetSize().width,this.sizeScale.yRatio;(n=this.createLabel_17tgk7$(160,125,void 0,"Stones of Eternity")).SetSize_dleff0$(200*this.sizeScale.yRatio,-1),n.SetVerticalAlign_qn2em6$(io()),n.SetHorizontalAlign_jdpdm8$(lo()),n.SetAlpha_8ca0d4$(0),null!=(t=this.screen)&&t.actionFadeIn_hkbjms$(n,void 0,1,2,3),this.particleManager=cn(this);var a=pl().GetPerformance();if(null!=(i=this.particleManager)){var s,l=200*a;e:do{if(null==l){s=0;break e}if(Ke.isNumber(l)){s=et(l);break e}if("string"==typeof l)try{s=tt(l);break e}catch(e){if(Ke.isType(e,ta)){s=0;break e}throw e}s=0}while(0);i.SetMaxParticle_za3lpa$(s)}var h=ko(20,Gi(0,0,-150),Gi(0,0,0),Gi(0,0,0),90,1600,200,50);h.projection=1,null!=(r=this.particleManager)&&r.SetCamera_s6wt6e$(h)},cv.prototype.createTitleEffectForRecord=function(){var e,t,i,r,o,n;this.title=this.createMask_jga54f$(160,200,0,"Resource/UI/Title",280),null!=(e=this.title)&&e.SetVerticalAlign_qn2em6$(io()),null!=(t=this.title)&&t.SetHorizontalAlign_jdpdm8$(lo());var a=Je(this.title).GetSize().width,s=Je(this.title).GetSize().height,l=Je(this.title).GetPosition().x-Je(this.title).GetSize().width/2,h=Je(this.title).GetPosition().y,u=this.createSprite_9wuqyc$(160,200,void 0,"Resource/UI/TitleOutline",280,void 0,void 0,this.sizeScale);u.SetBlendMode_ieo8yr$(ti()),u.SetVerticalAlign_qn2em6$(io()),u.SetHorizontalAlign_jdpdm8$(lo()),u.SetAlpha_8ca0d4$(0),null!=(i=this.screen)&&i.actionFadeIn_hkbjms$(u,void 0,.8,void 0,6);var c=this.createSprite_9wuqyc$(160,255,void 0,"Resource/UI/SubTitle",240,void 0,void 0,this.sizeScale);c.SetVerticalAlign_qn2em6$(io()),c.SetHorizontalAlign_jdpdm8$(lo()),c.SetAlpha_8ca0d4$(0),null!=(r=this.screen)&&r.actionFadeIn_hkbjms$(c,void 0,1,2,3.5),this.particleManager=cn(this);var d=pl().GetPerformance();if(null!=(o=this.particleManager)){var p,f=200*d;e:do{if(null==f){p=0;break e}if(Ke.isNumber(f)){p=et(f);break e}if("string"==typeof f)try{p=tt(f);break e}catch(e){if(Ke.isType(e,ta)){p=0;break e}throw e}p=0}while(0);o.SetMaxParticle_za3lpa$(p)}var m,v,g,_,y,$=ko(20,Gi(0,0,-150),Gi(0,0,0),Gi(0,0,0),90,1600,200,50);$.projection=1,null!=(n=this.particleManager)&&n.SetCamera_s6wt6e$($),this.createAction_xcdeti$("Title Effect",!0,!1,!0,void 0,.1,void 0,(m=l,v=a,g=h,_=s,y=this,function(e){var t,i=m+go().arc4random_uniform_za3lpa$(et(v)),r=g+go().arc4random_uniform_za3lpa$(et(_)),o=ui().white_mx4ult$();return go().arc4random_uniform_za3lpa$(100)<40&&(o=ui().puzzleYellow_mx4ult$(.8)),null!=(t=y.particleManager)&&t.createFairy_hcj0m5$(Gi(i,r,-50),15*y.sizeScale.xRatio,10,1050*y.sizeScale.xRatio,2+go().arc4random_uniform_za3lpa$(100)/100,"Resource/UI/Particle",o,Gi(0,0,-20),Gi(10*y.sizeScale.xRatio,10*y.sizeScale.xRatio,500),void 0,void 0,void 0,void 0,y.title),!0}))},cv.prototype.createBackgroundEffect_v32r7z$=function(e,t,i){var r;void 0===i&&(i=30);var o=zf().GetInteger_hh7mhe$(vp(),void 0,1);if(!(o<1)){var n=ko(20,Gi(0,0,-100),Gi(0,0,0),Gi(0,0,0),90,1600,200,50);e.SetCamera_s6wt6e$(n);var a=pl().GetPerformance();e.SetMaxParticle_za3lpa$(et(200*a)),n.projection=1,e.SetCamera_s6wt6e$(n);var s,l,h,u,k,w,c=.1;o<2&&(c=.2),this.createAction_xcdeti$("Background Effect",!0,!1,!0,void 0,c,void 0,(s=e,l=i,h=t,u=this,function(e){if(s.GetCurrentParticleCount()>l)return!0;var t=h.x+go().arc4random_uniform_za3lpa$(et(h.width)),i=h.y+go().arc4random_uniform_za3lpa$(et(h.height)),r=u.positionUniversalToDevice_xpb3zu$(t,i),o=!(r.z=100),n=ui().white_mx4ult$(1),a=go().arc4random_uniform_za3lpa$(100);return a<70&&(o=!0),a<5?n=ui().puzzleYellow_mx4ult$(1):a<6?n=ui().puzzleBlue_mx4ult$(1):a<7?n=ui().puzzleRed_mx4ult$(1):a<8?n=ui().puzzlePurple_mx4ult$(1):a<10&&(n=ui().puzzleOrange_mx4ult$(1)),s.createFairy2_emwd81$(r,5*u.sizeScale.xRatio,200*u.sizeScale.xRatio,3+go().arc4random_uniform_za3lpa$(100)/100,"Resource/UI/ParticleFairy",n,Gi(5,5,-50),Gi(40*u.sizeScale.xRatio,40*u.sizeScale.xRatio,50),200*u.sizeScale.xRatio,!0,o,wn().value,u),!0})),null!=(r=this.screen)&&r.addTouchListener_dal58m$(new Ct("Touch For Fairy",0,0,this.GetSize().width,this.GetSize().height,void 0,(k=e,w=this,function(e,t,i,r,o){var n,a;switch(r.name){case"began":for(n=k.GetObjectList().iterator();n.hasNext();){var s=n.next(),l=Gi(s.screenPosition.x-e.x,s.screenPosition.y-e.y),h=l.length2D();if(h<100*w.sizeScale.xRatio){var u=1e3*w.sizeScale.xRatio-2*h;l.normalize();var c=s.movement,d=s.movement.x;c.x=Yt.abs(d)*l.normalX;var p=s.movement,f=s.movement.y;p.y=Yt.abs(f)*l.normalY,s.accel.x=u*l.normalX,s.accel.y=u*l.normalY,s.accelRetain.x=.1,s.accelRetain.y=.1,s.drag.x=50*w.sizeScale.xRatio,s.drag.y=50*w.sizeScale.xRatio}}break;case"moved":for(a=k.GetObjectList().iterator();a.hasNext();){var m=a.next(),v=Gi(m.screenPosition.x-e.x,m.screenPosition.y-e.y),g=v.length2D();if(g<100*w.sizeScale.xRatio){var _=1e3*w.sizeScale.xRatio-2*g;v.normalize();var y=m.movement,$=m.movement.x;y.x=Yt.abs($)*v.normalX;var b=m.movement,S=m.movement.y;b.y=Yt.abs(S)*v.normalY,m.accel.x=_*v.normalX,m.accel.y=_*v.normalY,m.accelRetain.x=.1,m.accelRetain.y=.1,m.drag.x=50*w.sizeScale.xRatio,m.drag.y=50*w.sizeScale.xRatio}}}})))}},cv.prototype.createStarOld_iwp3ca$=function(e){var t,i=ui().white_mx4ult$(),r=go().arc4random_uniform_za3lpa$(100);r<=5?i=ui().puzzleBlue_mx4ult$(.6):r<=10&&(i=ui().puzzleYellow_mx4ult$(.8));var o=Gi(160,0,0);o.rotateZ_mx4ult$(go().arc4random_uniform_za3lpa$(360));var n=e.createStar_2a19qk$(o.x,o.y,800,10,"ParticleDot",i);null!=(t=null!=n?n.movement:null)&&(t.z=-1*(200+go().arc4random_uniform_za3lpa$(100)|0)),null!=n&&n.SetOriginalAlpha_mx4ult$(1),null!=n&&(n.keepDirection=!0),null!=n&&n.SetCallback_lnidq9$(vv)},cv.$metadata$={kind:o,simpleName:"MainMenuView",interfaces:[ya]},gv.$metadata$={kind:o,simpleName:"MenuItemType",interfaces:[s]},gv.values=function(){return[yv(),$v(),bv(),Sv()]},gv.valueOf_61zpoe$=function(e){switch(e){case"NORMAL":return yv();case"RADIO":return $v();case"SWITCH":return bv();case"TEXT":return Sv();default:c("No enum constant com.blindcatstudio.samsara.view.MenuItemType."+e)}},kv.$metadata$={kind:o,simpleName:"MenuItem",interfaces:[]},Cv.prototype.SetDescription_xobbru$=function(e,t){var i=this.items[e];null!=i&&(i.description=t)},Cv.prototype.SetCurrent_za3lpa$=function(e){var t,i,r,o;if(!(e>=this.menuDimension.width*this.menuDimension.height)){var n,a,s,l=this.items[e];if(null!=l){if(l.type!==$v())return;l.onOff=ca();var h=Ke.isType(t=l.button,pa)?t:null;if(null!=h){var u=Ke.isType(i=h.findChildByName_3m52m6$("Selected Mask"),sa)?i:null;null!=u&&null!=(r=this.view.screen)&&r.actionFadeIn_hkbjms$(u,void 0,void 0,void 0,.1),Ie().shared().SetInputPending_6taknv$(!0),null!=(o=this.textArea)&&o.clearText_gam257$(.1,(n=this,a=l,s=e,function(){var e;return null!=(e=n.textArea)&&e.addText_r4v59z$(a.description[!0===a.enable?0:1],.3,zv(n,a,s)),Ze}))}this.current=e}}},Cv.prototype.GetCurrent=function(){return this.current},Cv.prototype.SetEnable_fzusl$=function(e,t){var i,r,o,n,a;if(!(e>=this.menuDimension.width*this.menuDimension.height))if(null!=(i=this.items[e])&&(i.enable=t),!1===t){var s=null!=(r=this.items[e])?r.button:null;if(null!=s){s.SetEnable_6taknv$(t);var l=Ke.isType(o=s.findChildByName_3m52m6$("Disabled Mask"),sa)?o:null;null!=l&&l.SetAlpha_8ca0d4$(1)}}else{var h=null!=(n=this.items[e])?n.button:null;if(null!=h){h.SetEnable_6taknv$(t);var u=Ke.isType(a=h.findChildByName_3m52m6$("Disabled Mask"),sa)?a:null;null!=u&&u.SetAlpha_8ca0d4$(0)}}},Cv.prototype.SetEnable_9klhxs$=function(e){for(var t=0,i=e.iterator();i.hasNext();++t){var r=i.next();this.SetEnable_fzusl$(t,r)}},Cv.prototype.GetEnable_za3lpa$=function(e){var t,i=null!=(t=this.items[e])?t.enable:null;return null!=i&&i},Cv.prototype.hide=function(){var e;null!=(e=this.view.mask)&&e.SetShow_6taknv$(!1)},Cv.prototype.show=function(){var e;null!=(e=this.view.mask)&&e.SetShow_6taknv$(!0)},Cv.prototype.prepare_1isvtk$=function(e,t,i,r,o,n){var a,s,l,h,u,c,d,p;void 0===t&&(t=0),void 0===i&&(i=0),void 0===r&&(r=0),void 0===o&&(o=30),void 0===n&&(n=!1);var f=e*this.view.sizeScale.yRatio,m=i*this.view.sizeScale.yRatio,v=t*this.view.sizeScale.xRatio,g=r*this.view.sizeScale.yRatio,_=Di((this.size.width-(this.menuDimension.width*(this.tileSize+v)-v))/2,(this.size.height-(this.menuDimension.height*(this.tileSize+m)-m))/2+f,this.menuDimension.width*(this.tileSize*this.tileWidthScale+v)-v,this.menuDimension.height*(this.tileSize+m)-m+g),y=Kr(0,_.y-.5*this.tileSize,Tn().value,"Resource/UI/board_mask",this.view.GetSize().width,this.view.GetSize().height);y.SetVerticalAlign_qn2em6$(io()),y.SetHorizontalAlign_jdpdm8$(so()),this.view.addChild_g5h3xp$(y),this.view.mask=y;var $=o;if(null!=this.title)if(!0===pl().isWatchOS())Ie().shared().SetTitle_61zpoe$(this.titleForWatch);else{this.view.SetFontSize_mx4ult$(28);var b=this.view.createTextArea_pvsv9g$(160,$,void 0,80,40,0,.5,1);b.addText_r4v59z$(Je(this.title)),b.SetVerticalAlign_qn2em6$(io()),b.SetHorizontalAlign_jdpdm8$(lo()),b.SetTextVerticalAlign_qn2em6$(ro()),b.SetTextHorizontalAlign_jdpdm8$(lo()),b.SetFadeMode_za3lpa$(1),this.view.SetFontSize_mx4ult$(),$+=50}else $+=50;!0===pl().isWatchOS()?this.view.SetFontSize_mx4ult$(40):this.view.SetFontSize_mx4ult$(20),this.view.SetFontName_61zpoe$("MENU_/"),this.textArea=this.view.createTextArea_pvsv9g$(160,$,void 0,80,40,0,.5,1),null!=(a=this.textArea)&&a.SetHorizontalAlign_jdpdm8$(lo()),null!=(s=this.textArea)&&s.SetTextHorizontalAlign_jdpdm8$(lo()),null!=(l=this.textArea)&&l.SetFadeMode_za3lpa$(1),this.view.SetFontSize_mx4ult$();var S=-1,k={v:0};h=et(this.menuDimension.height)-1|0;for(var w=0;w<=h;w++){u=et(this.menuDimension.width)-1|0;for(var x=0;x<=u;x++){var C=x+Ke.imul(w,et(this.menuDimension.width))|0,z=this.items[C];if(null!=z){if(0===z.image.length)continue;var T,A=.5*this.tileSize+w*(this.tileSize+m);if(w===et(this.menuDimension.height-1)&&(A+=g),0===this.boardTile.length==!1){var G=la(_.x+x*(this.tileSize*this.tileWidthScale+v),A,Pn().value,this.boardTile,this.tileSize*this.tileWidthScale,this.tileSize);G.SetVerticalAlign_qn2em6$(io()),G.SetHorizontalAlign_jdpdm8$(so()),G.SetBlendMode_ieo8yr$(ei()),G.SetBlendFactor_mx4ult$(1),G.SetAlpha_8ca0d4$(0),this.view.GetMask().addChild_g5h3xp$(G),null!=(c=this.view.screen)&&c.actionFadeIn_hkbjms$(G,void 0,void 0,void 0,.5)}S=S+1|0;var I=.5*this.tileSize+(w-this.menuDimension.height)*(this.tileSize+m)-g-this.tileSize;if(z.type===yv())T=Zt(_.x+x*(this.tileSize*this.tileWidthScale+v),I,jn().value,z.image);else if(z.type===bv()||z.type===$v()){var N=fa(_.x+x*(this.tileSize*this.tileWidthScale+v),I,jn().value,z.image);N.SetOnOff_abhado$(z.onOff),T=N}else T=Zt(_.x+x*(this.tileSize*this.tileWidthScale+v),I,jn().value,null,Je(z.image[0]),z.fontName,void 0,20*this.view.sizeScale.yRatio);T.SetSize_dleff0$(this.tileSize*this.tileWidthScale,this.tileSize);var O=la(0,0,void 0,"Resource/UI/menu_disabled_mask",this.tileSize*this.tileWidthScale,this.tileSize);O.SetName_61zpoe$("Disabled Mask"),O.SetAlpha_8ca0d4$(0),T.addChild_g5h3xp$(O);var M=.4*this.tileSize,R=Yt.floor(M),P=.4*this.tileSize,j=la(0,0,void 0,"Resource/UI/menu_selected_mask",R,Yt.floor(P));if(j.SetName_61zpoe$("Selected Mask"),j.SetVerticalAlign_qn2em6$(ro()),j.SetHorizontalAlign_jdpdm8$(lo()),j.SetAlpha_8ca0d4$(0),T.addChild_g5h3xp$(j),T.SetMessageHandler_4mjqr2$(Tv(z,C,this,T)),this.view.GetMask().addChild_g5h3xp$(T),0===z.upperCaption.length==!1){var B=20;pl().isWatchOS(),B*=this.view.sizeScale.yRatio;var E=_a(.5*T.GetSize().width,-1*T.GetSize().height*.3,void 0,T.GetSize().width,.2*T.GetSize().height,"Number/",B,0,.5,1);T.addChild_g5h3xp$(E),E.SetShow_6taknv$(!0),E.SetHorizontalAlign_jdpdm8$(lo()),E.SetVerticalAlign_qn2em6$(ro()),E.SetTextHorizontalAlign_jdpdm8$(lo()),E.SetTextVerticalAlign_qn2em6$(io()),E.addText_r4v59z$(z.upperCaption)}if(0===z.title.length==!1){var L=20;pl().isWatchOS(),L*=this.view.sizeScale.yRatio;var F=_a(.5*T.GetSize().width,1.2*T.GetSize().height,void 0,T.GetSize().width,.2*T.GetSize().height,"Number/",L,0,.5,1);T.addChild_g5h3xp$(F),F.SetShow_6taknv$(!0),F.SetHorizontalAlign_jdpdm8$(lo()),F.SetVerticalAlign_qn2em6$(ro()),F.SetTextHorizontalAlign_jdpdm8$(lo()),F.SetTextVerticalAlign_qn2em6$(io()),F.addText_r4v59z$(z.title)}T.SetVerticalAlign_qn2em6$(io()),T.SetHorizontalAlign_jdpdm8$(so()),z.button=T,this.SetEnable_fzusl$(C,z.enable);var D={v:.5*this.tileSize+w*(this.tileSize+m)};w===(et(this.menuDimension.height)-1|0)&&(D.v+=g),null!=(d=this.view.screen)&&d.actionDelay_ab0iom$(.1*this.items.length-.05*S,void 0,Av(this,T,D,k))}else if(k.v=k.v+1|0,!0===n){var V=.5*this.tileSize+w*(this.tileSize+m);if(w===(et(this.menuDimension.height)-1|0)&&(V+=g),0===this.boardTile.length==!1){var U=la(_.x+x*(this.tileSize*this.tileWidthScale+v),V,Pn().value,this.boardTile,this.tileSize*this.tileWidthScale,this.tileSize);U.SetBlendMode_ieo8yr$(ei()),U.SetBlendFactor_mx4ult$(1),U.SetAlpha_8ca0d4$(0),this.view.GetMask().addChild_g5h3xp$(U),null!=(p=this.view.screen)&&p.actionFadeIn_hkbjms$(U,void 0,void 0,void 0,.5)}}}}},Cv.prototype.click_za3lpa$=function(e){var t,i,r,o,n=this.items[e];if(null!=n)if(n.type===yv()||n.type===Sv())if(!0===n.enable){var a=n.callback(e,!0,null);null!=a&&(this.inputEnable=!1,Ie().shared().SetInputPending_6taknv$(!0),this.drop(),null!=(t=this.view.screen)&&t.presentView_xl35ob$(a,n.fadeTime))}else n.callback(e,!1,null);else n.type===$v()?e!==this.current&&(this.toggle_za3lpa$(e),n.callback(e,n.enable,null)):n.type===bv()&&!0===n.enable&&(n.callback(e,n.enable,null),n.onOff=n.onOff===ca()?da():ca(),Ke.isType(n.button,pa)&&(Ie().shared().SetInputPending_6taknv$(!0),null!=(i=this.textArea)&&i.clearText_gam257$(.1,(r=this,o=n,function(){var e;return null!=(e=r.textArea)&&e.addText_r4v59z$(o.description[o.onOff===ca()?0:1],.3,Gv),Ze}))))},Cv.prototype.toggle_za3lpa$=function(e){var t,i,r,o,n,a,s;t=et(this.menuDimension.width)-1|0;for(var l=0;l<=t;l++){i=et(this.menuDimension.height)-1|0;for(var h=0;h<=i;h++){var u=l+Ke.imul(h,et(this.menuDimension.width))|0,c=this.items[u];if(null!=c){if(c.type!==$v())continue;if(c.group!==(null!=(r=this.items[e])?r.group:null))continue;var d=Ke.isType(n=null!=(o=this.items[u])?o.button:null,pa)?n:null;if(null!=d)if(u===e)this.SetCurrent_za3lpa$(u);else{d.SetOnOff_abhado$(da());var p=Ke.isType(a=d.findChildByName_3m52m6$("Selected Mask"),sa)?a:null;null!=p&&0<p.GetAlpha()&&null!=(s=this.view.screen)&&s.actionFadeOut_7vo5wp$(p,void 0,void 0,.2)}}}}},Cv.prototype.drop=function(){for(var e,t,i,r=-1,o=et(this.menuDimension.height)-1|0;0<=o;o--){e=et(this.menuDimension.width)-1|0;for(var n=0;n<=e;n++){var a=n+Ke.imul(o,et(this.menuDimension.width))|0,s=null!=(t=this.items[a])?t.button:null;null!=s&&(r=r+1|0,null!=(i=this.view.screen)&&i.actionDelay_ab0iom$(.02*r,void 0,Iv(this,s)))}}},Cv.$metadata$={kind:o,simpleName:"Menu",interfaces:[]},Object.defineProperty(Ov.prototype,"menu",{get:function(){return null==this.menu_zk9po$_0?T("menu"):this.menu_zk9po$_0},set:function(e){this.menu_zk9po$_0=e}}),Object.defineProperty(Ov.prototype,"particleManagerForFairy",{get:function(){return null==this.particleManagerForFairy_8rru26$_0?T("particleManagerForFairy"):this.particleManagerForFairy_8rru26$_0},set:function(e){this.particleManagerForFairy_8rru26$_0=e}}),Ov.prototype.afterAttached=function(){if(this.particleManagerForFairy=cn(this),ue(pl().GetConfigure_jyasbz$("AppLovin"),"true")){var e=pl().GetInteger_bm4lxs$("OptionClickCount",0)+1|0;pl().SetInteger_bm4lxs$("OptionClickCount",e);var t,i=!1;3<=e&&(i=!0),!0===i?!1===za().shared().showInterstitial_y8twos$((t=this,function(e){t.drawScreen()}))?this.drawScreen():(pl().SetInteger_bm4lxs$("OptionClickCount",0),pl().SetDouble_io5o9c$("PlayingTimeForAds",0),pl().SetInteger_bm4lxs$("PlayingCountForAds",0)):this.drawScreen()}else this.drawScreen()},Ov.prototype.drawScreen=function(){var e,t;ya.prototype.afterAttached.call(this),Ie().shared().SetBackgroundColor_qt1dr2$(28,28,28),null!=(e=this.screen)&&(e.isDrawTouchMark=!0),this.SetChildVerticalAlign_qn2em6$(ro()),this.SetChildHorizontalAlign_jdpdm8$(lo());var i,r=Sn().value;e:do{if(null==r){i=0;break e}if(Ke.isNumber(r)){i=it(r);break e}if("string"==typeof r)try{i=Qe(r);break e}catch(e){if(Ke.isType(e,ta)){i=0;break e}throw e}i=0}while(0);this.createSprite_591x4d$(160,240,i,"Resource/UI/Background",320,480,void 0,void 0,!1);var o=Fe(),n=zf().GetInteger_hh7mhe$(hp(),void 0,100),a=xv(["Resource/UI/IconSoundOn","Resource/UI/IconSoundOff"],void 0,[As("MENU_1"),As("MENU_2")],bv(),void 0,void 0,this.menuCallback);a.onOff=0===n?da():ca(),o.add_11rb$(a);var s=zf().GetInteger_hh7mhe$(up(),void 0,100);(a=xv(["Resource/UI/IconSFXOn","Resource/UI/IconSFXOff"],void 0,[As("MENU_3"),As("MENU_4")],bv(),void 0,void 0,this.menuCallback)).onOff=0===s?da():ca(),o.add_11rb$(a),a=wv("Resource/UI/IconTutorial",void 0,void 0,void 0,void 0,void 0,this.menuCallback),o.add_11rb$(a),ue(zf().GetString_6hosri$("platform"),"twitch")?o.add_11rb$(null):o.add_11rb$(wv("Resource/UI/IconBlindcat",void 0,void 0,void 0,void 0,void 0,this.menuCallback)),o.add_11rb$(wv("Resource/UI/IconKorean",void 0,void 0,$v(),0,void 0,this.menuCallback)),o.add_11rb$(wv("Resource/UI/IconEnglish",void 0,void 0,$v(),0,void 0,this.menuCallback)),o.add_11rb$(wv("Resource/UI/IconColorNormal",void 0,void 0,$v(),1,void 0,this.menuCallback)),o.add_11rb$(wv("Resource/UI/IconColorBlind",void 0,void 0,$v(),1,void 0,this.menuCallback)),o.add_11rb$(wv("Resource/UI/IconBatteryLow","[Color white][font MENU_/][Scale 0.5] "+As("MENU_55"),void 0,$v(),2,void 0,this.menuCallback)),o.add_11rb$(wv("Resource/UI/IconBatteryMedium","[Color white][font MENU_/][Scale 0.5] "+As("MENU_56"),void 0,$v(),2,void 0,this.menuCallback)),o.add_11rb$(wv("Resource/UI/IconBatteryHigh","[Color white][font MENU_/][Scale 0.5] "+As("MENU_57"),void 0,$v(),2,void 0,this.menuCallback)),o.add_11rb$(null);this.menu=Nv(this,this.GetSize(),ji(4,3),50,void 0,hh(o),As("MENU_5")),this.menu.prepare_1isvtk$(0,20,20);var l=zs();switch(ue(l,"kr")?this.menu.SetCurrent_za3lpa$(4):this.menu.SetCurrent_za3lpa$(5),zf().GetString_sv46oe$(_p(),void 0,"Normal")){case"Normal":this.menu.SetCurrent_za3lpa$(6);break;case"Blind":this.menu.SetCurrent_za3lpa$(7)}switch(zf().GetInteger_hh7mhe$(vp(),void 0,1)){case 0:this.menu.SetCurrent_za3lpa$(8);break;case 1:this.menu.SetCurrent_za3lpa$(9);break;case 2:this.menu.SetCurrent_za3lpa$(10)}var h=za().shared().getVersionName();null!=h&&(this.SetFontHorizontalAlign_jdpdm8$(ho()),this.SetFontVerticalAlign_qn2em6$(oo()),this.SetFontSize_mx4ult$(12),this.SetFontName_61zpoe$("Main/"),this.createLabel_17tgk7$(310,470,void 0,"Version "+h).SetSize_dleff0$(-1,20*this.sizeScale.yRatio));this.SetFontName_61zpoe$("Number/"),this.SetFontSize_mx4ult$(24),this.SetChildVerticalAlign_qn2em6$(io()),this.SetChildHorizontalAlign_jdpdm8$(ho());var u,c=this.createTextArea_pvsv9g$(310,5,void 0,320,0,0,.5,1);c.SetTextHorizontalAlign_jdpdm8$(ho()),c.SetTextVerticalAlign_qn2em6$(io());e:do{if(Ke.isNumber(20)){u=20..toString();break e}if(Ke.isChar(20)){u=20..toString();break e}u=""}while(0);c.addText_r4v59z$("[image Resource/UI/IconStar "+u+"] "+Is(Lm().shared().GetStarAmount())),c.SetName_61zpoe$("Star Amount"),Nv(this,this.GetSize(),ji(2,1),40,void 0,[wv("Resource/UI/IconBack",void 0,void 0,void 0,void 0,void 0,this.menuBackCallback),null]).prepare_1isvtk$(200,150),this.createBackgroundEffect_v32r7z$(this.particleManagerForFairy,Di(0,0,320,480)),null!=(t=this.screen)&&t.addKeydownListener_5ol7k9$("Back Key",Mv(this))},Ov.prototype.beforeDetached=function(){this.particleManagerForFairy.clearParticlePool()},Ov.prototype.update_mx4ult$=function(e){null!=this.particleManagerForFairy&&(this.particleManagerForFairy.updateObject_mx4ult$(e),this.particleManagerForFairy.projection_1s1xds$(this.size,Gi(0,0*this.sizeScale.yRatio,1e3))),ya.prototype.update_mx4ult$.call(this,e)},Ov.prototype.createBackgroundEffect_v32r7z$=function(e,t,i){var r;void 0===i&&(i=30);var o=zf().GetInteger_hh7mhe$(vp(),void 0,1);if(!(o<1)){var n=ko(20,Gi(0,0,-100),Gi(0,0,0),Gi(0,0,0),90,1600,200,50);e.SetCamera_s6wt6e$(n);var a=pl().GetPerformance();e.SetMaxParticle_za3lpa$(et(200*a)),n.projection=1,e.SetCamera_s6wt6e$(n);var s,l,h,u,k,w,c=.1;o<2&&(c=.2),this.createAction_xcdeti$("Background Effect",!0,!1,!0,void 0,c,void 0,(s=e,l=i,h=t,u=this,function(e){if(s.GetCurrentParticleCount()>l)return!0;var t=h.x+go().arc4random_uniform_za3lpa$(et(h.width)),i=h.y+go().arc4random_uniform_za3lpa$(et(h.height)),r=u.positionUniversalToDevice_xpb3zu$(t,i),o=!(r.z=100),n=ui().white_mx4ult$(1),a=go().arc4random_uniform_za3lpa$(100);return a<70&&(o=!0),a<5?n=ui().puzzleYellow_mx4ult$(1):a<6?n=ui().puzzleBlue_mx4ult$(1):a<7?n=ui().puzzleRed_mx4ult$(1):a<8?n=ui().puzzlePurple_mx4ult$(1):a<10&&(n=ui().puzzleOrange_mx4ult$(1)),s.createFairy2_emwd81$(r,5*u.sizeScale.xRatio,200*u.sizeScale.xRatio,3+go().arc4random_uniform_za3lpa$(100)/100,"Resource/UI/ParticleFairy",n,Gi(5,5,-50),Gi(40*u.sizeScale.xRatio,40*u.sizeScale.xRatio,50),200*u.sizeScale.xRatio,!0,o,wn().value,u),!0})),null!=(r=this.screen)&&r.addTouchListener_dal58m$(new Ct("Touch For Fairy",0,0,this.GetSize().width,this.GetSize().height,void 0,(k=e,w=this,function(e,t,i,r,o){var n,a;switch(r.name){case"began":for(n=k.GetObjectList().iterator();n.hasNext();){var s=n.next(),l=Gi(s.screenPosition.x-e.x,s.screenPosition.y-e.y),h=l.length2D();if(h<100*w.sizeScale.xRatio){var u=1e3*w.sizeScale.xRatio-2*h;l.normalize();var c=s.movement,d=s.movement.x;c.x=Yt.abs(d)*l.normalX;var p=s.movement,f=s.movement.y;p.y=Yt.abs(f)*l.normalY,s.accel.x=u*l.normalX,s.accel.y=u*l.normalY,s.accelRetain.x=.1,s.accelRetain.y=.1,s.drag.x=50*w.sizeScale.xRatio,s.drag.y=50*w.sizeScale.xRatio}}break;case"moved":for(a=k.GetObjectList().iterator();a.hasNext();){var m=a.next(),v=Gi(m.screenPosition.x-e.x,m.screenPosition.y-e.y),g=v.length2D();if(g<100*w.sizeScale.xRatio){var _=1e3*w.sizeScale.xRatio-2*g;v.normalize();var y=m.movement,$=m.movement.x;y.x=Yt.abs($)*v.normalX;var b=m.movement,S=m.movement.y;b.y=Yt.abs(S)*v.normalY,m.accel.x=_*v.normalX,m.accel.y=_*v.normalY,m.accelRetain.x=.1,m.accelRetain.y=.1,m.drag.x=50*w.sizeScale.xRatio,m.drag.y=50*w.sizeScale.xRatio}}}})))}},Ov.$metadata$={kind:o,simpleName:"OptionView",interfaces:[ya]},Rv.prototype.afterAttached=function(){var e,t,i;null!=(e=this.screen)&&(e.isDrawTouchMark=!0),this.SetChildVerticalAlign_qn2em6$(ro()),this.SetChildHorizontalAlign_jdpdm8$(lo());var r=this.createSprite_591x4d$(160,240,Sn().value,"Resource/UI/Background",320,480,void 0,void 0,!1);r.SetVerticalAlign_qn2em6$(ro()),r.SetHorizontalAlign_jdpdm8$(lo());var o=this.createSprite_591x4d$(0,0,Cn().value,"Resource/UI/IconBeginner6x6",100,100,void 0,void 0,!1);o.SetVerticalAlign_qn2em6$(io()),o.SetHorizontalAlign_jdpdm8$(so());this.createSprite_591x4d$(0,0,Cn().value,"Resource/UI/board_mask",100,100,void 0,void 0,!1);o.SetVerticalAlign_qn2em6$(io()),o.SetHorizontalAlign_jdpdm8$(so());var n=this.createSprite_591x4d$(160,240,Sn().value,"Resource/UI/IconBeginner6x6",100,100,void 0,void 0,!1),a=this.createSprite_591x4d$(50,50,Sn().value,"Resource/UI/IconAbandon",100,100,Je(n),void 0,!1);a.SetVerticalAlign_qn2em6$(ro()),a.SetHorizontalAlign_jdpdm8$(lo());var s,l=this.createSprite_591x4d$(75,75,Sn().value,"Resource/UI/IconOk",100,100,Je(n),void 0,!1);l.SetVerticalAlign_qn2em6$(ro()),l.SetHorizontalAlign_jdpdm8$(lo()),null!=(t=this.screen)&&t.actionDelay_ab0iom$(2,void 0,(s=a,function(){return s.SetPosition_dleff0$(25,25),Ze}));var h,u,c=[wv("Resource/UI/IconBeginner",void 0,void 0,void 0,void 0,.3,Pv)];Nv(this,this.GetSize(),ji(1,1),60,void 0,c).prepare_1isvtk$(0,40,10),(h=this.createLabel_17tgk7$(0,0,void 0,"100")).SetSize_dleff0$(200,-1),h.SetVerticalAlign_qn2em6$(io()),h.SetHorizontalAlign_jdpdm8$(so()),h.SetAlpha_8ca0d4$(1),null!=(i=this.screen)&&i.actionDelay_ab0iom$(2,void 0,(u=h,function(){return u.SetText_61zpoe$("200"),u.SetSize_dleff0$(200,-1),Ze})),this.SetFontName_61zpoe$("Number/"),this.SetFontSize_mx4ult$(this.fontSize)},Rv.prototype.update_mx4ult$=function(e){ya.prototype.update_mx4ult$.call(this,e)},Rv.$metadata$={kind:o,simpleName:"TestView",interfaces:[ya]},jv.$metadata$={kind:o,simpleName:"ScriptInfo",interfaces:[]},jv.prototype.component1=function(){return this.script},jv.prototype.component2=function(){return this.intParam},jv.prototype.component3=function(){return this.floatParam},jv.prototype.component4=function(){return this.param},jv.prototype.copy_1f5klv$=function(e,t,i,r){return new jv(void 0===e?this.script:e,void 0===t?this.intParam:t,void 0===i?this.floatParam:i,void 0===r?this.param:r)},jv.prototype.toString=function(){return"ScriptInfo(script="+Ke.toString(this.script)+", intParam="+Ke.toString(this.intParam)+", floatParam="+Ke.toString(this.floatParam)+", param="+Ke.toString(this.param)+")"},jv.prototype.hashCode=function(){var e=0;return e=31*(e=31*(e=31*(e=31*e+Ke.hashCode(this.script)|0)+Ke.hashCode(this.intParam)|0)+Ke.hashCode(this.floatParam)|0)+Ke.hashCode(this.param)|0},jv.prototype.equals=function(e){return this===e||null!==e&&"object"==typeof e&&Object.getPrototypeOf(this)===Object.getPrototypeOf(e)&&Ke.equals(this.script,e.script)&&Ke.equals(this.intParam,e.intParam)&&Ke.equals(this.floatParam,e.floatParam)&&Ke.equals(this.param,e.param)},Object.defineProperty(Bv.prototype,"gameView",{get:function(){return null==this.gameView_pf9145$_0?T("gameView"):this.gameView_pf9145$_0},set:function(e){this.gameView_pf9145$_0=e}}),Object.defineProperty(Bv.prototype,"game",{get:function(){return null==this.game_d8z56e$_0?T("game"):this.game_d8z56e$_0},set:function(e){this.game_d8z56e$_0=e}}),Bv.prototype.afterAttached=function(){var e,t,i;Ie().shared().SetTitle_61zpoe$(""),Ie().shared().SetInputMode_za3lpa$(1),Ie().shared().SetBackgroundColor_qt1dr2$(28,28,28),null!=(e=this.screen)&&(e.isDrawTouchMark=!1),this.SetChildVerticalAlign_qn2em6$(ro()),this.SetChildHorizontalAlign_jdpdm8$(lo());var r,o=Sn().value;e:do{if(null==o){r=0;break e}if(Ke.isNumber(o)){r=it(o);break e}if("string"==typeof o)try{r=Qe(o);break e}catch(e){if(Ke.isType(e,ta)){r=0;break e}throw e}r=0}while(0);this.createSprite_591x4d$(160,240,r,"Resource/UI/Background",320,480,void 0,void 0,!1),Ie().shared().changeFPS_za3lpa$(30);var n,a=zf().GetString_sv46oe$(fp(),void 0,"BlocksetNumber");(za().shared().changeCurrentBlockSet_61zpoe$(a),this.createScriptExecutor(),this.createDialog(),null!=(t=this.screen)&&t.addTouchListener_dal58m$(new Ct("For Dialog",0,0,this.GetSize().width,this.GetSize().height,void 0,(n=this,function(e,t,i,r,o){ue(r,At())&&(n.touched=!0)}))),this.mode%2==0?this.TutorialSample3x3():this.mode%2==1&&this.TutorialSample6x6Item(),ue(pl().GetConfigure_jyasbz$("RecordForTutorial"),"true"))||(this.enableCancel=!0)===this.enableCancel&&Nv(this,this.GetSize(),ji(2,1),40,void 0,[wv("Resource/UI/IconBack",void 0,void 0,void 0,void 0,void 0,this.menuCallback),null]).prepare_1isvtk$(200,150);null!=(i=this.screen)&&i.addKeydownListener_5ol7k9$("Back Key",Ev(this))},Bv.prototype.beforeDetached=function(){},Bv.prototype.TutorialSample3x3=function(){this._PrepareGame_1zr7xk$(3,3,void 0,void 0,void 0,[new Int32Array([1,2,3]),new Int32Array([2,3,0]),new Int32Array([0,1,1])],new Int32Array([1,1,2,2,2,0,2,2,2,3,3,1,1,1,1,1,2,2,2,0,1,2,1,2,3,2,3,0]),void 0,!1,!1,!0),this._SetAvailableInputCount_za3lpa$(0),this._SetRegenNoMoreMove_6taknv$(!1),this._SetTransformDelay_mx4ult$(.4),this._SetMatchDelay_mx4ult$(.8),this._StartGame(),this._SetInputDisableAll_vux9f0$(),this._Dialog_g6n5q4$(As("TUTORIAL_1"),0),this._SetInputEnableList_t8430p$([new Le(0,2)]),this._ShowInputMask(),this._Dialog_g6n5q4$(As("TUTORIAL_2"),1),this._WaitIdle(),this._Delay_mx4ult$(.5),this._ShowMarkerList_t8430p$([new Le(0,2)]),this._ShowFinger_vux9f0$(0,2),this._SetAvailableInputCount_za3lpa$(1),this._WaitTouch_24o109$(1),this._HideAll(),this._DialogClear_24o109$(0),this._DialogClear_24o109$(1),this._Delay_mx4ult$(.5),this._Dialog_g6n5q4$(As("TUTORIAL_3"),0),this._SetInputDisableAll_vux9f0$(),this._SetInputEnableList_t8430p$([new Le(0,0),new Le(0,1),new Le(1,0)]),this._ShowInputMask(),this._Dialog_g6n5q4$(As("TUTORIAL_4"),1),this._WaitIdle(),this._Delay_mx4ult$(.5),this._ShowMarkerList_t8430p$([new Le(0,0),new Le(1,0),new Le(0,1)]),this._ShowFinger_vux9f0$(0,1),this._SetAvailableInputCount_za3lpa$(1),this._WaitTouch_24o109$(1),this._HideAll(),this._DialogClear_24o109$(0),this._DialogClear_24o109$(1),this._Delay_mx4ult$(.5),this._Dialog_g6n5q4$(As("TUTORIAL_5"),0),this._SetInputDisableAll_vux9f0$(),this._SetInputEnableList_t8430p$([new Le(1,0),new Le(2,0),new Le(0,1),new Le(1,1),new Le(0,2)]),this._ShowInputMask(),this._Dialog_g6n5q4$(As("TUTORIAL_6"),1),this._WaitIdle(),this._Delay_mx4ult$(.5),this._ShowMarkerList_t8430p$([new Le(1,0),new Le(2,0),new Le(0,1),new Le(1,1),new Le(0,2)]),this._ShowFinger_vux9f0$(0,2),this._SetAvailableInputCount_za3lpa$(1),this._WaitTouch_24o109$(1),this._HideAll(),this._DialogClear_24o109$(0),this._DialogClear_24o109$(1),this._Delay_mx4ult$(.5),this._Dialog_g6n5q4$(As("TUTORIAL_15"),0),this._SetInputDisableAll_vux9f0$(),this._SetInputEnableList_t8430p$([new Le(2,1),new Le(0,2)]),this._ShowInputMask(),this._Dialog_g6n5q4$(As("TUTORIAL_16"),1),this._WaitIdle(),this._Delay_mx4ult$(.5),this._ShowMarkerList_t8430p$([new Le(2,1),new Le(0,2)]),this._ShowFinger_vux9f0$(2,1),this._SetAvailableInputCount_za3lpa$(1),this._WaitTouchAll_24o109$(1),this._SetAvailableInputCount_za3lpa$(0),this._HideAll(),this._DialogClear_24o109$(0),this._DialogClear_24o109$(1),this._Delay_mx4ult$(.5),this._Dialog_g6n5q4$(As("TUTORIAL_7"),0),this._SetInputDisableAll_vux9f0$(),this._SetInputEnableList_t8430p$([new Le(0,2),new Le(1,1),new Le(1,2),new Le(2,1)]),this._ShowInputMask(),this._Dialog_g6n5q4$(As("TUTORIAL_8"),1),this._WaitIdle(),this._Delay_mx4ult$(.5),this._ShowMarkerList_t8430p$([new Le(1,1),new Le(1,2)]),this._ShowFinger_vux9f0$(1,1),this._SetAvailableInputCount_za3lpa$(1),this._WaitTouch_24o109$(1),this._HideAll(),this._DialogClear_24o109$(0),this._DialogClear_24o109$(1),this._Delay_mx4ult$(.5),this._DialogClear_24o109$(0),this._DialogClear_24o109$(1),this._Dialog_g6n5q4$(As("TUTORIAL_11"),0),this._SetInputDisableAll_vux9f0$(),this._SetInputEnableList_t8430p$([new Le(0,0),new Le(0,1),new Le(1,1),new Le(1,2),new Le(2,2)]),this._ShowInputMask(),this._Dialog_g6n5q4$(As("TUTORIAL_12"),1),this._WaitIdle(),this._Delay_mx4ult$(.5),this._ShowMarkerList_t8430p$([new Le(0,0),new Le(0,1),new Le(1,1),new Le(1,2),new Le(2,2)]),this._ShowFinger_vux9f0$(1,1),this._SetAvailableInputCount_za3lpa$(1),this._WaitTouch_24o109$(1),this._HideAll(),this._Delay_mx4ult$(3),this._DialogClear_24o109$(0,.5),this._DialogClear_24o109$(1,.5),this._SetFadeDuration_mx4ult$(1),this._RemoveGame(),this._Dialog_g6n5q4$(As("TUTORIAL_13"),void 0,.5),this._Delay_mx4ult$(1),this._ExitTutorial(),this._Delay_mx4ult$(.5),this._Dialog_g6n5q4$(As("TUTORIAL_14"),1)},Bv.prototype.TutorialSample6x6Item=function(){this._PrepareGame_1zr7xk$(4,4,5,void 0,!0,[new Int32Array([3,1001,2,0]),new Int32Array([0,0,1,1]),new Int32Array([4,0,0,4]),new Int32Array([4,2,4,4])],void 0,new Int32Array([101,103,102]),!1,!1,!0),this._SetAvailableInputCount_za3lpa$(0),this._SetRegenNoMoreMove_6taknv$(!1),this._SetTransformDelay_mx4ult$(.4),this._SetMatchDelay_mx4ult$(.8),this._StartGame(),this._SetInputDisableAll_vux9f0$(),this._Delay_mx4ult$(.5),this._Dialog_g6n5q4$(As("TUTORIAL_17"),0),this._SetInputDisableAll_vux9f0$(),this._SetInputEnableList_t8430p$([new Le(1,0)]),this._ShowInputMask(),this._Dialog_g6n5q4$(As("TUTORIAL_18"),1),this._WaitIdle(),this._Delay_mx4ult$(.5),this._ShowMarkerList_t8430p$([new Le(1,0)]),this._ShowFinger_vux9f0$(1,0),this._SetAvailableInputCount_za3lpa$(1),this._WaitTouchAll_24o109$(1),this._SetAvailableInputCount_za3lpa$(0),this._HideAll(),this._DialogClear_24o109$(0),this._DialogClear_24o109$(1),this._Delay_mx4ult$(.5),this._Dialog_g6n5q4$(As("TUTORIAL_9"),0),this._SetInputDisableAll_vux9f0$(),this._SetInputEnableList_t8430p$([new Le(0,1),new Le(1,1),new Le(1,2),new Le(2,2)]),this._ShowInputMask(),this._Dialog_g6n5q4$(As("TUTORIAL_10"),1),this._AddBlock_q5rwfd$(new Int32Array([3,1004,1,3,0])),this._WaitIdle(),this._Delay_mx4ult$(.5),this._ShowMarkerList_t8430p$([new Le(0,1),new Le(1,1),new Le(1,2),new Le(2,2)]),this._ShowFinger_vux9f0$(2,2),this._SetAvailableInputCount_za3lpa$(1),this._WaitTouch_24o109$(1),this._HideAll(),this._Delay_mx4ult$(.5),this._SetInputDisableAll_vux9f0$(),this._SetInputEnableList_t8430p$([new Le(0,0),new Le(0,1),new Le(1,1)]),this._Delay_mx4ult$(.5),this._ShowInputMask(),this._WaitIdle(),this._Delay_mx4ult$(.5),this._ShowMarkerList_t8430p$([new Le(0,0),new Le(0,1)]),this._ShowFinger_vux9f0$(0,1),this._SetAvailableInputCount_za3lpa$(1),this._AddBlock_q5rwfd$(new Int32Array([3,1002,1,3,1002])),this._WaitTouch_24o109$(1),this._HideAll(),this._Delay_mx4ult$(.5),this._SetInputDisableAll_vux9f0$(),this._SetInputEnableList_t8430p$([new Le(0,1),new Le(1,1),new Le(1,2),new Le(2,2)]),this._Delay_mx4ult$(.5),this._ShowInputMask(),this._WaitIdle(),this._Delay_mx4ult$(.5),this._ShowMarkerList_t8430p$([new Le(0,1),new Le(1,1),new Le(1,2),new Le(2,2)]),this._ShowFinger_vux9f0$(1,1),this._SetAvailableInputCount_za3lpa$(1),this._AddBlock_q5rwfd$(new Int32Array([0,0,0,1003,2,3,2])),this._WaitTouch_24o109$(1),this._HideAll(),this._DialogClear_24o109$(0),this._DialogClear_24o109$(1),this._Delay_mx4ult$(.5),this._Dialog_g6n5q4$(As("TUTORIAL_21"),0),this._Dialog_g6n5q4$(As("TUTORIAL_29"),1),this._SetInputDisableAll_vux9f0$(),this._SetInputEnableList_t8430p$([new Le(2,3),new Le(3,2),new Le(3,3)]),this._Delay_mx4ult$(.5),this._ShowInputMask(),this._WaitIdle(),this._Delay_mx4ult$(.5),this._ShowMarkerList_t8430p$([new Le(2,3),new Le(3,2),new Le(3,3)]),this._ShowFinger_vux9f0$(3,3),this._SetAvailableInputCount_za3lpa$(1),this._AddBlock_q5rwfd$(new Int32Array([2,0,1,0,1001])),this._WaitTouch_24o109$(1),this._HideAll(),this._DialogClear_24o109$(0),this._DialogClear_24o109$(1),this._Delay_mx4ult$(.5),this._Dialog_g6n5q4$(As("TUTORIAL_22"),0),this._SetInputDisableAll_vux9f0$(),this._SetInputEnableList_t8430p$([new Le(3,3)]),this._Delay_mx4ult$(.5),this._ShowInputMask(),this._WaitIdle(),this._Delay_mx4ult$(.5),this._ShowMarkerList_t8430p$([new Le(3,3)]),this._ShowFinger_vux9f0$(3,3),this._SetAvailableInputCount_za3lpa$(1),this._AddBlock_q5rwfd$(new Int32Array([2,2,3,3,3])),this._WaitTouch_24o109$(1),this._HideAll(),this._DialogClear_24o109$(0),this._Delay_mx4ult$(.5),this._Dialog_g6n5q4$(As("TUTORIAL_23"),0),this._Dialog_g6n5q4$(As("TUTORIAL_30"),1),this._SetInputDisableAll_vux9f0$(),this._SetInputEnableList_t8430p$([new Le(0,0),new Le(0,1),new Le(1,0)]),this._Delay_mx4ult$(.5),this._ShowInputMask(),this._WaitIdle(),this._Delay_mx4ult$(.5),this._ShowMarkerList_t8430p$([new Le(0,0),new Le(0,1),new Le(1,0)]),this._ShowFinger_vux9f0$(0,1),this._SetAvailableInputCount_za3lpa$(1),this._AddBlock_q5rwfd$(new Int32Array([1,0,0,3,2,3])),this._WaitTouch_24o109$(1),this._HideAll(),this._DialogClear_24o109$(0),this._DialogClear_24o109$(1),this._Delay_mx4ult$(.5),this._Dialog_g6n5q4$(As("TUTORIAL_24"),0),this._SetInputDisableAll_vux9f0$(),this._SetInputEnableList_t8430p$([new Le(0,3)]),this._Delay_mx4ult$(.5),this._ShowInputMask(),this._WaitIdle(),this._Delay_mx4ult$(.5),this._ShowMarkerList_t8430p$([new Le(0,3)]),this._ShowFinger_vux9f0$(0,3),this._SetAvailableInputCount_za3lpa$(1),this._AddBlock_q5rwfd$(new Int32Array([1,3,2])),this._WaitTouch_24o109$(1),this._HideAll(),this._DialogClear_24o109$(0),this._Delay_mx4ult$(.5),this._Dialog_g6n5q4$(As("TUTORIAL_25"),0),this._Dialog_g6n5q4$(As("TUTORIAL_31"),1),this._SetInputDisableAll_vux9f0$(),this._SetInputEnableList_t8430p$([new Le(1,2)]),this._Delay_mx4ult$(.5),this._ShowInputMask(),this._WaitIdle(),this._Delay_mx4ult$(.5),this._ShowMarkerList_t8430p$([new Le(1,2)]),this._ShowFinger_vux9f0$(1,2),this._SetAvailableInputCount_za3lpa$(1),this._AddBlock_q5rwfd$(new Int32Array([2,1e3,1,2,3,2,2,1])),this._WaitTouch_24o109$(1),this._HideAll(),this._DialogClear_24o109$(0),this._DialogClear_24o109$(1),this._Delay_mx4ult$(.5),this._Dialog_g6n5q4$(As("TUTORIAL_26"),0),this._SetInputDisableAll_vux9f0$(),this._SetInputEnableList_t8430p$([new Le(1,2)]),this._Delay_mx4ult$(.5),this._ShowInputMask(),this._WaitIdle(),this._Delay_mx4ult$(.5),this._ShowMarkerList_t8430p$([new Le(1,2)]),this._ShowFinger_vux9f0$(1,2),this._SetAvailableInputCount_za3lpa$(1),this._AddBlock_q5rwfd$(new Int32Array([1,3,3,1,1,0,2,1,1])),this._WaitTouch_24o109$(1),this._HideAll(),this._DialogClear_24o109$(0),this._Delay_mx4ult$(.5),this._Dialog_g6n5q4$(As("TUTORIAL_27"),0),this._Dialog_g6n5q4$(As("TUTORIAL_32"),1),this._SetInputDisableAll_vux9f0$(),this._SetInputEnableList_t8430p$([new Le(2,1)]),this._Delay_mx4ult$(.5),this._ShowInputMask(),this._WaitIdle(),this._Delay_mx4ult$(.5),this._ShowMarkerList_t8430p$([new Le(2,1)]),this._ShowFinger_vux9f0$(2,1),this._SetAvailableInputCount_za3lpa$(1),this._AddBlock_q5rwfd$(new Int32Array([1003,1001,1002,2,1003,1,1e3,0,1002,1])),this._WaitTouch_24o109$(1),this._HideAll(),this._DialogClear_24o109$(0),this._DialogClear_24o109$(1),this._Delay_mx4ult$(.5),this._Dialog_g6n5q4$(As("TUTORIAL_28"),0),this._SetInputDisableAll_vux9f0$(),this._SetInputEnableList_t8430p$([new Le(2,3)]),this._Delay_mx4ult$(.5),this._ShowInputMask(),this._WaitIdle(),this._Delay_mx4ult$(.5),this._ShowMarkerList_t8430p$([new Le(2,3)]),this._ShowFinger_vux9f0$(2,3),this._SetAvailableInputCount_za3lpa$(1),this._AddBlock_q5rwfd$(new Int32Array([3,1,2,2,3,1,0,3,2])),this._WaitTouch_24o109$(1),this._HideAll(),this._DialogClear_24o109$(0),this._Delay_mx4ult$(3),this._DialogClear_24o109$(0,.5),this._DialogClear_24o109$(1,.5),this._SetFadeDuration_mx4ult$(1),this._RemoveGame(),this._Dialog_g6n5q4$(As("TUTORIAL_20"),void 0,.5),this._Delay_mx4ult$(1),this._Exit6x6Tutorial(),this._Delay_mx4ult$(.5),this._Dialog_g6n5q4$(As("TUTORIAL_14"),1)},Bv.prototype.showPlayButton=function(){var e,t,i=wv("Resource/UI/IconPlay",void 0,void 0,void 0,void 0,void 0,Fv(this)),r=Nv(this,this.GetSize(),ji(1,1),60,void 0,[i]);r.prepare_1isvtk$(0,0),null!=(e=this.screen)&&e.addKeydownListener_5ol7k9$("Play",(t=r,function(e){return e===Bt().ENTER&&(t.click_za3lpa$(0),!0)}))},Bv.prototype.createDialog=function(){var t,e=As("TUTORIAL_FONT_SIZE");e:do{if(null==e){t=0;break e}if(Ke.isNumber(e)){t=it(e);break e}if("string"==typeof e)try{t=Qe(e);break e}catch(e){if(Ke.isType(e,ta)){t=0;break e}throw e}t=0}while(0);var i=t;null!=i?this.SetFontSize_mx4ult$(i):this.SetFontSize_mx4ult$(26),this.SetFontName_61zpoe$("Main/");var r=2;ue(As("TUTORIAL_TEXT_WRAP_TYPE"),"CHARACTER")&&(r=1),this.SetFontName_61zpoe$("TUTORIAL_/");var o=this.createTextArea_pvsv9g$(160,120,void 0,240,120,0,.5,1,void 0,void 0,r);this.textArea.add_11rb$(o),this.textArea.get_za3lpa$(0).SetVerticalAlign_qn2em6$(oo()),this.textArea.get_za3lpa$(0).SetHorizontalAlign_jdpdm8$(lo()),this.textArea.get_za3lpa$(0).SetTextVerticalAlign_qn2em6$(ro()),this.textArea.get_za3lpa$(0).SetTextHorizontalAlign_jdpdm8$(lo()),this.SetFontColor_3nzkge$();var n,a=As("TUTORIAL_FONT_SIZE2");e:do{if(null==a){n=0;break e}if(Ke.isNumber(a)){n=it(a);break e}if("string"==typeof a)try{n=Qe(a);break e}catch(e){if(Ke.isType(e,ta)){n=0;break e}throw e}n=0}while(0);null!=(i=n)?this.SetFontSize_mx4ult$(i):this.SetFontSize_mx4ult$(24),o=this.createTextArea_pvsv9g$(160,380,void 0,240,0,0,.5,1,void 0,void 0,r),this.textArea.add_11rb$(o),this.textArea.get_za3lpa$(1).SetVerticalAlign_qn2em6$(io()),this.textArea.get_za3lpa$(1).SetHorizontalAlign_jdpdm8$(lo()),this.textArea.get_za3lpa$(1).SetTextVerticalAlign_qn2em6$(ro()),this.textArea.get_za3lpa$(1).SetTextHorizontalAlign_jdpdm8$(lo()),this.SetFontSize_mx4ult$()},Bv.prototype.createScriptExecutor=function(){var r;this.createAction_xcdeti$("Script Executor",void 0,void 0,void 0,void 0,void 0,void 0,(r=this,function(e){if(0===e.elapsed)return!1;if(!1===r.scriptFire)for(;r.scriptCurrent<r.scriptList.size;){var t=r.scriptList.get_za3lpa$(r.scriptCurrent);r.scriptCurrent=r.scriptCurrent+1|0;var i=t.script(r.lastResult,t.intParam,t.floatParam,t.param,Dv(r));if(!1!==i.first){r.scriptFire=!0;break}r.lastResult=i.second}return!0}))},Bv.prototype.addScript_lak2mh$=function(e,t,i,r){void 0===e&&(e=0),void 0===t&&(t=0),void 0===i&&(i=[]),this.scriptList.add_11rb$(new jv(r,e,t,i))},Bv.prototype._Label_61zpoe$=function(e){var t=this.scriptLabel,i=this.scriptList.size;t.put_xwzc9p$(e,i)},Bv.prototype._IfLastResultTrueThen_61zpoe$=function(e){var a,s;this.addScript_lak2mh$(void 0,void 0,void 0,(a=this,s=e,function(e,t,i,r,o){var n=a.scriptLabel.get_11rb$(s);return null!=n?(0===a.lastResult&&(a.scriptCurrent=n),new Le(!1,0)):new Le(!1,-1)}))},Bv.prototype._IfLastResultFalseThen_61zpoe$=function(e){var a,s;this.addScript_lak2mh$(void 0,void 0,void 0,(a=this,s=e,function(e,t,i,r,o){var n=a.scriptLabel.get_11rb$(s);return null!=n?(0!==a.lastResult&&(a.scriptCurrent=n),new Le(!1,0)):new Le(!1,-1)}))},Bv.prototype._IfLessThen_19mbxw$=function(e,t){var a,s,l;this.addScript_lak2mh$(void 0,void 0,void 0,(a=this,s=t,l=e,function(e,t,i,r,o){var n=a.scriptLabel.get_11rb$(s);return null!=n?(a.lastResult<l&&(a.scriptCurrent=n),new Le(!1,0)):new Le(!1,-1)}))},Bv.prototype._IfGreaterThen_19mbxw$=function(e,t){var a,s,l;this.addScript_lak2mh$(void 0,void 0,void 0,(a=this,s=t,l=e,function(e,t,i,r,o){var n=a.scriptLabel.get_11rb$(s);return null!=n?(a.lastResult>l&&(a.scriptCurrent=n),new Le(!1,0)):new Le(!1,-1)}))},Bv.prototype._IfEqualThen_19mbxw$=function(e,t){var a,s,l;this.addScript_lak2mh$(void 0,void 0,void 0,(a=this,s=t,l=e,function(e,t,i,r,o){var n=a.scriptLabel.get_11rb$(s);return null!=n?(a.lastResult===l&&(a.scriptCurrent=n),new Le(!1,0)):new Le(!1,-1)}))},Bv.prototype._Goto_61zpoe$=function(e){var a,s;this.addScript_lak2mh$(void 0,void 0,void 0,(a=this,s=e,function(e,t,i,r,o){var n=a.scriptLabel.get_11rb$(s);return null!=n?(a.scriptCurrent=n,new Le(!1,0)):new Le(!1,-1)}))},Bv.prototype._Delay_mx4ult$=function(e){this.addScript_lak2mh$(void 0,e,void 0,Vv(this))},Bv.prototype._ShowMask=function(){},Bv.prototype._HideMask=function(){},Bv.prototype._SetFadeDuration_mx4ult$=function(e){var n,a;void 0===e&&(e=0),this.addScript_lak2mh$(void 0,void 0,void 0,(n=e,a=this,function(e,t,i,r,o){return a.fadeDuration=n,new Le(!1,0)}))},Bv.prototype._WaitForTouch=function(){var s;this.addScript_lak2mh$(void 0,void 0,void 0,(s=this,function(e,t,i,r,o){var n,a;return s.touched=!1,s.createAction_xcdeti$("Wait for touch",void 0,void 0,void 0,void 0,void 0,void 0,(n=s,a=o,function(e){return!0!==n.touched||(a(0),!1)})),new Le(!0,0)}))},Bv.prototype._Dialog_g6n5q4$=function(e,t,i,r){var o,n,a,s,l;(void 0===t&&(t=0),void 0===i&&(i=.2),void 0===r&&(r=!0),ue(pl().GetConfigure_jyasbz$("RecordForTutorial"),"true"))||this.addScript_lak2mh$(void 0,void 0,[Ke.isType(o=e,b)?o:Ee()],(n=this,a=t,s=e,l=i,function(e,t,i,r,o){return n.textArea.get_za3lpa$(a).addText_r4v59z$(s,l),new Le(!1,0)}))},Bv.prototype._DialogClear_24o109$=function(e,t){void 0===e&&(e=0),void 0===t&&(t=.2),ue(pl().GetConfigure_jyasbz$("RecordForTutorial"),"true")||this.addScript_lak2mh$(void 0,void 0,void 0,Uv(this,e,t))},Bv.prototype._CloseDialog=function(){},Bv.prototype._PrepareGame_1zr7xk$=function(e,t,i,r,o,n,a,s,l,h,u){var d,p,f,m,v,g,_,y,$,b,S,k;void 0===i&&(i=4),void 0===r&&(r=3),void 0===o&&(o=!1),void 0===n&&(n=null),void 0===a&&(a=new Int32Array([])),void 0===s&&(s=new Int32Array([])),void 0===l&&(l=!1),void 0===h&&(h=!1),void 0===u&&(u=!1),this.addScript_lak2mh$(void 0,void 0,void 0,(d=this,p=e,f=t,m=i,v=r,g=o,_=n,y=a,$=l,b=h,S=u,k=s,function(e,t,i,r,o){var n,a,s=d.size.width;e:do{if(null==s){a=0;break e}if(Ke.isNumber(s)){a=it(s);break e}if("string"==typeof s)try{a=Qe(s);break e}catch(e){if(Ke.isType(e,ta)){a=0;break e}throw e}a=0}while(0);var l,h=a,u=d.size.height;e:do{if(null==u){l=0;break e}if(Ke.isNumber(u)){l=it(u);break e}if("string"==typeof u)try{l=Qe(u);break e}catch(e){if(Ke.isType(e,ta)){l=0;break e}throw e}l=0}while(0);var c=sd(Di(0,0,h,l));return c.adjustTileSize(),c.width=p,c.height=f,c.kindOfNumber=m,c.minOfComplete=v,5===m&&(c.indexOfGroup=new Int32Array([0,0,0,0,0,-1]),c.startOfGroup=new Int32Array([0]),c.countOfGroup=new Int32Array([5]),c.amountOfNirvana=10),!0===g&&(c.itemTable=new Int32Array([-1,-1,-1,-1,-1,-1,101,103,102,104,100]),c.obstacleType=1),d.game=Ec(c),d.game.SetBoardIndex_3oypbd$(_,y,void 0,$,b,S),d.game.item=J(k),d.game.quality=zf().GetInteger_hh7mhe$(vp(),void 0,1),d.gameView=$a(),d.gameView.positionScale=fr().copy_3fer1j$(d.positionScale),d.gameView.sizeScale=fr().copy_3fer1j$(d.sizeScale),d.gameView.SetSize_dleff0$(d.size.width,d.size.height),d.addChild_g5h3xp$(d.gameView),d.gameView.SetMasterAlpha_mx4ult$(0),null!=(n=d.screen)&&n.actionFadeIn_hkbjms$(d.gameView,void 0,void 0,void 0,d.fadeDuration,!0),d.game.initGame_g5c4ga$(d.gameView),new Le(!1,0)}))},Bv.prototype._StartGame=function(){var n;this.addScript_lak2mh$(void 0,void 0,void 0,(n=this,function(e,t,i,r,o){return n.game.generateBoard(),n.game.start(),new Le(!1,0)}))},Bv.prototype._SetBoard_tgidkk$=function(e,t,i,r,o){var n,a,s,l,h,u;void 0===e&&(e=null),void 0===t&&(t=new Int32Array([])),void 0===i&&(i=!1),void 0===r&&(r=!1),void 0===o&&(o=!1),this.addScript_lak2mh$(void 0,void 0,void 0,(n=this,a=e,s=t,l=i,h=r,u=o,function(e,t,i,r,o){return n.game.SetBoardIndex_3oypbd$(a,s,void 0,l,h,u),new Le(!1,0)}))},Bv.prototype._AddBlock_q5rwfd$=function(e){var n,a;void 0===e&&(e=new Int32Array([])),this.addScript_lak2mh$(void 0,void 0,void 0,(n=this,a=e,function(e,t,i,r,o){return n.game.addBlock_q5rwfd$(a),new Le(!1,0)}))},Bv.prototype._SetRegenNoMoreMove_6taknv$=function(e){var n,a;this.addScript_lak2mh$(void 0,void 0,void 0,(n=this,a=e,function(e,t,i,r,o){return n.game.SetRegenNoMoreMove_6taknv$(a),new Le(!1,0)}))},Bv.prototype._SetJustDrop_vux9f0$=function(e,t){var n,a,s;void 0===t&&(t=-1),this.addScript_lak2mh$(void 0,void 0,void 0,(n=this,a=e,s=t,function(e,t,i,r,o){return n.game.SetJustDrop_vux9f0$(a,s),new Le(!1,0)}))},Bv.prototype._RegenerateBoard=function(){var n;this.addScript_lak2mh$(void 0,void 0,void 0,(n=this,function(e,t,i,r,o){return n.game.dropOffAllBlock(),n.game.regenAllBlock_za3lpa$(-9),new Le(!1,0)}))},Bv.prototype._PauseGame=function(){var n;this.addScript_lak2mh$(void 0,void 0,void 0,(n=this,function(e,t,i,r,o){return n.game.isPaused=!0,new Le(!1,0)}))},Bv.prototype._ResumeGame=function(){var n;this.addScript_lak2mh$(void 0,void 0,void 0,(n=this,function(e,t,i,r,o){return n.game.isPaused=!1,new Le(!1,0)}))},Bv.prototype._RemoveGame=function(){this.addScript_lak2mh$(void 0,void 0,void 0,qv(this))},Bv.prototype._WaitTouch_24o109$=function(e,t){void 0===e&&(e=1),void 0===t&&(t=-1),this.addScript_lak2mh$(void 0,void 0,void 0,Hv(this,t,e))},Bv.prototype._WaitTouchAll_24o109$=function(e,t){void 0===e&&(e=1),void 0===t&&(t=-1),this.addScript_lak2mh$(void 0,void 0,void 0,Wv(this,t,e))},Bv.prototype._WaitIdle=function(){this.addScript_lak2mh$(void 0,void 0,void 0,Yv(this))},Bv.prototype._WaitCountWithType_ssiet8$=function(e,t){void 0===e&&(e=new Int32Array([0,0,0,0])),void 0===t&&(t=-1),this.addScript_lak2mh$(void 0,void 0,void 0,Xv(this,t,e))},Bv.prototype._WaitCountWithTypeOR_ssiet8$=function(e,t){void 0===e&&(e=new Int32Array([0,0,0,0])),void 0===t&&(t=-1),this.addScript_lak2mh$(void 0,void 0,void 0,Kv(this,t,e))},Bv.prototype._ResetCountWithType=function(){var s;this.addScript_lak2mh$(void 0,void 0,void 0,(s=this,function(e,t,i,r,o){var n;n=Je(s.game).gameValue.clearBlockType;for(var a=0;a!==n.length;++a)Je(s.game).gameValue.clearBlockType[a]=0;return new Le(!1,0)}))},Bv.prototype._CheckLastIncrease_vux9f0$=function(e,t){this.addScript_lak2mh$(void 0,void 0,void 0,Zv(this,e,t))},Bv.prototype._GetMatchCount=function(){this.addScript_lak2mh$(void 0,void 0,void 0,Qv(this))},Bv.prototype._ClearMatchCount=function(){this.addScript_lak2mh$(void 0,void 0,void 0,Jv(this))},Bv.prototype._Image_r9p8je$=function(e,t,i,r,o,n,a,s,l){var h,u,c,d,p,f,m,v,g,_;void 0===i&&(i=Pn()),void 0===o&&(o=1),void 0===n&&(n=-1),void 0===a&&(a=-1),void 0===s&&(s=0),void 0===l&&(l=""),this.addScript_lak2mh$(void 0,void 0,void 0,(h=this,u=e,c=t,d=i,p=r,f=n,m=a,v=l,g=o,_=s,function(e,t,i,r,o){var n;h.SetChildHorizontalAlign_jdpdm8$(lo()),h.SetChildVerticalAlign_qn2em6$(ro());var a=h.createSprite_9wuqyc$(u,c,d,p,f,m);return a.SetName_61zpoe$(v),a.SetVerticalAlign_qn2em6$(ro()),a.SetHorizontalAlign_jdpdm8$(lo()),a.SetAlpha_8ca0d4$(g),a.SetRotation_mx4ult$(_),(f<0||m<0)&&a.SetSize_dleff0$(a.GetSize().width*Je(h.screen).sizeScale.GetConstraintSmall(),a.GetSize().height*Je(h.screen).sizeScale.GetConstraintSmall()),null!=(n=h.screen)&&n.addChild_g5h3xp$(a),h.imageList.add_11rb$(a),new Le(!1,0)}))},Bv.prototype._FadeIn_9sobi5$=function(e,t){var d,p,f;void 0===t&&(t=1),this.addScript_lak2mh$(void 0,void 0,void 0,(d=this,p=e,f=t,function(e,t,i,r,o){var n,a,s,l,h,u=null!=(n=d.screen)?n.findChildByName_3m52m6$(p):null;if(null!=u){var c=Ke.isType(a=u,po)?a:null;null!=c&&c.addUpdateCallback_sds54w$(void 0,void 0,void 0,void 0,f,void 0,(s=o,l=c,h=f,function(e){return 0===e.elapsed?(s(0),!1):(l.SetAlpha_8ca0d4$(l.GetAlpha()+e.elapsed/h),!0)}))}else o(-1);return new Le(!0,0)}))},Bv.prototype._FadeOut_9sobi5$=function(e,t){var d,p,f;void 0===t&&(t=1),this.addScript_lak2mh$(void 0,void 0,void 0,(d=this,p=e,f=t,function(e,t,i,r,o){var n,a,s,l,h,u=null!=(n=d.screen)?n.findChildByName_3m52m6$(p):null;if(null!=u){var c=Ke.isType(a=u,po)?a:null;null!=c&&c.addUpdateCallback_sds54w$(void 0,void 0,void 0,void 0,f,void 0,(s=o,l=c,h=f,function(e){return 0===e.elapsed?(s(0),!1):(l.SetAlpha_8ca0d4$(l.GetAlpha()-e.elapsed/h),!0)}))}else o(-1);return new Le(!0,0)}))},Bv.prototype._RemoveNode_61zpoe$=function(e){var l,h;this.addScript_lak2mh$(void 0,void 0,void 0,(l=this,h=e,function(e,t,i,r,o){var n,a,s=Ke.isType(a=null!=(n=l.screen)?n.findChildByName_3m52m6$(h):null,po)?a:null;return null!=s&&s.removeFromParent(),new Le(!1,0)}))},Bv.prototype._NodeBounce_d4hbt5$=function(e,t,i,r,o,n,a){var p,f,m,v,g,_,y,$;void 0===t&&(t=Gi()),void 0===i&&(i=Gi()),void 0===r&&(r=Gi()),void 0===o&&(o=Gi()),void 0===n&&(n=Gi(1,1)),void 0===a&&(a=-1),this.addScript_lak2mh$(void 0,void 0,void 0,(p=this,f=e,m=t,v=i,g=r,_=o,y=n,$=a,function(e,t,i,r,o){var n,a,s,l,h,u=Ke.isType(a=null!=(n=p.screen)?n.findChildByName_3m52m6$(f):null,po)?a:null;if(null!=u){var c=fn(m.x,v.x,g.x,_.x,y.x),d=fn(m.y,v.y,g.y,_.y,y.y);c.SetScale_mx4ult$(Je(p.screen).sizeScale.GetConstraintSmall()),d.SetScale_mx4ult$(Je(p.screen).sizeScale.GetConstraintSmall()),u.addUpdateCallback_sds54w$(void 0,void 0,void 0,void 0,$,void 0,(s=c,l=d,h=u,function(e){s.update_mx4ult$(e.elapsed),l.update_mx4ult$(e.elapsed);var t=s.GetPositionDelta(),i=l.GetPositionDelta();return h.SetPosition_dleff0$(h.GetPosition().x+t,h.GetPosition().y+i),!0}))}return new Le(!1,0)}))},Bv.prototype._RemoveAllImage=function(){var a;this.addScript_lak2mh$(void 0,void 0,void 0,(a=this,function(e,t,i,r,o){for(var n=a.imageList.size-1|0;0<=n;n--)a.imageList.removeAt_za3lpa$(n).removeFromParent();return new Le(!1,0)}))},Bv.prototype._ExitTutorial=function(){var n;this.addScript_lak2mh$(void 0,void 0,void 0,(n=this,function(e,t,i,r,o){return n.mode%2==0&&0===zf().GetInteger_hh7mhe$($p(),void 0,0)&&zf().SetInteger_hh7mhe$($p(),void 0,1),0===n.mode?Lm().shared().addStar_za3lpa$(10):Lm().shared().addStar_za3lpa$(0),n.showPlayButton(),new Le(!1,0)}))},Bv.prototype._Exit6x6Tutorial=function(){var n;this.addScript_lak2mh$(void 0,void 0,void 0,(n=this,function(e,t,i,r,o){return n.mode%2==1&&0===zf().GetInteger_hh7mhe$(bp(),void 0,0)&&(zf().SetInteger_hh7mhe$(bp(),void 0,1),0===zf().GetInteger_hh7mhe$(yp(),void 0,0)&&zf().SetInteger_hh7mhe$(yp(),void 0,1)),1===n.mode?Lm().shared().addStar_za3lpa$(10):Lm().shared().addStar_za3lpa$(0),n.showPlayButton(),new Le(!1,0)}))},Bv.prototype._SetInputEnableAll=function(){var n;this.addScript_lak2mh$(void 0,void 0,void 0,(n=this,function(e,t,i,r,o){return n.game.SetInputEnableAll(),new Le(!1,0)}))},Bv.prototype._SetInputDisableAll_vux9f0$=function(e,t){var n,a,s;void 0===e&&(e=-1),void 0===t&&(t=-1),this.addScript_lak2mh$(void 0,void 0,void 0,(n=this,a=e,s=t,function(e,t,i,r,o){return n.game.SetInputDisableAll_vux9f0$(a,s),new Le(!1,0)}))},Bv.prototype._SetInputEnableList_t8430p$=function(e){var l,h;this.addScript_lak2mh$(void 0,void 0,void 0,(l=e,h=this,function(e,t,i,r,o){var n,a;for(n=l,a=0;a!==n.length;++a){var s=n[a];h.game.SetInputEnable_vux9f0$(s.first,s.second)}return new Le(!1,0)}))},Bv.prototype._SetInputDisable_vux9f0$=function(e,t){var n,a,s;this.addScript_lak2mh$(void 0,void 0,void 0,(n=this,a=e,s=t,function(e,t,i,r,o){return n.game.SetInputDisable_vux9f0$(a,s),new Le(!1,0)}))},Bv.prototype._ShowInputMask=function(){var n;this.addScript_lak2mh$(void 0,void 0,void 0,(n=this,function(e,t,i,r,o){return n.game.showInputMask(),new Le(!1,0)}))},Bv.prototype._HideInputMask=function(){var n;this.addScript_lak2mh$(void 0,void 0,void 0,(n=this,function(e,t,i,r,o){return n.game.hideInputMask(),new Le(!1,0)}))},Bv.prototype._SetAvailableInputCount_za3lpa$=function(e){var n,a;void 0===e&&(e=-1),this.addScript_lak2mh$(void 0,void 0,void 0,(n=this,a=e,function(e,t,i,r,o){return n.game.SetAvailableInputCount_za3lpa$(a),new Le(!1,0)}))},Bv.prototype._ShowMarkerList_t8430p$=function(e){var l,h;this.addScript_lak2mh$(void 0,void 0,void 0,(l=e,h=this,function(e,t,i,r,o){var n,a;for(n=l,a=0;a!==n.length;++a){var s=n[a];h.game.showMarker_vux9f0$(s.first,s.second)}return new Le(!1,0)}))},Bv.prototype._HideMarker=function(){var n;this.addScript_lak2mh$(void 0,void 0,void 0,(n=this,function(e,t,i,r,o){return n.game.hideMarker(),new Le(!1,0)}))},Bv.prototype._HideAll=function(){var n;this.addScript_lak2mh$(void 0,void 0,void 0,(n=this,function(e,t,i,r,o){return n.game.hideMarker(),n.game.hideFinger(),n.game.hideInputMask(),new Le(!1,0)}))},Bv.prototype._ShowFinger_vux9f0$=function(e,t){var n,a,s;this.addScript_lak2mh$(void 0,void 0,void 0,(n=this,a=e,s=t,function(e,t,i,r,o){return n.game.showFinger_vux9f0$(a,s),new Le(!1,0)}))},Bv.prototype._HideFinger=function(){var n;this.addScript_lak2mh$(void 0,void 0,void 0,(n=this,function(e,t,i,r,o){return n.game.hideFinger(),new Le(!1,0)}))},Bv.prototype._SetTransformDelay_mx4ult$=function(e){var n,a;void 0===e&&(e=.2),this.addScript_lak2mh$(void 0,void 0,void 0,(n=this,a=e,function(e,t,i,r,o){return n.game.SetTransformDelay_mx4ult$(a),new Le(!1,0)}))},Bv.prototype._SetMatchDelay_mx4ult$=function(e){var n,a;void 0===e&&(e=.2),this.addScript_lak2mh$(void 0,void 0,void 0,(n=this,a=e,function(e,t,i,r,o){return n.game.SetMatchDelay_mx4ult$(a),new Le(!1,0)}))},Bv.prototype._SetMatchEffectSpeed_mx4ult$=function(e){var n,a;void 0===e&&(e=.8),this.addScript_lak2mh$(void 0,void 0,void 0,(n=this,a=e,function(e,t,i,r,o){return n.game.SetMatchEffectSpeed_mx4ult$(a),new Le(!1,0)}))},Bv.prototype._SetDropAdjust_za3lpa$=function(e){var n,a;void 0===e&&(e=-1),this.addScript_lak2mh$(void 0,void 0,void 0,(n=this,a=e,function(e,t,i,r,o){return n.game.SetDropAdjust_za3lpa$(a),new Le(!1,0)}))},Bv.$metadata$={kind:o,simpleName:"TutorialView",interfaces:[ya]},e.UserDataHTML=he,e.RequestHandlerDummy=ce,e.main_kand9s$=de;var tg=e.com||(e.com={}),ig=tg.blindcatstudio||(tg.blindcatstudio={}),rg=ig.phantom||(ig.phantom={});rg.TouchInfo=pe,rg.GuestTexture=fe,rg.GuestTextureAtlas=me,rg.GuestNode=_e,rg.GuestScreen=ye,rg.GuestSprite=$e,rg.GuestMask=be,rg.GuestLabel=Se,Object.defineProperty(ke,"Companion",{get:Ie}),rg.HAL=ke,Object.defineProperty(Ne,"SFX",{get:Me}),Object.defineProperty(Ne,"BGM",{get:Re}),rg.SoundCategory=Ne,Object.defineProperty(Pe,"Companion",{get:qe}),rg.ResourceManager=Pe,Object.defineProperty(He,"Companion",{get:gt}),rg.TextureManager=He,Object.defineProperty(_t,"ready",{get:$t}),Object.defineProperty(_t,"running",{get:bt}),Object.defineProperty(_t,"stopRequest",{get:St}),Object.defineProperty(_t,"stop",{get:kt});var og=rg.device||(rg.device={});og.TimerState=_t,og.Timer_init_jy2voq$=xt,og.Timer=wt,Object.defineProperty(zt,"began",{get:At}),Object.defineProperty(zt,"moved",{get:Gt}),Object.defineProperty(zt,"ended",{get:It}),Object.defineProperty(zt,"cancelled",{get:Nt}),Object.defineProperty(zt,"scroll",{get:Ot}),Object.defineProperty(zt,"back",{get:Mt}),Object.defineProperty(zt,"keydown",{get:Rt}),Ct.State=zt,Object.defineProperty(Ct,"Code",{get:Bt}),og.TouchListener=Ct;var ng=rg.graphic||(rg.graphic={});ng.Animation=Et,ng.BlankNode_init_y2kzbl$=Xt,ng.BlankNode=Lt,ng.Button_init_8ajt6$=Zt,ng.Button=Kt,Object.defineProperty(Qt,"alpha",{get:ei}),Object.defineProperty(Qt,"add",{get:ti}),Object.defineProperty(Qt,"subtract",{get:ii}),Object.defineProperty(Qt,"multiply",{get:ri}),Object.defineProperty(Qt,"multiplyX2",{get:oi}),Object.defineProperty(Qt,"screen",{get:ni}),Object.defineProperty(Qt,"replace",{get:ai}),ng.BlendMode=Qt,Object.defineProperty(si,"Companion",{get:ui}),ng.Color_init_9sobi5$=ci,ng.Color_init_7b5o5w$=di,ng.Color_init_hu04m1$=pi,ng.Color=si,ng.CompositeLabel_init_amizvi$=mi,ng.CompositeLabel=fi,Object.defineProperty(vi,"Companion",{get:yi}),ng.Object3D=vi,Object.defineProperty($i,"Companion",{get:ki}),ng.Vector_init_dleff0$=wi,ng.Vector_init_g3jz9k$=xi,ng.Vector=$i,Object.defineProperty(Ci,"Companion",{get:Ai}),ng.Position_init_y2kzbl$=Gi,ng.Position=Ci,ng.Plane_init_7b5o5w$=Ni,ng.Plane=Ii,Object.defineProperty(Oi,"Companion",{get:Pi}),ng.Size_init_dleff0$=ji,ng.Size=Oi,Object.defineProperty(Bi,"Companion",{get:Fi}),ng.Rect_init_7b5o5w$=Di,ng.Rect=Bi,Object.defineProperty(Vi,"Companion",{get:fr}),ng.Scale=Vi,Object.defineProperty(mr,"touch_BEGIN",{get:gr}),Object.defineProperty(mr,"touch_DRAG",{get:_r}),Object.defineProperty(mr,"touch_END",{get:yr}),Object.defineProperty(mr,"touch_CANCEL",{get:$r}),Object.defineProperty(mr,"window_CLOSE",{get:br}),Object.defineProperty(mr,"window_CANCEL",{get:Sr}),Object.defineProperty(mr,"window_OK",{get:kr}),Object.defineProperty(mr,"window_SIZE",{get:wr}),Object.defineProperty(mr,"window_MOVE",{get:xr}),Object.defineProperty(mr,"window_SHOW",{get:Cr}),Object.defineProperty(mr,"window_HIDE",{get:zr}),Object.defineProperty(mr,"button_PRESS",{get:Tr}),Object.defineProperty(mr,"button_DISABLED_PRESS",{get:Ar}),Object.defineProperty(mr,"button_RELEASE",{get:Gr}),Object.defineProperty(mr,"button_DISABLED_RELEASE",{get:Ir}),Object.defineProperty(mr,"button_CANCEL",{get:Nr}),Object.defineProperty(mr,"button_STARTDRAG",{get:Or}),Object.defineProperty(mr,"button_DRAGGING",{get:Mr}),Object.defineProperty(mr,"button_ENDDRAG",{get:Rr}),Object.defineProperty(mr,"slider_MOVE",{get:Pr}),Object.defineProperty(mr,"move",{get:jr}),Object.defineProperty(mr,"update",{get:Br}),ng.Event=mr,ng.Message=Hr,ng.Label_init_m2pqfq$=Yr,ng.Label=Wr,ng.Mask_init_cg5jzu$=Kr,ng.Mask_init_c8qbba$=function(e,t,i,r,o,n){var a;void 0===r&&(r=0),void 0===o&&(o=!0),fo(e,t,r,n=n||Object.create(Xr.prototype)),Xr.call(n),n.delegateConvertCoordinate=o;var s=Ie().shared().createGuestMask_h2vgz3$(i);return n.addObject_s8jyv4$(Ke.isType(a=s,b)?a:Ee()),n.SetSize_dleff0$(i.GetSize().width,i.GetSize().height),n},ng.Mask=Xr,ng.MotionInfo=Zr,ng.CallbackInfo=Qr,ng.LocalVariables=Jr,Object.defineProperty(eo,"top",{get:io}),Object.defineProperty(eo,"center",{get:ro}),Object.defineProperty(eo,"bottom",{get:oo}),ng.VerticalAlign=eo,Object.defineProperty(no,"left",{get:so}),Object.defineProperty(no,"center",{get:lo}),Object.defineProperty(no,"right",{get:ho}),ng.HorizontalAlign=no,ng.Node_init_y2kzbl$=co,ng.Node=uo,ng.NodeWrapper_init_y2kzbl$=fo,ng.NodeWrapper=po,Object.defineProperty(ng,"Random",{get:go}),Object.defineProperty(_o,"Companion",{get:bo}),ng.Camera_init_u2zgyh$=So,ng.Camera_init_6a4htl$=ko,ng.Camera=_o,Object.defineProperty(wo,"Companion",{get:tn}),ng.Particle=wo,ng.Background=rn,ng.Polygon_init_6taknv$=function(e,t){return void 0===e&&(e=!0),t=t||Object.create(on.prototype),vi.call(t),on.call(t),t.isClosed=e,t},ng.Polygon_init_xiwfbb$=nn,ng.Polygon=on,ng.ParticleManager_init_b2yzb6$=cn,ng.ParticleManager=an,ng.Motion=dn,ng.Bounce_init_s2l86p$=fn,ng.Bounce=pn,ng.Wave_init_7b5o5w$=vn,ng.Wave_init_s2l86p$=gn,ng.Wave=mn,ng.HyperTan_init_y2kzbl$=yn,ng.HyperTan=_n,Object.defineProperty($n,"spaceDeep",{get:Sn}),Object.defineProperty($n,"backgroundBottom",{get:kn}),Object.defineProperty($n,"background",{get:wn}),Object.defineProperty($n,"backgroundTop",{get:xn}),Object.defineProperty($n,"gameBoardBottom",{get:Cn}),Object.defineProperty($n,"gameBoard",{get:zn}),Object.defineProperty($n,"gameBoardTop",{get:Tn}),Object.defineProperty($n,"gameTileBottom",{get:An}),Object.defineProperty($n,"gameTile",{get:Gn}),Object.defineProperty($n,"gameTileTop",{get:In}),Object.defineProperty($n,"gameEffectBottom",{get:Nn}),Object.defineProperty($n,"gameEffect",{get:On}),Object.defineProperty($n,"gameEffectTop",{get:Mn}),Object.defineProperty($n,"uiBottom",{get:Rn}),Object.defineProperty($n,"ui",{get:Pn}),Object.defineProperty($n,"uiTop",{get:jn}),Object.defineProperty($n,"uiForemost",{get:Bn}),Object.defineProperty($n,"uiModalMask",{get:En}),Object.defineProperty($n,"uiModal",{get:Ln}),Object.defineProperty($n,"parent",{get:Fn}),ng.SceneLayer=$n,Object.defineProperty(Dn,"None",{get:Un}),Object.defineProperty(Dn,"CloseButton",{get:qn}),Object.defineProperty(Dn,"OkButton",{get:Hn}),Object.defineProperty(Dn,"CancelButton",{get:Wn}),Object.defineProperty(Dn,"Sizable",{get:Yn}),Object.defineProperty(Dn,"Movable",{get:Xn}),Object.defineProperty(Dn,"Modal",{get:Kn}),Object.defineProperty(Dn,"Tab",{get:Zn}),ng.WindowProperty=Dn,r.SamsaraHTML=e,ng.Screen_init_qgvd6v$=aa,ng.Screen=Qn,ng.Sprite_init_2ls20y$=la,ng.Sprite_init_rcwdn1$=function(e,t,i,r,o,n,a){return void 0===r&&(r=0),void 0===o&&(o=-1),void 0===n&&(n=-1),fo(e,t,r,a=a||Object.create(sa.prototype)),sa.call(a),a.SetTexture_shkjqq$(i,o,n),a},ng.Sprite=sa,Object.defineProperty(ha,"on",{get:ca}),Object.defineProperty(ha,"off",{get:da}),ng.SwitchState=ha,ng.Switch_init_8ajt6$=fa,ng.Switch=pa,ng.TextArea_init_iym62m$=_a,ng.TextArea=ma,ng.View_init_y2kzbl$=$a,ng.View=ya,Object.defineProperty(ba,"Companion",{get:za});var ag=ig.samsara||(ig.samsara={});ag.AppController=ba,Object.defineProperty(ag,"localizationString",{get:function(){return bs}}),Object.defineProperty(ag,"localizationKoreanString",{get:function(){return Ss}}),Object.defineProperty(ag,"localeString",{get:function(){return ks},set:function(e){ks=e}}),Object.defineProperty(ag,"currentLocale",{get:function(){return ws},set:function(e){ws=e}}),ag.SetLocale_61zpoe$=Cs,ag.GetLocale=zs,ag.get_isEmpty_pdl1vz$=Ts,ag.local_pdl1vz$=As,ag.formatted_s8ev3n$=Is,ag.formatted_81szk$=Ns,ag.formatted_yrwdxr$=Os,ag.INT_s8jyv4$=Ms,ag.FLOAT_s8jyv4$=Rs,ag.DOUBLE_s8jyv4$=Ps,ag.STRING_za3rmp$=js,ag.INT64_za3rmp$=Bs,ag.Ref=Es,ag.Firework_init_n56ifw$=Fs,ag.Firework=Ls,ag.FireworkManager_init_iwp3ca$=Us,ag.FireworkManager=Ds,ag.CallbackEvent=qs,ag.IActivityRequestHandler=Hs,ag.UserLocalData=Ws,Object.defineProperty(Ys,"Holder",{get:Zs}),Object.defineProperty(Ys,"Companion",{get:el}),ag.UserDefaults=Ys,ag.BootLoader_init_vmfg6t$=il,ag.BootLoader=tl,ag.Samsara_init_hmf0yx$=hl,ag.Samsara=rl,Object.defineProperty(ul,"Companion",{get:pl}),ag.SystemConfigure=ul;var sg=ag.driver||(ag.driver={});sg.GuestGDXNode=fl,sg.GuestGDXTexture_init_61zpoe$=kl,sg.GuestGDXTexture_init_6hosri$=wl,sg.GuestGDXTexture=Sl,sg.GuestGDXSprite_init=Cl,sg.GuestGDXSprite_init_h2vgz3$=zl,sg.GuestGDXSprite=xl,sg.GuestGDXMask_init_h2vgz3$=Al,sg.GuestGDXMask=Tl,sg.GuestGDXLabel_init=Il,sg.GuestGDXLabel=Gl,sg.GDXGuestScene=Nl,sg.DeviceScene_init_dleff0$=Ml,sg.DeviceScene=Ol,sg.PhaserSound_init_w940ke$=Pl,sg.PhaserSound=Rl,Object.defineProperty(sg,"VOLUME_MAX",{get:function(){return gl}}),Object.defineProperty(sg,"EFFECT_CHANNEL",{get:function(){return _l}}),sg.Sound_init_7i6po5$=Bl,sg.Sound=jl,Object.defineProperty(El,"Companion",{get:ql}),sg.SoundManager=El,Object.defineProperty(Hl,"Companion",{get:Xl}),sg.Util=Hl,Object.defineProperty(Kl,"Companion",{get:th});var lg=ag.logic||(ag.logic={});lg.BoardGenerator_init_mwco6a$=oh,lg.BoardGenerator=Kl,lg.Game_init_xn0iw0$=Cc,lg.Game=nh,lg.GameState=zc,lg.GameValue=Tc,Object.defineProperty(Gc,"ready",{get:Nc}),Object.defineProperty(Gc,"running",{get:Oc}),Object.defineProperty(Gc,"paused",{get:Mc}),Object.defineProperty(Gc,"stop",{get:Rc}),Ac.State=Gc,lg.ScheduledJob=Ac,lg.ScheduledJobManager=Pc,lg.Tutorial_init_xn0iw0$=Ec,lg.Tutorial=jc,lg.TutorialBoardGenerator_init_qtznpk$=Fc,lg.TutorialBoardGenerator=Lc;var hg=lg.configure||(lg.configure={});hg.ClassicConfigureForWatch_init_g5erez$=Vc,hg.ClassicConfigureForWatch=Dc,hg.ClassicConfigureForAndroid_init_g5erez$=qc,hg.ClassicConfigureForAndroid=Uc,hg.ClassicConfigure6x6ForiOS_init_g5erez$=function(e,t){return Vc(e,t=t||Object.create(Hc.prototype)),Hc.call(t),t.modeString="Classic6x6",t.localizedModeString=As("Classic Mode 6x6"),t.needStar=10,t.comboMode=1,t.comboTimingLowest=1.5,t.kindOfNumber=5,t.minOfComplete=3,t.indexOfGroup=new Int32Array([0,0,0,0,0,-1]),t.startOfGroup=new Int32Array([0]),t.countOfGroup=new Int32Array([5]),t.obstacleMaximumNumber=36,t.checkNoMoreMatch=!0,t.itemTable=new Int32Array([-1,-1,-1,-1,-1,-1,101,102,103,104,100]),t.alternativeItemForNirvana=102,t.reactivateAfter=2,t.resetInactiveWhenFever=!1,t.amountOfNirvana=10,t.transformDelay=.12,t.matchDelay=.12,t.scorePerBlock=new Int32Array([0,10,20,30,40,60,90,120,180]),t.feverGagePerBlock=[new Float32Array([0,0,0,3,4,6,9,13,18,18])],t.topMargin=.65,t.width=6,t.height=6,t.fallingSpeed=0,t.fallingSpeedLimit=300,t.acceleration=200,t.fallingSpeedLimitForNoMoreMove=16,t.boardSize=270,t.gaugeHeightRatio=.5,t},hg.ClassicConfigure6x6ForiOS=Hc,hg.GameConfigure_init_g5erez$=Yc,hg.GameConfigure=Wc,hg.InfiniteConfigureForWatch_init_g5erez$=Kc,hg.InfiniteConfigureForWatch=Xc,hg.InfiniteConfigureForiOS_init_g5erez$=Qc,hg.InfiniteConfigureForiOS=Zc,hg.InfiniteConfigure6x6ForiOS_init_g5erez$=ed,hg.InfiniteConfigure6x6ForiOS=Jc,hg.PuzzleConfigure_init_g5erez$=function(e,t){return Yc(e,t=t||Object.create(td.prototype)),td.call(t),t.modeString="Classic",t.localizedModeString=As("Classic Mode"),t.needStar=0,t.blockDisablePeriodically=!1,t.blockDisableTime=2,t.comboMode=1,t.showHint=!1,t.limitGameTime=!0,t.gameTime=60,t.lastChance=!0,t.kindOfNumber=4,t.minOfComplete=3,t.obstacleRatio=15,t.obstacleMinimumScore=0,t.obstacleMaximumNumber=0,t.itemTable=new Int32Array([-1]),t.regenNoMoreMove=!0,t.checkNoMoreMatch=!0,t.touchInputMode=0,t.onetimeGrow=!1,t.clickOnce=!0,t.createNewBlockWithClicked=!1,t.dropBlock=!0,t.rotation=!0,t.disableChained=!0,t.dropAdjust=-1,t.fallingSpeed=0,t.fallingSpeedLimit=300,t.acceleration=160,t.transformDelay=.12,t.matchDelay=.2,t},hg.PuzzleConfigure=td,hg.TimelessConfigureForWatch_init_g5erez$=rd,hg.TimelessConfigureForWatch=id,hg.TimelessConfigureForiOS_init_g5erez$=function(e,t){return rd(e,t=t||Object.create(od.prototype)),od.call(t),t.needStar=5,t.transformDelay=.12,t.matchDelay=.15,t.scorePerBlock=new Int32Array([0,10,20,30,40,60,90,130,180,1e3]),t.acceleration=240,t.fallingSpeedLimitForNoMoreMove=16,t.topMargin=.65,t.boardSize=180,t.gaugeHeightRatio=.5,t},hg.TimelessConfigureForiOS=od,hg.TimelessConfigure6x6ForiOS_init_g5erez$=function(e,t){return rd(e,t=t||Object.create(nd.prototype)),nd.call(t),t.modeString="Timeless6x6",t.localizedModeString=As("Timeless Mode 6x6"),t.needStar=20,t.comboMode=1,t.comboTimingLowest=1.5,t.blockDisableTime=.5,t.minimumTimeForBlockDisableTime=.2,t.kindOfNumber=5,t.minOfComplete=3,t.indexOfGroup=new Int32Array([0,0,0,0,0,-1]),t.startOfGroup=new Int32Array([0]),t.countOfGroup=new Int32Array([5]),t.obstacleRatio=30,t.obstacleMinimumScore=0,t.obstacleMaximumNumber=36,t.itemTable=new Int32Array([-1,-1,-1,-1,-1,-1,101,102,103,104,100]),t.alternativeItemForNirvana=102,t.amountOfNirvana=10,t.transformDelay=.12,t.matchDelay=.1,t.scorePerBlock=new Int32Array([0,10,20,30,40,60,90,120,180]),t.feverGagePerBlock=[new Float32Array([0,0,0,3,4,6,9,13,18,18])],t.starPerFever=new Int32Array([0,1,1,1,2,3,4,5,6,7,8]),t.starForNirvanaPerFever=new Int32Array([50,50]),t.resetInactiveWhenFever=!1,t.topMargin=.65,t.width=6,t.height=6,t.acceleration=240,t.fallingSpeedLimitForNoMoreMove=16,t.boardSize=270,t.gaugeHeightRatio=.5,t},hg.TimelessConfigure6x6ForiOS=nd,hg.TutorialConfigure_init_g5erez$=sd,hg.TutorialConfigure=ad;var ug=lg.entity||(lg.entity={});ug.BlockEntity_init_hb1tdc$=pd,ug.BlockEntity=ld,ug.BlankEntity_init_hb1tdc$=function(e,t,i,r,o){Wd(e,t,i,r,o=o||Object.create(vd.prototype)),vd.call(o);var n,a=e.gameValue.blockSet+"puzzle_clear_";e:do{if(Ke.isNumber(t)){n=t.toString();break e}if("string"==typeof t){n=t;break e}if("boolean"==typeof t){n=t.toString();break e}if(Ke.isChar(t)){n=t.toString();break e}n=""}while(0);var s=a+n;return o.sprite=e.view.createSprite_vzsiy1$(o.GetRealScreenX(),o.GetRealScreenY(),o.spriteZ,s),o},ug.BlankEntity=vd,ug.EntityManager_init=_d,ug.EntityManager=gd,Object.defineProperty($d,"alive",{get:Sd}),Object.defineProperty($d,"dead",{get:kd}),yd.EntityState=$d,Object.defineProperty(wd,"bottom",{get:Cd}),Object.defineProperty(wd,"middle",{get:zd}),Object.defineProperty(wd,"top",{get:Td}),yd.ZOrder=wd,ug.GameEntity_init_hb1tdc$=Ad,ug.GameEntity=yd,ug.ItemEntity_init_mwco6a$=Id,ug.ItemEntity=Gd,ug.ReactivateItemEntity=Nd,ug.SameBombEntity=Od,ug.NearBombEntity=Md,ug.LineBombEntity=Rd,ug.ObstacleEntity_init_hb1tdc$=Bd,ug.ObstacleEntity=Pd,Object.defineProperty(Ld,"normal",{get:Dd}),Object.defineProperty(Ld,"disabled",{get:Vd}),Object.defineProperty(Ld,"hint",{get:Ud}),Object.defineProperty(Ld,"clear",{get:qd}),Ed.Attribute=Ld,ug.TileEntity_init_hb1tdc$=Wd,ug.TileEntity=Ed;var cg=ag.user||(ag.user={});cg.AndroidPlayerAchievement_init_61zpoe$=Xd,cg.AndroidPlayerAchievement=Yd,cg.AndroidPlayerRecord_init_puj7f4$=Zd,cg.AndroidPlayerRecord=Kd,Object.defineProperty(Qd,"HIGH_SCORE",{get:ep}),Object.defineProperty(Qd,"MAX_COMBO",{get:tp}),Object.defineProperty(Qd,"MAX_FEVER",{get:ip}),Object.defineProperty(Qd,"MIN_INTERVAL",{get:rp}),Object.defineProperty(Qd,"MAX_SPS",{get:op}),Object.defineProperty(Qd,"PLAY_COUNT",{get:np}),Object.defineProperty(Qd,"GHOST_REMOVAL",{get:ap}),Object.defineProperty(Qd,"SOUND_ON",{get:sp}),Object.defineProperty(Qd,"MASTER_VOLUME",{get:lp}),Object.defineProperty(Qd,"BGM_VOLUME",{get:hp}),Object.defineProperty(Qd,"EFFECT_VOLUME",{get:up}),Object.defineProperty(Qd,"LAST_PLAYED_MODE",{get:cp}),Object.defineProperty(Qd,"STAR_LAST_CHARGED_TIME",{get:dp}),Object.defineProperty(Qd,"STAR_CHARGE_START",{get:pp}),Object.defineProperty(Qd,"CURRENT_BLOCK_SET",{get:fp}),Object.defineProperty(Qd,"CURRENT_BOARD_TYPE",{get:mp}),Object.defineProperty(Qd,"BATTERY_USAGE_MODE",{get:vp}),Object.defineProperty(Qd,"CURRENT_LOCALE",{get:gp}),Object.defineProperty(Qd,"COLOR_MODE",{get:_p}),Object.defineProperty(Qd,"TUTORIAL_COMPLETE",{get:yp}),Object.defineProperty(Qd,"TUTORIAL_3_3_COMPLETE",{get:$p}),Object.defineProperty(Qd,"TUTORIAL_6_6_COMPLETE",{get:bp}),Object.defineProperty(Qd,"BEGINNER_COMBOS_5",{get:Sp}),Object.defineProperty(Qd,"BEGINNER_COMBOS_10",{get:kp}),Object.defineProperty(Qd,"BEGINNER_COMBOS_20",{get:wp}),Object.defineProperty(Qd,"BEGINNER_COMBOS_50",{get:xp}),Object.defineProperty(Qd,"BEGINNER_COMBOS_100",{get:Cp}),Object.defineProperty(Qd,"BEGINNER_COMBOS_150",{get:zp}),Object.defineProperty(Qd,"BEGINNER_50K",{get:Tp}),Object.defineProperty(Qd,"BEGINNER_100K",{get:Ap}),Object.defineProperty(Qd,"BEGINNER_200K",{get:Gp}),Object.defineProperty(Qd,"BEGINNER_1M",{get:Ip}),Object.defineProperty(Qd,"BEGINNER_2M",{get:Np}),Object.defineProperty(Qd,"BEGINNER_3M",{get:Op}),Object.defineProperty(Qd,"BEGINNER_FEVER_1",{get:Mp}),Object.defineProperty(Qd,"BEGINNER_FEVER_3",{get:Rp}),Object.defineProperty(Qd,"BEGINNER_FEVER_5",{get:Pp}),Object.defineProperty(Qd,"BEGINNER_FEVER_10",{get:jp}),Object.defineProperty(Qd,"BEGINNER_CLEAR_9",{get:Bp}),Object.defineProperty(Qd,"CLASSIC_COMBOS_10",{get:Ep}),Object.defineProperty(Qd,"CLASSIC_COMBOS_30",{get:Lp}),Object.defineProperty(Qd,"CLASSIC_FEVER_1",{get:Fp}),Object.defineProperty(Qd,"CLASSIC_FEVER_5",{get:Dp}),Object.defineProperty(Qd,"CLASSIC_100K",{get:Vp}),Object.defineProperty(Qd,"CLASSIC_300K",{get:Up}),Object.defineProperty(Qd,"CLASSIC_1500K",{get:qp}),Object.defineProperty(Qd,"CLASSIC_CLEAR_9",{get:Hp}),Object.defineProperty(Qd,"TIMELESS_MODE_OPEN",{get:Wp}),Object.defineProperty(Qd,"TIMELESS_COMBOS_50",{get:Yp}),Object.defineProperty(Qd,"TIMELESS_COMBOS_80",{get:Xp}),Object.defineProperty(Qd,"TIMELESS_COMBOS_100",{get:Kp}),Object.defineProperty(Qd,"TIMELESS_FEVER_10",{get:Zp}),Object.defineProperty(Qd,"TIMELESS_1M",{get:Qp}),Object.defineProperty(Qd,"TIMELESS_2M",{get:Jp}),Object.defineProperty(Qd,"HARDCORE_MODE_OPEN",{get:ef}),Object.defineProperty(Qd,"HARDCORE_COMBOS_60",{get:tf}),Object.defineProperty(Qd,"HARDCORE_FEVER_10",{get:rf}),Object.defineProperty(Qd,"HARDCORE_1M",{get:of}),Object.defineProperty(Qd,"GHOST_50",{get:nf}),Object.defineProperty(Qd,"GHOST_100",{get:af}),Object.defineProperty(Qd,"GHOST_150",{get:sf}),Object.defineProperty(Qd,"GHOST_200",{get:lf}),Object.defineProperty(Qd,"BEGINNER6x6_COMBOS_30",{get:hf}),Object.defineProperty(Qd,"BEGINNER6x6_COMBOS_50",{get:uf}),Object.defineProperty(Qd,"BEGINNER6x6_COMBOS_100",{get:cf}),Object.defineProperty(Qd,"BEGINNER6x6_500K",{get:df}),Object.defineProperty(Qd,"BEGINNER6x6_1M",{get:pf}),Object.defineProperty(Qd,"CLASSIC6x6_MODE_OPEN",{get:ff}),Object.defineProperty(Qd,"CLASSIC6x6_COMBOS_50",{get:mf}),Object.defineProperty(Qd,"CLASSIC6x6_1M",{get:vf}),Object.defineProperty(Qd,"TIMELESS6x6_MODE_OPEN",{get:gf}),Object.defineProperty(Qd,"TIMELESS6x6_COMBOS_100",{get:_f}),Object.defineProperty(Qd,"TIMELESS6x6_2M",{get:yf}),cg.DataKey=Qd,Object.defineProperty($f,"standard",{get:kf}),cg.KeychainWrapper=$f,Object.defineProperty(wf,"Companion",{get:zf}),cg.DataUtil=wf,Object.defineProperty(Tf,"Companion",{get:Lf}),cg.GameCenterManager=Tf,Object.defineProperty(Ff,"block",{get:Vf}),Object.defineProperty(Ff,"mode",{get:Uf}),Object.defineProperty(Ff,"gameItem",{get:qf}),Object.defineProperty(Ff,"avatar",{get:Hf}),Object.defineProperty(Ff,"board",{get:Wf}),Object.defineProperty(Ff,"End",{get:Yf}),cg.ItemType=Ff,cg.Item=Xf,cg.BasicItem_init_z8o2ev$=Qf,cg.BasicItem=Kf,cg.BlockItem_init_bivfg4$=em,cg.BlockItem=Jf,cg.BoardItem_init_li189r$=im,cg.BoardItem=tm,Object.defineProperty(rm,"Companion",{get:hm}),cg.ItemManager=rm,cg.PlayerRecord=um,cg.Achievement_init_io5o9c$=dm,cg.Achievement=cm,cg.PlayerAchievement=pm,Object.defineProperty(fm,"Companion",{get:km}),cg.PlayerRecordManager_init=wm,cg.PlayerRecordManager=fm,Object.defineProperty(xm,"EMPTY_KEY",{get:zm}),Object.defineProperty(xm,"STAR_AMOUNT",{get:Tm}),Object.defineProperty(xm,"EXP",{get:Am}),cg.PermanentKey=xm,Object.defineProperty(Gm,"Companion",{get:Lm}),cg.StoreManager=Gm;var dg=ag.view||(ag.view={});return dg.BlockTypeView=Fm,dg.GameOverView_init_53g3xe$=iv,dg.GameOverView=qm,dg.GameView_init_53g3xe$=sv,dg.GameView=rv,dg.LoadingView=lv,dg.MainMenuView=cv,Object.defineProperty(gv,"NORMAL",{get:yv}),Object.defineProperty(gv,"RADIO",{get:$v}),Object.defineProperty(gv,"SWITCH",{get:bv}),Object.defineProperty(gv,"TEXT",{get:Sv}),dg.MenuItemType=gv,dg.MenuItem_init_8jwusp$=wv,dg.MenuItem_init_whzana$=xv,dg.MenuItem=kv,dg.Menu_init_yj8n83$=Nv,dg.Menu=Cv,dg.OptionView=Ov,dg.TestView=Rv,dg.ScriptInfo=jv,dg.TutorialView_init_za3lpa$=eg,dg.TutorialView=Bv,Yd.prototype.AddAchievement_ze4fts$=pm.prototype.AddAchievement_ze4fts$,Yd.prototype.AddAchievementString_io5o9c$=pm.prototype.AddAchievementString_io5o9c$,Yd.prototype.SetPercentComplete_gspc9z$=pm.prototype.SetPercentComplete_gspc9z$,Yd.prototype.SetPercentCompleteString_1truf$=pm.prototype.SetPercentCompleteString_1truf$,Kd.prototype.SaveHighScore_3uxocb$=um.prototype.SaveHighScore_3uxocb$,Kd.prototype.LoadHighScore_3uxocb$=um.prototype.LoadHighScore_3uxocb$,Kd.prototype.SaveMaxCombo_3uxocb$=um.prototype.SaveMaxCombo_3uxocb$,Kd.prototype.LoadMaxCombo_3uxocb$=um.prototype.LoadMaxCombo_3uxocb$,Kd.prototype.SaveMaxFever_3uxocb$=um.prototype.SaveMaxFever_3uxocb$,Kd.prototype.LoadMaxFever_3uxocb$=um.prototype.LoadMaxFever_3uxocb$,Kd.prototype.SaveMinInterval_3uxocb$=um.prototype.SaveMinInterval_3uxocb$,Kd.prototype.LoadMinInterval_3uxocb$=um.prototype.LoadMinInterval_3uxocb$,Kd.prototype.SaveMaxSPS_3uxocb$=um.prototype.SaveMaxSPS_3uxocb$,Kd.prototype.LoadMaxSPS_3uxocb$=um.prototype.LoadMaxSPS_3uxocb$,bs=A([new Le("TUTORIAL_FONT_SIZE","16"),new Le("TUTORIAL_FONT_SIZE2","14"),new Le("TUTORIAL_TEXT_WRAP_TYPE","WORD"),new Le("TUTORIAL_COUNT","33"),new Le("TUTORIAL_0","HOW TO PLAY"),new Le("TUTORIAL_1","When three of the same number are straight except diagonal, it will pop."),new Le("TUTORIAL_2","Touch the 0 to change to 1"),new Le("TUTORIAL_3","Linked tiles change together."),new Le("TUTORIAL_4","Touch the 1 to change to 2"),new Le("TUTORIAL_5","2 changes to 3"),new Le("TUTORIAL_6","Touch the 2 to change to 3"),new Le("TUTORIAL_7","All linked 3 will be 0 again."),new Le("TUTORIAL_8","Touch the 3 to change it to 0"),new Le("TUTORIAL_9","Ghosts will disappear if a tile of the same color pops from the side."),new Le("TUTORIAL_10","Try to remove the ghost"),new Le("TUTORIAL_11","You can earn huge score if you pop nine tiles at once."),new Le("TUTORIAL_12","Touch the 1 to change to 2"),new Le("TUTORIAL_13","The game is over when you have no more tiles to match. Challenge your best score by making a big combo!"),new Le("TUTORIAL_14","Touch the play button to start the game"),new Le("TUTORIAL_15","Already changed tiles will not change again by touch."),new Le("TUTORIAL_16","Touch the 3"),new Le("TUTORIAL_17","Ghosts are not tied to other tiles and can not be changed."),new Le("TUTORIAL_18","Touch the ghost"),new Le("TUTORIAL_19","Touch the 1"),new Le("TUTORIAL_20","Challenge your best score by capturing as many ghosts as you can."),new Le("TUTORIAL_21","Exploding 6 tiles at once makes a LIGHTNING item.\n\n[Image Item_101_blue 25] [Image Item_101_green 25] [Image Item_101_purple 25] [Image Item_101_red 25] [Image Item_101_yellow 25]"),new Le("TUTORIAL_22","[Image Item_101_red 20] explodes all red color tiles."),new Le("TUTORIAL_23","Exploding 7 or 8 tiles at once makes a LINE BLASTING item.\n\n[Image Item_103_h 25] [Image Item_103_v 25] [Image Item_104 25]"),new Le("TUTORIAL_24","[Image Item_103_h 20] explodes all tiles except cursed ghosts in the same line."),new Le("TUTORIAL_25","Exploding 9 tiles at once makes an EXTINCTION BOMB item.\n\n[Image Item_102 25]"),new Le("TUTORIAL_26","[Image Item_102 20] explodes all surrounded tiles include ghosts."),new Le("TUTORIAL_27","Exploding more than 10 tiles at once makes an INFINITY item.\n\n[Image Item_100 25]"),new Le("TUTORIAL_28","[Image Item_100 20] explodes all ghosts and resets tiles."),new Le("TUTORIAL_29","Explode 6 tiles at once"),new Le("TUTORIAL_30","Explode 7 tiles at once"),new Le("TUTORIAL_31","Explode 9 tiles at once"),new Le("TUTORIAL_32","Explode 10 tiles at once"),new Le("MENU_0","0123456789.,()"),new Le("MENU_1","[Scale 1.2][COLOR yellow]\nMusic On[COLOR][Scale]"),new Le("MENU_2","[Scale 1.2][Color gray]\nMusic Off[Color][Scale]"),new Le("MENU_3","[Scale 1.2][COLOR yellow]\nSound Effect On[COLOR][Scale]"),new Le("MENU_4","[Scale 1.2][Color gray]\nSound Effect Off[Color][Scale]"),new Le("MENU_5","[Color yellow][FONT Menu_Mode/]SETUP[Color]"),new Le("MENU_6","Start the game\nin your [COLOR yellow]Apple Watch[COLOR]\nand try again.\n\n\n[button Resource/UI/IconOk 60]"),new Le("MENU_7","Data synched\nsuccessfully!\n\n\n[button Resource/UI/IconOk 60]"),new Le("MENU_8","Start the game\nin your [COLOR yellow]Apple Watch[COLOR]\nand try again.\n\n\n[button Resource/UI/IconOk 60]"),new Le("MENU_9","Start the game\nin your Apple Watch."),new Le("MENU_10","[COLOR]\n[Scale 1.0]To unlock: [image Resource/UI/IconStar 20] [Scale 0.6]X[Scale] "),new Le("MENU_11","[Color yellow][FONT Menu_Mode/]STONE[Color]"),new Le("MENU_12","STONE"),new Le("MENU_13","[SCALE 1.0][COLOR yellow]Do you want to unlock?[COLOR]"),new Le("MENU_14","NARAKA"),new Le("MENU_15","To unlock,\n[Color yellow]30 Combo in CLASSIC mode\nGet Professional Player[Color]"),new Le("MENU_16","To explode some blocks and continue the game,"),new Le("MENU_17","or"),new Le("MENU_18","Best:"),new Le("MENU_19","MODE"),new Le("MENU_20","CLASSIC"),new Le("MENU_21","To explode some blocks and get bonus time,"),new Le("MENU_22",""),new Le("MENU_23","SPS"),new Le("MENU_24",""),new Le("MENU_25","[SCALE 1.8]Low[SCALE][COLOR yellow]\nMax 10 FPS[COLOR]"),new Le("MENU_26","[SCALE 1.8]Medium[SCALE][COLOR yellow]\nMax 20 FPS[COLOR]"),new Le("MENU_27","[SCALE 1.8]High[SCALE][COLOR yellow]\nMax 30 FPS\nParticle Effects[COLOR]"),new Le("MENU_28","[Color yellow][FONT Menu_Mode/]QUALITY[Color]"),new Le("MENU_29","QUALITY"),new Le("MENU_30","BEST"),new Le("MENU_31","COMBO"),new Le("MENU_32","NEW"),new Le("MENU_33","BEST"),new Le("MENU_34","FEVERS"),new Le("MENU_35","NEW"),new Le("MENU_36","BEST"),new Le("MENU_37","[SCALE 1.5]Number[SCALE]"),new Le("MENU_38","[SCALE 1.5]Dice[SCALE]"),new Le("MENU_39","Score Bonus   +10%"),new Le("MENU_40","[SCALE 1.5]Infinite Seasons[SCALE]"),new Le("MENU_41","Score Bonus    +20%"),new Le("MENU_42","[SCALE 1.5]Star Bird[SCALE]"),new Le("MENU_43","Score Bonus    +20%"),new Le("MENU_44","[Scale 0.4] SAMSARA - Stones of Eternity"),new Le("MENU_45","INFINITE"),new Le("MENU_46","Would you like to quit the game?"),new Le("MENU_47","INFINITE 6x6"),new Le("MENU_48","CLASSIC 6x6"),new Le("MENU_49","NARAKA 6x6"),new Le("MENU_50","To unlock,\n[Color yellow]50 Combo in INFINITE 6x6 mode\nGet Collector title[Color]"),new Le("MENU_51","To unlock,\n[Color yellow]50 Combo in CLASSIC 6x6 mode\nGet Hunter title[Color]"),new Le("MENU_52","Would you like to close it?"),new Le("MENU_53","NEW RECORD!!!"),new Le("MENU_54","Select Tutorial"),new Le("MENU_55","Quality\nLow"),new Le("MENU_56","Quality\nNormal"),new Le("MENU_57","Quality\nHigh"),new Le("MENU_COUNT","58"),new Le("BEGINNER_TIP_COUNT","1"),new Le("BEGINNER_TIP_0","[Scale 0.7]Whenever you make NIRVANA time, you get a star. If you match all stones at once, you will get a huge amount of stars.[Scale]\n\n\n"),new Le("BEGINNER6x6_TIP_COUNT","2"),new Le("BEGINNER6x6_TIP_0","[Scale 0.7]INFINITY ITEM [Image Item_100 20] appears only once per a game. After that, EXTINCTION BOMB [Image Item_102 20] will appear instead.[Scale]\n\n\n"),new Le("BEGINNER6x6_TIP_1","[Scale 0.7]If ghosts arrive bottom line or other cursed ghosts, they are put on a curse. You cannot remove cursed ghosts by the regular method but can by using particular ITEMs.[Scale]\n\n\n"),new Le("Classic_TIP_COUNT","2"),new Le("Classic_TIP_0","[Scale 0.7]You can earn bonus time every fever mode.\nIf you are in fever mode, a game will not over even if time is over.\nChallenge high score by playing as long as you can.[Scale]\n\n\n"),new Le("Classic_TIP_1","[Scale 0.7]SPS means Score Per Second.\nIt'll show an inaccurate measurement if you play a game under 60 seconds.[Scale]\n\n\n"),new Le("APPLE_WATCH_TIP_COUNT","1"),new Le("APPLE_WATCH_TIP_0","[Scale 2.0]You can quit the game by turning the Digital Crown.[Scale]\n\n\n"),new Le("Beat my score!","#SAMSARA_Stones_of_Eternity")]),Ss=A([new Le("TUTORIAL_FONT_SIZE","16"),new Le("TUTORIAL_FONT_SIZE2","14"),new Le("TUTORIAL_TEXT_WRAP_TYPE","WORD"),new Le("TUTORIAL_COUNT","33"),new Le("TUTORIAL_0","HOW TO PLAY"),new Le("TUTORIAL_1","같은 숫자 세 개가 대각선이 아닌 일직선이 되면 터집니다."),new Le("TUTORIAL_2","0을 눌러서 1로 바꾸세요"),new Le("TUTORIAL_3","연결된 타일은 함께 바뀝니다."),new Le("TUTORIAL_4","1을 눌러서 2로 바꾸세요"),new Le("TUTORIAL_5","2는 3으로 변합니다."),new Le("TUTORIAL_6","2를 눌러서 3으로 바꾸세요"),new Le("TUTORIAL_7","연결된 모든 3은 다시 0이 됩니다."),new Le("TUTORIAL_8","3을 눌러서 0으로 바꾸세요"),new Le("TUTORIAL_9","유령과 같은 색의 타일을 옆에서 터트리면 유령을 잡을 수 있습니다."),new Le("TUTORIAL_10","유령을 제거해 보세요"),new Le("TUTORIAL_11","아홉 개의 타일을 한번에 터트리면 많은 점수를 얻을 수 있습니다."),new Le("TUTORIAL_12","1을 눌러서 2로 바꾸세요"),new Le("TUTORIAL_13","터트릴 타일이 없어지면 게임이 끝납니다. 콤보를 만들어서 최고 점수에 도전해 보세요!"),new Le("TUTORIAL_14","플레이 버튼을 누르면 게임을 시작합니다"),new Le("TUTORIAL_15","한번 바뀐 타일은 눌러서 바꿀 수는 없지만 연결된 타일을 이용하면 가능합니다."),new Le("TUTORIAL_16","3을 눌러보세요"),new Le("TUTORIAL_17","가끔씩 나타나는 유령은 다른 타일과 연결되지 않고 바꿀 수도 없습니다."),new Le("TUTORIAL_18","유령을 눌러보세요"),new Le("TUTORIAL_19","1을 눌러보세요"),new Le("TUTORIAL_20","유령을 많이 잡아서 최고 점수에 도전해 보세요."),new Le("TUTORIAL_21","6개의 타일을 한번에 터트리면 번개 아이템이 만들어집니다.\n\n[Image Item_101_blue 20] [Image Item_101_green 20] [Image Item_101_purple 20] [Image Item_101_red 20] [Image Item_101_yellow 20]"),new Le("TUTORIAL_22","[Image Item_101_red 20]은 빨간 색깔을 가진 모든 타일을 터트립니다."),new Le("TUTORIAL_23","7개나 8개의 타일을 한번에 터트리면 직선 제거 아이템이 만들어집니다.\n\n[Image Item_103_h 20] [Image Item_103_v 20] [Image Item_104 20]"),new Le("TUTORIAL_24","[Image Item_103_h 20]은 같은 라인에 있는 저주받은 유령을 제외한 모든 타일을 터트립니다."),new Le("TUTORIAL_25","9개의 타일을 한번에 터트리면 폭탄 아이템 [Image Item_102 20]이 만들어집니다."),new Le("TUTORIAL_26","[Image Item_102 20]은 주위의 타일과 유령을 모두 터트립니다."),new Le("TUTORIAL_27","10개 이상의 타일을 한번에 터트리면 초기화 아이템[Image Item_100 20]이 만들어집니다."),new Le("TUTORIAL_28","[Image Item_100 20]은 모든 유령을 터트리고 타일을 초기화합니다."),new Le("TUTORIAL_29","6개의 타일을 한번에 터트리세요"),new Le("TUTORIAL_30","7개의 타일을 한번에 터트리세요"),new Le("TUTORIAL_31","9개의 타일을 한번에 터트리세요"),new Le("TUTORIAL_32","10개의 타일을 한번에 터트리세요"),new Le("MENU_0","0123456789.,()"),new Le("MENU_1","[Scale 1.2][COLOR yellow]\n배경음악 켬[COLOR][Scale]"),new Le("MENU_2","[Scale 1.2][Color gray]\n배경음악 끔[Color][Scale]"),new Le("MENU_3","[Scale 1.2][COLOR yellow]\n효과음 켬[COLOR][Scale]"),new Le("MENU_4","[Scale 1.2][Color gray]\n효과음 끔[Color][Scale]"),new Le("MENU_5","[Color yellow][FONT Menu_Mode/]설정[Color]"),new Le("MENU_6","[COLOR yellow]Apple Watch[COLOR]의 게임을\n시작한 후에\n다시 시도해 주세요.\n\n\n[button Resource/UI/IconOk 60]"),new Le("MENU_7","데이터 동기화를\n완료했습니다!\n\n\n[button Resource/UI/IconOk 60]"),new Le("MENU_8","[COLOR yellow]Apple Watch[COLOR]의 게임을\n시작한 후에\n다시 시도해 주세요.\n\n\n[button Resource/UI/IconOk 60]"),new Le("MENU_9","Apple Watch의 게임을\n실행해 주세요..."),new Le("MENU_10","[COLOR]\n[Scale 1.0]열려면: [image Resource/UI/IconStar 20] [Scale 0.6]X[Scale] "),new Le("MENU_11","[Color yellow][FONT Menu_Mode/]영원의 돌[Color]"),new Le("MENU_12","영원의 돌"),new Le("MENU_13","[SCALE 1.0][COLOR yellow]여시겠습니까?[COLOR]\n\n"),new Le("MENU_14","나락"),new Le("MENU_15","열려면,\n[Color yellow]클래식 모드에서 30 콤보\n프로페셔널 플레이어 획득[Color]"),new Le("MENU_16","블럭을 일부 제거하고 게임을 계속하려면,"),new Le("MENU_17","또는"),new Le("MENU_18","최고점수:"),new Le("MENU_19","게임 모드"),new Le("MENU_20","클래식"),new Le("MENU_21","블럭을 일부 제거하고 추가 시간을 얻으려면,"),new Le("MENU_22",""),new Le("MENU_23","초당 점수"),new Le("MENU_24",""),new Le("MENU_25","[SCALE 1.8]최저[SCALE][COLOR yellow]\n최대 10 프레임[COLOR]"),new Le("MENU_26","[SCALE 1.8]보통[SCALE][COLOR yellow]\n최대 20 프레임[COLOR]"),new Le("MENU_27","[SCALE 1.8]최고[SCALE][COLOR yellow]\n최대 30 프레임\n파티클 효과[COLOR]"),new Le("MENU_28","[Color yellow][FONT Menu_Mode/]품질[Color]"),new Le("MENU_29","게임 품질"),new Le("MENU_30","최고점수"),new Le("MENU_31","콤보"),new Le("MENU_32","신기록"),new Le("MENU_33","최고"),new Le("MENU_34","피버"),new Le("MENU_35","신기록"),new Le("MENU_36","최고"),new Le("MENU_37","[SCALE 1.5]숫자[SCALE]"),new Le("MENU_38","[SCALE 1.5]주사위[SCALE]"),new Le("MENU_39","추가 점수   +10%"),new Le("MENU_40","[SCALE 1.5]끝없는 계절[SCALE]"),new Le("MENU_41","추가 점수   +10%"),new Le("MENU_42","[SCALE 1.5]별새[SCALE]"),new Le("MENU_43","추가 점수   +20%"),new Le("MENU_44","[Scale 0.4] 삼사라 - 영원의 돌"),new Le("MENU_45","무한"),new Le("MENU_46","게임을 그만할까요?"),new Le("MENU_47","무한 6x6"),new Le("MENU_48","클래식 6x6"),new Le("MENU_49","나락 6x6"),new Le("MENU_50","열려면,\n[Color yellow]무한 6x6 모드에서 50 콤보\n콜렉터 획득[Color]"),new Le("MENU_51","열려면,\n[Color yellow]클래식 6x6 모드에서 50 콤보\n헌터 획득[Color]"),new Le("MENU_52","프로그램을 종료할까요?"),new Le("MENU_53","신기록!!!"),new Le("MENU_54","튜토리얼 선택"),new Le("MENU_55","품질 최저"),new Le("MENU_56","품질 보통"),new Le("MENU_57","품질 최고"),new Le("MENU_COUNT","58"),new Le("BEGINNER_TIP_COUNT","1"),new Le("BEGINNER_TIP_0","[Scale 0.7]열반 모드가 될 때마다 별을 얻을 수 있습니다. 모든 돌을 한번에 없애면 더 많은 별을 얻을 수 있습니다.[Scale]\n\n\n"),new Le("BEGINNER6x6_TIP_COUNT","2"),new Le("BEGINNER6x6_TIP_0","[Scale 0.7]초기화 아이템 [Image Item_100 20]은 게임당 단 한번만 나옵니다.\n한번 나온 이후에는 폭탄 아이템 [Image Item_102 20]이 대신 만들어 집니다.[Scale]\n\n\n"),new Le("BEGINNER6x6_TIP_1","[Scale 0.7]유령이 바닥에 닫으면 저주에 걸려 특정 아이템으로만 제거할 수 있습니다.\n유령이 바닥에 닫지 않도록 해서 고득점에 도전해 보세요.[Scale]\n\n\n"),new Le("Classic_TIP_COUNT","2"),new Le("Classic_TIP_0","[Scale 0.7]열반 모드가 될 때마다 추가 시간을 얻게 됩니다.\n타임오버가 되어도 열반 모드 상태일때는 게임이 끝나지 않습니다.\n최대한 길게 플레이해서 최고점에 도전해 보세요.[Scale]\n\n\n"),new Le("Classic_TIP_1","[Scale 0.7]초당 점수는 60초 이상을 플레이했을 경우에만 정상적으로 표시됩니다.[Scale]\n\n\n"),new Le("APPLE_WATCH_TIP_COUNT","1"),new Le("APPLE_WATCH_TIP_0","[Scale 2.0]Digital Crown을 돌려서 게임을 그만할 수 있습니다.[Scale]\n\n\n"),new Le("Beat my score!","#삼사라_영원의돌")]),ks="",ws=bs,gl=100,_l=8,de(),Ke.defineModule("SamsaraHTML",e),e}(void 0===SamsaraHTML?{}:SamsaraHTML,kotlin,Phaser,phaserKt,PIXI,this["kotlinx-coroutines-core"]);