if("undefined"==typeof kotlin)throw new Error("Error loading module 'SamsaraHTML'. Its dependency 'kotlin' was not found. Please, check whether 'kotlin' is loaded prior to 'SamsaraHTML'.");if("undefined"==typeof Phaser)throw new Error("Error loading module 'SamsaraHTML'. Its dependency 'Phaser' was not found. Please, check whether 'Phaser' is loaded prior to 'SamsaraHTML'.");if("undefined"==typeof phaserKt)throw new Error("Error loading module 'SamsaraHTML'. Its dependency 'phaserKt' was not found. Please, check whether 'phaserKt' is loaded prior to 'SamsaraHTML'.");if("undefined"==typeof PIXI)throw new Error("Error loading module 'SamsaraHTML'. Its dependency 'PIXI' was not found. Please, check whether 'PIXI' is loaded prior to 'SamsaraHTML'.");if(void 0===this["kotlinx-coroutines-core"])throw new Error("Error loading module 'SamsaraHTML'. Its dependency 'kotlinx-coroutines-core' was not found. Please, check whether 'kotlinx-coroutines-core' is loaded prior to 'SamsaraHTML'.");var SamsaraHTML=function(e,Ke,n,t,v,i){"use strict";var r=e.$$importsForInline$$||(e.$$importsForInline$$={}),Ze=Ke.kotlin.Unit,o=Ke.Kind.CLASS,Ee=Ke.throwCCE,Qe=Ke.kotlin.text.toDouble_pdl1vz$,a=t.Phaser.GameConfig_a28mr1$,s=t.Phaser.Game_lcgo3e$,l=Ke.Kind.INTERFACE,u=Ke.Kind.OBJECT,Je=Ke.ensureNotNull,ve=Ke.kotlin.collections.withIndex_7wnvza$,ge=Ke.kotlin.collections.reversed_7wnvza$,h=Ke.kotlin.Enum,c=Ke.throwISE,et=Ke.numberToInt,b=Object,m=Ke.kotlin.collections.listOf_mh5how$,d=Ke.kotlin.ranges.IntRange,p=Ke.kotlin.text.slice_fc3b62$,f=Ke.kotlin.text.toInt_6ic1pp$,A=Ke.kotlin.io.println_s8jyv4$,g=Ke.kotlin.NumberFormatException,_=Ke.kotlin.collections.toList_7wnvza$,oe=Ke.kotlin.text.iterator_gw00vp$,x=Ke.toBoxedChar,ne=Ke.unboxChar,te=Ke.kotlin.math,w=Ke.kotlin.js.internal.FloatCompanionObject,Fe=Ke.kotlin.Pair,he=Ke.equals,C=Ke.kotlin.collections.mutableListOf_i5x0yv$,$=Ke.kotlin.collections.get_indices_gzk92b$,y=Ke.kotlin.ranges.reversed_zf1xzc$,S=Ke.kotlin.collections.listOf_i5x0yv$,k=Ke.kotlin.collections.last_2p1efm$,ae=Ke.kotlin.text.toIntOrNull_pdl1vz$,z=Ke.throwUPAE,T=Ke.kotlin.collections.mapOf_qfcya0$,tt=Ke.kotlin.text.toInt_pdl1vz$,G=Ke.defineInlineFunction,I=Ke.wrapFunction,N=n.ScaleManager,M=t.Phaser.start_ba683k$,O=n.State,R=Ke.toString,j=Ke.kotlin.text.substringBefore_j4ogox$,P=t.Phaser.destroyKt,B=Ke.getCallableRef,E=n.KeyCode,it=Ke.numberToDouble,F=Ke.kotlin.collections.sortWith_nqfjgj$,L=v.blendModes.NORMAL,D=v.blendModes.ADD,V=t.Phaser.TextStyle_5jhq38$,U=Ke.kotlin.collections.reverse_vvxzk3$,q=Ke.kotlin.coroutines.experimental.CoroutineImpl,H=Ke.kotlin.coroutines.experimental.intrinsics.COROUTINE_SUSPENDED,W=i.kotlinx.coroutines.experimental.delay_za3lpa$,Y=Ke.kotlin.UninitializedPropertyAccessException,X=Ke.kotlin.comparisons.compareBy_bvgy4j$,K=Ke.kotlin.collections.sortedWith_iwcb0m$,Z=i.kotlinx.coroutines.experimental,Q=i.kotlinx.coroutines.experimental.launch_35c74u$,rt=Ke.kotlin.text.indexOf_l5u8uk$,J=Ke.kotlin.collections.sortedWith_eknfly$,ee=Ke.kotlin.collections.toList_tmsbgo$,ie=Ke.kotlin.collections.toMutableList_tmsbgo$,re=Ke.kotlin.collections.toMutableMap_abgq59$,se=Ke.kotlin.collections.mapOf_x2b85n$;(Ne.prototype=Object.create(h.prototype)).constructor=Ne,(_t.prototype=Object.create(h.prototype)).constructor=_t,(zt.prototype=Object.create(h.prototype)).constructor=zt,(po.prototype=Object.create(ho.prototype)).constructor=po,(Ft.prototype=Object.create(po.prototype)).constructor=Ft,(Kt.prototype=Object.create(Ft.prototype)).constructor=Kt,(Qt.prototype=Object.create(h.prototype)).constructor=Qt,(fi.prototype=Object.create(Ft.prototype)).constructor=fi,(mr.prototype=Object.create(h.prototype)).constructor=mr,(Wr.prototype=Object.create(po.prototype)).constructor=Wr,(Xr.prototype=Object.create(po.prototype)).constructor=Xr,(eo.prototype=Object.create(h.prototype)).constructor=eo,(no.prototype=Object.create(h.prototype)).constructor=no,(_o.prototype=Object.create(vi.prototype)).constructor=_o,(wo.prototype=Object.create(vi.prototype)).constructor=wo,(rn.prototype=Object.create(wo.prototype)).constructor=rn,(on.prototype=Object.create(vi.prototype)).constructor=on,(pn.prototype=Object.create(dn.prototype)).constructor=pn,(mn.prototype=Object.create(dn.prototype)).constructor=mn,(_n.prototype=Object.create(dn.prototype)).constructor=_n,(yn.prototype=Object.create(h.prototype)).constructor=yn,(Dn.prototype=Object.create(h.prototype)).constructor=Dn,(Qn.prototype=Object.create(ho.prototype)).constructor=Qn,(sa.prototype=Object.create(po.prototype)).constructor=sa,(ua.prototype=Object.create(h.prototype)).constructor=ua,(pa.prototype=Object.create(Kt.prototype)).constructor=pa,(ma.prototype=Object.create(Ft.prototype)).constructor=ma,($a.prototype=Object.create(Ft.prototype)).constructor=$a,(ku.prototype=Object.create(O.prototype)).constructor=ku,(xu.prototype=Object.create(O.prototype)).constructor=xu,(Hu.prototype=Object.create(Ru.prototype)).constructor=Hu,(Xu.prototype=Object.create(Ru.prototype)).constructor=Xu,(Zu.prototype=Object.create(Ru.prototype)).constructor=Zu,(eh.prototype=Object.create(Ru.prototype)).constructor=eh,(Jd.prototype=Object.create(h.prototype)).constructor=Jd,(ap.prototype=Object.create(zh.prototype)).constructor=ap,(up.prototype=Object.create(gh.prototype)).constructor=up,(cp.prototype=Object.create(vp.prototype)).constructor=cp,(pp.prototype=Object.create(cp.prototype)).constructor=pp,(mp.prototype=Object.create(cp.prototype)).constructor=mp,(_p.prototype=Object.create(vp.prototype)).constructor=_p,(yp.prototype=Object.create(_p.prototype)).constructor=yp,(Sp.prototype=Object.create(_p.prototype)).constructor=Sp,(wp.prototype=Object.create(vp.prototype)).constructor=wp,(xp.prototype=Object.create(vp.prototype)).constructor=xp,(zp.prototype=Object.create(xp.prototype)).constructor=zp,(Tp.prototype=Object.create(xp.prototype)).constructor=Tp,(Gp.prototype=Object.create(vp.prototype)).constructor=Gp,(uf.prototype=Object.create(Dp.prototype)).constructor=uf,(Ip.prototype=Object.create(uf.prototype)).constructor=Ip,(Ep.prototype=Object.create(uf.prototype)).constructor=Ep,(Vp.prototype=Object.create(h.prototype)).constructor=Vp,(Wp.prototype=Object.create(h.prototype)).constructor=Wp,(Jp.prototype=Object.create(uf.prototype)).constructor=Jp,(tf.prototype=Object.create(Jp.prototype)).constructor=tf,(rf.prototype=Object.create(Jp.prototype)).constructor=rf,(of.prototype=Object.create(Jp.prototype)).constructor=of,(nf.prototype=Object.create(Jp.prototype)).constructor=nf,(af.prototype=Object.create(uf.prototype)).constructor=af,(hf.prototype=Object.create(h.prototype)).constructor=hf,(Sf.prototype=Object.create(h.prototype)).constructor=Sf,(hv.prototype=Object.create(h.prototype)).constructor=hv,(Sv.prototype=Object.create($v.prototype)).constructor=Sv,(wv.prototype=Object.create($v.prototype)).constructor=wv,(Yv.prototype=Object.create(h.prototype)).constructor=Yv,(hg.prototype=Object.create($a.prototype)).constructor=hg,(fg.prototype=Object.create($a.prototype)).constructor=fg,(Cg.prototype=Object.create($a.prototype)).constructor=Cg,(Og.prototype=Object.create($a.prototype)).constructor=Og,(Pg.prototype=Object.create($a.prototype)).constructor=Pg,(Vg.prototype=Object.create(h.prototype)).constructor=Vg,(n_.prototype=Object.create($a.prototype)).constructor=n_,(u_.prototype=Object.create($a.prototype)).constructor=u_,(c_.prototype=Object.create($a.prototype)).constructor=c_;var le=Ke.kotlin.collections.LinkedHashMap_init_q3lmfv$;function ue(){this.data=le()}function ce(){}function de(e){var t,i,r=640,o=960;null!=document.getElementById("width")&&(r=Qe((Ke.isType(t=document.getElementById("width"),HTMLElement)?t:Ee()).innerText)),null!=document.getElementById("height")&&(o=Qe((Ke.isType(i=document.getElementById("height"),HTMLElement)?i:Ee()).innerText)),s(a(void 0,r,o,n.CANVAS,"gameDiv",void 0,void 0,void 0,void 0,wu(new ue,new ce)))}function pe(e,t,i,r){this.x=e,this.y=t,this.event=i,this.code=r}function fe(){}function me(){}function _e(){}function $e(){}function ye(){}function be(){}function Se(){}ue.prototype.SetPref_za3rmp$=function(e){},ue.prototype.Get_61zpoe$=function(e){return localStorage.getItem(e)},ue.prototype.Set_puj7f4$=function(e,t){localStorage.setItem(t,e)},ue.$metadata$={kind:o,simpleName:"UserDataHTML",interfaces:[mu]},ce.prototype.isLogin=function(){return!1},ce.prototype.loginIntent=function(){},ce.prototype.showLeaderboard=function(){},ce.prototype.submitScore_ds2soj$=function(e,t,i){},ce.prototype.getVersionName=function(){return"1.6.2"},ce.prototype.getVersionCode=function(){return 52},ce.prototype.getFile_61zpoe$=function(e){return""},ce.prototype.isGrantedExternal=function(){return!1},ce.prototype.getGrantExternal_6zcd6v$=function(e){},ce.prototype.shareSocial_61zpoe$=function(e){return!1},ce.prototype.isBannerReady=function(){return!1},ce.prototype.showAds_6taknv$=function(e){},ce.prototype.getHeight=function(){return 0},ce.prototype.showInterstitial_6zcd6v$=function(e){return!1},ce.prototype.isRewardReady=function(){return!1},ce.prototype.playRewarded_6zcd6v$=function(e){return!1},ce.prototype.setAdsMute_6taknv$=function(e){},ce.$metadata$={kind:o,simpleName:"RequestHandlerDummy",interfaces:[fu]},pe.$metadata$={kind:o,simpleName:"TouchInfo",interfaces:[]},pe.prototype.component1=function(){return this.x},pe.prototype.component2=function(){return this.y},pe.prototype.component3=function(){return this.event},pe.prototype.component4=function(){return this.code},pe.prototype.copy_o3bepn$=function(e,t,i,r){return new pe(void 0===e?this.x:e,void 0===t?this.y:t,void 0===i?this.event:i,void 0===r?this.code:r)},pe.prototype.toString=function(){return"TouchInfo(x="+Ke.toString(this.x)+", y="+Ke.toString(this.y)+", event="+Ke.toString(this.event)+", code="+Ke.toString(this.code)+")"},pe.prototype.hashCode=function(){var e=0;return e=31*(e=31*(e=31*(e=31*e+Ke.hashCode(this.x)|0)+Ke.hashCode(this.y)|0)+Ke.hashCode(this.event)|0)+Ke.hashCode(this.code)|0},pe.prototype.equals=function(e){return this===e||null!==e&&"object"==typeof e&&Object.getPrototypeOf(this)===Object.getPrototypeOf(e)&&Ke.equals(this.x,e.x)&&Ke.equals(this.y,e.y)&&Ke.equals(this.event,e.event)&&Ke.equals(this.code,e.code)},fe.$metadata$={kind:l,simpleName:"GuestTexture",interfaces:[]},me.$metadata$={kind:l,simpleName:"GuestTextureAtlas",interfaces:[]},_e.$metadata$={kind:l,simpleName:"GuestNode",interfaces:[]},$e.$metadata$={kind:l,simpleName:"GuestScreen",interfaces:[_e]},ye.$metadata$={kind:l,simpleName:"GuestSprite",interfaces:[_e]},be.$metadata$={kind:l,simpleName:"GuestMask",interfaces:[_e]},Se.$metadata$={kind:l,simpleName:"GuestLabel",interfaces:[_e]};var Le=Ke.kotlin.collections.ArrayList_init_ww73n8$;function ke(){Ie(),this.debug=!1,this.touchQueue=Le(),this.inputMode=0,this.inputPending=!1,this.guestScreen_0=null,this.shutdown_0=!1,this.currentTime_0=0,this.nodeUpdateCounter=0}function we(){(xe=this).instance=null}we.$metadata$={kind:u,simpleName:"Holder",interfaces:[]};var xe=null;function Ce(){return null===xe&&new we,xe}function ze(){(Ae=this).initialized=!1}ze.prototype.shared=function(){return null==Ce().instance&&(Ce().instance=new ke),Je(Ce().instance)},ze.prototype.shutdown=function(){Ce().instance=null},ze.$metadata$={kind:u,simpleName:"Companion",interfaces:[]};var Te,Ge,Ae=null;function Ie(){return null===Ae&&new ze,Ae}function Ne(e,t){h.call(this),this.name$=e,this.ordinal$=t}function Me(){Me=function(){},Te=new Ne("SFX",0),Ge=new Ne("BGM",1)}function Oe(){return Me(),Te}function Re(){return Me(),Ge}function je(){qe()}function Pe(){(Be=this).instance=null}ke.prototype.initialize=function(){this.shutdown_0=!1},ke.prototype.shutdown=function(){},ke.prototype.SetDebug_6taknv$=function(e){this.debug=e},ke.prototype.GetDebug=function(){return this.debug},ke.prototype.SetGuestScreen_qgvd6v$=function(e){this.guestScreen_0=e},ke.prototype.GetGuestScreen=function(){return Je(this.guestScreen_0)},ke.prototype.createGuestSprite=function(){return Je(this.guestScreen_0).createGuestSprite()},ke.prototype.createGuestSprite_h2vgz3$=function(e){return Je(this.guestScreen_0).createGuestSprite_h2vgz3$(e)},ke.prototype.createGuestMask_h2vgz3$=function(e){return Je(this.guestScreen_0).createGuestMask_h2vgz3$(e)},ke.prototype.createGuestLabel_61zpoe$=function(e){return Je(this.guestScreen_0).createGuestLabel_61zpoe$(e)},ke.prototype.createGuestTexture_bm4g0d$=function(e,t){return Je(this.guestScreen_0).createGuestTexture_bm4g0d$(e,t)},ke.prototype.loadTexture_jyasbz$=function(e,t){return void 0===t&&(t=null),Je(this.guestScreen_0).loadTexture_jyasbz$(e,t)},ke.prototype.loadAtlas_ivxn3r$=function(e,t){return void 0===t&&(t=!0),Je(this.guestScreen_0).loadAtlas_ivxn3r$(e,t)},ke.prototype.removeAtlas_61zpoe$=function(e){return Je(this.guestScreen_0).removeAtlas_61zpoe$(e)},ke.prototype.preloadTexture_o14v8n$=function(e){Je(this.guestScreen_0).preloadTexture_o14v8n$(e)},ke.prototype.makeAtlas_mvjluj$=function(e,t){return Je(this.guestScreen_0).makeAtlas_mvjluj$(e,t)},ke.prototype.makeAtlas_kwv3np$=function(e,t){return Je(this.guestScreen_0).makeAtlas_kwv3np$(e,t)},ke.prototype.makeAtlasWithData_d0u64m$=function(e,t){return Je(this.guestScreen_0).makeAtlasWithData_d0u64m$(e,t)},ke.prototype.createStringImage_k1lctz$=function(e,t,i,r,o,n,a,s,l){return void 0===e&&(e=""),void 0===t&&(t=""),void 0===i&&(i=16),void 0===r&&(r=hi().white_mx4ult$()),void 0===o&&(o=hi().black_mx4ult$()),void 0===n&&(n=-3),void 0===a&&(a=!0),Je(this.guestScreen_0).createStringImage_k1lctz$(e,t,i,r,o,n,a,s,l)},ke.prototype.SetInputMode_za3lpa$=function(e){this.inputMode=e},ke.prototype.SetInputPending_6taknv$=function(e){this.inputPending=e},ke.prototype.clearInputQueue=function(){this.touchQueue.clear()},ke.prototype.addInputQueue_o3bepn$=function(e,t,i,r){var o,n;if(void 0===r&&(r=0),!0!==this.inputPending){if(i===At())for(o=ge(ve(this.touchQueue)).iterator();o.hasNext();){var a=o.next(),s=a.component1();if(a.component2().event===At()){this.touchQueue.removeAt_za3lpa$(s);break}}else if(i===Nt()){var l=0;for(n=this.touchQueue.iterator();n.hasNext();){if(n.next().event===Nt()){this.touchQueue.removeAt_za3lpa$(l);break}l=l+1|0}}this.touchQueue.add_11rb$(new pe(e,t,i,r))}},ke.prototype.removeInputQueue_za3lpa$=function(e){this.touchQueue.removeAt_za3lpa$(e)},ke.prototype.scroll_mx4ult$=function(e){this.addInputQueue_o3bepn$(0,e,Mt())},ke.prototype.SetBackgroundColor_qt1dr2$=function(e,t,i){var r;null!=(r=this.guestScreen_0)&&r.SetBackgroundColor_qt1dr2$(e,t,i)},ke.prototype.convertCoordinate_dleff0$=function(e,t){return null!=this.guestScreen_0?Je(this.guestScreen_0).convertCoordinate_dleff0$(e,t):Ai(e,t)},ke.prototype.SetTitle_61zpoe$=function(e){var t;null!=(t=this.guestScreen_0)&&t.SetTitle_61zpoe$(e)},ke.prototype.changeFPS_za3lpa$=function(e){var t;null!=(t=this.guestScreen_0)&&t.changeFPS_za3lpa$(e)},ke.prototype.moveToBackground=function(){var e;null!=(e=this.guestScreen_0)&&e.moveToBackground()},ke.prototype.resume=function(){var e;null!=(e=this.guestScreen_0)&&e.resume()},ke.prototype.terminate=function(){var e;null!=(e=this.guestScreen_0)&&e.terminate()},ke.prototype.update_mx4ult$=function(e){var t,i,r,o;if(this.currentTime_0+=e,!0!==this.shutdown_0){var n=this.touchQueue;for(t=n.iterator();t.hasNext();){var a=t.next();null!=(r=null!=(i=this.guestScreen_0)?i.GetScreen():null)&&r.onTouchEvent_a3vp0k$(a.x,a.y,a.event,e,a.code)}n.clear(),this.nodeUpdateCounter=0,null!=(o=this.guestScreen_0)&&o.render_mx4ult$(e)}},ke.prototype.printLog_61zpoe$=function(e){var t,i;null!=(i=null!=(t=this.guestScreen_0)?t.GetScreen():null)&&i.printLog_61zpoe$(e)},ke.prototype.clearLog=function(){var e,t;null!=(t=null!=(e=this.guestScreen_0)?e.GetScreen():null)&&t.clearLog()},ke.prototype.GetScreenshot_3fx80m$=function(e){var t;return null!=(t=this.guestScreen_0)?t.GetScreenshot_3fx80m$(e):null},ke.prototype.presentView_xl35ob$=function(e,t){var i,r;void 0===t&&(t=.3),null!=(r=null!=(i=this.guestScreen_0)?i.GetScreen():null)&&r.presentView_xl35ob$(e,t)},ke.prototype.GetCurrentTime=function(){return this.currentTime_0},ke.$metadata$={kind:o,simpleName:"HAL",interfaces:[]},Ne.$metadata$={kind:o,simpleName:"SoundCategory",interfaces:[h]},Ne.values=function(){return[Oe(),Re()]},Ne.valueOf_61zpoe$=function(e){switch(e){case"SFX":return Oe();case"BGM":return Re();default:c("No enum constant com.blindcatstudio.phantom.SoundCategory."+e)}},Pe.$metadata$={kind:u,simpleName:"Holder",interfaces:[]};var Be=null;function De(){return null===Be&&new Pe,Be}function Ve(){(Ue=this).initialized=!1}Ve.prototype.shared=function(){return null==De().instance&&(De().instance=new je),Je(De().instance)},Ve.prototype.shutdown=function(){De().instance=null},Ve.$metadata$={kind:u,simpleName:"Companion",interfaces:[]};var Ue=null;function qe(){return null===Ue&&new Ve,Ue}function He(){gt(),this.dictionary=le(),this.aliasTable=le()}function We(){(Ye=this).instance=null}je.prototype.loadSound_0=function(e,t,i,r,o){return void 0===t&&(t=null),void 0===i&&(i=1),void 0===r&&(r=Oe()),void 0===o&&(o=100),dh().shared().loadSound_rxyx1o$(e,t,i,r,o)},je.prototype.loadEffect_ho7uxo$=function(e,t,i,r){return void 0===t&&(t=null),void 0===i&&(i=8),void 0===r&&(r=100),dh().shared().loadSound_rxyx1o$(e,t,i,Oe(),r)},je.prototype.loadBGM_icsyi4$=function(e,t,i){return void 0===t&&(t=null),void 0===i&&(i=100),dh().shared().loadSound_rxyx1o$(e,t,1,Re(),i)},je.prototype.unloadSound_61zpoe$=function(e){dh().shared().unloadSound_61zpoe$(e)},je.prototype.GetSound_61zpoe$=function(e){return dh().shared().GetSound_61zpoe$(e)},je.prototype.loadTexture_jyasbz$=function(e,t){return void 0===t&&(t=null),gt().shared().loadTexture_jyasbz$(e,t)},je.prototype.addTexture_p1juio$=function(e,t){return gt().shared().addTexture_p1juio$(e,t)},je.prototype.GetTexture_61zpoe$=function(e){return gt().shared().GetTexture_61zpoe$(e)},je.prototype.unloadTexture_61zpoe$=function(e){gt().shared().removeTexture_61zpoe$(e)},je.prototype.createStringImage_49g1x9$=function(e,t,i,r,o,n,a,s,l,u,h){return void 0===e&&(e=""),void 0===t&&(t=""),void 0===i&&(i=16),void 0===r&&(r=hi().white_mx4ult$()),void 0===o&&(o=hi().black_mx4ult$()),void 0===n&&(n=-3),void 0===a&&(a=!1),void 0===s&&(s=!0),void 0===l&&(l=null),void 0===u&&(u=1),void 0===h&&(h=1),gt().shared().createStringImage_49g1x9$(e,t,i,r,o,n,a,s,l,u,h)},je.prototype.createStringTexture_49g1x9$=function(e,t,i,r,o,n,a,s,l,u,h){return void 0===e&&(e=""),void 0===t&&(t=""),void 0===i&&(i=16),void 0===r&&(r=hi().white_mx4ult$()),void 0===o&&(o=hi().black_mx4ult$()),void 0===n&&(n=-3),void 0===a&&(a=!1),void 0===s&&(s=!0),void 0===l&&(l=null),void 0===u&&(u=1),void 0===h&&(h=1),gt().shared().createStringTexture_w7yuqy$(e,t,i,r,o,n,a,l,u,h)},je.$metadata$={kind:o,simpleName:"ResourceManager",interfaces:[]},We.$metadata$={kind:u,simpleName:"Holder",interfaces:[]};var Ye=null;function Xe(){return null===Ye&&new We,Ye}function ot(){(vt=this).initialized=!1}ot.prototype.shared=function(){return null==Xe().instance&&(Xe().instance=new He),Je(Xe().instance)},ot.prototype.shutdown=function(){Xe().instance=null},ot.$metadata$={kind:u,simpleName:"Companion",interfaces:[]};var nt,at,st,lt,ut,ht,ct,dt,pt,ft,mt,vt=null;function gt(){return null===vt&&new ot,vt}function _t(e,t){h.call(this),this.name$=e,this.ordinal$=t}function $t(){$t=function(){},nt=new _t("ready",0),at=new _t("running",1),st=new _t("stopRequest",2),lt=new _t("stop",3)}function yt(){return $t(),nt}function bt(){return $t(),at}function St(){return $t(),st}function kt(){return $t(),lt}function wt(){var t;this.increase=!1,this.repeatTime=!0,this.remain=0,this.state=kt(),this.interval=0,this.current=0,this.callback=null,this.update=(t=this,function(e){return t.state===St()?t.state=kt():t.state===kt()||t.state!==bt()||(t.current=t.current+e.elapsed,t.state=bt(),null!=t.callback&&Je(t.callback)(e.elapsed)),!0})}function xt(e,t,i){return void 0===t&&(t=null),i=i||Object.create(wt.prototype),wt.call(i),i.callback=t,i.interval=e,i.increase=!1,i.repeatTime=!0,i.remain=0,i.state=kt(),i}function Ct(e,t,i,r,o,n,a){Bt(),void 0===n&&(n=!0),this.name=e,this.x=t,this.y=i,this.width=r,this.height=o,this.receiveAlways=n,this.callback=a}function zt(e,t){h.call(this),this.name$=e,this.ordinal$=t}function Tt(){Tt=function(){},ut=new zt("began",0),ht=new zt("moved",1),ct=new zt("ended",2),dt=new zt("cancelled",3),pt=new zt("scroll",4),ft=new zt("back",5),mt=new zt("keydown",6)}function Gt(){return Tt(),ut}function At(){return Tt(),ht}function It(){return Tt(),ct}function Nt(){return Tt(),dt}function Mt(){return Tt(),pt}function Ot(){return Tt(),ft}function Rt(){return Tt(),mt}function jt(){(Pt=this).ANY_KEY=-1,this.NUM_0=7,this.NUM_1=8,this.NUM_2=9,this.NUM_3=10,this.NUM_4=11,this.NUM_5=12,this.NUM_6=13,this.NUM_7=14,this.NUM_8=15,this.NUM_9=16,this.A=29,this.ALT_LEFT=57,this.ALT_RIGHT=58,this.APOSTROPHE=75,this.AT=77,this.B=30,this.BACK=4,this.BACKSLASH=73,this.C=31,this.CALL=5,this.CAMERA=27,this.CLEAR=28,this.COMMA=55,this.D=32,this.DEL=67,this.BACKSPACE=67,this.FORWARD_DEL=112,this.DPAD_CENTER=23,this.DPAD_DOWN=20,this.DPAD_LEFT=21,this.DPAD_RIGHT=22,this.DPAD_UP=19,this.CENTER=23,this.DOWN=20,this.LEFT=21,this.RIGHT=22,this.UP=19,this.E=33,this.ENDCALL=6,this.ENTER=66,this.ENVELOPE=65,this.EQUALS=70,this.EXPLORER=64,this.F=34,this.FOCUS=80,this.G=35,this.GRAVE=68,this.H=36,this.HEADSETHOOK=79,this.HOME=3,this.I=37,this.J=38,this.K=39,this.L=40,this.LEFT_BRACKET=71,this.M=41,this.MEDIA_FAST_FORWARD=90,this.MEDIA_NEXT=87,this.MEDIA_PLAY_PAUSE=85,this.MEDIA_PREVIOUS=88,this.MEDIA_REWIND=89,this.MEDIA_STOP=86,this.MENU=82,this.MINUS=69,this.MUTE=91,this.N=42,this.NOTIFICATION=83,this.NUM=78,this.O=43,this.P=44,this.PERIOD=56,this.PLUS=81,this.POUND=18,this.POWER=26,this.Q=45,this.R=46,this.RIGHT_BRACKET=72,this.S=47,this.SEARCH=84,this.SEMICOLON=74,this.SHIFT_LEFT=59,this.SHIFT_RIGHT=60,this.SLASH=76,this.SOFT_LEFT=1,this.SOFT_RIGHT=2,this.SPACE=62,this.STAR=17,this.SYM=63,this.T=48,this.TAB=61,this.U=49,this.UNKNOWN=0,this.V=50,this.VOLUME_DOWN=25,this.VOLUME_UP=24,this.W=51,this.X=52,this.Y=53,this.Z=54,this.META_ALT_LEFT_ON=16,this.META_ALT_ON=2,this.META_ALT_RIGHT_ON=32,this.META_SHIFT_LEFT_ON=64,this.META_SHIFT_ON=1,this.META_SHIFT_RIGHT_ON=128,this.META_SYM_ON=4,this.CONTROL_LEFT=129,this.CONTROL_RIGHT=130,this.ESCAPE=131,this.END=132,this.INSERT=133,this.PAGE_UP=92,this.PAGE_DOWN=93,this.PICTSYMBOLS=94,this.SWITCH_CHARSET=95,this.BUTTON_CIRCLE=255,this.BUTTON_A=96,this.BUTTON_B=97,this.BUTTON_C=98,this.BUTTON_X=99,this.BUTTON_Y=100,this.BUTTON_Z=101,this.BUTTON_L1=102,this.BUTTON_R1=103,this.BUTTON_L2=104,this.BUTTON_R2=105,this.BUTTON_THUMBL=106,this.BUTTON_THUMBR=107,this.BUTTON_START=108,this.BUTTON_SELECT=109,this.BUTTON_MODE=110,this.NUMPAD_0=144,this.NUMPAD_1=145,this.NUMPAD_2=146,this.NUMPAD_3=147,this.NUMPAD_4=148,this.NUMPAD_5=149,this.NUMPAD_6=150,this.NUMPAD_7=151,this.NUMPAD_8=152,this.NUMPAD_9=153,this.COLON=243,this.F1=244,this.F2=245,this.F3=246,this.F4=247,this.F5=248,this.F6=249,this.F7=250,this.F8=251,this.F9=252,this.F10=253,this.F11=254,this.F12=255}He.prototype.addTexture_p1juio$=function(e,t){return null!=this.dictionary.get_11rb$(e)?this.dictionary.get_11rb$(e):(this.dictionary.put_xwzc9p$(e,t),t)},He.prototype.loadTexture_jyasbz$=function(e,t){void 0===t&&(t=null);var i=e;if(i=null!=t?t:e,null!=this.dictionary.get_11rb$(i))return this.dictionary.get_11rb$(i);var r=Ie().shared().loadTexture_jyasbz$(e,t);if(null!=r){var o=i;return this.dictionary.put_xwzc9p$(o,r),r}return null},He.prototype.loadAtlas_ivxn3r$=function(e,t){var i;for(void 0===t&&(t=!0),i=Ie().shared().loadAtlas_ivxn3r$(e,t).iterator();i.hasNext();){var r=i.next(),o=this.dictionary,n=r.GetName();o.put_xwzc9p$(n,r),this.addAlias_puj7f4$(r.GetName(),e+"/"+r.GetName())}},He.prototype.makeAtlas_mvjluj$=function(e,t){var i;for(i=Ie().shared().makeAtlas_mvjluj$(e,t).iterator();i.hasNext();){var r=i.next();this.addTexture_p1juio$(r.GetName(),r)}},He.prototype.makeAtlas_kwv3np$=function(e,t){var i;for(i=Ie().shared().makeAtlas_kwv3np$(e,t).iterator();i.hasNext();){var r=i.next();this.addTexture_p1juio$(r.GetName(),r)}},He.prototype.makeAtlasWithData_d0u64m$=function(e,t){var i;for(i=Ie().shared().makeAtlasWithData_d0u64m$(e,t).iterator();i.hasNext();){var r=i.next();this.addTexture_p1juio$(r.GetName(),r)}},He.prototype.removeAtlas_61zpoe$=function(e){return Ie().shared().removeAtlas_61zpoe$(e)},He.prototype.preloadTexture_o14v8n$=function(e){Ie().shared().preloadTexture_o14v8n$(e)},He.prototype.addAlias_2wxw00$=function(e,t){return null!=this.dictionary.get_11rb$(t)?this.dictionary.get_11rb$(t):(this.dictionary.put_xwzc9p$(t,e),e)},He.prototype.addAlias_puj7f4$=function(e,t){this.aliasTable.put_xwzc9p$(t,e)},He.prototype.GetTexture_61zpoe$=function(e){var t=this.aliasTable.get_11rb$(e);if(null!=t){if(null!=this.dictionary.get_11rb$(t))return this.dictionary.get_11rb$(t);var i=this.loadTexture_jyasbz$(t);if(null!=i)return i}else{if(null!=this.dictionary.get_11rb$(e))return this.dictionary.get_11rb$(e);var r=this.loadTexture_jyasbz$(e);if(null!=r)return r}return null},He.prototype.checkTexture_61zpoe$=function(e){if(null!=this.dictionary.get_11rb$(e))return this.dictionary.get_11rb$(e);var t=this.aliasTable.get_11rb$(e);return null!=t&&null!=this.dictionary.get_11rb$(t)?this.dictionary.get_11rb$(t):null},He.prototype.removeTexture_61zpoe$=function(e){return null!=this.dictionary.get_11rb$(e)&&(this.dictionary.remove_11rb$(e),!0)},He.prototype.createStringImage_49g1x9$=function(e,t,i,r,o,n,a,s,l,u,h){return void 0===e&&(e=""),void 0===t&&(t=""),void 0===i&&(i=16),void 0===r&&(r=hi().white_mx4ult$()),void 0===o&&(o=hi().black_mx4ult$()),void 0===n&&(n=-3),void 0===a&&(a=!0),void 0===s&&(s=!0),void 0===l&&(l=null),Ie().shared().createStringImage_k1lctz$(e,t,i,r,o,n,a,u,h)},He.prototype.createStringTexture_w7yuqy$=function(e,t,i,r,o,n,a,s,l,u){void 0===e&&(e=""),void 0===t&&(t=""),void 0===i&&(i=16),void 0===r&&(r=hi().white_mx4ult$()),void 0===o&&(o=hi().black_mx4ult$()),void 0===n&&(n=-3),void 0===a&&(a=!0),void 0===s&&(s=null);var h=e+t+i.toString();null!=s&&(h=s);var c=this.checkTexture_61zpoe$(h);if(null!=c)return c;var d=Ie().shared().createStringImage_k1lctz$(e,t,i,r,o,n,a,l,u);return null!=d?this.addTexture_p1juio$(h,Ie().shared().createGuestTexture_bm4g0d$(h,d)):null},He.$metadata$={kind:o,simpleName:"TextureManager",interfaces:[]},_t.$metadata$={kind:o,simpleName:"TimerState",interfaces:[h]},_t.values=function(){return[yt(),bt(),St(),kt()]},_t.valueOf_61zpoe$=function(e){switch(e){case"ready":return yt();case"running":return bt();case"stopRequest":return St();case"stop":return kt();default:c("No enum constant com.blindcatstudio.phantom.device.TimerState."+e)}},wt.prototype.SetCallback_d6xl6w$=function(e){this.callback=e},wt.prototype.GetInterval=function(){return this.interval},wt.prototype.start=function(){this.state=bt()},wt.prototype.stop=function(){this.state===bt()&&(this.state=St())},wt.prototype.manualUpdate_mx4ult$=function(e){null!=this.callback&&Je(this.callback)(this.interval)},wt.prototype.GetCurrentTime=function(){return this.current},wt.$metadata$={kind:o,simpleName:"Timer",interfaces:[]},zt.$metadata$={kind:o,simpleName:"State",interfaces:[h]},zt.values=function(){return[Gt(),At(),It(),Nt(),Mt(),Ot(),Rt()]},zt.valueOf_61zpoe$=function(e){switch(e){case"began":return Gt();case"moved":return At();case"ended":return It();case"cancelled":return Nt();case"scroll":return Mt();case"back":return Ot();case"keydown":return Rt();default:c("No enum constant com.blindcatstudio.phantom.device.TouchListener.State."+e)}},jt.$metadata$={kind:u,simpleName:"Code",interfaces:[]};var Pt=null;function Bt(){return null===Pt&&new jt,Pt}function Et(e,t,i,r,o,n,a){void 0===t&&(t=.1),void 0===i&&(i=-1),void 0===r&&(r=-1),void 0===o&&(o=-1),void 0===n&&(n=0),void 0===a&&(a=0),this.animationFrame=e,this.animationStartFrame=0,this.animationEndFrame=e.length-1|0,this.animationInterval=t,this.animationStartDelay=n,this.animationRepeat=i,this.animationRepeatDelay=a,this.animationWidth=r,this.animationHeight=o,this.elapsedTime=0,this.currentFrame=-1,this.repeatCount=0}function Ft(){this.allowXDragging=!1,this.allowYDragging=!1,this.onDragging=!1,this.lastPosition=Ai(),this.lastTime=0,this.speed=Ai(),this.accel=Ai()}Ct.$metadata$={kind:o,simpleName:"TouchListener",interfaces:[]},Ct.prototype.component1=function(){return this.name},Ct.prototype.component2=function(){return this.x},Ct.prototype.component3=function(){return this.y},Ct.prototype.component4=function(){return this.width},Ct.prototype.component5=function(){return this.height},Ct.prototype.component6=function(){return this.receiveAlways},Ct.prototype.component7=function(){return this.callback},Ct.prototype.copy_ru3o4y$=function(e,t,i,r,o,n,a){return new Ct(void 0===e?this.name:e,void 0===t?this.x:t,void 0===i?this.y:i,void 0===r?this.width:r,void 0===o?this.height:o,void 0===n?this.receiveAlways:n,void 0===a?this.callback:a)},Ct.prototype.toString=function(){return"TouchListener(name="+Ke.toString(this.name)+", x="+Ke.toString(this.x)+", y="+Ke.toString(this.y)+", width="+Ke.toString(this.width)+", height="+Ke.toString(this.height)+", receiveAlways="+Ke.toString(this.receiveAlways)+", callback="+Ke.toString(this.callback)+")"},Ct.prototype.hashCode=function(){var e=0;return e=31*(e=31*(e=31*(e=31*(e=31*(e=31*(e=31*e+Ke.hashCode(this.name)|0)+Ke.hashCode(this.x)|0)+Ke.hashCode(this.y)|0)+Ke.hashCode(this.width)|0)+Ke.hashCode(this.height)|0)+Ke.hashCode(this.receiveAlways)|0)+Ke.hashCode(this.callback)|0},Ct.prototype.equals=function(e){return this===e||null!==e&&"object"==typeof e&&Object.getPrototypeOf(this)===Object.getPrototypeOf(e)&&Ke.equals(this.name,e.name)&&Ke.equals(this.x,e.x)&&Ke.equals(this.y,e.y)&&Ke.equals(this.width,e.width)&&Ke.equals(this.height,e.height)&&Ke.equals(this.receiveAlways,e.receiveAlways)&&Ke.equals(this.callback,e.callback)},Et.prototype.SetStartFrame_za3lpa$=function(e){this.animationStartFrame=e},Et.prototype.SetEndFrame_za3lpa$=function(e){this.animationEndFrame=e},Et.prototype.update_mx4ult$=function(e){this.elapsedTime+=e,this.elapsedTime>this.animationStartDelay&&(-1===this.currentFrame&&(this.currentFrame=this.animationStartFrame,this.elapsedTime-=this.animationStartDelay,this.animationStartDelay=0),this.elapsedTime>=this.animationInterval&&(this.currentFrame=this.currentFrame+et(this.elapsedTime/this.animationInterval)|0,this.currentFrame>this.animationEndFrame&&(-1===this.animationRepeat?0<this.animationRepeatDelay?(this.animationStartDelay=this.animationRepeatDelay-(this.currentFrame-this.animationEndFrame|0)*this.animationInterval,this.currentFrame=-1):this.currentFrame=this.currentFrame%(this.animationEndFrame+1|0):(this.repeatCount=this.repeatCount+1|0,this.repeatCount>=this.animationRepeat?this.currentFrame=this.animationEndFrame:0<this.animationRepeatDelay?(this.animationStartDelay=this.animationRepeatDelay-(this.currentFrame-this.animationEndFrame|0)*this.animationInterval,this.currentFrame=-1):this.currentFrame=this.currentFrame%(this.animationEndFrame+1|0))),this.elapsedTime=this.elapsedTime%this.animationInterval))},Et.prototype.GetCurrentFrame=function(){return-1===this.currentFrame?null:this.animationFrame[this.currentFrame]},Et.prototype.GetWidth=function(){return this.animationWidth},Et.prototype.GetHeight=function(){return this.animationHeight},Et.$metadata$={kind:o,simpleName:"Animation",interfaces:[]},Ft.prototype.SetSize_dleff0$=function(e,t){var i,r=Ke.isType(i=this.GetObject(),ye)?i:null;null!=r&&r.SetSize_dleff0$(e,t),po.prototype.SetSize_dleff0$.call(this,e,t),this.SetVerticalAlign_qn2em6$(this.verticalAlign),this.SetHorizontalAlign_jdpdm8$(this.horizontalAlign)},Ft.prototype.onPress_dleff0$=function(e,t){return this.onPressInternal_dleff0$(e,t),po.prototype.onPress_dleff0$.call(this,e,t)},Ft.prototype.onPressInternal_dleff0$=function(e,t){return this.lastPosition.x=e,this.lastPosition.y=t,this.lastTime=this.age,!0},Ft.prototype.onDrag_dleff0$=function(e,t){return this.onDragInternal_dleff0$(e,t),po.prototype.onDrag_dleff0$.call(this,e,t)};var Lt,Dt,Vt,Ut,qt,Ht,Wt,Yt=Math;function Xt(e,t,i,r){var o;void 0===i&&(i=0),fo(e,t,i,r=r||Object.create(Ft.prototype)),Ft.call(r),r.lastPosition=Ai(),r.speed=Ai(),r.accel=Ai();var n=Ie().shared().createGuestSprite();return!0===Ie().shared().GetDebug()?n.SetColor_7b5o5w$(1,0,0,.5):n.SetColor_7b5o5w$(0,0,0,0),r.addObject_s8jyv4$(Ke.isType(o=n,b)?o:Ee()),r.lastPosition.x=r.GetPosition().x,r.lastPosition.y=r.GetPosition().y,r}function Kt(){this.buttonImageFrame=[null,null,null,null],this.clickAdjust=Ai(0,0),this.autoSize=!1,this.widthGap=10,this.heightGap=10,this.state=0,this.enable=!0,this.sizeBackup=null,this.labelSizeBackup=null,this.reaction=!0,this.cancelWhenDrag=!1,this.pressPoint=Ai()}function Zt(e,t,i,r,o,n,a,s,l){void 0===i&&(i=0),void 0===r&&(r=null),void 0===o&&(o=""),void 0===n&&(n="Main/"),void 0===a&&(a=hi().white_mx4ult$()),void 0===s&&(s=24),Xt(e,t,i,l=l||Object.create(Kt.prototype)),Kt.call(l);var u=r,h=null;null==u?((h=la(0,0,void 0,null)).SetVerticalAlign_qn2em6$(ro()),h.SetHorizontalAlign_jdpdm8$(lo()),h.SetAlpha_8ca0d4$(0),l.addChild_g5h3xp$(h),l.SetSize_dleff0$(h.GetSize().width,h.GetSize().height)):((h=la(0,0,void 0,u[0])).SetVerticalAlign_qn2em6$(ro()),h.SetHorizontalAlign_jdpdm8$(lo()),l.addChild_g5h3xp$(h),l.SetSize_dleff0$(h.GetSize().width,h.GetSize().height),l.SetImageFrame_a3w2ab$(u)),h.SetInputOwner_3hy050$(l);var c=_a(l.GetSize().width/2,l.GetSize().height/2,void 0,l.GetSize().width,l.GetSize().height,n,s,void 0,void 0,void 0,void 0,void 0,void 0,void 0,a);return c.SetVerticalAlign_qn2em6$(ro()),c.SetHorizontalAlign_jdpdm8$(lo()),c.SetTextVerticalAlign_qn2em6$(ro()),c.SetTextHorizontalAlign_jdpdm8$(lo()),c.addText_r4v59z$(o),l.addChild_g5h3xp$(c),c.SetInputOwner_3hy050$(l),l.adjustSize(),l.drag=!1,l.SetInputOwner_3hy050$(l),l}function Qt(e,t){h.call(this),this.name$=e,this.ordinal$=t}function Jt(){Jt=function(){},Lt=new Qt("alpha",0),Dt=new Qt("add",1),Vt=new Qt("subtract",2),Ut=new Qt("multiply",3),qt=new Qt("multiplyX2",4),Ht=new Qt("screen",5),Wt=new Qt("replace",6)}function ei(){return Jt(),Lt}function ti(){return Jt(),Dt}function ii(){return Jt(),Vt}function ri(){return Jt(),Ut}function oi(){return Jt(),qt}function ni(){return Jt(),Ht}function ai(){return Jt(),Wt}function si(){hi(),this.r=1,this.g=1,this.b=1,this.a=1}function li(){ui=this}Ft.prototype.onDragInternal_dleff0$=function(e,t){var i=e,r=t;if(!0===this.drag){this.onDragging=!0;var o=this.GetPosition();this.lastPosition.x=this.lastPosition.x+i,this.lastPosition.y=this.lastPosition.y+r;var n=this.age-this.lastTime;if(0===n&&(n=.001),!0===this.allowXDragging){this.speed.x=i/n;var a=this.speed.x;if(Yt.abs(a)>2*Je(this.GetParent()).GetSize().width){var s=this.speed,l=this.speed.x,u=this.speed.x;s.x=l/Yt.abs(u)*Je(this.GetParent()).GetSize().width*2}}else i=0;if(!0===this.allowYDragging){this.speed.y=r/n;var h=this.speed.y;if(Yt.abs(h)>2*Je(this.GetParent()).GetSize().height){var c=this.speed,d=this.speed.y,p=this.speed.y;c.y=d/Yt.abs(p)*Je(this.GetParent()).GetSize().height*2}}else r=0;var f=this.GetPosition();if(!0===this.onDragging&&(!0===this.allowXDragging&&(f.x=f.x+i,f.x<0?f.x=0:f.x>Je(this.GetParent()).GetSize().width&&(f.x=Je(this.GetParent()).GetSize().width),this.SetPosition_dleff0$(f.x,f.y)),!0===this.allowYDragging&&(f.y=f.y+r,f.y<0?f.y=0:f.y>Je(this.GetParent()).GetSize().height&&(f.y=Je(this.GetParent()).GetSize().height),this.SetPosition_dleff0$(f.x,f.y))),!0===this.allowXDragging){this.speed.x=this.speed.x;var m=this.accel,v=-1*this.speed.x,g=this.speed.x;m.x=v/Yt.abs(g)*Je(this.GetParent()).GetSize().width*2*1.8}if(!0===this.allowYDragging){this.speed.y=this.speed.y;var _=this.accel,$=-1*this.speed.y,y=this.speed.y;_.y=$/Yt.abs(y)*Je(this.GetParent()).GetSize().width*2*1.8}this.lastTime=this.age,o.x===f.x&&o.y===f.y||this.sendMessage_iaw1dj$(Pr(),this.GetParent())}return!0},Ft.prototype.onRelease_fzxzdm$=function(e,t,i){return this.onReleaseInternal_dleff0$(e,t),po.prototype.onRelease_fzxzdm$.call(this,e,t,i)},Ft.prototype.onReleaseInternal_dleff0$=function(e,t){return!(this.onDragging=!1)},Ft.prototype.onCancel=function(){return this.onCancelInternal(),po.prototype.onCancel.call(this)},Ft.prototype.onCancelInternal=function(){return!(this.onDragging=!1)},Ft.prototype.update_mx4ult$=function(e){po.prototype.update_mx4ult$.call(this,e);var t=this.GetPosition(),i=this.GetPosition();if(!0!==this.onDragging){if(0!==this.speed.x){this.speed.x=this.speed.x+this.accel.x*e;var r=this.speed.x*e+.5*this.accel.x*e*e;0<this.accel.x?0<r&&(r=0,this.accel.x=0,this.speed.x=0):r<0&&(r=0,this.accel.x=0,this.speed.x=0),i.x=i.x+r,i.x<0?(i.x=0,this.speed.x=0,this.accel.x=0):i.x>Je(this.GetParent()).GetSize().width&&(i.x=Je(this.GetParent()).GetSize().width,this.speed.x=0,this.accel.x=0),this.SetPosition_dleff0$(i.x,i.y)}if(0!==this.speed.y){this.speed.y=this.speed.y+this.accel.y*e;var o=this.speed.y*e+.5*this.accel.y*e*e;0<this.accel.y?0<o&&(o=0,this.accel.y=0,this.speed.y=0):o<0&&(o=0,this.accel.y=0,this.speed.y=0),i.y=i.y+o,i.y<0?(i.y=0,this.speed.y=0,this.accel.y=0):i.y>Je(this.GetParent()).GetSize().height&&(i.y=Je(this.GetParent()).GetSize().height,this.speed.y=0,this.accel.y=0),this.SetPosition_dleff0$(i.x,i.y)}t.x===i.x&&t.y===i.y||this.sendMessage_iaw1dj$(Pr(),this.GetParent())}},Ft.prototype.SetBlendFactor_mx4ult$$default=function(e){var t,i;for(this.SetBlendFactor_mx4ult$(e,po.prototype.SetBlendFactor_mx4ult$$default.bind(this)),t=this.GetChildList().iterator();t.hasNext();){var r=t.next(),o=Ke.isType(i=r,po)?i:null;null!=o&&o.SetBlendFactor_mx4ult$(e)}},Ft.prototype.SetBlendMode_ieo8yr$=function(e){var t,i;for(po.prototype.SetBlendMode_ieo8yr$.call(this,e),t=this.GetChildList().iterator();t.hasNext();){var r=t.next(),o=Ke.isType(i=r,po)?i:null;null!=o&&o.SetBlendMode_ieo8yr$(e)}},Ft.$metadata$={kind:o,simpleName:"BlankNode",interfaces:[po]},Kt.prototype.freeAdditionalResource=function(){this.buttonImageFrame=[]},Kt.prototype.SetDrag_6taknv$=function(e){var t;for(this.drag=e,t=this.GetChildList().iterator();t.hasNext();){t.next().SetDrag_6taknv$(e)}},Kt.prototype.onPress_dleff0$=function(e,t){var i;if(this.pressPoint.x=e,this.pressPoint.y=t,!1===this.GetEnable()){var r=this.convertGlobalToLocalCoordinate_dleff0$(e,t);return this.sendMessage_79egny$(new Hr(Gr(),void 0,void 0,m(Ai(r.first,r.second))),this)}var a,s,l,u,o=this.convertGlobalToLocalCoordinate_dleff0$(e,t);if(!1===this.sendMessage_79egny$(new Hr(Tr(),void 0,void 0,m(Ai(o.first,o.second))),this))return!1;if(0!==this.state)return!1;if(this.state=1,this.SetButtonImage(),!0===this.reaction){this.sizeBackup=Pi(this.GetSize().width,this.GetSize().height);var n=Pi(this.GetSize().width,this.GetSize().height),h={v:null},c=Ke.isType(i=this.GetChild_za3lpa$(1),ma)?i:null;null!=c&&(h.v=Pi(c.GetSize().width,c.GetSize().height));var d=vn(.8,0);d.SetTimeMultiplier_mx4ult$(3),d.SetScale_mx4ult$(.2),this.addUpdateCallback_sds54w$("button_action",!1,!1,!0,void 0,void 0,(a=d,s=this,l=n,u=h,function(e){var t,i;a.update_mx4ult$(e.elapsed);var r=a.GetPosition();if(180<=a.GetAccumulateDegree()){s.SetImageSize_dleff0$(l.width,l.height);var o=Ke.isType(t=s.GetChild_za3lpa$(1),ma)?t:null;return null!=o&&(o.SetSize_dleff0$(Je(u.v).width,Je(u.v).height),o.SetPosition_dleff0$(.5*s.GetSize().width,.5*s.GetSize().height),o.SetVerticalAlign_qn2em6$(ro()),o.SetHorizontalAlign_jdpdm8$(lo()),o.SetTextVerticalAlign_qn2em6$(ro()),o.SetTextHorizontalAlign_jdpdm8$(lo())),!1}s.SetImageSize_dleff0$(l.width*(1+r),l.height*(1+r));var n=Ke.isType(i=s.GetChild_za3lpa$(1),ma)?i:null;return null!=n&&(n.SetSize_dleff0$(Je(u.v).width*(1+r),Je(u.v).height*(1+r)),n.SetPosition_dleff0$(.5*s.GetSize().width,.5*s.GetSize().height),n.SetVerticalAlign_qn2em6$(ro()),n.SetHorizontalAlign_jdpdm8$(lo()),n.SetTextVerticalAlign_qn2em6$(ro()),n.SetTextHorizontalAlign_jdpdm8$(lo())),!0}))}return Ft.prototype.onPress_dleff0$.call(this,e,t),!0},Kt.prototype.onDrag_dleff0$=function(e,t){return Ft.prototype.onDrag_dleff0$.call(this,e,t),!0},Kt.prototype.onRelease_fzxzdm$=function(e,t,i){var r,o,n,a,s,l=this.convertGlobalToLocalCoordinate_dleff0$(e,t);if(!1===this.GetEnable()){if(!1===this.sendMessage_79egny$(new Hr(Ir(),void 0,void 0,m(Ai(l.first,l.second))),this))return!1;if(!0===this.reaction){var u=Ai(this.GetPosition().x,this.GetPosition().y),h=vn(10,0);h.SetScale_mx4ult$(1.2*this.GetRoot().sizeScale.xRatio),this.addUpdateCallback_sds54w$("button_disabled_action",!1,!1,!0,void 0,void 0,(r=this,o=u,n=h,function(e){if(0===e.elapsed)return r.SetPosition_dleff0$(o.x,o.y),!1;if(.5<e.age)return r.SetPosition_dleff0$(o.x,o.y),!1;n.update_mx4ult$(e.elapsed);var t=n.GetPosition();return r.SetPosition_dleff0$(o.x+t,o.y),!0}))}return!1}if(0===this.state)return!1;if(!0===this.cancelWhenDrag){var c=this.pressPoint.x-e,d=Yt.abs(c)>5*this.GetRoot().sizeScale.xRatio;if(!d){var p=this.pressPoint.y-t;d=Yt.abs(p)>5*this.GetRoot().sizeScale.yRatio}if(d)return this.onCancel()}if(!0===this.reaction){new dn(-80,0,30).SetTimeMultiplier_mx4ult$(2),this.addUpdateCallback_sds54w$("button_action",!0,!1,!0,0,void 0,(a=this,s=l,function(e){return 0!==e.elapsed||(!(a.state=0)===a.sendMessage_79egny$(new Hr(Ar(),void 0,void 0,m(Ai(s.first,s.second))),a)&&a.changeState(),!1)}))}else{this.state=0;var f=this.convertGlobalToLocalCoordinate_dleff0$(e,t);!0===this.sendMessage_79egny$(new Hr(Ar(),void 0,void 0,m(Ai(f.first,f.second))),this)&&this.changeState()}return Ft.prototype.onRelease_fzxzdm$.call(this,e,t,i),!0},Kt.prototype.onCancel=function(){return!1!==this.GetEnable()&&(this.reaction,this.state=0,Ft.prototype.onCancel.call(this),!0)},Kt.prototype.SetSize_dleff0$=function(e,t){var i,r;Ft.prototype.SetSize_dleff0$.call(this,e,t);var o=Ke.isType(i=this.GetChild_za3lpa$(0),sa)?i:null;null!=o&&(o.SetSize_dleff0$(e,t),o.SetPosition_dleff0$(.5*e,.5*t));var n=Ke.isType(r=this.GetChild_za3lpa$(1),ma)?r:null;null!=n&&(n.SetSize_dleff0$(e,t),n.SetPosition_dleff0$(.5*e,.5*t),n.SetVerticalAlign_qn2em6$(ro()),n.SetHorizontalAlign_jdpdm8$(lo()),n.SetTextVerticalAlign_qn2em6$(ro()),n.SetTextHorizontalAlign_jdpdm8$(lo()))},Kt.prototype.SetImageSize_dleff0$=function(e,t){var i,r=Ke.isType(i=this.GetChild_za3lpa$(0),sa)?i:null;null!=r&&r.SetSize_dleff0$(e,t)},Kt.prototype.SetCenterRect_3fx80m$=function(e){var t,i=Ke.isType(t=this.GetChild_za3lpa$(0),sa)?t:null;null!=i&&i.SetCenterRect_3fx80m$(e)},Kt.prototype.adjustSize=function(){},Kt.prototype.SetReaction_6taknv$=function(e){void 0===e&&(e=!0),this.reaction=e},Kt.prototype.SetCancelWhenDrag_6taknv$=function(e){void 0===e&&(e=!0),this.cancelWhenDrag=e},Kt.prototype.SetText_61zpoe$=function(e){var t,i=Ke.isType(t=this.GetChild_za3lpa$(1),Wr)?t:null;null!=i&&(i.SetText_61zpoe$(e),this.adjustSize())},Kt.prototype.SetFontColor_3nzkge$=function(e){var t;void 0===e&&(e=pi(0,0,0));var i=Ke.isType(t=this.GetChild_za3lpa$(1),Wr)?t:null;null!=i&&i.SetFontColor_3nzkge$(e)},Kt.prototype.SetFontSize_mx4ult$=function(e){var t;void 0===e&&(e=32);var i=Ke.isType(t=this.GetChild_za3lpa$(1),Wr)?t:null;null!=i&&(i.SetFontSize_mx4ult$(e),this.adjustSize())},Kt.prototype.GetImageFrame=function(){return this.buttonImageFrame},Kt.prototype.SetImageFrame_a3w2ab$=function(e){for(var t=0;t!==e.length;++t){var i=e[t];t>=this.buttonImageFrame.length||null==i?this.buttonImageFrame[t]=e[0]:null!=qe().shared().GetTexture_61zpoe$(i)?this.buttonImageFrame[t]=i:this.buttonImageFrame[t]=e[0]}this.SetButtonImage()},Kt.prototype.SetClickAdjust_dleff0$=function(e,t){this.clickAdjust.x=e,this.clickAdjust.y=t},Kt.prototype.SetEnable_6taknv$=function(e){this.enable=e,this.SetButtonImage()},Kt.prototype.GetEnable=function(){return this.enable},Kt.prototype.SetButtonImage=function(){var e,t=Ke.isType(e=this.GetChild_za3lpa$(0),sa)?e:null;null!=t&&(!1===this.enable?null!=this.buttonImageFrame[1]&&t.SetImage_9xt0da$(Je(this.buttonImageFrame[1]),this.GetSize().width,this.GetSize().height):0===this.state?null!=this.buttonImageFrame[0]&&t.SetImage_9xt0da$(Je(this.buttonImageFrame[0]),this.GetSize().width,this.GetSize().height):null!=this.buttonImageFrame[2]&&t.SetImage_9xt0da$(Je(this.buttonImageFrame[2]),this.GetSize().width,this.GetSize().height))},Kt.prototype.changeState=function(){this.SetButtonImage()},Kt.prototype.click=function(){!0===this.sendMessage_79egny$(new Hr(Ar(),void 0,void 0,m(Ai(-1,-1))),this)&&this.changeState()},Kt.prototype.defaultMessageHandler_sad1na$=function(e){var t=this.GetParent();return(null==t||!1!==this.sendMessage_2iuq6n$(t,e))&&Ft.prototype.defaultMessageHandler_sad1na$.call(this,e)},Kt.$metadata$={kind:o,simpleName:"Button",interfaces:[Ft]},Qt.$metadata$={kind:o,simpleName:"BlendMode",interfaces:[h]},Qt.values=function(){return[ei(),ti(),ii(),ri(),oi(),ni(),ai()]},Qt.valueOf_61zpoe$=function(e){switch(e){case"alpha":return ei();case"add":return ti();case"subtract":return ii();case"multiply":return ri();case"multiplyX2":return oi();case"screen":return ni();case"replace":return ai();default:c("No enum constant com.blindcatstudio.phantom.graphic.BlendMode."+e)}},si.prototype.hexa2Bytes_61zpoe$=function(e){var t,i=new Int32Array(e.length/2|0);t=e.length-1|0;for(var r=0;r<=t;r+=2)if((r+1|0)<e.length){var o=p(e,new d(r,r+1|0));try{i[r/2|0]=f(o,16)}catch(e){if(!Ke.isType(e,g))throw e;i[r/2|0]=0,A(e.toString())}}return i},si.prototype.compare_3nzkge$=function(e){return this.r===e.r&&this.g===e.g&&this.b===e.b},si.prototype.compareWithAlpha_3nzkge$=function(e){return this.r===e.r&&this.g===e.g&&this.b===e.b&&this.a===e.a},si.prototype.morph_v56z0p$=function(e,t){this.r<e.r?(this.r=this.r+t,this.r>e.r&&(this.r=e.r)):this.r>e.r&&(this.r=this.r-t,this.r<e.r&&(this.r=e.r)),this.g<e.g?(this.g=this.g+t,this.g>e.g&&(this.g=e.g)):this.g>e.g&&(this.g=this.g-t,this.g<e.g&&(this.g=e.g)),this.b<e.b?(this.b=this.b+t,this.b>e.b&&(this.b=e.b)):this.b>e.b&&(this.b=this.b-t,this.b<e.b&&(this.b=e.b)),this.a<e.a?(this.a=this.a+t,this.a>e.a&&(this.a=e.a)):this.a>e.a&&(this.a=this.a-t,this.a<e.a&&(this.a=e.a))},si.prototype.morphOld_v56z0p$=function(e,t){this.r<e.r?(this.r=this.r+.5*t,this.r>e.r&&(this.r=e.r)):this.r>e.r&&(this.r=this.r-.5*t,this.r<e.r&&(this.r=e.r)),this.g<e.g?(this.g=this.g+.5*t,this.g>e.g&&(this.g=e.g)):this.g>e.g&&(this.g=this.g-.5*t,this.g<e.g&&(this.g=e.g)),this.b<e.b?(this.b=this.b+.5*t,this.b>e.b&&(this.b=e.b)):this.b>e.b&&(this.b=this.b-.5*t,this.b<e.b&&(this.b=e.b))},li.prototype.black_mx4ult$=function(e){return void 0===e&&(e=1),pi(0,0,0,e)},li.prototype.white_mx4ult$=function(e){return void 0===e&&(e=1),di(1,1,1,e)},li.prototype.gray_mx4ult$=function(e){return void 0===e&&(e=1),di(.5,.5,.5,e)},li.prototype.clear_mx4ult$=function(e){return void 0===e&&(e=1),di(0,0,0,0)},li.prototype.yellow_mx4ult$=function(e){return void 0===e&&(e=1),pi(255,251,0,e)},li.prototype.red_mx4ult$=function(e){return void 0===e&&(e=1),pi(255,38,0,e)},li.prototype.purple_mx4ult$=function(e){return void 0===e&&(e=1),pi(148,33,146,e)},li.prototype.orange_mx4ult$=function(e){return void 0===e&&(e=1),pi(255,147,0,e)},li.prototype.magenta_mx4ult$=function(e){return void 0===e&&(e=1),pi(255,64,255,e)},li.prototype.green_mx4ult$=function(e){return void 0===e&&(e=1),pi(0,249,0,e)},li.prototype.cyan_mx4ult$=function(e){return void 0===e&&(e=1),pi(0,253,255,e)},li.prototype.brown_mx4ult$=function(e){return void 0===e&&(e=1),pi(170,121,66,e)},li.prototype.blue_mx4ult$=function(e){return void 0===e&&(e=1),pi(4,51,255,e)},li.prototype.tangerine_mx4ult$=function(e){return void 0===e&&(e=1),pi(255,128,0,e)},li.prototype.lemon_mx4ult$=function(e){return void 0===e&&(e=1),pi(255,255,0,e)},li.prototype.salmon_mx4ult$=function(e){return void 0===e&&(e=1),pi(255,102,102,e)},li.prototype.banana_mx4ult$=function(e){return void 0===e&&(e=1),pi(255,255,102,e)},li.prototype.strawberry_mx4ult$=function(e){return void 0===e&&(e=1),pi(255,47,146,e)},li.prototype.maraschino_mx4ult$=function(e){return void 0===e&&(e=1),pi(255,38,0,e)},li.prototype.grape_mx4ult$=function(e){return void 0===e&&(e=1),pi(148,55,255,e)},li.prototype.spring_mx4ult$=function(e){return void 0===e&&(e=1),pi(0,249,0,e)},li.prototype.sky_mx4ult$=function(e){return void 0===e&&(e=1),pi(118,214,255,e)},li.prototype.orchid_mx4ult$=function(e){return void 0===e&&(e=1),pi(122,129,255,e)},li.prototype.plum_mx4ult$=function(e){return void 0===e&&(e=1),pi(148,33,147,e)},li.prototype.aqua_mx4ult$=function(e){return void 0===e&&(e=1),pi(0,128,255,e)},li.prototype.ocean_mx4ult$=function(e){return void 0===e&&(e=1),pi(0,64,128,e)},li.prototype.midnight_mx4ult$=function(e){return void 0===e&&(e=1),pi(0,0,128,e)},li.prototype.eggplant_mx4ult$=function(e){return void 0===e&&(e=1),pi(64,0,128,e)},li.prototype.customYellow_mx4ult$=function(e){return void 0===e&&(e=1),pi(220,195,86,e)},li.prototype.customYellow2_mx4ult$=function(e){return void 0===e&&(e=1),pi(240,244,54,e)},li.prototype.customYellow3_mx4ult$=function(e){return void 0===e&&(e=1),pi(253,219,54,e)},li.prototype.customSky_mx4ult$=function(e){return void 0===e&&(e=1),pi(131,182,204,e)},li.prototype.customSky2_mx4ult$=function(e){return void 0===e&&(e=1),pi(54,178,253,e)},li.prototype.customSky3_mx4ult$=function(e){return void 0===e&&(e=1),pi(54,129,253,e)},li.prototype.customSky4_mx4ult$=function(e){return void 0===e&&(e=1),pi(42,92,195,e)},li.prototype.customGreen_mx4ult$=function(e){return void 0===e&&(e=1),pi(124,219,0,e)},li.prototype.customGameSky_mx4ult$=function(e){return void 0===e&&(e=1),pi(140,208,232,e)},li.prototype.customDeepSpace_mx4ult$=function(e){return void 0===e&&(e=1),pi(40,47,128,e)},li.prototype.customDeepSpace2_mx4ult$=function(e){return void 0===e&&(e=1),pi(39,16,96,e)},li.prototype.customDeepSpace3_mx4ult$=function(e){return void 0===e&&(e=1),pi(64,26,159,e)},li.prototype.customDeepSpace4_mx4ult$=function(e){return void 0===e&&(e=1),pi(21,79,99,e)},li.prototype.customDeepSpace5_mx4ult$=function(e){return void 0===e&&(e=1),pi(27,93,119,e)},li.prototype.customDeepSpace6_mx4ult$=function(e){return void 0===e&&(e=1),pi(50,77,92,e)},li.prototype.customFlat0_mx4ult$=function(e){return void 0===e&&(e=1),pi(50,77,92,e)},li.prototype.customFlat1_mx4ult$=function(e){return void 0===e&&(e=1),pi(70,178,157,e)},li.prototype.customFlat2_mx4ult$=function(e){return void 0===e&&(e=1),pi(240,202,77,e)},li.prototype.customFlat3_mx4ult$=function(e){return void 0===e&&(e=1),pi(227,123,64,e)},li.prototype.customFlat4_mx4ult$=function(e){return void 0===e&&(e=1),pi(222,91,73,e)},li.prototype.customFlatUI0_mx4ult$=function(e){return void 0===e&&(e=1),pi(52,152,219,e)},li.prototype.customFlatUI1_mx4ult$=function(e){return void 0===e&&(e=1),pi(52,73,94,e)},li.prototype.customFlatUI2_mx4ult$=function(e){return void 0===e&&(e=1),pi(46,204,113,e)},li.prototype.customFlatUI3_mx4ult$=function(e){return void 0===e&&(e=1),pi(231,76,60,e)},li.prototype.customFlatUI4_mx4ult$=function(e){return void 0===e&&(e=1),pi(241,196,15,e)},li.prototype.customFranky0_mx4ult$=function(e){return void 0===e&&(e=1),pi(34,72,94,e)},li.prototype.customFranky1_mx4ult$=function(e){return void 0===e&&(e=1),pi(116,176,137,e)},li.prototype.customFranky2_mx4ult$=function(e){return void 0===e&&(e=1),pi(240,230,151,e)},li.prototype.customFranky3_mx4ult$=function(e){return void 0===e&&(e=1),pi(255,158,133,e)},li.prototype.customFranky4_mx4ult$=function(e){return void 0===e&&(e=1),pi(255,84,97,e)},li.prototype.puzzleRed_mx4ult$=function(e){return void 0===e&&(e=1),pi(236,67,57,e)},li.prototype.puzzleRedShadow_mx4ult$=function(e){return void 0===e&&(e=1),pi(193,31,29,e)},li.prototype.puzzleRedBright_mx4ult$=function(e){return void 0===e&&(e=1),pi(175,255,72,e)},li.prototype.puzzleYellow_mx4ult$=function(e){return void 0===e&&(e=1),pi(239,185,32,e)},li.prototype.puzzleYellowShadow_mx4ult$=function(e){return void 0===e&&(e=1),pi(202,148,0,e)},li.prototype.puzzleYellowBright_mx4ult$=function(e){return void 0===e&&(e=1),pi(251,255,52,e)},li.prototype.puzzleGreen_mx4ult$=function(e){return void 0===e&&(e=1),pi(124,184,47,e)},li.prototype.puzzleGreenShadow_mx4ult$=function(e){return void 0===e&&(e=1),pi(78,143,19,e)},li.prototype.puzzleBlue_mx4ult$=function(e){return void 0===e&&(e=1),pi(0,160,220,e)},li.prototype.puzzleBlueShadow_mx4ult$=function(e){return void 0===e&&(e=1),pi(0,119,181,e)},li.prototype.puzzleBlueBright_mx4ult$=function(e){return void 0===e&&(e=1),pi(65,235,255,e)},li.prototype.puzzlePurple_mx4ult$=function(e){return void 0===e&&(e=1),pi(140,104,203,e)},li.prototype.puzzlePurpleShadow_mx4ult$=function(e){return void 0===e&&(e=1),pi(106,75,167,e)},li.prototype.puzzleOrange_mx4ult$=function(e){return void 0===e&&(e=1),pi(244,123,22,e)},li.prototype.puzzlePink_mx4ult$=function(e){return void 0===e&&(e=1),pi(237,71,149,e)},li.prototype.puzzlePinkShadow_mx4ult$=function(e){return void 0===e&&(e=1),pi(201,24,110,e)},li.prototype.puzzleTileGray_mx4ult$=function(e){return void 0===e&&(e=1),pi(58,58,58,e)},li.prototype.puzzleBoardGray_mx4ult$=function(e){return void 0===e&&(e=1),pi(42,42,42,e)},li.prototype.copy_3nzkge$=function(e){return di(e.r,e.g,e.b,e.a)},li.prototype.morphColor_u1nt5b$=function(e,t,i){var r=i;if(1<=r)return r=1,di(t.r,t.g,t.b,t.a);if(r<=0)return r=0,di(e.r,e.g,e.b,e.a);var o=(t.r-e.r)*r;o=e.r+o;var n=(t.g-e.g)*r;n=e.g+n;var a=(t.b-e.b)*r;a=e.b+a;var s=(t.a-e.a)*r;return di(o,n,a,s=e.a+s)},li.$metadata$={kind:u,simpleName:"Companion",interfaces:[]};var ui=null;function hi(){return null===ui&&new li,ui}function ci(e,t,i){void 0===t&&(t=1),i=i||Object.create(si.prototype),si.call(i);var r=i.hexa2Bytes_61zpoe$(e);return i.r=r[0]/255,i.g=r[1]/255,i.b=r[2]/255,i.a=t,i}function di(e,t,i,r,o){return void 0===e&&(e=1),void 0===t&&(t=1),void 0===i&&(i=1),void 0===r&&(r=1),o=o||Object.create(si.prototype),si.call(o),o.r=e,o.g=t,o.b=i,o.a=r,o}function pi(e,t,i,r,o){return void 0===r&&(r=1),o=o||Object.create(si.prototype),si.call(o),o.r=e/255,o.g=t/255,o.b=i/255,o.a=r,o}function fi(){this.text="",this.fontColor=di(),this.fontStrokeColor=di(),this.fontScale=0,this.fontName="",this.fontSize=0,this.thick=-3,this.fontWidth=0,this.fontHeight=0,this.fontSpaceRatio=0,this.whiteSpaceRatio=0,this.textureImage=null,this.justUseImage=!1,this.texturePrefix=null}function mi(e,t,i,r,o,n,a,s,l,u,h){void 0===i&&(i=0),void 0===r&&(r=""),void 0===o&&(o=1),void 0===n&&(n=0),void 0===a&&(a=0),void 0===s&&(s=null),void 0===u&&(u=!0),Xt(e,t,i,h=h||Object.create(fi.prototype)),fi.call(h),h.textureImage=s,h.texturePrefix=l,h.fontScale=o,h.fontSpaceRatio=n,h.whiteSpaceRatio=a,h.justUseImage=u;var c=la(0,0,void 0,h.texturePrefix+"0");return c.SetScale_mx4ult$(o),h.fontWidth=c.GetSize().width,h.fontHeight=c.GetSize().height,h.SetText_61zpoe$(r),h}function vi(){$i(),this.age=0,this.timeToLive=-1,this.name="",this.position=Ai(),this.prevPosition=Ai(),this.local=Ai(),this.movement=Ai(),this.movementMax=w.POSITIVE_INFINITY,this.rotation=Ai(),this.keepDirection=!1,this.direction=Ai(),this.accel=Ai(),this.accelRetain=Ai(),this.drag=Ai(),this.normal=Ai(0,0,1),this.size=1,this.convertPosition=Ai(),this.screenPosition=Ai(),this.screenSize=Pi(),this.fixScreenZ=!1,this.screenZ=0,this.xMotion=null,this.yMotion=null,this.zMotion=null,this.originalAlpha_oxgaai$_0=1,this.subAlpha_fnduof$_0=1,this.currentAlpha_o3wgi0$_0=1,this.willBeDestroyed=null,this.localVariables=le()}function gi(){_i=this}si.$metadata$={kind:o,simpleName:"Color",interfaces:[]},fi.prototype.SetSpace_mx4ult$=function(e){void 0===e&&(e=.2),this.fontSpaceRatio=e},fi.prototype.SetWhiteSpace_mx4ult$=function(e){void 0===e&&(e=1),this.whiteSpaceRatio=e},fi.prototype.SetText_61zpoe$=function(e){var t,i,r,o;for(t=_(this.childList).iterator();t.hasNext();){t.next().removeFromParent()}this.childList.clear(),this.text=e;var n=0,a=this.fontHeight;for(i=oe(e);i.hasNext();){var s=ne(i.next());if(32!==s&&160!==s){if(!0===this.justUseImage){var l=la(n,0,void 0,this.texturePrefix+String.fromCharCode(s));l.SetScale_mx4ult$(this.fontScale),l.SetVerticalAlign_qn2em6$(ro()),l.SetHorizontalAlign_jdpdm8$(so()),this.addChild_g5h3xp$(l),n=n+l.GetSize().width+this.fontWidth*this.fontSpaceRatio,l.GetSize().height>a&&(a=l.GetSize().height)}}else n+=this.fontWidth*this.whiteSpaceRatio}for(Ft.prototype.SetSize_dleff0$.call(this,n,a),r=this.childList.iterator();r.hasNext();){var u=r.next(),h=Ke.isType(o=u,sa)?o:null;null!=h&&h.SetPosition_dleff0$(h.GetPosition().x,a/2)}this.SetVerticalAlign_qn2em6$(this.verticalAlign),this.SetHorizontalAlign_jdpdm8$(this.horizontalAlign),this.SetColor_vnjrmz$(this.GetColor()),this.SetBlendFactor_mx4ult$(this.GetBlendFactor()),this.SetBlendMode_ieo8yr$(this.GetBlendMode())},fi.prototype.SetScale_mx4ult$$default=function(e){var t,i,r,o=e;o<0&&(o=0),this.fontScale=this.fontScale*o;var n=la(0,0,void 0,this.texturePrefix+"0");n.SetScale_mx4ult$(this.fontScale),this.fontWidth=n.GetSize().width,this.fontHeight=n.GetSize().height;var a=0,s=this.fontHeight,l=0;for(t=oe(this.text);t.hasNext();){var u=ne(t.next());if(32!==u&&160!==u){var h=this.childList.get_za3lpa$(l);h.SetSize_dleff0$(h.GetSize().width*o,h.GetSize().height*o),h.SetPosition_dleff0$(a,0),a=a+h.GetSize().width+this.fontWidth*this.fontSpaceRatio,h.GetSize().height>s&&(s=h.GetSize().height),l=l+1|0}else a+=this.fontWidth*this.whiteSpaceRatio}for(Ft.prototype.SetSize_dleff0$.call(this,a,s),i=this.childList.iterator();i.hasNext();){var c=i.next(),d=Ke.isType(r=c,sa)?r:null;null!=d&&d.SetPosition_dleff0$(d.GetPosition().x,s/2)}this.SetVerticalAlign_qn2em6$(this.verticalAlign),this.SetHorizontalAlign_jdpdm8$(this.horizontalAlign)},fi.prototype.SetScaleOriginal_mx4ult$=function(e){var t,i;void 0===e&&(e=1);var r=e;r<0&&(r=0),this.fontScale=r;var o=la(0,0,void 0,this.texturePrefix+"0");o.SetScale_mx4ult$(this.fontScale),this.fontWidth=o.GetSize().width;for(var n=0,a=0,s=0,l=0;l<this.childList.size;){var u=this.text.charCodeAt(s);if(s=s+1|0,32!==u&&160!==u){var h=this.childList.get_za3lpa$(l);h.SetSize_dleff0$(h.GetOriginalSize().width*r,h.GetOriginalSize().height*r),h.SetPosition_dleff0$(n,0),n=n+h.GetSize().width+this.fontWidth*this.fontSpaceRatio,h.GetSize().height>a&&(a=h.GetSize().height),l=l+1|0}else n+=this.fontWidth*this.whiteSpaceRatio}for(Ft.prototype.SetSize_dleff0$.call(this,n,a),t=this.childList.iterator();t.hasNext();){var c=t.next(),d=Ke.isType(i=c,sa)?i:null;null!=d&&d.SetPosition_dleff0$(d.GetPosition().x,a/2)}this.SetVerticalAlign_qn2em6$(this.verticalAlign),this.SetHorizontalAlign_jdpdm8$(this.horizontalAlign)},fi.prototype.GetScale=function(){return this.fontScale},fi.prototype.SetSize_dleff0$=function(e,t){var i=this.GetSize();if(0<e){var r=e/i.width;this.SetScale_mx4ult$(r)}else if(0<t){var o=t/i.height;this.SetScale_mx4ult$(o)}},fi.prototype.GetFontColor=function(){return this.fontColor},fi.prototype.SetFontColor_7b5o5w$=function(e,t,i,r){var o,n;for(void 0===e&&(e=1),void 0===t&&(t=1),void 0===i&&(i=1),void 0===r&&(r=1),o=this.childList.iterator();o.hasNext();){var a=o.next(),s=Ke.isType(n=a,sa)?n:null;null!=s&&s.SetColor_sczwbf$(e,t,i,r)}this.fontColor.r=e,this.fontColor.g=t,this.fontColor.b=i,this.fontColor.a=r},fi.prototype.GetFontAlpha=function(){return this.fontColor.a},fi.prototype.SetFontAlpha_mx4ult$=function(e){void 0===e&&(e=1),this.SetFontColor_7b5o5w$(this.fontColor.r,this.fontColor.g,this.fontColor.b,e)},fi.prototype.SetFontSize_mx4ult$=function(e){void 0===e&&(e=32)},fi.prototype.SetFontName_61zpoe$=function(e){},fi.prototype.SetBlendFactor_mx4ult$$default=function(e){var t,i;for(t=this.childList.iterator();t.hasNext();){var r=t.next(),o=Ke.isType(i=r,po)?i:null;null!=o&&o.SetBlendFactor_mx4ult$(e)}this.SetBlendFactor_mx4ult$(e,Ft.prototype.SetBlendFactor_mx4ult$$default.bind(this))},fi.prototype.SetBlendMode_ieo8yr$=function(e){var t,i;for(t=this.childList.iterator();t.hasNext();){var r=t.next(),o=Ke.isType(i=r,po)?i:null;null!=o&&o.SetBlendMode_ieo8yr$(e)}Ft.prototype.SetBlendMode_ieo8yr$.call(this,e)},fi.$metadata$={kind:o,simpleName:"CompositeLabel",interfaces:[Ft]},vi.prototype.initialize=function(){this.age=0,this.timeToLive=-1,this.position.x=0,this.position.y=0,this.position.z=0,this.prevPosition.x=0,this.prevPosition.y=0,this.prevPosition.z=0,this.local.x=0,this.local.y=0,this.local.z=0,this.movement.x=0,this.movement.y=0,this.movement.z=0,this.rotation.x=0,this.rotation.y=0,this.rotation.z=0,this.direction.x=0,this.direction.y=0,this.direction.z=0,this.keepDirection=!1,this.accel.x=0,this.accel.y=0,this.accel.z=0,this.accelRetain.x=0,this.accelRetain.y=0,this.accelRetain.z=0,this.drag.x=0,this.drag.y=0,this.drag.z=0,this.normal.x=0,this.normal.y=0,this.normal.z=1,this.xMotion=null,this.yMotion=null,this.zMotion=null,this.originalAlpha_oxgaai$_0=1,this.subAlpha_fnduof$_0=1,this.currentAlpha_o3wgi0$_0=1,this.willBeDestroyed=null,this.localVariables.clear()},vi.prototype.destroy=function(){this.xMotion=null,this.yMotion=null,this.zMotion=null,this.willBeDestroyed=null,this.localVariables.clear()},vi.prototype.addLocalVariables_bm4g0d$=function(e,t){this.localVariables.put_xwzc9p$(e,t)},vi.prototype.GetLocalVariables_61zpoe$=function(e){return this.localVariables.get_11rb$(e)},vi.prototype.removeLocalVariables_61zpoe$=function(e){return this.localVariables.remove_11rb$(e)},vi.prototype.rotateX_8ca0d4$=function(e,t){if(void 0===t&&(t=!1),0!==e){var i=e%360*(te.PI/180),r=this.position.y*Yt.cos(i)-this.position.z*Yt.sin(i),o=this.position.y*Yt.sin(i)+this.position.z*Yt.cos(i);if(this.position.y=r,this.position.z=o,!0===t){this.direction.x=this.direction.x+e,this.direction.x=this.direction.x%360;var n=this.normal.y*Yt.cos(i)-this.normal.z*Yt.sin(i),a=this.normal.y*Yt.sin(i)+this.normal.z*Yt.cos(i);this.normal.y=n,this.normal.z=a}}},vi.prototype.rotateX_t6gch2$=function(e,t,i){void 0===i&&(i=!1),this.position.x=this.position.x-e.x,this.position.y=this.position.y-e.y,this.position.z=this.position.z-e.z,this.rotateX_8ca0d4$(t,i),this.position.x=this.position.x+e.x,this.position.y=this.position.y+e.y,this.position.z=this.position.z+e.z},vi.prototype.rotateY_8ca0d4$=function(e,t){if(void 0===t&&(t=!1),0!==e){var i=e%360*(te.PI/180),r=this.position.x*Yt.cos(i)+this.position.z*Yt.sin(i),o=-this.position.x*Yt.sin(i)+this.position.z*Yt.cos(i);if(this.position.x=r,this.position.z=o,!0===t){this.direction.y=this.direction.y+e,this.direction.y=this.direction.y%360;var n=this.normal.x*Yt.cos(i)+this.normal.z*Yt.sin(i),a=-this.normal.x*Yt.sin(i)+this.normal.z*Yt.cos(i);this.normal.x=n,this.normal.z=a}}},vi.prototype.rotateY_t6gch2$=function(e,t,i){void 0===i&&(i=!1),this.position.x=this.position.x-e.x,this.position.y=this.position.y-e.y,this.position.z=this.position.z-e.z,this.rotateY_8ca0d4$(t,i),this.position.x=this.position.x+e.x,this.position.y=this.position.y+e.y,this.position.z=this.position.z+e.z},vi.prototype.rotateZ_8ca0d4$=function(e,t){if(void 0===t&&(t=!1),0!==e){var i=e%360*(te.PI/180),r=this.position.x*Yt.cos(i)-this.position.y*Yt.sin(i),o=this.position.x*Yt.sin(i)+this.position.y*Yt.cos(i);if(this.position.x=r,this.position.y=o,!0===t){this.direction.z=this.direction.z+e,this.direction.z=this.direction.z%360;var n=this.normal.x*Yt.cos(i)-this.normal.y*Yt.sin(i),a=this.normal.x*Yt.sin(i)+this.normal.y*Yt.cos(i);this.normal.x=n,this.normal.y=a}}},vi.prototype.rotateZ_t6gch2$=function(e,t,i){void 0===i&&(i=!1),this.position.x=this.position.x-e.x,this.position.y=this.position.y-e.y,this.position.z=this.position.z-e.z,this.rotateZ_8ca0d4$(t,i),this.position.x=this.position.x+e.x,this.position.y=this.position.y+e.y,this.position.z=this.position.z+e.z},vi.prototype.rotateLocalX_mx4ult$=function(e){if(0!==e){var t=e%360*(te.PI/180),i=this.local.y*Yt.cos(t)-this.local.z*Yt.sin(t),r=this.local.y*Yt.sin(t)+this.local.z*Yt.cos(t);this.local.y=i,this.local.z=r,!0===this.keepDirection&&(this.direction.x=this.direction.x+e,this.direction.x=this.direction.x%360,i=this.normal.y*Yt.cos(t)-this.normal.z*Yt.sin(t),r=this.normal.y*Yt.sin(t)+this.normal.z*Yt.cos(t),this.normal.y=i,this.normal.z=r)}},vi.prototype.rotateLocalY_mx4ult$=function(e){if(0!==e){var t=e%360*(te.PI/180),i=this.local.x*Yt.cos(t)+this.local.z*Yt.sin(t),r=-this.local.x*Yt.sin(t)+this.local.z*Yt.cos(t);this.local.x=i,this.local.z=r,!0===this.keepDirection&&(this.direction.y=this.direction.y+e,this.direction.y=this.direction.y%360,i=this.normal.x*Yt.cos(t)+this.normal.z*Yt.sin(t),r=-this.normal.x*Yt.sin(t)+this.normal.z*Yt.cos(t),this.normal.x=i,this.normal.z=r)}},vi.prototype.rotateLocalZ_mx4ult$=function(e){if(0!==e){var t=e%360*(te.PI/180),i=this.local.x*Yt.cos(t)-this.local.y*Yt.sin(t),r=this.local.x*Yt.sin(t)+this.local.y*Yt.cos(t);this.local.x=i,this.local.y=r,!0===this.keepDirection&&(this.direction.z=this.direction.z+e,this.direction.z=this.direction.z%360,i=this.normal.x*Yt.cos(t)-this.normal.y*Yt.sin(t),r=this.normal.x*Yt.sin(t)+this.normal.y*Yt.cos(t),this.normal.x=i,this.normal.y=r)}},vi.prototype.forward_mx4ult$=function(e){this.position.x=this.position.x+e*this.normal.x,this.position.y=this.position.y+e*this.normal.y,this.position.z=this.position.z+e*this.normal.z},vi.prototype.distance_jfpljn$=function(e,t){void 0===t&&(t=0);var i=e.position.z-this.position.z,r=Yt.abs(i);if(1===t){var o=r*r;return Yt.sqrt(o)}var n=e.position.x-this.position.x,a=Yt.abs(n),s=e.position.y-this.position.y,l=Yt.abs(s),u=a*a+l*l+r*r;return Yt.sqrt(u)},vi.prototype.distance_qgvyiu$=function(e){var t=e.x-this.position.x,i=Yt.abs(t),r=e.y-this.position.y,o=Yt.abs(r),n=e.z-this.position.z,a=Yt.abs(n),s=i*i+o*o+a*a;return Yt.sqrt(s)},gi.prototype.copy_xovnep$=function(e){var t=new vi;return t.position=Gi().copy_qgvyiu$(e.position),t.direction=Gi().copy_qgvyiu$(e.direction),t.movement=Gi().copy_qgvyiu$(e.movement),t.size=e.size,t.rotation=Gi().copy_qgvyiu$(e.rotation),t.screenPosition=Gi().copy_qgvyiu$(e.screenPosition),t.screenSize=ji().copy_g5e0xa$(e.screenSize),t.fixScreenZ=e.fixScreenZ,t.screenZ=e.screenZ,t},gi.$metadata$={kind:u,simpleName:"Companion",interfaces:[]};var _i=null;function $i(){return null===_i&&new gi,_i}function yi(){ki(),this.length=0,this.degree=0,this.point=Ai(),this.theta=0}function bi(){Si=this}vi.prototype.SetXMotion_vn0wwp$=function(e,t,i,r){void 0===t&&(t=!1),void 0===i&&(i=-1),void 0===r&&(r=null),this.xMotion=new Zr(e,t,i,this.age,r)},vi.prototype.SetYMotion_vn0wwp$=function(e,t,i,r){void 0===t&&(t=!1),void 0===i&&(i=-1),void 0===r&&(r=null),this.yMotion=new Zr(e,t,i,this.age,r)},vi.prototype.SetZMotion_vn0wwp$=function(e,t,i,r){void 0===t&&(t=!1),void 0===i&&(i=-1),void 0===r&&(r=null),this.zMotion=new Zr(e,t,i,this.age,r)},vi.prototype.SetOriginalAlpha_mx4ult$=function(e){void 0===e&&(e=1);var t=e;t<0&&(t=0),1<t&&(t=1),this.originalAlpha_oxgaai$_0=t,this.currentAlpha_o3wgi0$_0=t*this.subAlpha_fnduof$_0},vi.prototype.GetOriginalAlpha=function(){return this.originalAlpha_oxgaai$_0},vi.prototype.SetSubAlpha_mx4ult$$default=function(e){this.subAlpha_fnduof$_0=e,this.subAlpha_fnduof$_0<0&&(this.subAlpha_fnduof$_0=0),1<this.subAlpha_fnduof$_0&&(this.subAlpha_fnduof$_0=1),this.currentAlpha_o3wgi0$_0=this.originalAlpha_oxgaai$_0*this.subAlpha_fnduof$_0},vi.prototype.SetSubAlpha_mx4ult$=function(e,t){void 0===e&&(e=1),t?t(e):this.SetSubAlpha_mx4ult$$default(e)},vi.prototype.GetSubAlpha=function(){return this.subAlpha_fnduof$_0},vi.prototype.GetCurrentAlpha=function(){return this.currentAlpha_o3wgi0$_0},vi.prototype.SetCallback_lnidq9$=function(e){this.willBeDestroyed=null,this.willBeDestroyed=e},vi.prototype.update_mx4ult$=function(e){var t,i,r;this.age+=e;var o=this.xMotion;null!=o&&(-1!==o.time&&o.startTime+o.time<this.age||!0===o.motion.isFinish()?(null!=(t=o.callback)&&t(),this.xMotion=null):!0===o.relative?(o.motion.update_mx4ult$(e),this.position.x=this.position.x+o.motion.GetPositionDelta()):this.position.x=o.motion.update_mx4ult$(e)),null!=(o=this.yMotion)&&(-1!==o.time&&o.startTime+o.time<this.age||!0===o.motion.isFinish()?(null!=(i=o.callback)&&i(),this.yMotion=null):!0===o.relative?(o.motion.update_mx4ult$(e),this.position.y=this.position.y+o.motion.GetPositionDelta()):this.position.y=o.motion.update_mx4ult$(e)),null!=(o=this.zMotion)&&(-1!==o.time&&o.startTime+o.time<this.age||!0===o.motion.isFinish()?(null!=(r=o.callback)&&r(),this.zMotion=null):!0===o.relative?(o.motion.update_mx4ult$(e),this.position.z=this.position.z+o.motion.GetPositionDelta()):this.position.z=o.motion.update_mx4ult$(e))},vi.prototype.screenHitTestCircle_y2kzbl$=function(e,t,i){if(void 0===i&&(i=1),0===this.currentAlpha_o3wgi0$_0)return!1;var r=this.screenPosition.x-e,o=this.screenPosition.y-t,n=r*r+o*o;return Yt.sqrt(n)<=this.screenSize.width/2*i},vi.prototype.screenHitTestSquare_dleff0$=function(e,t){return 0!==this.currentAlpha_o3wgi0$_0&&(e>=this.screenPosition.x&&e<=this.screenPosition.x+this.screenSize.width&&t>=this.screenPosition.y&&t<=this.screenPosition.y+this.screenSize.height)},vi.$metadata$={kind:o,simpleName:"Object3D",interfaces:[]},yi.prototype.SetLength_mx4ult$=function(e){this.length=e,this.calculate()},yi.prototype.GetLength=function(){return this.length},yi.prototype.SetDegree_mx4ult$=function(e){this.degree=e,this.calculate()},yi.prototype.GetDegree=function(){return this.degree},yi.prototype.GetX=function(){return this.point.x},yi.prototype.GetY=function(){return this.point.y},yi.prototype.calculate=function(){this.theta=this.degree*(te.PI/180);var e=this.point,t=this.length,i=this.theta;e.x=t*Yt.cos(i);var r=this.point,o=this.length,n=this.theta;r.y=o*Yt.sin(n)},yi.prototype.angleBetween_qgvyiu$=function(e){var t=wi(e.x,e.y);return this.angleBetween_xsbbqk$(t)},yi.prototype.angleBetween_xsbbqk$=function(e){return e.GetDegree()-this.degree},bi.prototype.copy_xsbbqk$=function(e){var t=wi();return t.length=e.length,t.degree=e.degree,t.calculate(),t},bi.$metadata$={kind:u,simpleName:"Companion",interfaces:[]};var Si=null;function ki(){return null===Si&&new bi,Si}function wi(e,t,i){void 0===e&&(e=1),void 0===t&&(t=1),i=i||Object.create(yi.prototype),yi.call(i);var r=(i.point.x=e)*e+(i.point.y=t)*t;return i.length=Yt.sqrt(r),i.theta=Yt.atan2(e,t),i.degree=i.theta/(te.PI/180),i}function xi(e,t,i){i=i||Object.create(yi.prototype),yi.call(i);var r=t.x-e.x,o=t.y-e.y,n=(i.point.x=r)*r+(i.point.y=o)*o;return i.length=Yt.sqrt(n),i.theta=Yt.atan2(r,o),i.degree=i.theta/(te.PI/180),i}function Ci(){Gi(),this.x=0,this.y=0,this.z=0,this.length=0,this.normalX=0,this.normalY=0,this.normalZ=0}function zi(){Ti=this}yi.$metadata$={kind:o,simpleName:"Vector",interfaces:[]},Ci.prototype.length2D=function(){var e=this.x*this.x+this.y*this.y;return Yt.sqrt(e)},Ci.prototype.SetLength2D_mx4ult$=function(e){var t=this.x*this.x+this.y*this.y,i=Yt.sqrt(t),r=this.x/i,o=this.y/i;this.x=r*e,this.y=o*e},Ci.prototype.distance2D_qgvyiu$=function(e){var t=e.x-this.x,i=e.y-this.y,r=t*t+i*i;return Yt.sqrt(r)},Ci.prototype.normalize=function(){var e=this.x*this.x+this.y*this.y+this.z*this.z;this.length=Yt.sqrt(e),this.normalX=this.x/this.length,this.normalY=this.y/this.length,this.normalZ=this.z/this.length},Ci.prototype.GetDegree=function(){var e=this.x,t=this.y;return Yt.atan2(e,t)/(te.PI/180)},Ci.prototype.rotateX_mx4ult$=function(e){var t=e%360;if(0!==t){var i=t*(te.PI/180),r=this.y*Yt.cos(i)-this.z*Yt.sin(i),o=this.y*Yt.sin(i)+this.z*Yt.cos(i);this.y=r,this.z=o}},Ci.prototype.rotateY_mx4ult$=function(e){var t=e%360;if(0!==t){var i=t*(te.PI/180),r=this.x*Yt.cos(i)+this.z*Yt.sin(i),o=-this.x*Yt.sin(i)+this.z*Yt.cos(i);this.x=r,this.z=o}},Ci.prototype.rotateZ_mx4ult$=function(e){var t=e%360;if(0!==t){var i=t*(te.PI/180),r=this.x*Yt.cos(i)-this.y*Yt.sin(i),o=this.x*Yt.sin(i)+this.y*Yt.cos(i);this.x=r,this.y=o}},zi.prototype.distanceToSegment_tnhs7q$=function(e,t,i){var r=t.x-e.x,o=t.y-e.y;if(0===r&&0===o)return e.distance2D_qgvyiu$(i);var n=((i.x-e.x)*r+(i.y-e.y)*o)/(r*r+o*o);Ai();return(n<0?e:1<n?t:Ai(e.x+n*r,e.y+n*o)).distance2D_qgvyiu$(i)},zi.prototype.copy_qgvyiu$=function(e){return Ai(e.x,e.y,e.z)},zi.$metadata$={kind:u,simpleName:"Companion",interfaces:[]};var Ti=null;function Gi(){return null===Ti&&new zi,Ti}function Ai(e,t,i,r){return void 0===e&&(e=0),void 0===t&&(t=0),void 0===i&&(i=0),r=r||Object.create(Ci.prototype),Ci.call(r),r.x=e,r.y=t,r.z=i,r}function Ii(){this.a=0,this.b=0,this.c=0,this.d=0}function Ni(e,t,i,r,o){return void 0===e&&(e=0),void 0===t&&(t=0),void 0===i&&(i=0),void 0===r&&(r=0),o=o||Object.create(Ii.prototype),Ii.call(o),o.a=e,o.b=t,o.c=i,o.d=r,o}function Mi(){ji(),this.width=0,this.height=0}function Oi(){Ri=this}Ci.$metadata$={kind:o,simpleName:"Position",interfaces:[]},Ii.prototype.test_qgvyiu$=function(e){return this.a*e.x+this.b*e.y+this.c*e.z+this.d},Ii.$metadata$={kind:o,simpleName:"Plane",interfaces:[]},Oi.prototype.copy_g5e0xa$=function(e){return Pi(e.width,e.height)},Oi.$metadata$={kind:u,simpleName:"Companion",interfaces:[]};var Ri=null;function ji(){return null===Ri&&new Oi,Ri}function Pi(e,t,i){return void 0===e&&(e=0),void 0===t&&(t=0),i=i||Object.create(Mi.prototype),Mi.call(i),i.width=e,i.height=t,i}function Bi(){Li(),this.x=0,this.y=0,this.width=0,this.height=0}function Ei(){Fi=this}Mi.$metadata$={kind:o,simpleName:"Size",interfaces:[]},Ei.prototype.copy_g5erez$=function(e){return Di(e.x,e.y,e.width,e.height)},Ei.$metadata$={kind:u,simpleName:"Companion",interfaces:[]};var Fi=null;function Li(){return null===Fi&&new Ei,Fi}function Di(e,t,i,r,o){return void 0===e&&(e=0),void 0===t&&(t=0),void 0===i&&(i=0),void 0===r&&(r=0),o=o||Object.create(Bi.prototype),Bi.call(o),o.x=e,o.y=t,o.width=i,o.height=r,o}function Vi(e,t,i,r,o,n){fr(),void 0===e&&(e=320),void 0===t&&(t=480),void 0===i&&(i=-1),void 0===r&&(r=-1),void 0===o&&(o=-1),void 0===n&&(n=-1),this.originX=0,this.originY=0,this.newX=0,this.newY=0,this.xRatio=0,this.yRatio=0,this.originalRatio=0,this.originX=e,this.originY=t,-1!==i&&-1!==r?(this.xRatio=i,this.yRatio=r,this.newX=this.originX*i,this.newY=this.originY*r):-1!==o&&-1!==n?(this.newX=o,this.newY=n,this.xRatio=o/e,this.yRatio=n/t):(this.xRatio=1,this.yRatio=1,this.newX=this.originX*i,this.newY=this.originY*r),this.originalRatio=this.originX/this.originY}function Ui(){pr=this}Bi.$metadata$={kind:o,simpleName:"Rect",interfaces:[]},Vi.prototype.SetSize_dleff0$=function(e,t){this.originX=this.newX,this.originY=this.newY,this.newX=e,this.newY=t,this.xRatio=this.newX/this.originX,this.yRatio=this.newY/this.originY,this.originalRatio=this.originX/this.originY},Vi.prototype.GetConstraintSmall=function(){return this.xRatio<this.yRatio?this.xRatio:this.yRatio},Vi.prototype.GetConstraintBig=function(){return this.xRatio>this.yRatio?this.xRatio:this.yRatio},Vi.prototype.keepOriginalRatio_6taknv$=function(e){void 0===e&&(e=!0),!0===e?this.xRatio<this.yRatio?(this.newY=this.newX/this.originalRatio,this.yRatio=this.newY/this.originY):(this.newX=this.newY*this.originalRatio,this.xRatio=this.newX/this.originX):this.xRatio<this.yRatio?(this.newX=this.newY*this.originalRatio,this.xRatio=this.newX/this.originX):(this.newY=this.newX/this.originalRatio,this.yRatio=this.newY/this.originY)},Ui.prototype.copy_3fer1j$=function(e){return new Vi(e.originX,e.originY,void 0,void 0,e.newX,e.newY)},Ui.$metadata$={kind:u,simpleName:"Companion",interfaces:[]};var qi,Hi,Wi,Yi,Xi,Ki,Zi,Qi,Ji,er,tr,ir,rr,or,nr,ar,sr,lr,ur,hr,cr,dr,pr=null;function fr(){return null===pr&&new Ui,pr}function mr(e,t){h.call(this),this.name$=e,this.ordinal$=t}function vr(){vr=function(){},qi=new mr("touch_BEGIN",0),Hi=new mr("touch_DRAG",1),Wi=new mr("touch_END",2),Yi=new mr("touch_CANCEL",3),Xi=new mr("window_CLOSE",4),Ki=new mr("window_CANCEL",5),Zi=new mr("window_OK",6),Qi=new mr("window_SIZE",7),Ji=new mr("window_MOVE",8),er=new mr("window_SHOW",9),tr=new mr("window_HIDE",10),ir=new mr("button_PRESS",11),rr=new mr("button_DISABLED_PRESS",12),or=new mr("button_RELEASE",13),nr=new mr("button_DISABLED_RELEASE",14),ar=new mr("button_CANCEL",15),sr=new mr("button_STARTDRAG",16),lr=new mr("button_DRAGGING",17),ur=new mr("button_ENDDRAG",18),hr=new mr("slider_MOVE",19),cr=new mr("move",20),dr=new mr("update",21)}function gr(){return vr(),qi}function _r(){return vr(),Hi}function $r(){return vr(),Wi}function yr(){return vr(),Yi}function br(){return vr(),Xi}function Sr(){return vr(),Ki}function kr(){return vr(),Zi}function wr(){return vr(),Qi}function xr(){return vr(),Ji}function Cr(){return vr(),er}function zr(){return vr(),tr}function Tr(){return vr(),ir}function Gr(){return vr(),rr}function Ar(){return vr(),or}function Ir(){return vr(),nr}function Nr(){return vr(),ar}function Mr(){return vr(),sr}function Or(){return vr(),lr}function Rr(){return vr(),ur}function jr(){return vr(),hr}function Pr(){return vr(),cr}function Br(){return vr(),dr}Vi.$metadata$={kind:o,simpleName:"Scale",interfaces:[]},mr.$metadata$={kind:o,simpleName:"Event",interfaces:[h]},mr.values=function(){return[gr(),_r(),$r(),yr(),br(),Sr(),kr(),wr(),xr(),Cr(),zr(),Tr(),Gr(),Ar(),Ir(),Nr(),Mr(),Or(),Rr(),jr(),Pr(),Br()]},mr.valueOf_61zpoe$=function(e){switch(e){case"touch_BEGIN":return gr();case"touch_DRAG":return _r();case"touch_END":return $r();case"touch_CANCEL":return yr();case"window_CLOSE":return br();case"window_CANCEL":return Sr();case"window_OK":return kr();case"window_SIZE":return wr();case"window_MOVE":return xr();case"window_SHOW":return Cr();case"window_HIDE":return zr();case"button_PRESS":return Tr();case"button_DISABLED_PRESS":return Gr();case"button_RELEASE":return Ar();case"button_DISABLED_RELEASE":return Ir();case"button_CANCEL":return Nr();case"button_STARTDRAG":return Mr();case"button_DRAGGING":return Or();case"button_ENDDRAG":return Rr();case"slider_MOVE":return jr();case"move":return Pr();case"update":return Br();default:c("No enum constant com.blindcatstudio.phantom.graphic.Event."+e)}};var Er,Fr,Lr,Dr,Vr,Ur,qr=Ke.kotlin.collections.emptyList_287e2$;function Hr(e,t,i,r,o,n,a){void 0===t&&(t=null),void 0===i&&(i=null),void 0===r&&(r=qr()),void 0===o&&(o=-1),void 0===n&&(n=0),void 0===a&&(a=!1),this.event=e,this.sender=t,this.receiver=i,this.parameter=r,this.value=o,this.valueFloat=n,this.isBroadcast=!1}function Wr(){this.autoSizeAdjust=!1,this.text="",this.fontColor=null,this.fontName="",this.fontSize=0}function Yr(e,t,i,r,o,n,a,s){var l;void 0===i&&(i=0),void 0===r&&(r=""),void 0===o&&(o="ChalkboardSE-Bold"),void 0===n&&(n=10),void 0===a&&(a=hi().white_mx4ult$()),fo(e,t,i,s=s||Object.create(Wr.prototype)),Wr.call(s),s.fontColor=a,s.fontName=o,s.fontSize=n;var u=Ie().shared().createGuestLabel_61zpoe$(o);return u.SetText_61zpoe$(r),u.SetFontSize_mx4ult$(n),s.addObject_s8jyv4$(Ke.isType(l=u,b)?l:Ee()),!0===s.autoSizeAdjust&&s.SetSize_dleff0$(u.GetFrameSize().width,u.GetFrameSize().height),s.SetFontColor_3nzkge$(a),s.SetVerticalAlign_qn2em6$(ro()),s.SetHorizontalAlign_jdpdm8$(lo()),s.text=r,s}function Xr(){this.delegateConvertCoordinate=!0}function Kr(e,t,i,r,o,n,a,s){var l;void 0===i&&(i=0),void 0===o&&(o=0),void 0===n&&(n=0),void 0===a&&(a=!0),fo(e,t,i,s=s||Object.create(Xr.prototype)),Xr.call(s),s.delegateConvertCoordinate=a;var u=Ie().shared().createGuestMask_h2vgz3$(qe().shared().GetTexture_61zpoe$(r));return u.SetZPosition_mx4ult$(i),s.addObject_s8jyv4$(Ke.isType(l=u,b)?l:Ee()),0<o?s.SetSize_dleff0$(o,n):po.prototype.SetSize_dleff0$.call(s,u.GetSize().width,u.GetSize().height),s}function Zr(e,t,i,r,o){this.motion=e,this.relative=t,this.time=i,this.startTime=r,this.callback=o}function Qr(e,t,i,r,o,n,a){void 0===t&&(t=""),void 0===i&&(i=!1),void 0===r&&(r=-1),void 0===o&&(o=0),void 0===n&&(n=0),this.caller=e,this.name=t,this.exclusive=i,this.timeToLive=r,this.interval=o,this.mode=n,this.age=0,this.elapsed=0,this.count=0,this.callback=a}function Jr(){this.parameter=Le(),this.value=null,this.floatValue=0}function eo(e,t){h.call(this),this.name$=e,this.ordinal$=t}function to(){to=function(){},Er=new eo("top",0),Fr=new eo("center",1),Lr=new eo("bottom",2)}function io(){return to(),Er}function ro(){return to(),Fr}function oo(){return to(),Lr}function no(e,t){h.call(this),this.name$=e,this.ordinal$=t}function ao(){ao=function(){},Dr=new no("left",0),Vr=new no("center",1),Ur=new no("right",2)}function so(){return ao(),Dr}function lo(){return ao(),Vr}function uo(){return ao(),Ur}function ho(){this.active=!0,this.name="",this.x_nkfebn$_0=0,this.y_nkfeas$_0=0,this.z_nkfe9x$_0=0,this.parent=null,this.verticalAlign=io(),this.horizontalAlign=so(),this.positionOffset=Ai(),this.percentCoordinate=!1,this.originalSize=Pi(),this.size=Pi(),this.scale=1,this.positionScale=new Vi,this.sizeScale=new Vi,this.color=hi().white_mx4ult$(),this.masterAlpha=1,this.originalAlpha=1,this.childList=Le(),this.objectList=Le(),this.timeToLive=-1,this.age=0,this.timeScale=1,this.updateCallback=Le(),this.inputOwner=null,this.drag=!1,this.show=!0,this.modal=!1,this.localVariables=new Jr,this.messageHandler=null,this.xMotion=null,this.yMotion=null,this.zMotion=null,this.motionAdjust=Ai()}function co(e,t,i,r){return void 0===e&&(e=0),void 0===t&&(t=0),void 0===i&&(i=0),r=r||Object.create(ho.prototype),ho.call(r),r.SetPosition_dleff0$(e,t),r.SetZPosition_8ca0d4$(i),r}function po(){this.anchor=Ai(0,1),this.rotation=0,this.colorBlendFactor=1,this.blendMode=ei()}function fo(e,t,i,r){return void 0===i&&(i=0),co(e,t,i,r=r||Object.create(po.prototype)),po.call(r),r.anchor=Ai(.5,.5),r}function mo(){vo=this}Hr.$metadata$={kind:o,simpleName:"Message",interfaces:[]},Wr.prototype.SetRotation_mx4ult$$default=function(e){var t;if(this.rotation!==e){var i=Ke.isType(t=this.GetObject(),Se)?t:null;null!=i&&(i.SetZRotation_mx4ult$(e),this.rotation=e)}},Wr.prototype.SetAlign_vkgmrm$=function(e,t){this.SetVerticalAlign_qn2em6$(e),this.SetHorizontalAlign_jdpdm8$(t)},Wr.prototype.SetVerticalAlign_qn2em6$=function(e){switch((this.verticalAlign=e).name){case"top":this.positionOffset.y=0;break;case"center":this.positionOffset.y=-1*(this.GetSize().height+1)*.5;break;case"bottom":this.positionOffset.y=-1*(this.GetSize().height+1)}},Wr.prototype.GetVerticalAlign=function(){return this.verticalAlign},Wr.prototype.GetHorizontalAlign=function(){return this.horizontalAlign},Wr.prototype.GetText=function(){return this.text},Wr.prototype.SetText_61zpoe$=function(e){var t,i=Ke.isType(t=this.GetObject(),Se)?t:null;null!=i&&(i.SetText_61zpoe$(e),this.text=e,!0===this.autoSizeAdjust&&this.SetSize_dleff0$(i.GetFrameSize().width,i.GetFrameSize().height))},Wr.prototype.SetFontColor_hu04m1$=function(e,t,i,r){void 0===e&&(e=255),void 0===t&&(t=255),void 0===i&&(i=255),void 0===r&&(r=1),this.SetFontColor_7b5o5w$(e/255,t/255,i/255,r)},Wr.prototype.SetFontColor_7b5o5w$=function(e,t,i,r){var o;void 0===e&&(e=1),void 0===t&&(t=1),void 0===i&&(i=1),void 0===r&&(r=1);var n=Ke.isType(o=this.GetObject(),Se)?o:null;null!=n&&n.SetFontColor_7b5o5w$(e,t,i,r),this.fontColor.r=e,this.fontColor.g=t,this.fontColor.b=i,this.fontColor.a=r},Wr.prototype.GetFontColor=function(){return this.fontColor},Wr.prototype.SetFontAlpha_mx4ult$=function(e){void 0===e&&(e=1),this.SetFontColor_7b5o5w$(this.fontColor.r,this.fontColor.g,this.fontColor.b,e)},Wr.prototype.SetFontColor_3nzkge$=function(e){var t;void 0===e&&(e=hi().white_mx4ult$());var i=Ke.isType(t=this.GetObject(),Se)?t:null;null!=i&&i.SetFontColor_7b5o5w$(e.r,e.g,e.b,e.a)},Wr.prototype.SetFontSize_mx4ult$=function(e){var t;void 0===e&&(e=32);var i=Ke.isType(t=this.GetObject(),Se)?t:null;null!=i&&(i.SetFontSize_mx4ult$(e),!0===this.autoSizeAdjust&&this.SetSize_dleff0$(i.GetFrameSize().width,i.GetFrameSize().height)),this.fontSize=e},Wr.prototype.GetSize=function(){var e,t=Ke.isType(e=this.GetObject(),Se)?e:null;return null!=t?t.GetSize():Pi()},Wr.prototype.SetSize_dleff0$=function(e,t){var i,r=Ke.isType(i=this.GetObject(),Se)?i:null;null!=r&&(r.SetSize_dleff0$(e,t),this.originalSize=Pi(e,t)),this.SetAlign_vkgmrm$(this.verticalAlign,this.horizontalAlign)},Wr.prototype.SetScaleOriginal_mx4ult$=function(e){var t,i=this.originalSize.height*e,r=Ke.isType(t=this.GetObject(),Se)?t:null;null!=r&&r.SetSize_dleff0$(-1,i),this.SetAlign_vkgmrm$(this.verticalAlign,this.horizontalAlign)},Wr.prototype.GetScaleOriginal=function(){return this.GetSize().height/this.originalSize.height},Wr.prototype.GetFontSize=function(){return this.fontSize},Wr.prototype.SetColor_sczwbf$$default=function(e,t,i,r,o){var n;this.SetColor_sczwbf$(e,t,i,r,o,po.prototype.SetColor_sczwbf$$default.bind(this));var a=Ke.isType(n=this.GetObject(),Se)?n:null;null!=a&&a.SetColor_7b5o5w$(e,t,i,r)},Wr.prototype.SetAlpha_8ca0d4$$default=function(e,t){var i;this.SetAlpha_8ca0d4$(e,t,po.prototype.SetAlpha_8ca0d4$$default.bind(this));var r=Ke.isType(i=this.GetObject(),Se)?i:null;null!=r&&r.SetAlpha_mx4ult$(this.color.a)},Wr.prototype.SetBlendFactor_mx4ult$$default=function(e){var t,i=Ke.isType(t=this.GetObject(),Se)?t:null;null!=i&&i.SetColorBlendFactor_mx4ult$(e),this.SetBlendFactor_mx4ult$(e,po.prototype.SetBlendFactor_mx4ult$$default.bind(this))},Wr.prototype.SetBlendMode_ieo8yr$=function(e){var t,i=Ke.isType(t=this.GetObject(),Se)?t:null;null!=i&&i.SetBlendMode_ieo8yr$(e),po.prototype.SetBlendMode_ieo8yr$.call(this,e)},Wr.$metadata$={kind:o,simpleName:"Label",interfaces:[po]},Xr.prototype.SetSize_dleff0$=function(e,t){var i,r=Ke.isType(i=this.GetObject(),be)?i:null;null!=r&&(r.SetSize_dleff0$(e,t),po.prototype.SetSize_dleff0$.call(this,e,t))},Xr.prototype.GetTextureSize=function(){var e,t=Ke.isType(e=this.GetObject(),be)?e:null;return null!=t?t.GetTextureSize():null},Xr.prototype.SetColor_sczwbf$$default=function(e,t,i,r,o){var n;this.SetColor_sczwbf$(e,t,i,r,o,po.prototype.SetColor_sczwbf$$default.bind(this));var a=Ke.isType(n=this.GetObject(),be)?n:null;null!=a&&a.SetColor_7b5o5w$(this.color.r,this.color.g,this.color.b,this.color.a)},Xr.$metadata$={kind:o,simpleName:"Mask",interfaces:[po]},Zr.$metadata$={kind:o,simpleName:"MotionInfo",interfaces:[]},Zr.prototype.component1=function(){return this.motion},Zr.prototype.component2=function(){return this.relative},Zr.prototype.component3=function(){return this.time},Zr.prototype.component4=function(){return this.startTime},Zr.prototype.component5=function(){return this.callback},Zr.prototype.copy_yrjqrw$=function(e,t,i,r,o){return new Zr(void 0===e?this.motion:e,void 0===t?this.relative:t,void 0===i?this.time:i,void 0===r?this.startTime:r,void 0===o?this.callback:o)},Zr.prototype.toString=function(){return"MotionInfo(motion="+Ke.toString(this.motion)+", relative="+Ke.toString(this.relative)+", time="+Ke.toString(this.time)+", startTime="+Ke.toString(this.startTime)+", callback="+Ke.toString(this.callback)+")"},Zr.prototype.hashCode=function(){var e=0;return e=31*(e=31*(e=31*(e=31*(e=31*e+Ke.hashCode(this.motion)|0)+Ke.hashCode(this.relative)|0)+Ke.hashCode(this.time)|0)+Ke.hashCode(this.startTime)|0)+Ke.hashCode(this.callback)|0},Zr.prototype.equals=function(e){return this===e||null!==e&&"object"==typeof e&&Object.getPrototypeOf(this)===Object.getPrototypeOf(e)&&Ke.equals(this.motion,e.motion)&&Ke.equals(this.relative,e.relative)&&Ke.equals(this.time,e.time)&&Ke.equals(this.startTime,e.startTime)&&Ke.equals(this.callback,e.callback)},Qr.$metadata$={kind:o,simpleName:"CallbackInfo",interfaces:[]},Jr.$metadata$={kind:o,simpleName:"LocalVariables",interfaces:[]},eo.$metadata$={kind:o,simpleName:"VerticalAlign",interfaces:[h]},eo.values=function(){return[io(),ro(),oo()]},eo.valueOf_61zpoe$=function(e){switch(e){case"top":return io();case"center":return ro();case"bottom":return oo();default:c("No enum constant com.blindcatstudio.phantom.graphic.VerticalAlign."+e)}},no.$metadata$={kind:o,simpleName:"HorizontalAlign",interfaces:[h]},no.values=function(){return[so(),lo(),uo()]},no.valueOf_61zpoe$=function(e){switch(e){case"left":return so();case"center":return lo();case"right":return uo();default:c("No enum constant com.blindcatstudio.phantom.graphic.HorizontalAlign."+e)}},Object.defineProperty(ho.prototype,"x",{get:function(){return this.x_nkfebn$_0+this.motionAdjust.x},set:function(e){this.x_nkfebn$_0=e}}),Object.defineProperty(ho.prototype,"y",{get:function(){return this.y_nkfeas$_0+this.motionAdjust.y},set:function(e){this.y_nkfeas$_0=e}}),Object.defineProperty(ho.prototype,"z",{get:function(){return this.z_nkfe9x$_0+this.motionAdjust.z},set:function(e){this.z_nkfe9x$_0=e}}),ho.prototype.afterAttached=function(){},ho.prototype.beforeDetached=function(){},ho.prototype.SetTimeToLive_mx4ult$=function(e){this.timeToLive=this.age+e},ho.prototype.GetTimeToLive=function(){return this.timeToLive},ho.prototype.SetInactive=function(){this.active=!1,this.updateCallback.clear(),null!=this.messageHandler&&(this.messageHandler=null),this.xMotion=null,this.yMotion=null,this.zMotion=null},ho.prototype.SetActive=function(){this.active=!0},ho.prototype.SetName_61zpoe$=function(e){this.name=e},ho.prototype.GetName=function(){return this.name},ho.prototype.SetParent_3hy050$=function(e){this.parent=e},ho.prototype.SetSizeScale_3fer1j$=function(e){this.sizeScale=e},ho.prototype.GetSizeScale=function(){return this.sizeScale},ho.prototype.GetParent=function(){return this.parent},ho.prototype.GetRoot=function(){var e=this.GetParent();return null!=e?e.GetRoot():this},ho.prototype.GetObjectList=function(){return this.objectList},ho.prototype.GetObject=function(){return 0===this.objectList.size?null:this.objectList.get_za3lpa$(0)},ho.prototype.GetObject_za3lpa$=function(e){return e<this.objectList.size?this.objectList.get_za3lpa$(e):null},ho.prototype.addObject_s8jyv4$=function(e){this.objectList.add_11rb$(e)},ho.prototype.addChild_g5h3xp$=function(e){e.SetParent_3hy050$(this),this.childList.add_11rb$(e),e.afterAttached()},ho.prototype.removeObject_za3lpa$=function(e){e<this.objectList.size&&null!=this.objectList.get_za3lpa$(e)&&this.objectList.removeAt_za3lpa$(e)},ho.prototype.detachChild_g5h3xp$=function(e){var t,i=0;for(t=this.childList.iterator();t.hasNext();){var r=t.next();if(r===e){r.beforeDetached(),r.SetParent_3hy050$(null),this.childList.removeAt_za3lpa$(i);break}i=i+1|0}},ho.prototype.freeAdditionalResource=function(){},ho.prototype.freeObject=function(){var e;e=this.objectList;for(var t=0;t!==e.size;++t)this.objectList.set_wxm5ur$(t,null);this.objectList.clear()},ho.prototype.removeFromParent=function(){var e,t;for(this.update_mx4ult$(0),this.updateCallback.clear(),this.xMotion=null,this.yMotion=null,this.zMotion=null,e=ge(this.childList).iterator();e.hasNext();){e.next().removeFromParent()}this.childList.clear(),null!=this.messageHandler&&(this.messageHandler=null),this.freeAdditionalResource(),this.freeObject(),null!=this.parent&&null!=(t=this.parent)&&t.detachChild_g5h3xp$(this)},ho.prototype.isChild_g5h3xp$=function(e){var t;for(t=this.childList.iterator();t.hasNext();){var i=t.next();if(i===e)return!0;if(!0===i.isChild_g5h3xp$(e))return!0}return!1},ho.prototype.GetChildList=function(){return this.childList},ho.prototype.GetChild_za3lpa$=function(e){return e>=this.childList.size?null:this.childList.get_za3lpa$(e)},ho.prototype.GetInputOwner=function(){return this.inputOwner},ho.prototype.SetInputOwner_3hy050$=function(e){this.inputOwner=null==e?null:e},ho.prototype.GetDrag=function(){return this.drag},ho.prototype.SetDrag_6taknv$=function(e){this.drag=e},ho.prototype.GetPosition=function(){return Ai(this.x,this.y)},ho.prototype.SetPosition_dleff0$=function(e,t){this.x=e,this.y=t},ho.prototype.convertCoordinateUniversal_f8jzzg$=function(e,t){void 0===t&&(t=null);var i=t;null==i&&(i=this.positionScale);var r=e.x,o=e.y;return Ai(r*i.xRatio,o*i.yRatio)},ho.prototype.SetPositionUniversal_8nqnh6$=function(e,t,i){var r;void 0===i&&(i=null);var o=i;null==o&&(o=null!=(r=this.parent)?r.sizeScale:null);var n=this.convertCoordinateUniversal_f8jzzg$(Ai(e,t),o);this.SetPosition_dleff0$(n.x,n.y)},ho.prototype.GetZPosition=function(){return this.z},ho.prototype.SetZPosition_8ca0d4$=function(e,t){var i;if(void 0===t&&(t=!1),this.z=e,!0===t)for(i=this.childList.iterator();i.hasNext();){i.next().SetZPosition_8ca0d4$(e,!0)}},ho.prototype.addZPosition_8ca0d4$=function(e,t){var i;if(void 0===t&&(t=!1),this.z=this.z+e,!0===t)for(i=this.childList.iterator();i.hasNext();){i.next().addZPosition_8ca0d4$(e,!0)}},ho.prototype.SetOriginalSize_dleff0$=function(e,t){this.originalSize.width=e,this.originalSize.height=t},ho.prototype.GetOriginalSize=function(){return this.originalSize},ho.prototype.SetSize_dleff0$=function(e,t){this.size.width=e,this.size.height=t},ho.prototype.GetSize=function(){return this.size},ho.prototype.SetScale_mx4ult$$default=function(e){this.scale=e},ho.prototype.SetScale_mx4ult$=function(e,t){void 0===e&&(e=1),t?t(e):this.SetScale_mx4ult$$default(e)},ho.prototype.GetScale=function(){return this.scale},ho.prototype.SetPercentCoordinate_6taknv$=function(e){this.percentCoordinate=e},ho.prototype.GetPercentCoordinate=function(){return this.percentCoordinate},ho.prototype.GetDrawingCoordinate_dleff0$=function(e,t){return null!=this.parent?!0===this.percentCoordinate?Je(this.parent).convertCoordinatePercent_dleff0$(e,t):Ai(e,t):Ai()},ho.prototype.convertCoordinate_dleff0$=function(e,t){return Ai(e,t)},ho.prototype.convertCoordinatePercent_dleff0$=function(e,t){return Ai(this.GetSize().width*e,this.GetSize().height*t)},ho.prototype.convertChildToParentCoordinate_dleff0$=function(e,t){return!0===this.percentCoordinate?new Fe(this.x+this.GetSize().width*e,this.y+this.GetSize().height*t):new Fe(this.x+e,this.y+t)},ho.prototype.convertLocalToGlobalCoordinate_dleff0$=function(e,t){var i=this.convertChildToParentCoordinate_dleff0$(e,t);return null!=this.parent?Je(this.parent).convertLocalToGlobalCoordinate_dleff0$(i.first,i.second):new Fe(i.first,i.second)},ho.prototype.convertGlobalToLocalCoordinate_dleff0$=function(e,t){var i=this.convertLocalToGlobalCoordinate_dleff0$(0,0);return new Fe(e-i.first,t-i.second)},ho.prototype.SetColor_sczwbf$$default=function(e,t,i,r,o){var n;this.color.r=e,this.color.g=t,this.color.b=i,this.color.a=r,this.color.r<0?this.color.r=0:1<this.color.r&&(this.color.r=1),this.color.g<0?this.color.g=0:1<this.color.g&&(this.color.g=1),this.color.b<0?this.color.b=0:1<this.color.b&&(this.color.b=1);var a=r;if(a<0?a=0:1<a&&(a=1),this.originalAlpha=a,this.color.a=a*this.masterAlpha,!0===o)for(n=this.childList.iterator();n.hasNext();){var s=n.next();Ke.isType(s,po)&&s.SetColor_sczwbf$(e,t,i,a)}},ho.prototype.SetColor_sczwbf$=function(e,t,i,r,o,n){void 0===r&&(r=1),void 0===o&&(o=!0),n?n(e,t,i,r,o):this.SetColor_sczwbf$$default(e,t,i,r,o)},ho.prototype.SetColor_b53zri$$default=function(e,t,i,r,o){this.SetColor_sczwbf$(e/255,t/255,i/255,r,o)},ho.prototype.SetColor_b53zri$=function(e,t,i,r,o,n){void 0===e&&(e=255),void 0===t&&(t=255),void 0===i&&(i=255),void 0===r&&(r=1),void 0===o&&(o=!0),n?n(e,t,i,r,o):this.SetColor_b53zri$$default(e,t,i,r,o)},ho.prototype.SetColor_vnjrmz$$default=function(e,t){this.SetColor_sczwbf$(e.r,e.g,e.b,e.a,t)},ho.prototype.SetColor_vnjrmz$=function(e,t,i){void 0===t&&(t=!0),i?i(e,t):this.SetColor_vnjrmz$$default(e,t)},ho.prototype.SetChildColor_edr4a3$$default=function(e,t,i,r){var o,n,a=t;(-1===a||a>this.childList.size)&&(a=this.childList.size),o=a-1|0;for(var s=e;s<=o;s++){var l=Ke.isType(n=this.GetChild_za3lpa$(s),po)?n:null;null!=l&&l.SetColor_vnjrmz$(i)}},ho.prototype.SetChildColor_edr4a3$=function(e,t,i,r,o){void 0===e&&(e=0),void 0===t&&(t=-1),void 0===r&&(r=!0),o?o(e,t,i,r):this.SetChildColor_edr4a3$$default(e,t,i,r)},ho.prototype.SetChildAlpha_qiya20$$default=function(e,t,i,r){var o,n,a=t;(-1===a||a>this.childList.size)&&(a=this.childList.size),o=a-1|0;for(var s=e;s<=o;s++){var l=Ke.isType(n=this.GetChild_za3lpa$(s),po)?n:null;null!=l&&l.SetAlpha_8ca0d4$(i)}},ho.prototype.SetChildAlpha_qiya20$=function(e,t,i,r,o){void 0===e&&(e=0),void 0===t&&(t=-1),void 0===r&&(r=!0),o?o(e,t,i,r):this.SetChildAlpha_qiya20$$default(e,t,i,r)},ho.prototype.GetColor=function(){return this.color},ho.prototype.GetMasterAlpha=function(){return this.masterAlpha},ho.prototype.SetMasterAlpha_mx4ult$=function(e){var t,i,r=e;for(r<0?r=0:1<r&&(r=1),this.masterAlpha=r,this.color.a=r*this.originalAlpha,t=this.childList.iterator();t.hasNext();){var o=t.next(),n=Ke.isType(i=o,po)?i:null;null!=n&&n.SetMasterAlpha_mx4ult$(r)}},ho.prototype.GetAlpha=function(){return this.originalAlpha},ho.prototype.SetAlpha_8ca0d4$$default=function(e,t){var i,r,o=e;if(o<0?o=0:1<o&&(o=1),this.originalAlpha=o,this.color.a=o*this.masterAlpha,!0===t)for(i=this.childList.iterator();i.hasNext();){var n=i.next(),a=Ke.isType(r=n,po)?r:null;null!=a&&a.SetAlpha_8ca0d4$(o,t)}},ho.prototype.SetAlpha_8ca0d4$=function(e,t,i){void 0===t&&(t=!0),i?i(e,t):this.SetAlpha_8ca0d4$$default(e,t)},ho.prototype.update_mx4ult$=function(e){var t,i,r,o,n;if((t=Ie().shared()).nodeUpdateCounter=t.nodeUpdateCounter+1|0,0<e&&(this.age+=e*this.timeScale,0<=this.timeToLive&&this.age>this.timeToLive))this.removeFromParent();else{for(var a=le(),s=0;s<this.updateCallback.size;){var l=this.updateCallback.get_za3lpa$(s);if(0!==e)if(l.elapsed=l.elapsed+e*this.timeScale,l.age=l.age+e*this.timeScale,0!==l.mode||!1!==this.GetShow()){if(!0===l.exclusive){var u=l.name;if(null!=a.get_11rb$(u)){s=s+1|0;continue}a.put_xwzc9p$(u,1)}if(-1!==l.timeToLive&&l.timeToLive<l.age)l.elapsed=0,l.count=l.count+1|0,l.callback(l),this.updateCallback.removeAt_za3lpa$(s);else{if(0===l.count){if(l.count=l.count+1|0,!1===l.callback(l)){this.updateCallback.removeAt_za3lpa$(s);continue}l.elapsed=0}else if(l.elapsed>l.interval){if(l.count=l.count+1|0,!1===l.callback(l)){this.updateCallback.removeAt_za3lpa$(s);continue}l.elapsed=0}s=s+1|0}}else s=s+1|0;else l.elapsed=0,l.count=l.count+1|0,s=s+1|0,l.callback(l)}for(this.name.length,i=_(this.childList).iterator();i.hasNext();){var h=i.next();!0===h.active&&h.update_mx4ult$(e*this.timeScale)}if(null!=(r=this.xMotion)){var c,d=r;-1!==d.time&&d.startTime+d.time<this.age?(null!=(c=d.callback)&&c(),this.xMotion=null):!0===d.relative?(d.motion.update_mx4ult$(e*this.timeScale),this.motionAdjust.x=this.motionAdjust.x+d.motion.GetPositionDelta()):this.x=d.motion.update_mx4ult$(e*this.timeScale)}if(null!=(o=this.yMotion)){var p,f=o;-1!==f.time&&f.startTime+f.time<this.age?(null!=(p=f.callback)&&p(),this.yMotion=null):!0===f.relative?(f.motion.update_mx4ult$(e*this.timeScale),this.motionAdjust.y=this.motionAdjust.y+f.motion.GetPositionDelta()):this.y=f.motion.update_mx4ult$(e*this.timeScale)}if(null!=(n=this.zMotion)){var m,v=n;-1!==v.time&&v.startTime+v.time<this.age?(null!=(m=v.callback)&&m(),this.zMotion=null):!0===v.relative?(v.motion.update_mx4ult$(e*this.timeScale),this.motionAdjust.z=this.motionAdjust.z+v.motion.GetPositionDelta()):this.z=v.motion.update_mx4ult$(e*this.timeScale)}}},ho.prototype.draw=function(){var e;if(!0===this.show)for(e=this.childList.iterator();e.hasNext();){e.next().draw()}},ho.prototype.findChildByName_3m52m6$=function(e,t,i){var r,o;for(void 0===t&&(t=999),void 0===i&&(i=0),r=this.childList.iterator();r.hasNext();){var n=r.next();if(he(n.GetName(),e))return n}if(t<=i)return null;for(o=this.childList.iterator();o.hasNext();){var a=o.next().findChildByName_3m52m6$(e,t,i+1|0);if(null!=a)return a}return null},ho.prototype.findAllChildByName_ay8g63$=function(e,t){var i;for(i=this.childList.iterator();i.hasNext();){var r=i.next();he(r.GetName(),e)&&t.add_11rb$(r),r.findAllChildByName_ay8g63$(e,t)}},ho.prototype.findNodeByObject_wympo9$=function(e,t){var i,r;for(void 0===t&&(t=null),i=this.objectList.iterator();i.hasNext();){if(i.next()===e)return this}for(r=this.childList.iterator();r.hasNext();){var o=r.next();if(o!==t){var n=o.findNodeByObject_wympo9$(e);if(null!=n)return n}}return null},ho.prototype.findUIResponseNodeByObject_wympo9$=function(e,t){var i;void 0===t&&(t=null);var r=this.findNodeByObject_wympo9$(e,t);if(null!=r&&null!=r.GetInputOwner()){for(i=r.GetInputOwner();null!=(null!=i?i.GetInputOwner():null)&&(null!=i?i.GetInputOwner():null)!==i;)i=null!=i?i.GetInputOwner():null;return i}return null},ho.prototype.onPress_dleff0$=function(e,t){var i=this.convertGlobalToLocalCoordinate_dleff0$(e,t);return this.sendMessage_79egny$(new Hr(gr(),void 0,void 0,C([Ai(i.first,i.second),Ai(e,t)])),this),!0},ho.prototype.onDrag_dleff0$=function(e,t){return!0},ho.prototype.onRelease_fzxzdm$=function(e,t,i){return!0},ho.prototype.onCancel=function(){return!0},ho.prototype.addUpdateCallback_sds54w$=function(e,t,i,r,o,n,a){var s;if(void 0===e&&(e=""),void 0===t&&(t=!0),void 0===i&&(i=!1),void 0===r&&(r=!1),void 0===o&&(o=-1),void 0===n&&(n=0),!1===t)for(s=y($(this.updateCallback)).iterator();s.hasNext();){var l=s.next(),u=this.updateCallback.get_za3lpa$(l);if(he(u.name,e)){if(!1===i)return;u.elapsed=0,u.age=u.age+0,u.count=u.count+1|0,u.callback(u),this.updateCallback.removeAt_za3lpa$(l);var h=new Qr(this,e,r,o,n,void 0,a);return void this.updateCallback.add_11rb$(h)}}var c=new Qr(this,e,r,o,n,void 0,a);this.updateCallback.add_11rb$(c)},ho.prototype.removeUpdateCallback_9sobi5$=function(e,t){var i;for(void 0===t&&(t=0),i=ge(ve(this.updateCallback)).iterator();i.hasNext();){var r=i.next(),o=r.component1(),n=r.component2();if(he(n.name,e))if(0<t)n.timeToLive=n.age+t;else{var a=this.updateCallback.get_za3lpa$(o);a.elapsed=0,a.age=a.age+0,a.count=a.count+1|0,a.callback(a),this.updateCallback.removeAt_za3lpa$(o)}}return!1},ho.prototype.removeAllUpdateCallback_6taknv$=function(e){var t;for(void 0===e&&(e=!0),t=y($(this.updateCallback)).iterator();t.hasNext();){var i=t.next(),r=this.updateCallback.get_za3lpa$(i);r.elapsed=0,r.age=r.age+0,r.count=r.count+1|0,!0===e&&r.callback(r),this.updateCallback.removeAt_za3lpa$(i)}},ho.prototype.GetShow=function(){return this.show},ho.prototype.SetShow_6taknv$=function(e){this.show=e},ho.prototype.SetModal_6taknv$=function(e){this.modal=e},ho.prototype.isModal=function(){return this.modal},ho.prototype.SetMessageHandler_4mjqr2$=function(e){this.messageHandler=null,this.messageHandler=e},ho.prototype.SetLocalVariables_za3lpa$=function(e){this.localVariables.value=e},ho.prototype.GetLocalVariables=function(){return this.localVariables.value},ho.prototype.SetLocalVariablesFloat_mx4ult$=function(e){this.localVariables.floatValue=e},ho.prototype.GetLocalVariablesFloat=function(){return this.localVariables.floatValue},ho.prototype.addLocalVariablesObject_za3rmp$=function(e){this.localVariables.parameter.add_11rb$(e)},ho.prototype.GetLocalVariablesObjectList=function(){return _(this.localVariables.parameter)},ho.prototype.GetLocalVariablesObject_za3lpa$=function(e){return this.localVariables.parameter.get_za3lpa$(e)},ho.prototype.sendMessage_iaw1dj$=function(e,t,i){void 0===t&&(t=null),void 0===i&&(i=qr());var r=new Hr(e,this,t,i);return null!=t?t.processMessage_sad1na$(r):(r.receiver=this).processMessage_sad1na$(r)},ho.prototype.sendMessage_79egny$=function(e,t){void 0===t&&(t=null);var i=e;return i.sender=this,null!=t?t.processMessage_sad1na$(i):(i.receiver=this).processMessage_sad1na$(i)},ho.prototype.sendMessageParent_4hc9e7$=function(e,t){void 0===t&&(t=qr());var i=this.parent;if(null!=i){var r=new Hr(e,this,i,t);return i.processMessage_sad1na$(r)}return!1},ho.prototype.sendMessage_2iuq6n$=function(e,t){var i=t;return(i.receiver=e).processMessage_sad1na$(i)},ho.prototype.sendMessage_cpy62s$=function(e,t){var i=t,r=this.GetRoot().findChildByName_3m52m6$(e);return null!=r&&(i.receiver=r).processMessage_sad1na$(i)},ho.prototype.postMessage_cpy62s$=function(e,t){var i,r=t,o=Le();for(this.GetRoot().findAllChildByName_ay8g63$(e,o),i=o.iterator();i.hasNext();){var n=i.next();r.sender!==n&&(r.receiver=n).processMessage_sad1na$(r)}},ho.prototype.broadcastMessage_4hc9e7$=function(e,t){var i;void 0===t&&(t=qr());var r=new Hr(e,this,void 0,t,void 0,void 0,!0);for(i=this.GetChildList().iterator();i.hasNext();){var o=i.next();o.processMessage_sad1na$(r),o.broadcastMessage_sad1na$(r)}},ho.prototype.broadcastMessage_sad1na$=function(e){var t;for(t=this.GetChildList().iterator();t.hasNext();){var i=t.next();i.processMessage_sad1na$(e),i.broadcastMessage_sad1na$(e)}},ho.prototype.processMessage_sad1na$=function(e){var t;return(null==this.messageHandler||!1!==(null!=(t=this.messageHandler)?t(e):null))&&this.defaultMessageHandler_sad1na$(e)},ho.prototype.defaultMessageHandler_sad1na$=function(e){var t=e,i=this.GetParent();return null==i||(t.receiver=i).processMessage_sad1na$(t)},ho.prototype.SetXMotion_vn0wwp$=function(e,t,i,r){void 0===t&&(t=!1),void 0===i&&(i=-1),void 0===r&&(r=null),this.xMotion=null,this.xMotion=new Zr(e,t,i,this.age,r)},ho.prototype.SetYMotion_vn0wwp$=function(e,t,i,r){void 0===t&&(t=!1),void 0===i&&(i=-1),void 0===r&&(r=null),this.yMotion=null,this.yMotion=new Zr(e,t,i,this.age,r)},ho.prototype.SetZMotion_vn0wwp$=function(e,t,i,r){void 0===t&&(t=!1),void 0===i&&(i=-1),void 0===r&&(r=null),this.zMotion=null,this.zMotion=new Zr(e,t,i,this.age,r)},ho.$metadata$={kind:o,simpleName:"Node",interfaces:[]},po.prototype.freeObject=function(){var e;for(e=this.GetObjectList().iterator();e.hasNext();){var t=e.next();Ke.isType(t,_e)&&t.remove()}ho.prototype.freeObject.call(this)},po.prototype.addChild_g5h3xp$=function(e){var t,i,r;if(null==e.GetParent()){e.SetMasterAlpha_mx4ult$(this.masterAlpha),ho.prototype.addChild_g5h3xp$.call(this,e);var o=Ke.isType(t=this.GetObject(),_e)?t:null;if(null!=o)for(i=e.GetObjectList().iterator();i.hasNext();){var n=i.next(),a=Ke.isType(r=n,_e)?r:null;if(null!=a){o.addChild_jrj3jl$(a);break}}}},po.prototype.addChildByObjectSelection_nacd7f$=function(e,t){var i,r;if(void 0===t&&(t=0),null==e.GetParent()){ho.prototype.addChild_g5h3xp$.call(this,e);var o=Ke.isType(i=this.GetObject_za3lpa$(t),_e)?i:null;if(null!=o){var n=Ke.isType(r=e.GetObject(),_e)?r:null;null!=n&&o.addChild_jrj3jl$(n)}}},po.prototype.SetShow_6taknv$=function(e){var t,i;if(!1===e){var r=Ke.isType(t=this.GetObject(),_e)?t:null;null!=r&&r.SetShow_6taknv$(e)}else{var o=Ke.isType(i=this.GetObject(),_e)?i:null;null!=o&&o.SetShow_6taknv$(e)}ho.prototype.SetShow_6taknv$.call(this,e),this.processModal_6taknv$(e)},po.prototype.processModal_6taknv$=function(e){var t,i;if(!0===this.modal)if(!0===e){var r=Ke.isType(t=this.GetRoot(),Qn)?t:null;null!=r&&r.pushModal_g5h3xp$(this)}else{var o=Ke.isType(i=this.GetRoot(),Qn)?i:null;null!=o&&o.popModal_g5h3xp$(this)}},po.prototype.SetPosition_dleff0$=function(e,t){ho.prototype.SetPosition_dleff0$.call(this,e,t),this.SetVerticalAlign_qn2em6$(this.verticalAlign),this.SetHorizontalAlign_jdpdm8$(this.horizontalAlign)},po.prototype.draw=function(){var e,t,i=Ke.isType(e=this.GetObject(),_e)?e:null;if(null!=i){var r=this.GetDrawingCoordinate_dleff0$(this.x,this.y);r.x=r.x+this.positionOffset.x,r.y=r.y+this.positionOffset.y;var o=this.GetParent();if(null!=o){var n=Ke.isType(t=o.GetObject(),_e)?t:null;null!=n&&(r=n.convertCoordinate_dleff0$(r.x,r.y))}i.draw_4tzqwv$(r,this.GetZPosition())}ho.prototype.draw.call(this)},po.prototype.convertChildToParentCoordinate_dleff0$=function(e,t){return!0===this.percentCoordinate?new Fe(this.GetPosition().x+this.positionOffset.x+this.GetSize().width*e,this.GetPosition().y+this.positionOffset.y+this.GetSize().height*t):new Fe(this.GetPosition().x+this.positionOffset.x+e,this.GetPosition().y+this.positionOffset.y+t)},po.prototype.SetVerticalAlign_qn2em6$=function(e){switch((this.verticalAlign=e).name){case"top":this.positionOffset.y=1*this.GetSize().height/2;break;case"center":this.positionOffset.y=0;break;case"bottom":this.positionOffset.y=-1*this.GetSize().height/2}},po.prototype.SetHorizontalAlign_jdpdm8$=function(e){switch((this.horizontalAlign=e).name){case"left":this.positionOffset.x=1*this.GetSize().width/2;break;case"center":this.positionOffset.x=0;break;case"right":this.positionOffset.x=-1*this.GetSize().width/2}},po.prototype.GetVerticalAlign=function(){return this.verticalAlign},po.prototype.GetHorizontalAlign=function(){return this.horizontalAlign},po.prototype.SetBlendFactor_mx4ult$$default=function(e){this.colorBlendFactor=e},po.prototype.SetBlendFactor_mx4ult$=function(e,t){void 0===e&&(e=0),t?t(e):this.SetBlendFactor_mx4ult$$default(e)},po.prototype.GetBlendFactor=function(){return this.colorBlendFactor},po.prototype.SetBlendMode_ieo8yr$=function(e){this.blendMode=e},po.prototype.GetBlendMode=function(){return this.blendMode},po.prototype.SetRotation_mx4ult$$default=function(e){},po.prototype.SetRotation_mx4ult$=function(e,t){void 0===e&&(e=0),t?t(e):this.SetRotation_mx4ult$$default(e)},po.$metadata$={kind:o,simpleName:"NodeWrapper",interfaces:[ho]},mo.prototype.arc4random_uniform_za3lpa$=function(e){return et(Math.random()*e)},mo.$metadata$={kind:u,simpleName:"Random",interfaces:[]};var vo=null;function go(){return null===vo&&new mo,vo}function _o(){bo(),this.projection=0,this.lensSize=100,this.focalLength=50,this.farMost=500,this.farFog=250,this.nearFog=100,this.sinCalcX=0,this.cosCalcX=0,this.sinCalcY=0,this.cosCalcY=0,this.sinCalcZ=0,this.cosCalcZ=0}function $o(){yo=this}_o.prototype.rotate_y2kzbl$=function(e,t,i){void 0===e&&(e=0),void 0===t&&(t=0),void 0===i&&(i=0);var r=e*(te.PI/180),o=t*(te.PI/180),n=i*(te.PI/180),a=Yt.sin(r),s=Yt.cos(r),l=this.direction.y*s-this.direction.z*a,u=this.direction.y*a+this.direction.z*s;this.direction.y=l,this.direction.z=u,a=Yt.sin(o),s=Yt.cos(o);var h=this.direction.x*s+this.direction.z*a;u=-this.direction.x*a+this.direction.z*s,this.direction.x=h,this.direction.z=u,a=Yt.sin(n),s=Yt.cos(n),h=this.direction.x*s-this.direction.y*a,l=this.direction.x*a+this.direction.y*s,this.direction.x=h,this.direction.y=l},_o.prototype.SetFOV_mx4ult$=function(e){var t=e/2*(te.PI/180);this.focalLength=this.lensSize/2*Yt.cos(t)/Yt.sin(t)},_o.prototype.SetFOV_dleff0$=function(e,t){var i=e/2*(te.PI/180);this.lensSize=t*Yt.sin(i)/Yt.cos(i)*2,this.focalLength=t},_o.prototype.prepare=function(){var e=(360-this.direction.x)*(te.PI/180);this.sinCalcX=Yt.sin(e),this.cosCalcX=Yt.cos(e);var t=(360-this.direction.y)*(te.PI/180);this.sinCalcY=Yt.sin(t),this.cosCalcY=Yt.cos(t);var i=(360-this.direction.z)*(te.PI/180);this.sinCalcZ=Yt.sin(i),this.cosCalcZ=Yt.cos(i)},_o.prototype.convertToLocal_qgvyiu$=function(e){var t=e.x-this.position.x,i=e.y-this.position.y,r=e.z-this.position.z,o=t*this.cosCalcY+r*this.sinCalcY,n=-t*this.sinCalcY+r*this.cosCalcY,a=i*this.cosCalcX-n*this.sinCalcX,s=i*this.sinCalcX+n*this.cosCalcX,l=o*this.cosCalcZ-a*this.sinCalcZ,u=o*this.sinCalcZ+a*this.cosCalcZ;e.x=l,e.y=u,e.z=s},_o.prototype.convertToLocal_xovnep$=function(e){var t,i;e.convertPosition.x=e.position.x+e.local.x,e.convertPosition.y=e.position.y+e.local.y,e.convertPosition.z=e.position.z+e.local.z,this.convertToLocal_qgvyiu$(e.convertPosition);var r=Ke.isType(t=e,on)?t:null;if(null!=r){i=r.GetVertexCount()-1|0;for(var o=0;o<=i;o++)r.convertedVertex.get_za3lpa$(o).x=e.position.x+r.vertex.get_za3lpa$(o).x,r.convertedVertex.get_za3lpa$(o).y=e.position.y+r.vertex.get_za3lpa$(o).y,r.convertedVertex.get_za3lpa$(o).z=e.position.z+r.vertex.get_za3lpa$(o).z,this.convertToLocal_qgvyiu$(r.convertedVertex.get_za3lpa$(o))}},_o.prototype.convertToScreen_yjiq68$=function(e,t,i){var r=1;0===this.projection?(e.screenPosition.x=this.focalLength/e.convertPosition.z*e.convertPosition.x,e.screenPosition.y=this.focalLength/e.convertPosition.z*e.convertPosition.y,r=t.width/this.lensSize,!1===i&&(r=t.height/this.lensSize),e.screenPosition.x=e.screenPosition.x*r,e.screenPosition.y=e.screenPosition.y*r,e.screenPosition.y=-1*e.screenPosition.y,e.screenPosition.x=e.screenPosition.x+t.width/2,e.screenPosition.y=e.screenPosition.y+t.height/2):(e.screenPosition.x=e.convertPosition.x,e.screenPosition.y=e.convertPosition.y);var o=this.focalLength/e.convertPosition.z*e.size;e.screenSize.width=o*r,e.screenSize.height=o*r},_o.prototype.convertToScreen_l3vh3t$=function(e,t,i){var r=Ai();r.x=this.focalLength/e.z*e.x,r.y=this.focalLength/e.z*e.y;var o=1;return o=t.width/this.lensSize,!1===i&&(o=t.height/this.lensSize),r.x=r.x*o,r.y=r.y*o,r.y=-1*r.y,r.x=r.x+t.width/2,r.y=r.y+t.height/2,r},$o.prototype.copy_s6wt6e$=function(e){var t=So(e.lensSize,void 0,void 0,void 0,e.focalLength,e.farMost);return t.position=Gi().copy_qgvyiu$(e.position),t.direction=Gi().copy_qgvyiu$(e.direction),t.movement=Gi().copy_qgvyiu$(e.movement),t.size=e.size,t.rotation=Gi().copy_qgvyiu$(e.rotation),t.screenPosition=Gi().copy_qgvyiu$(e.screenPosition),t.screenSize=ji().copy_g5e0xa$(e.screenSize),t.farFog=e.farFog,t.nearFog=e.nearFog,t},$o.$metadata$={kind:u,simpleName:"Companion",interfaces:[]};var yo=null;function bo(){return null===yo&&new $o,yo}function So(e,t,i,r,o,n,a){return void 0===t&&(t=Ai()),void 0===i&&(i=Ai(0,0,0)),void 0===r&&(r=Ai()),void 0===o&&(o=10),void 0===n&&(n=500),a=a||Object.create(_o.prototype),vi.call(a),_o.call(a),a.lensSize=e,a.position=t,a.direction=i,a.movement=r,a.focalLength=o,a.farMost=n,a}function ko(e,t,i,r,o,n,a,s,l){return void 0===t&&(t=Ai()),void 0===i&&(i=Ai(0,0,0)),void 0===r&&(r=Ai()),void 0===o&&(o=90),void 0===n&&(n=500),void 0===a&&(a=250),void 0===s&&(s=100),l=l||Object.create(_o.prototype),vi.call(l),_o.call(l),l.lensSize=e,l.position=t,l.direction=i,l.movement=r,l.farMost=n,l.farFog=a,l.nearFog=s,l.SetFOV_mx4ult$(o),l}function wo(){tn(),vi.call(this),this.poolable=!1,this.sprite=null}function xo(){en=this}_o.$metadata$={kind:o,simpleName:"Camera",interfaces:[vi]},wo.prototype.destroy=function(){var e;null!=this.sprite&&(null!=(e=this.sprite)&&e.removeFromParent(),this.sprite=null),vi.prototype.destroy.call(this)},wo.prototype.SetSprite_eyqfr4$=function(e){var t;null!=this.sprite&&(null!=(t=this.sprite)&&t.removeFromParent(),this.sprite=null),this.sprite=e},wo.prototype.GetSprite=function(){return this.sprite},wo.prototype.changeImage_61zpoe$=function(e){var t,i=Ke.isType(t=this.sprite,sa)?t:null;null!=i&&(i.SetRotation_mx4ult$(0),i.SetImage_9xt0da$(e))},wo.prototype.SetSubAlpha_mx4ult$$default=function(e){var t;this.SetSubAlpha_mx4ult$(e,vi.prototype.SetSubAlpha_mx4ult$$default.bind(this)),null!=(t=this.sprite)&&t.SetAlpha_8ca0d4$(this.GetCurrentAlpha())},xo.prototype.copy_j6asyx$=function(e){var t=new wo;return t.position=Gi().copy_qgvyiu$(e.position),t.direction=Gi().copy_qgvyiu$(e.direction),t.movement=Gi().copy_qgvyiu$(e.movement),t.size=e.size,t.rotation=Gi().copy_qgvyiu$(e.rotation),t.screenPosition=Gi().copy_qgvyiu$(e.screenPosition),t.screenSize=ji().copy_g5e0xa$(e.screenSize),t.timeToLive=e.timeToLive,t.SetOriginalAlpha_mx4ult$(e.GetOriginalAlpha()),t.SetSubAlpha_mx4ult$(e.GetSubAlpha()),t.accel=Gi().copy_qgvyiu$(e.accel),t.accelRetain=Gi().copy_qgvyiu$(e.accelRetain),t.drag=Gi().copy_qgvyiu$(e.drag),t},xo.$metadata$={kind:u,simpleName:"Companion",interfaces:[]};var Co,zo,To,Go,Ao,Io,No,Mo,Oo,Ro,jo,Po,Bo,Eo,Fo,Lo,Do,Vo,Uo,qo,Ho,Wo,Yo,Xo,Ko,Zo,Qo,Jo,en=null;function tn(){return null===en&&new xo,en}function rn(){wo.call(this)}function on(){this.vertex=Le(),this.convertedVertex=Le(),this.isLined=!0,this.isClosed=!0,this.spriteList=Le()}function nn(e,t,i,r){void 0===i&&(i=!0),r=r||Object.create(on.prototype),vi.call(r),on.call(r);for(var o=0,n=e.iterator();n.hasNext();++o){var a=n.next();r.vertex.add_11rb$(a),r.convertedVertex.add_11rb$(Ai()),r.spriteList.add_11rb$(t.get_za3lpa$(o))}return r.isClosed=i,r}function an(){this.screen=null,this.spriteParent=null,this.objList=Le(),this.particlePool=Le(),this.camera=null,this.gravity=0,this.maxParticle=100,this.paused=!1,this.timeScale=1}function sn(r){return function(e,t,i){return e.age>e.timeToLive-1&&r.SetOriginalAlpha_mx4ult$(1-(e.age-(e.timeToLive-1))),!1}}function ln(o,n,a){return function(e,t,i){if(e.age<.5)o.SetOriginalAlpha_mx4ult$(n.a*(2*e.age));else if(e.age>e.timeToLive-1)o.SetOriginalAlpha_mx4ult$(n.a-(e.age-(e.timeToLive-1)));else if(!0===a){var r=go().arc4random_uniform_za3lpa$(200);r<5?o.SetOriginalAlpha_mx4ult$(.5*n.a):r<10?o.SetOriginalAlpha_mx4ult$(0):o.SetOriginalAlpha_mx4ult$(n.a)}return!1}}function un(l,u,h,c){return function(e,t,i){if(e.age>e.timeToLive-1&&l.SetOriginalAlpha_mx4ult$(1-(e.age-(e.timeToLive-1))),e.age<.25)return!1;var r=xi(l.position,u),o=Gi().distanceToSegment_tnhs7q$(e.prevPosition,e.position,u);if(0<=o&&o<10?(e.accel.x=0,e.accel.y=0,e.movement.x=0,e.movement.y=0):e.position.y-u.y<10&&(h.v=!1,c.v=r.angleBetween_qgvyiu$(l.movement),180<c.v&&(c.v-=360),c.v<-180&&(c.v+=360),c.v=c.v/.05),!0===h.v)e.accel.x=20*r.point.x,e.accel.y=20*r.point.y;else{e.accel.x=15*r.point.x,e.accel.y=15*r.point.y;var n=r.angleBetween_qgvyiu$(e.movement);180<n&&(n-=360),n<-180&&(n+=360);var a=c.v*i,s=a;Yt.abs(s)>=n&&(a=n,e.accel.x=20*r.point.x,e.accel.y=20*r.point.y,h.v=!0),e.movement.rotateZ_mx4ult$(a)}return!1}}function hn(o,n,a){return function(e,t,i){if(e.age>e.timeToLive-1&&o.SetOriginalAlpha_mx4ult$(1-(e.age-(e.timeToLive-1))),e.age<.2)return!1;if(!0===n.v){var r=xi(o.position,a);e.accel.x=15*r.point.x,e.accel.y=15*r.point.y}else e.movement.x=0,e.movement.y=0,e.movement.z=0,e.accel.x=0,e.accel.y=0,e.accel.z=0,n.v=!0;return e.position.y<a.y&&(e.movement.y=e.movement.y/e.movement.y,e.movement.y=3*e.movement.y,e.movement.x=e.movement.x/e.movement.x,e.movement.x=3*e.movement.x),!1}}function cn(e,t,i){return void 0===t&&(t=null),i=i||Object.create(an.prototype),an.call(i),i.screen=e,i.spriteParent=null==t?e:t,i.camera=ko(20,Ai(0,0,0),Ai(0,0,0),Ai(0,0,0),90,1600,200,100),i}function dn(e,t,i){void 0===e&&(e=0),void 0===t&&(t=0),void 0===i&&(i=0),this.scale=1,this.time=0,this.timeMultiplier=1,this.initialSpeed=e,this.initialAccel=t,this.initialPosition=i,this.speed=e,this.accel=t,this.position=i,this.speedDelta=0,this.accelDelta=0,this.positionDelta=0,this.flip=!1,this.peakRetain=0,this.peakHeight=0,this.targetTime=0,this.reentryTime=0,this.finish=!1}function pn(){this.baseline=0,this.reflection=0,this.terminalVelocity=0,this.bounceCount=0,this.targetBounce=-1}function fn(e,t,i,r,o,n){void 0===e&&(e=0),void 0===t&&(t=0),void 0===i&&(i=0),void 0===r&&(r=0),void 0===o&&(o=0),n=n||Object.create(pn.prototype),dn.call(n,e,t,i),pn.call(n);var a=r-i;n.baseline=r,n.reflection=o;var s=2*t*a+e,l=Yt.abs(s);if(n.terminalVelocity=Yt.sqrt(l),t<0){var u=n.terminalVelocity;n.terminalVelocity=-1*Yt.abs(u)}if(0<t){var h=n.terminalVelocity;n.terminalVelocity=Yt.abs(h)}return n}function mn(){this.initialAmplitude=1,this.ampAccel=0,this.theta=0,this.thetaAccum=0,this.adjust=0,this.amplitude=1}function vn(e,t,i,r,o){return void 0===e&&(e=1),void 0===t&&(t=0),void 0===i&&(i=0),void 0===r&&(r=0),o=o||Object.create(mn.prototype),dn.call(o,e,t,i),mn.call(o),o.scale=1,o.initialSpeed=e,o.initialAccel=t,o.initialPosition=i,o.ampAccel=r,o.speed=o.initialSpeed,o.accel=o.initialAccel,o.position=o.initialPosition,o}function gn(e,t,i,r,o,n){void 0===t&&(t=1),void 0===i&&(i=0),void 0===r&&(r=0),void 0===o&&(o=0),vn(t,i,r,void 0,n=n||Object.create(mn.prototype));var a=e;return a%=360,n.initialPosition=a,n.position=a,n}function _n(){}function $n(e,t,i,r){return void 0===e&&(e=0),void 0===t&&(t=0),void 0===i&&(i=0),r=r||Object.create(_n.prototype),dn.call(r,e,t,i),_n.call(r),r}function yn(e,t,i){h.call(this),this.value=i,this.name$=e,this.ordinal$=t}function bn(){bn=function(){},Co=new yn("spaceDeep",0,-1e4),zo=new yn("backgroundBottom",1,0),To=new yn("background",2,1),Go=new yn("backgroundTop",3,2),Ao=new yn("gameBoardBottom",4,3),Io=new yn("gameBoard",5,4),No=new yn("gameBoardTop",6,5),Mo=new yn("gameTileBottom",7,6),Oo=new yn("gameTile",8,7),Ro=new yn("gameTileTop",9,8),jo=new yn("gameEffectBottom",10,9),Po=new yn("gameEffect",11,10),Bo=new yn("gameEffectTop",12,11),Eo=new yn("uiBottom",13,12),Fo=new yn("ui",14,13),Lo=new yn("uiTop",15,14),Do=new yn("uiForemost",16,16),Vo=new yn("uiModalMask",17,50),Uo=new yn("uiModal",18,51),qo=new yn("parent",19,99)}function Sn(){return bn(),Co}function kn(){return bn(),zo}function wn(){return bn(),To}function xn(){return bn(),Go}function Cn(){return bn(),Ao}function zn(){return bn(),Io}function Tn(){return bn(),No}function Gn(){return bn(),Mo}function An(){return bn(),Oo}function In(){return bn(),Ro}function Nn(){return bn(),jo}function Mn(){return bn(),Po}function On(){return bn(),Bo}function Rn(){return bn(),Eo}function jn(){return bn(),Fo}function Pn(){return bn(),Lo}function Bn(){return bn(),Do}function En(){return bn(),Vo}function Fn(){return bn(),Uo}function Ln(){return bn(),qo}function Dn(e,t,i){h.call(this),this.mask=i,this.name$=e,this.ordinal$=t}function Vn(){Vn=function(){},Ho=new Dn("None",0,0),Wo=new Dn("CloseButton",1,1),Yo=new Dn("OkButton",2,2),Xo=new Dn("CancelButton",3,4),Ko=new Dn("Sizable",4,8),Zo=new Dn("Movable",5,16),Qo=new Dn("Modal",6,32),Jo=new Dn("Tab",7,64)}function Un(){return Vn(),Ho}function qn(){return Vn(),Wo}function Hn(){return Vn(),Yo}function Wn(){return Vn(),Xo}function Yn(){return Vn(),Ko}function Xn(){return Vn(),Zo}function Kn(){return Vn(),Qo}function Zn(){return Vn(),Jo}function Qn(){this.view=null,this.viewChanging=!1,this.prevViewName="",this.mask=null,this.textArea=null,this.logging=!1,this.touchListener=Le(),this.scrollListener=null,this.keydownListener=Le(),this.modalList=Le(),this.touchSensitivity=1,this.currentFocus=null,this.previousPos=null,this.speed=null,this.previousUIFireTime=0,this.skipFindUI=!1,this.fontName="ChalkboardSE-Bold",this.fontSize=16,this.fontColor=null,this.testColor=null,this.fontVerticalAlign=io(),this.fontHorizontalAlign=so(),this.modalColor=hi().black_mx4ult$(.95),this.modalAlpha=.95,this.isDrawTouchMark=!1,this.prevMarkerCreated=0,this.debug=null,this.count=0,this.accum=0,this.fps=0}wo.$metadata$={kind:o,simpleName:"Particle",interfaces:[vi]},rn.$metadata$={kind:o,simpleName:"Background",interfaces:[wo]},on.prototype.destroy=function(){var e;for(e=this.spriteList.iterator();e.hasNext();){e.next().removeFromParent()}this.spriteList.clear(),vi.prototype.destroy.call(this)},on.prototype.addVertex_vwn7ta$=function(e,t){this.vertex.add_11rb$(e),this.convertedVertex.add_11rb$(Ai()),this.spriteList.add_11rb$(t)},on.prototype.GetVertex_za3lpa$=function(e){return e>=this.vertex.size?null:this.vertex.get_za3lpa$(e)},on.prototype.GetVertexCount=function(){return this.vertex.size},on.prototype.GetSprite_za3lpa$=function(e){return e>=this.spriteList.size?null:this.spriteList.get_za3lpa$(e)},on.prototype.SetSubAlpha_mx4ult$$default=function(e){var t;for(this.SetSubAlpha_mx4ult$(e,vi.prototype.SetSubAlpha_mx4ult$$default.bind(this)),t=this.spriteList.iterator();t.hasNext();){t.next().SetAlpha_8ca0d4$(this.GetCurrentAlpha())}},on.$metadata$={kind:o,simpleName:"Polygon",interfaces:[vi]},an.prototype.SetCamera_s6wt6e$=function(e){this.camera=e},an.prototype.SetMaxParticle_za3lpa$=function(e){this.maxParticle=e},an.prototype.GetMaxParticle=function(){return this.maxParticle},an.prototype.GetAvailableParticleAmount=function(){return this.maxParticle-this.objList.size|0},an.prototype.clearParticlePool=function(){var e;for(e=this.particlePool.iterator();e.hasNext();){var t=e.next().sprite;null!=t&&t.removeFromParent()}this.particlePool.clear()},an.prototype.pause=function(){this.paused=!0},an.prototype.resume=function(){this.paused=!1},an.prototype.SetTimeScale_mx4ult$=function(e){this.timeScale=e},an.prototype.GetTotalParticleCount=function(){return this.objList.size+this.particlePool.size|0},an.prototype.GetCurrentParticleCount=function(){return this.objList.size},an.prototype.addObject_293dsg$=function(e,t){void 0===t&&(t=!1),this.objList.add_11rb$(e)},an.prototype.removeObject_xovnep$=function(e){e.timeToLive=0},an.prototype.GetObjectList=function(){return this.objList},an.prototype.SetGravity_mx4ult$=function(e){this.gravity=e},an.prototype.updateObject_mx4ult$=function(e){var t;null!=(t=this.camera)&&t.update_mx4ult$(e),!1===this.paused&&this.updateObject_38oe80$(this.objList,e*this.timeScale)},an.prototype.updateObject_38oe80$=function(e,t){for(var i,r,o,n,a=.5*t*t,s=e.size-1|0;0<=s;){var l=e.get_za3lpa$(s);if(l.update_mx4ult$(t),0<=l.timeToLive&&l.age>l.timeToLive){null!=(i=l.willBeDestroyed)&&i(l,Je(this.camera),0);var u=Ke.isType(r=l,wo)?r:null;null!=u?u.destroy():l.destroy(),e.removeAt_za3lpa$(s),s=s-1|0}else if(null==l.willBeDestroyed||!0!==(null!=(o=l.willBeDestroyed)?o(l,Je(this.camera),t):null)){if(l.prevPosition.x=l.position.x,l.prevPosition.y=l.position.y,l.prevPosition.z=l.position.z,0<l.accelRetain.x&&(l.accelRetain.x=l.accelRetain.x-t,l.accelRetain.x<=0&&(l.accelRetain.x=0,l.accel.x=0)),0<l.accelRetain.y&&(l.accelRetain.y=l.accelRetain.y-t,l.accelRetain.y<=0&&(l.accelRetain.y=0,l.accel.y=0)),0<l.accelRetain.z&&(l.accelRetain.z=l.accelRetain.z-t,l.accelRetain.z<=0&&(l.accelRetain.z=0,l.accel.z=0)),0===l.accel.x&&0!==l.movement.x){var h=l.movement.x,c=l.movement.x,d=h/Yt.abs(c),p=l.movement.x,f=Yt.abs(p)-l.drag.x*t;f<0&&(f=0),l.movement.x=d*f}if(0===l.accel.y&&0!==l.movement.y){var m=l.movement.y,v=l.movement.y,g=m/Yt.abs(v),_=l.movement.y,$=Yt.abs(_)-l.drag.y*t;$<0&&($=0),l.movement.y=g*$}if(0===l.accel.z&&0!==l.movement.z){var y=l.movement.z,b=l.movement.z,S=y/Yt.abs(b),k=l.movement.z,w=Yt.abs(k)-l.drag.z*t;w<0&&(w=0),l.movement.z=S*w}l.position.x=l.position.x+(l.movement.x*t+l.accel.x*a),l.movement.x=l.movement.x+l.accel.x*t,l.position.y=l.position.y+(l.movement.y*t+(l.accel.y+this.gravity)*a),l.movement.y=l.movement.y+(l.accel.y+this.gravity)*t,l.movement.length2D()>l.movementMax&&l.movement.SetLength2D_mx4ult$(l.movementMax),l.position.z=l.position.z+(l.movement.z*t+l.accel.z*a),l.movement.z=l.movement.z+l.accel.z*t,l.rotateLocalX_mx4ult$(t*l.rotation.x),l.rotateLocalY_mx4ult$(t*l.rotation.y),l.rotateLocalZ_mx4ult$(t*l.rotation.z),s=s-1|0}else{var x=Ke.isType(n=l,wo)?n:null;null!=x?x.destroy():l.destroy(),e.removeAt_za3lpa$(s),s=s-1|0}}},an.prototype.projection_1s1xds$=function(e,t,i,r){var o;void 0===t&&(t=Ai()),void 0===i&&(i=!0),void 0===r&&(r=!0),null!=(o=this.camera)&&o.prepare(),this.projection_xjshzw$(this.objList,e,t,i,r)},an.prototype.vectorCross_g3jz9k$=function(e,t){var i=Ai();return i.x=e.y*t.z-e.z*t.y,i.y=e.z*t.x-e.x*t.z,i.z=e.x*t.y-e.y*t.x,i},an.prototype.vectorMinus_g3jz9k$=function(e,t){var i=Ai();return i.x=e.x-t.x,i.y=e.y-t.y,i.z=e.z-t.z,i},an.prototype.planeFromPoints_tnhs7q$=function(e,t,i){var r=this.vectorMinus_g3jz9k$(t,e),o=this.vectorMinus_g3jz9k$(i,e),n=this.vectorCross_g3jz9k$(r,o),a=-(n.x*e.x+n.y*e.y+n.z*e.z);return Ni(n.x,n.y,n.z,a)},an.prototype.projection_xjshzw$=function(e,t,i,r,o){var n,a,s,l,u,h,c,d,p,f,m,v,g,_,$,y,b,S=this.camera;if(null!=S)for(var k=0;k<e.size;){var w=e.get_za3lpa$(k);if(null!=S&&S.convertToLocal_xovnep$(w),!Ke.isType(w,rn)){var x=w.distance_jfpljn$(S,S.projection);x<S.focalLength+S.nearFog?w.SetSubAlpha_mx4ult$((x-S.focalLength)/S.nearFog):x>S.farMost-S.farFog?w.SetSubAlpha_mx4ult$((S.farMost-x)/S.farFog):w.SetSubAlpha_mx4ult$(1)}if(w.convertPosition.z>S.focalLength&&w.convertPosition.z<S.farMost||w.convertPosition.z>S.focalLength&&Ke.isType(w,rn)){var C=Ke.isType(n=w,wo)?n:null;if(null!=C)if(S.convertToScreen_yjiq68$(w,this.screen.size,r),null!=(a=C.sprite)&&a.SetPosition_dleff0$(w.screenPosition.x+i.x,w.screenPosition.y+i.y),!0===C.fixScreenZ?null!=(s=C.sprite)&&s.SetZPosition_8ca0d4$(C.screenZ):null!=(l=C.sprite)&&l.SetZPosition_8ca0d4$(-w.convertPosition.z+i.z),null!=(u=C.sprite)&&u.SetRotation_mx4ult$(w.direction.z*(te.PI/180)),Ke.isType(w,rn))null!=(h=C.sprite)&&h.SetSize_dleff0$(w.size,w.size);else{var z=w.screenSize.width,T=w.direction.x,G=Yt.cos(T),A=z*Yt.abs(G),I=w.screenSize.height,N=w.direction.y,M=Yt.cos(N),O=I*Yt.abs(M);null!=(c=C.sprite)&&c.SetSize_dleff0$(A,O)}var R=Ke.isType(d=w,on)?d:null;if(null!=R){var j=!1,P=Le();p=R.GetVertexCount()-1|0;for(var B=0;B<=p;B++)if(R.convertedVertex.get_za3lpa$(B).z>S.focalLength&&R.convertedVertex.get_za3lpa$(B).z<S.farMost){var E=S.convertToScreen_l3vh3t$(R.convertedVertex.get_za3lpa$(B),this.screen.size,r);P.add_11rb$(E),null!=(f=R.GetSprite_za3lpa$(B))&&f.SetPosition_dleff0$(E.x+i.x,E.y+i.y),null!=(m=R.GetSprite_za3lpa$(B))&&m.SetZPosition_8ca0d4$(-E.z)}else j=!0;if(!1===j){if(!0===R.isLined){v=R.GetVertexCount()-1|0;for(var F=0;F<=v;F++){var L=P.get_za3lpa$(F+1|0).x-P.get_za3lpa$(F).x,D=P.get_za3lpa$(F+1|0).y-P.get_za3lpa$(F).y,V=L*L+D*D,U=Yt.sqrt(V);null!=(g=R.GetSprite_za3lpa$(F))&&g.SetSize_dleff0$(U,1);var q=-D,H=Yt.atan2(q,L);null!=(_=R.GetSprite_za3lpa$(F))&&_.SetRotation_mx4ult$(H)}var W=R.GetVertexCount()-1|0;if(!0===R.isClosed){var Y=R.GetVertexCount()-1|0,X=P.get_za3lpa$(0).x-P.get_za3lpa$(Y).x,K=P.get_za3lpa$(0).y-P.get_za3lpa$(Y).y,Z=X*X+K*K,Q=Yt.sqrt(Z);null!=($=R.GetSprite_za3lpa$(Y))&&$.SetSize_dleff0$(Q,1);var J=-K,ee=Yt.atan2(J,X);null!=(y=R.GetSprite_za3lpa$(Y))&&y.SetRotation_mx4ult$(ee)}else null!=(b=R.GetSprite_za3lpa$(W))&&b.SetSize_dleff0$(0,0)}}else R.SetSubAlpha_mx4ult$(0)}}else w.SetSubAlpha_mx4ult$(0);k=k+1|0}},an.prototype.GetParticle_dqye30$=function(e,t){if(void 0===e&&(e=!1),!0===e||this.GetTotalParticleCount()<this.maxParticle){var i=new wo;return this.GetTotalParticleCount()>=this.maxParticle?this.addObject_293dsg$(i,!1):this.addObject_293dsg$(i,t),i}return null},an.prototype.createParticle_t3d6nt$=function(e,t,i,r,o,n,a,s,l,u,h,c,d,p,f,m,v,g){var _;void 0===e&&(e=0),void 0===t&&(t=0),void 0===i&&(i=0),void 0===r&&(r=0),void 0===o&&(o=0),void 0===n&&(n=0),void 0===a&&(a=0),void 0===s&&(s=0),void 0===l&&(l=0),void 0===u&&(u=1),void 0===h&&(h=-1),void 0===d&&(d=!1),void 0===p&&(p=!1),void 0===f&&(f=!1),void 0===m&&(m=0),void 0===v&&(v=null),void 0===g&&(g=null);var $=this.GetParticle_dqye30$(d,p);if(null!=$){$.position.x=e,$.position.y=t,$.position.z=i,$.movement.x=r,$.movement.y=o,$.movement.z=n,$.rotation.x=a,$.rotation.y=s,$.rotation.z=l,$.size=u,$.fixScreenZ=f,$.screenZ=m,$.timeToLive=h,$.poolable=p;var y=la(e,t,i,c);y.SetVerticalAlign_qn2em6$(ro()),y.SetHorizontalAlign_jdpdm8$(lo());var b=v;return null==b&&(b=this.spriteParent),Je(b).addChild_g5h3xp$(y),null!=$.sprite&&(null!=(_=$.sprite)&&_.removeFromParent(),$.sprite=null),$.sprite=y,$.SetOriginalAlpha_mx4ult$(0),($.willBeDestroyed=null)!=g&&($.willBeDestroyed=g),$}return null},an.prototype.createParticle_eg0pll$=function(e,t,i,r,o,n,a,s,l,u,h,c,d,p,f,m,v){var g;void 0===e&&(e=0),void 0===t&&(t=0),void 0===i&&(i=0),void 0===r&&(r=0),void 0===o&&(o=0),void 0===n&&(n=0),void 0===a&&(a=0),void 0===s&&(s=0),void 0===l&&(l=0),void 0===u&&(u=1),void 0===h&&(h=-1),void 0===d&&(d=!1),void 0===p&&(p=!1),void 0===f&&(f=!1),void 0===m&&(m=0),void 0===v&&(v=null);var _=this.GetParticle_dqye30$(d,p);return null!=_?(_.position.x=e,_.position.y=t,_.position.z=i,_.movement.x=r,_.movement.y=o,_.movement.z=n,_.rotation.x=a,_.rotation.y=s,_.rotation.z=l,_.size=u,_.fixScreenZ=f,_.screenZ=m,_.timeToLive=h,_.poolable=!1,null!=_.sprite&&null!=(g=_.sprite)&&g.removeFromParent(),_.sprite=c,_.SetOriginalAlpha_mx4ult$(0),(_.willBeDestroyed=null)!=v&&(_.willBeDestroyed=v),_):null},an.prototype.createBackground_sabvgg$=function(e,t,i,r,o,n,a,s,l,u,h,c,d,p){void 0===e&&(e=0),void 0===t&&(t=0),void 0===i&&(i=0),void 0===r&&(r=0),void 0===o&&(o=0),void 0===n&&(n=0),void 0===a&&(a=0),void 0===s&&(s=0),void 0===l&&(l=0),void 0===u&&(u=1),void 0===h&&(h=-1),void 0===d&&(d=!1),void 0===p&&(p=null);var f=new rn;return f.position.x=e,f.position.y=t,f.position.z=i,f.movement.x=r,f.movement.y=o,f.movement.z=n,f.rotation.x=a,f.rotation.y=s,f.rotation.z=l,f.size=u,f.timeToLive=h,f.poolable=!1,f.sprite=c,null!=p&&(f.willBeDestroyed=p),this.addObject_293dsg$(f,!1),f},an.prototype.createPolygon_r7vjov$=function(e,t,i,r,o,n){return void 0===n&&(n=!0),this.createPolygon_yfyqk0$(e,S([t,i,r]),o,n)},an.prototype.createPolygon_yfyqk0$=function(e,t,i,r){var o,n;void 0===r&&(r=!0);var a=Le();for(o=t.iterator();o.hasNext();){o.next();var s=la(0,0,0,i);s.SetAlpha_8ca0d4$(0),s.SetVerticalAlign_qn2em6$(ro()),s.SetHorizontalAlign_jdpdm8$(so()),null!=(n=this.spriteParent)&&n.addChild_g5h3xp$(s),a.add_11rb$(s)}var l=nn(t,a,r);return l.position=Gi().copy_qgvyiu$(e),this.objList.add_11rb$(l),l},an.prototype.createBackground_yde864$=function(e,t,i,r,o,n,a,s){var l;void 0===n&&(n=hi().white_mx4ult$()),void 0===a&&(a=0),void 0===s&&(s=null);var u=la(e,t,i,o);return u.SetVerticalAlign_qn2em6$(ro()),u.SetHorizontalAlign_jdpdm8$(lo()),u.SetColor_vnjrmz$(n),u.SetAlpha_8ca0d4$(1),u.SetBlendFactor_mx4ult$(1),0===a&&u.SetBlendMode_ieo8yr$(ei()),1===a&&u.SetBlendMode_ieo8yr$(ti()),null!=(l=this.spriteParent)&&l.addChild_g5h3xp$(u),this.createBackground_sabvgg$(e,t,i,void 0,void 0,void 0,void 0,void 0,void 0,r,void 0,u,void 0,s)},an.prototype.createStar_2a19qk$=function(e,t,i,r,o,n,a,s,l,u,h,c,d){void 0===n&&(n=hi().white_mx4ult$()),void 0===a&&(a=1),void 0===s&&(s=!1),void 0===l&&(l=!1),void 0===u&&(u=!1),void 0===h&&(h=0),void 0===c&&(c=null),void 0===d&&(d=null);var p=this.createParticle_t3d6nt$(e,t,i,void 0,void 0,void 0,void 0,void 0,void 0,r,void 0,o,s,l,u,h,c,d);if(null!=p){var f=p.GetSprite();return null!=f&&(f.SetColor_vnjrmz$(n),f.SetAlpha_8ca0d4$(0),f.SetBlendFactor_mx4ult$(1),0===a&&f.SetBlendMode_ieo8yr$(ei()),1===a&&f.SetBlendMode_ieo8yr$(ti())),p.SetOriginalAlpha_mx4ult$(1),p}return null},an.prototype.createPaper_k1bx6r$=function(e,t,i,r,o,n,a,s,l,u,h){void 0===i&&(i=100),void 0===a&&(a=hi().white_mx4ult$()),void 0===s&&(s=!1),void 0===l&&(l=!1),void 0===u&&(u=0),void 0===h&&(h=null);var c=this.createParticle_t3d6nt$(e,t,i,void 0,void 0,void 0,void 0,void 0,void 0,o,void 0,n,void 0,s,l,u,void 0,h);if(null!=c){var d=c.GetSprite();return null!=d&&(d.SetColor_vnjrmz$(a),d.SetBlendFactor_mx4ult$(1)),c.rotation.z=go().arc4random_uniform_za3lpa$(10)-5,0===c.rotation.z&&(c.rotation.z=1),c.rotation.x=go().arc4random_uniform_za3lpa$(10)+10,c.rotation.x=c.rotation.x*(0===go().arc4random_uniform_za3lpa$(2)?1:-1),c.rotation.x=c.rotation.x/10,c.rotation.y=0,(c.movement.y=0)<c.position.x&&(c.movement.x=-1*c.movement.x),c.accel.x=r.x,c.accel.y=r.y,c}return null},an.prototype.createExplosion_3jyyep$=function(e,t,i,r,o,n,a,s,l,u,h){var c;void 0===a&&(a=hi().white_mx4ult$()),void 0===u&&(u=!1),void 0===h&&(h=0);var d=go().arc4random_uniform_za3lpa$(360),p=360/i;c=i-1|0;for(var f=0;f<=c;f++){var m=Ai(t,0,0);m.rotateZ_mx4ult$(d+f*p);var v=this.createStar_2a19qk$(e.x+m.x,e.y+m.y,e.z,r,n,a,void 0,void 0,!0,u,h);if(null!=v){v.timeToLive=o+go().arc4random_uniform_za3lpa$(3)/10,v.SetOriginalAlpha_mx4ult$(1),m.normalize();var g=l.x-s.x,_=et(Yt.abs(g));v.movement.x=m.normalX*(go().arc4random_uniform_za3lpa$(_)+s.x);var $=l.y-s.y,y=et(Yt.abs($));v.movement.y=m.normalY*(go().arc4random_uniform_za3lpa$(y)+s.y);var b=l.z-s.z,S=et(Yt.abs(b));l.z<s.z?v.movement.z=(-1*go().arc4random_uniform_za3lpa$(S)|0)+s.z:v.movement.z=go().arc4random_uniform_za3lpa$(S)+s.z,v.rotation.z=(go().arc4random_uniform_za3lpa$(20)-10)/10,v.keepDirection=!0,v.SetCallback_lnidq9$(sn(v))}}},an.prototype.createFairy_hcj0m5$=function(e,t,i,r,o,n,a,s,l,u,h,c,d,p){var f;void 0===a&&(a=hi().white_mx4ult$()),void 0===u&&(u=w.POSITIVE_INFINITY),void 0===h&&(h=!1),void 0===c&&(c=!1),void 0===d&&(d=0),void 0===p&&(p=null),f=i-1|0;for(var m=0;m<=f;m++){var v=Ai(t,0,0);v.rotateZ_mx4ult$(go().arc4random_uniform_za3lpa$(360));var g=this.createStar_2a19qk$(e.x+v.x,e.y+v.y,e.z,r,n,a,void 0,void 0,!0,c,d,p);if(null!=g){g.timeToLive=o+go().arc4random_uniform_za3lpa$(5)/10,g.SetOriginalAlpha_mx4ult$(a.a),v.normalize();var _=l.x-s.x,$=et(Yt.abs(_));g.movement.x=v.normalX*(go().arc4random_uniform_za3lpa$($)+s.x);var y=l.y-s.y,b=et(Yt.abs(y));g.movement.y=v.normalY*(go().arc4random_uniform_za3lpa$(b)+s.y),g.movementMax=u;var S=l.z-s.z,k=et(Yt.abs(S));l.z<s.z?g.movement.z=(-1*go().arc4random_uniform_za3lpa$(k)|0)+s.z:g.movement.z=go().arc4random_uniform_za3lpa$(k)+s.z,g.rotation.z=(go().arc4random_uniform_za3lpa$(20)-10|0)/10,g.keepDirection=!0,g.SetCallback_lnidq9$(ln(g,a,h))}}},an.prototype.createFairy2_emwd81$=function(e,t,i,r,o,n,a,s,l,u,h,c,d){void 0===n&&(n=hi().white_mx4ult$()),void 0===l&&(l=w.POSITIVE_INFINITY),void 0===u&&(u=!1),void 0===h&&(h=!1),void 0===c&&(c=0),void 0===d&&(d=null);var p=Ai(t,0,0);p.rotateZ_mx4ult$(go().arc4random_uniform_za3lpa$(360));var f,m,v,g=this.createStar_2a19qk$(e.x,e.y,e.z,i,o,n,void 0,void 0,!0,h,c,d);if(null!=g){g.timeToLive=r+go().arc4random_uniform_za3lpa$(5)/10,g.SetOriginalAlpha_mx4ult$(n.a),p.normalize();var _=s.x-a.x,$=et(Yt.abs(_));g.movement.x=p.normalX*(go().arc4random_uniform_za3lpa$($)+a.x);var y=s.y-a.y,b=et(Yt.abs(y));g.movement.y=p.normalY*(go().arc4random_uniform_za3lpa$(b)+a.y),g.movementMax=l;var S=s.z-a.z,k=et(Yt.abs(S));return s.z<a.z?g.movement.z=(-1*go().arc4random_uniform_za3lpa$(k)|0)+a.z:g.movement.z=go().arc4random_uniform_za3lpa$(k)+a.z,g.SetCallback_lnidq9$((f=g,m=n,v=u,function(e,t,i){e.age<.5?f.SetOriginalAlpha_mx4ult$(m.a*(2*e.age)):e.age>e.timeToLive-1?f.SetOriginalAlpha_mx4ult$(m.a-(e.age-(e.timeToLive-1))):!0===v&&(0===f.GetOriginalAlpha()?go().arc4random_uniform_za3lpa$(100)<50&&f.SetOriginalAlpha_mx4ult$(m.a):go().arc4random_uniform_za3lpa$(200)<5&&f.SetOriginalAlpha_mx4ult$(0));var r=go().arc4random_uniform_za3lpa$(300);return r<60&&f.movement.rotateZ_mx4ult$(r-30|0),!1})),g}return null},an.prototype.createHoming_nxmntm$=function(e,t,i,r,o,n,a,s,l,u,h,c,d){var p;void 0===s&&(s=hi().white_mx4ult$()),void 0===h&&(h=!1),void 0===c&&(c=0),void 0===d&&(d=!1),p=r-1|0;for(var f=0;f<=p;f++){var m=Ai(i,0,0);m.rotateZ_mx4ult$(go().arc4random_uniform_za3lpa$(360));var v=this.createStar_2a19qk$(t.x,t.y,t.z,o,a,s,1,d,!0,h,c);if(null!=v){v.timeToLive=n,v.SetOriginalAlpha_mx4ult$(1),m.normalize();var g=u.x-l.x,_=et(Yt.abs(g));v.movement.x=m.normalX*(go().arc4random_uniform_za3lpa$(_)+l.x)*4;var $=u.y-l.y,y=et(Yt.abs($));v.movement.y=m.normalY*(go().arc4random_uniform_za3lpa$(y)+l.y)*4;var b=u.z-l.z,S=et(Yt.abs(b));u.z<l.z?v.movement.z=(-1*go().arc4random_uniform_za3lpa$(S)|0)+l.z:v.movement.z=go().arc4random_uniform_za3lpa$(S)+l.z,v.accel.x=3*v.movement.x,v.accel.y=3*v.movement.y,v.accel.z=0,v.rotation.z=(go().arc4random_uniform_za3lpa$(20)-10|0)/10;v.keepDirection=!0;var k={v:xi(v.position,e).angleBetween_qgvyiu$(v.movement)};180<k.v&&(k.v-=360),k.v<-180&&(k.v+=360),k.v=k.v/.3,v.SetCallback_lnidq9$(un(v,e,{v:!1},k))}}},an.prototype.createHoming2_nxmntm$=function(e,t,i,r,o,n,a,s,l,u,h,c,d){var p;void 0===s&&(s=hi().white_mx4ult$()),void 0===h&&(h=!1),void 0===c&&(c=0),void 0===d&&(d=!1),p=r-1|0;for(var f=0;f<=p;f++){var m=Ai(i,0,0);m.rotateZ_mx4ult$(go().arc4random_uniform_za3lpa$(360));var v=this.createStar_2a19qk$(t.x,t.y,t.z,o,a,s,1,d,!0,h,c);if(null!=v){v.timeToLive=n,v.SetOriginalAlpha_mx4ult$(1),m.normalize();var g=u.x-l.x,_=et(Yt.abs(g));v.movement.x=m.normalX*(go().arc4random_uniform_za3lpa$(_)+l.x)*4,v.accel.x=10*v.movement.x;var $=u.y-l.y,y=et(Yt.abs($));v.movement.y=m.normalY*(go().arc4random_uniform_za3lpa$(y)+l.y)*4,v.accel.y=10*v.movement.y;var b=u.z-l.z,S=et(Yt.abs(b));u.z<l.z?v.movement.z=(-1*go().arc4random_uniform_za3lpa$(S)|0)+l.z:v.movement.z=go().arc4random_uniform_za3lpa$(S)+l.z,v.rotation.z=(go().arc4random_uniform_za3lpa$(20)-10|0)/10;v.keepDirection=!0;v.SetCallback_lnidq9$(hn(v,{v:!1},e))}}},an.$metadata$={kind:o,simpleName:"ParticleManager",interfaces:[]},dn.prototype.reset_y2kzbl$=function(e,t,i){void 0===e&&(e=0),void 0===t&&(t=0),void 0===i&&(i=0),this.initialSpeed=e,this.initialAccel=t,this.initialPosition=i,this.speed=this.initialSpeed,this.accel=this.initialAccel,this.position=this.initialPosition,this.speedDelta=0,this.accelDelta=0,this.positionDelta=0,this.time=0,this.timeMultiplier=1,this.flip=!1,this.peakRetain=0,this.peakHeight=0,this.targetTime=0,this.reentryTime=0},dn.prototype.SetTarget_nfvrp9$=function(e,t,i,r,o){void 0===i&&(i=0),void 0===r&&(r=!1),void 0===o&&(o=0);var n=2*t*(e-this.initialPosition),a=Yt.abs(n),s=Yt.sqrt(a);if(t<0){var l=s;s=Yt.abs(l)}if(0<t){var u=s;s=-1*Yt.abs(u)}this.initialSpeed=s,this.initialAccel=t,this.speed=this.initialSpeed,this.accel=this.initialAccel;var h=-1*s/t;0!==i&&(this.timeMultiplier=h/i),this.peakHeight=e,this.flip=r,this.peakRetain=o,this.targetTime=i*this.timeMultiplier},dn.prototype.SetScale_mx4ult$=function(e){void 0===e&&(e=1),this.scale=e},dn.prototype.SetTimeMultiplier_mx4ult$=function(e){void 0===e&&(e=1),this.timeMultiplier=e},dn.prototype.update_mx4ult$=function(e){var t=e*this.timeMultiplier;if(this.time=this.time+t,this.time<this.reentryTime||-1===this.reentryTime)return this.positionDelta=0,this.GetPosition();var i=this.speed,r=this.position;if(this.speed=this.speed+this.accel*t,this.speedDelta=this.speed-i,0!==this.targetTime&&this.time>=this.targetTime){var o=!1;if(!0===this.flip&&(this.accel=-1*this.accel,this.speed=0,this.speedDelta=this.speed-i,this.position=this.peakHeight,this.positionDelta=this.position-r,this.flip=!1,o=!(this.targetTime=0)),0!==this.peakRetain&&(this.speedDelta=0-i,this.position=this.peakHeight,this.positionDelta=this.peakHeight-r,-1===this.peakRetain?(this.reentryTime=-1,this.finish=!0):this.reentryTime=this.time+this.peakRetain*this.timeMultiplier,o=!0),!0===o)return this.GetPosition()}return this.position=r+i*t+this.accel*t*t*.5,this.positionDelta=this.position-r,this.GetPosition()},dn.prototype.GetSpeed=function(){return this.speed},dn.prototype.GetAccel=function(){return this.accel},dn.prototype.GetPosition=function(){return this.position*this.scale},dn.prototype.GetInitialSpeed=function(){return this.initialSpeed},dn.prototype.GetInitialAccel=function(){return this.initialAccel},dn.prototype.GetInitialPosition=function(){return this.initialPosition},dn.prototype.GetSpeedDelta=function(){return this.speedDelta},dn.prototype.GetAccelDelta=function(){return this.accelDelta},dn.prototype.GetPositionDelta=function(){return this.positionDelta*this.scale},dn.prototype.isFinish=function(){return this.finish},dn.$metadata$={kind:o,simpleName:"Motion",interfaces:[]},pn.prototype.SetTargetBounce_za3lpa$=function(e){this.targetBounce=e},pn.prototype.update_mx4ult$=function(e){-1!==this.targetBounce&&this.bounceCount>=this.targetBounce&&(this.finish=!0);var t=e*this.timeMultiplier;this.time=this.time+t;var i=this.speed;this.speed=this.initialSpeed+this.accel*this.time;var r=this.position;if(this.position=this.initialPosition+this.initialSpeed*this.time+this.accel*this.time*this.time*.5,this.position<=this.baseline&&this.baseline<r||r<this.baseline&&this.baseline<=this.position){var o=this.terminalVelocity,n=t-(o-i)/this.accel;n<0&&(n=0),this.initialSpeed=-o*this.reflection,this.initialPosition=this.baseline,this.time=n,this.terminalVelocity=-this.initialSpeed,this.speed=this.initialSpeed+this.accel*this.time,this.position=this.initialPosition+this.initialSpeed*this.time+this.accel*this.time*this.time*.5,0<this.accel&&this.position>=this.baseline&&(this.position=this.baseline,this.initialSpeed=0,this.initialPosition=this.baseline,this.accel=0,this.speed=0),this.accel<0&&this.position<=this.baseline&&(this.position=this.baseline,this.initialSpeed=0,this.initialPosition=this.baseline,this.accel=0,this.speed=0),this.bounceCount=this.bounceCount+1|0}return this.speedDelta=this.speed-i,this.positionDelta=this.position-r,this.GetPosition()},pn.prototype.GetBounceCount=function(){return this.bounceCount},pn.$metadata$={kind:o,simpleName:"Bounce",interfaces:[dn]},mn.prototype.update_mx4ult$=function(e){var t=e*this.timeMultiplier;this.time=this.time+t,this.speedDelta=this.speed,this.speed=this.initialSpeed+this.accel*this.time,this.speed<0&&(this.speed=0),this.speedDelta=this.speed-this.speedDelta,this.amplitude=this.amplitude+this.ampAccel*t,this.amplitude<0&&(this.amplitude=0),this.thetaAccum=this.initialPosition+this.initialSpeed*this.time+this.accel*this.time*this.time*.5,this.theta=this.thetaAccum*(2*te.PI),this.theta=this.theta%(2*te.PI);var i=this.position,r=this.theta;return this.position=(Yt.sin(r)+this.adjust)*this.amplitude,this.positionDelta=this.position-i,this.initialPosition+this.GetPosition()},mn.prototype.updateNew_mx4ult$=function(e){var t=e*this.timeMultiplier;this.time=this.time+t,this.speedDelta=this.speed,this.speed=this.speed+this.accel*t,this.speed<0&&(this.speed=0),this.speedDelta=this.speed-this.speedDelta,this.amplitude=this.amplitude+this.ampAccel*t,this.amplitude<0&&(this.amplitude=0);var i=this.speed*t+this.accel*t*t*.5;this.theta=this.theta+i*(2*te.PI),this.theta=this.theta%(2*te.PI),this.positionDelta=this.position;var r=this.theta;return this.position=(Yt.sin(r)+this.adjust)*this.amplitude,this.positionDelta=this.position-this.positionDelta,this.GetPosition()},mn.prototype.SetAmplitude_mx4ult$=function(e){this.amplitude=e},mn.prototype.GetTheta=function(){return this.theta},mn.prototype.GetDegree=function(){return this.theta*(180/te.PI)},mn.prototype.GetAccumulateDegree=function(){return 360*this.thetaAccum},mn.$metadata$={kind:o,simpleName:"Wave",interfaces:[dn]},_n.prototype.update_mx4ult$=function(e){var t=e*this.timeMultiplier;this.time=this.time+t,this.speedDelta=this.speed,this.speed=this.initialSpeed+this.accel*this.time,this.speedDelta=this.speed-this.speedDelta,this.positionDelta=this.position;var i=this.time*this.initialSpeed;return this.position=Yt.tanh(i),this.positionDelta=this.position-this.positionDelta,this.GetPosition()},_n.$metadata$={kind:o,simpleName:"HyperTan",interfaces:[dn]},yn.$metadata$={kind:o,simpleName:"SceneLayer",interfaces:[h]},yn.values=function(){return[Sn(),kn(),wn(),xn(),Cn(),zn(),Tn(),Gn(),An(),In(),Nn(),Mn(),On(),Rn(),jn(),Pn(),Bn(),En(),Fn(),Ln()]},yn.valueOf_61zpoe$=function(e){switch(e){case"spaceDeep":return Sn();case"backgroundBottom":return kn();case"background":return wn();case"backgroundTop":return xn();case"gameBoardBottom":return Cn();case"gameBoard":return zn();case"gameBoardTop":return Tn();case"gameTileBottom":return Gn();case"gameTile":return An();case"gameTileTop":return In();case"gameEffectBottom":return Nn();case"gameEffect":return Mn();case"gameEffectTop":return On();case"uiBottom":return Rn();case"ui":return jn();case"uiTop":return Pn();case"uiForemost":return Bn();case"uiModalMask":return En();case"uiModal":return Fn();case"parent":return Ln();default:c("No enum constant com.blindcatstudio.phantom.graphic.SceneLayer."+e)}},Dn.$metadata$={kind:o,simpleName:"WindowProperty",interfaces:[h]},Dn.values=function(){return[Un(),qn(),Hn(),Wn(),Yn(),Xn(),Kn(),Zn()]},Dn.valueOf_61zpoe$=function(e){switch(e){case"None":return Un();case"CloseButton":return qn();case"OkButton":return Hn();case"CancelButton":return Wn();case"Sizable":return Yn();case"Movable":return Xn();case"Modal":return Kn();case"Tab":return Zn();default:c("No enum constant com.blindcatstudio.phantom.graphic.WindowProperty."+e)}},Qn.prototype.afterAttached=function(){var e=la(0,0,En().value,"Resource/UI/Background",this.GetSize().width,this.GetSize().height);e.SetName_61zpoe$("Fade Mask"),e.SetBlendFactor_mx4ult$(1),e.SetAlpha_8ca0d4$(0),e.SetShow_6taknv$(!0),this.addChild_g5h3xp$(e),1===Km().GetInteger_rjan26$("Draw FPS",void 0,0)&&(this.debug=Yr(.5*this.size.width,5,Fn().value,""),Je(this.debug).SetHorizontalAlign_jdpdm8$(lo()),Je(this.debug).SetVerticalAlign_qn2em6$(io()),Je(this.debug).SetShow_6taknv$(!0),Je(this.debug).SetSize_dleff0$(-1,.02*this.size.height),this.addChild_g5h3xp$(Je(this.debug))),ho.prototype.afterAttached.call(this)},Qn.prototype.freeAdditionalResource=function(){var e;null!=(e=this.mask)&&e.removeFromParent(),this.mask=null,this.currentFocus=null,this.touchListener.clear()},Qn.prototype.removeFromParent=function(){ho.prototype.removeFromParent.call(this)};var Jn,ea,ta=Ke.kotlin.Exception;function ia(t,i,r,o){return function(){var e;return null!=t.view&&(Je(t.view).SetShow_6taknv$(!1),Je(t.view).SetTimeToLive_mx4ult$(0),t.prevViewName=Je(t.view).GetName()),i.screen=t,i.positionScale=fr().copy_3fer1j$(t.positionScale),i.sizeScale=fr().copy_3fer1j$(t.sizeScale),i.SetSize_dleff0$(t.size.width,t.size.height),Ie().shared().clearInputQueue(),Ie().shared().SetInputMode_za3lpa$(0),Ie().shared().SetInputPending_6taknv$(!1),t.view=i,t.addChild_g5h3xp$(i),t.addConsole(),t.actionFadeOut_7vo5wp$(r,void 0,void 0,o,void 0,void 0,void 0,(e=t,function(){return e.viewChanging=!1,Ze})),Ze}}function ra(){return Ze}function oa(i,r,o,n,a,s,l,u,h){return function(e){return 0===e.elapsed?(!0===i?r.SetMasterAlpha_mx4ult$(o):r.SetAlpha_8ca0d4$(o,n),a.actionDelay_ab0iom$(0,s.v,(t=l,function(){return null!=t&&t(),Ze})),!1):(!0===i?r.SetMasterAlpha_mx4ult$(u+e.age*((o-u)/h)):r.SetAlpha_8ca0d4$(u+e.age*((o-u)/h),n),!0);var t}}function na(i,r,o,n,a,s,l,u){return function(e){return 0===e.elapsed?(!0===i?r.SetMasterAlpha_mx4ult$(0):r.SetAlpha_8ca0d4$(0,o),n.actionDelay_ab0iom$(0,a.v,(t=s,function(){return null!=t&&t(),Ze})),!1):(!0===i?r.SetMasterAlpha_mx4ult$(l-e.age*u):r.SetAlpha_8ca0d4$(l-e.age*u,o),!0);var t}}function aa(e,t){return co(void 0,void 0,void 0,t=t||Object.create(Qn.prototype)),Qn.call(t),t.previousPos=Ai(),t.speed=Ai(),t.fontColor=di(),t.testColor=di(),t.SetName_61zpoe$("Screen"),t.addObject_s8jyv4$(e),t.SetSize_dleff0$(e.GetSize().width,e.GetSize().height),t.positionScale=new Vi(320,480,void 0,void 0,t.GetSize().width,t.GetSize().height),t.sizeScale=new Vi(320,480,void 0,void 0,t.GetSize().width,t.GetSize().height),t}function sa(){this.image=null,this.animation=null,this.centerRect=null}function la(e,t,i,r,o,n,a){var s;void 0===i&&(i=0),void 0===r&&(r=null),void 0===o&&(o=-1),void 0===n&&(n=-1),fo(e,t,i,a=a||Object.create(sa.prototype)),sa.call(a);var l=o,u=n;if(null!=r&&(a.name=r),null!=r)a.SetImage_9xt0da$(r,l,u);else{(l<0||u<0)&&(u=l=0);var h=Ie().shared().createGuestSprite();h.SetAnchorPoint_qgvyiu$(Ai(.5,.5)),a.addObject_s8jyv4$(Ke.isType(s=h,b)?s:Ee())}return a.SetColor_sczwbf$(1,1,1,1),a.SetSize_dleff0$(l,u),a.SetOriginalSize_dleff0$(a.GetSize().width,a.GetSize().height),a}function ua(e,t){h.call(this),this.name$=e,this.ordinal$=t}function ha(){ha=function(){},Jn=new ua("on",0),ea=new ua("off",1)}function ca(){return ha(),Jn}function da(){return ha(),ea}function pa(){this.isOn=ca()}function fa(e,t,i,r,o,n,a,s,l){return void 0===i&&(i=0),void 0===r&&(r=null),void 0===o&&(o=""),void 0===n&&(n="Main/"),void 0===a&&(a=hi().white_mx4ult$()),void 0===s&&(s=24),Zt(e,t,i,r,o,n,a,s,l=l||Object.create(pa.prototype)),pa.call(l),l}function ma(){this.fontNameDefault="",this.fontName="",this.fontSize=10,this.fontScale=1,this.defaultFontColor=null,this.fontColor=null,this.fontSpace=.1,this.whiteSpace=.5,this.lineGap=10,this.lineMax=30,this.heightAdjust=1,this.characterPerLine=20,this.wrapType=0,this.lineCount=0,this.lineOffset=0,this.textHeight=0,this.fontHeight=0,this.periodCharacterHeight=0,this.characterCount=0,this.currentContainer=null,this.textVerticalAlign=io(),this.textHorizontalAlign=so(),this.labelType=0,this.buttonCount=0,this.fadeMode=0}Qn.prototype.update_mx4ult$=function(e){if(ho.prototype.update_mx4ult$.call(this,e),this.count=this.count+1|0,this.accum+=e,1<this.accum){var t,i=1/(this.accum/this.count);e:do{if(null==i){t=0;break e}if(Ke.isNumber(i)){t=et(i);break e}if("string"==typeof i)try{t=tt(i);break e}catch(e){if(Ke.isType(e,ta)){t=0;break e}throw e}t=0}while(0);this.fps=t,this.count=0,this.accum=0;var r=this.fps.toString()+" FPS, Node : "+Ie().shared().nodeUpdateCounter.toString();null!=this.debug&&(Je(this.debug).SetText_61zpoe$(r),Je(this.debug).SetSize_dleff0$(-1,.02*this.size.height))}},Qn.prototype.moveToBackground=function(){var e;null!=(e=this.view)&&e.moveToBackground()},Qn.prototype.resume=function(){var e;null!=(e=this.view)&&e.resume()},Qn.prototype.printLog_61zpoe$=function(e){var t;!1!==this.logging&&null!=(t=this.textArea)&&t.addText_r4v59z$(e+"\n")},Qn.prototype.clearLog=function(){var e;!1!==this.logging&&null!=(e=this.textArea)&&e.clearText_gam257$()},Qn.prototype.presentView_xl35ob$=function(e,t){var i;if(void 0===t&&(t=.3),!0!==this.viewChanging){this.viewChanging=!0,this.resetModal(),this.removeTouchListenerAll();var r=Ke.isType(i=this.findChildByName_3m52m6$("Fade Mask"),sa)?i:null;null!=r&&this.actionFadeIn_hkbjms$(r,void 0,void 0,void 0,t,void 0,void 0,void 0,ia(this,e,r,t))}},Qn.prototype.addConsole=function(){var l;if(!0===Ie().shared().GetDebug()&&this.addTouchListener_dal58m$(new Ct("For Console",0,0,this.GetSize().width,this.GetSize().height,void 0,(l=this,function(e,t,i,r,o){var n;if(he(r,It())){if(e.y<30){var a=l.findChildByName_3m52m6$("Console");null!=a&&(!1===a.GetShow()?a.SetShow_6taknv$(!0):a.SetShow_6taknv$(!1))}if(e.y>l.GetSize().height-30){var s=l.findChildByName_3m52m6$("Console");null!=s&&!0===s.GetShow()&&null!=(n=l.textArea)&&n.clearText_gam257$()}}}))),!0===Ie().shared().GetDebug()){this.logging=!0;var e=la(0,0,Bn().value,void 0,this.GetSize().width,this.GetSize().height);e.SetName_61zpoe$("Console"),e.SetBlendFactor_mx4ult$(1),e.SetColor_b53zri$(0,0,0,.9),e.SetShow_6taknv$(!1),this.addChild_g5h3xp$(e),this.textArea=_a(0,0,Bn().value,this.GetSize().width,this.GetSize().height,"Avenir-Book",12*Je(this.view).sizeScale.yRatio,void 0,void 0,1,et(this.GetSize().height/16),void 0,void 0,void 0,void 0,1),Je(this.textArea).SetName_61zpoe$("Console Text Area"),Je(this.textArea).SetShow_6taknv$(!0),Je(this.textArea).addText_r4v59z$("Welcome"),e.addChild_g5h3xp$(Je(this.textArea))}},Qn.prototype.GetCurrentView=function(){return this.view},Qn.prototype.GetMask=function(){return null==this.mask?this:Je(this.mask)},Qn.prototype.createMask_vl24u5$=function(e,t,i,r){void 0===r&&(r=0);var o=Kr(e,t,r,i);return this.addChild_g5h3xp$(o),this.mask=o},Qn.prototype.addTouchListener_dal58m$=function(e){this.touchListener.add_11rb$(e)},Qn.prototype.removeTouchListenerAll=function(){this.touchListener.clear(),this.removeAllKeydownListener(),this.removeScrollListener()},Qn.prototype.removeTouchListener_61zpoe$=function(e){var t;for(t=ge(ve(this.touchListener)).iterator();t.hasNext();){var i=t.next(),r=i.component1(),o=i.component2();he(o.name,e)&&this.touchListener.removeAt_za3lpa$(r)}},Qn.prototype.addScrollListener_d6xl6w$=function(e){this.scrollListener=e},Qn.prototype.removeScrollListener=function(){this.scrollListener=null},Qn.prototype.addKeydownListener_5ol7k9$=function(e,t){this.keydownListener.add_11rb$(new Fe(e,t))},Qn.prototype.removeKeydownListener_61zpoe$=function(e){for(var t=0,i=ge(this.keydownListener).iterator();i.hasNext();++t){var r=i.next();if(he(r.first,e)){this.keydownListener.removeAt_za3lpa$(t);break}}},Qn.prototype.removeAllKeydownListener=function(){this.keydownListener.clear()},Qn.prototype.SetSkipFindUI_6taknv$=function(e){this.skipFindUI=e},Qn.prototype.GetScreenRect=function(){var e,t=Ke.isType(e=this.GetObject(),$e)?e:null;return null!=t?new Fe(et(t.GetSize().width),et(t.GetSize().height)):new Fe(0,0)},Qn.prototype.addChild_g5h3xp$=function(e){var t,i,r;if(null==e.GetParent()){var o=Ke.isType(t=this.GetObject(),$e)?t:null;if(null!=o)for(i=e.GetObjectList().iterator();i.hasNext();){var n=i.next(),a=Ke.isType(r=n,_e)?r:null;null!=a&&o.addChild_jrj3jl$(a)}ho.prototype.addChild_g5h3xp$.call(this,e)}},Qn.prototype.SetModalColor_3nzkge$=function(e){var t;this.modalColor=hi().copy_3nzkge$(e);var i=null!=(t=this.view)?t.GetModalMask():null;null!=i&&i.SetColor_vnjrmz$(di(e.r,e.g,e.b,i.color.a))},Qn.prototype.SetModalAlpha_mx4ult$=function(e){void 0===e&&(e=.95),this.modalAlpha=e},Qn.prototype.pushModal_g5h3xp$=function(e){var t,i,r;for(t=this.modalList.iterator();t.hasNext();){if(t.next()===e)return this.modalList.size}this.modalList.add_11rb$(e);var o=this.modalList.size;if(e.SetZPosition_8ca0d4$(Fn().value+(2*o|0),!0),1===this.modalList.size){var n=null!=(i=this.view)?i.GetModalMask():null;null!=n&&this.actionFadeIn_hkbjms$(n,void 0,this.modalAlpha,void 0,.3,void 0,void 0,void 0,ra)}else{var a=null!=(r=this.view)?r.GetModalMask():null;null!=a&&a.SetZPosition_8ca0d4$(e.GetZPosition()-1)}return this.modalList.size},Qn.prototype.popModal_g5h3xp$=function(e){var t,i,r,o;if(!(0<this.modalList.size))return 0;var n=0;for(t=this.modalList.iterator();t.hasNext();){if(t.next()===e){this.modalList.removeAt_za3lpa$(n);break}n=n+1|0}var a,s=this.modalList.size;if(e.SetZPosition_8ca0d4$(Fn().value+(2*s|0),!0),0===this.modalList.size){var l=Ke.isType(i=this.findChildByName_3m52m6$("Modal Mask"),sa)?i:null;null!=l&&this.actionFadeOut_7vo5wp$(l,void 0,void 0,.3,void 0,void 0,void 0,(a=l,function(){return a.SetZPosition_8ca0d4$(En().value),Ze}))}else{var u=Ke.isType(r=this.findChildByName_3m52m6$("Modal Mask"),sa)?r:null;if(null!=u){var h=Ke.isType(o=k(this.modalList),ho)?o:null;null!=h&&u.SetZPosition_8ca0d4$(h.GetZPosition()-1)}}return this.modalList.size},Qn.prototype.resetModal=function(){var e;for(e=y($(this.modalList)).iterator();e.hasNext();){var t=e.next();this.modalList.removeAt_za3lpa$(t)}},Qn.prototype.GetTopModal=function(){return 0===this.modalList.size?null:k(this.modalList)},Qn.prototype.GetUIResponseNodeAtPointNew_dleff0$=function(e,t){var i,r,o=Ke.isType(i=this.GetObject(),$e)?i:null,n=Ie().shared().convertCoordinate_dleff0$(e,t);for(r=Je(o).nodeListAtPoint_qgvyiu$(n).iterator();r.hasNext();){var a=r.next(),s=this.findUIResponseNodeByObject_wympo9$(a,this.mask);if(null!=s)return s}return null},Qn.prototype.drawTouchMark_r6mt3r$=function(e,t,i){switch(i.name){case"began":this.prevMarkerCreated=this.age;var r=la(0,0,Pn().value,"Resource/UI/IconMarker",40*this.sizeScale.xRatio,40*this.sizeScale.xRatio);r.SetVerticalAlign_qn2em6$(ro()),r.SetHorizontalAlign_jdpdm8$(lo()),r.SetBlendMode_ieo8yr$(ti()),r.SetBlendFactor_mx4ult$(1),r.SetColor_vnjrmz$(hi().puzzleBlue_mx4ult$()),r.SetAlpha_8ca0d4$(0),this.addChild_g5h3xp$(r),r.SetPosition_dleff0$(e,t),r.addUpdateCallback_sds54w$("Marker",void 0,void 0,void 0,void 0,void 0,(o=r,n={v:0},function(e){return o.SetScaleFromOriginal_mx4ult$(n.v),1<n.v?o.SetAlpha_8ca0d4$(1-(n.v-1)):.2<n.v?o.SetAlpha_8ca0d4$(1):o.SetAlpha_8ca0d4$(0),n.v+=3*e.elapsed,!(2<n.v&&(o.SetTimeToLive_mx4ult$(0),1))}))}var o,n},Qn.prototype.onTouchEvent_a3vp0k$=function(e,t,i,r,o){var n,a,s,l,u,h,c,d,p,f,m,v,g,_,$,y,b,S;if(!0!==this.viewChanging)if(i!==Mt())if(i!==Rt()){var k=Ie().shared().convertCoordinate_dleff0$(e,t),w=this.GetTopModal(),x=null,C=Ai();!0===this.isDrawTouchMark&&this.drawTouchMark_r6mt3r$(k.x,k.y,i);var z=!1;if(!0===this.skipFindUI&&null==w)for(s=this.touchListener.iterator();s.hasNext();){var T=s.next();if(k.x>=T.x&&k.x<=T.x+T.width&&k.y>=T.y&&k.y<=T.y+T.height){z=!0;break}}if(!1===z&&(x=this.GetUIResponseNodeAtPointNew_dleff0$(k.x,k.y)),null!=x){if(null!=w&&x!==w&&!1===w.isChild_g5h3xp$(x))return void(null!=this.currentFocus&&(null!=(l=this.currentFocus)&&l.onCancel(),this.currentFocus=null));switch(i.name){case"began":this.previousUIFireTime+.3<=this.age&&(this.speed.x=0,this.speed.y=0,this.previousPos=k,null!=this.currentFocus&&this.currentFocus!==x&&null!=(u=this.currentFocus)&&u.onCancel(),!0===x.onPress_dleff0$(k.x,k.y)?this.currentFocus=x:this.currentFocus=null);break;case"moved":var G=r;0!==G&&(C.x=k.x-this.previousPos.x,C.y=k.y-this.previousPos.y,this.speed.x=C.x/G,this.speed.y=C.y/G,null!=this.currentFocus&&(!0===(null!=(h=this.currentFocus)?h.drag:null)?null!=(c=this.currentFocus)&&c.onDrag_dleff0$(C.x,C.y):this.currentFocus!==x&&(null!=(d=this.currentFocus)&&d.onCancel(),this.currentFocus=null)),this.previousPos=k);break;case"ended":var A=r;0!==A&&(C.x=k.x-this.previousPos.x,C.y=k.y-this.previousPos.y,this.speed.x=C.x/A,this.speed.y=C.y/A,this.currentFocus===x?(x.onRelease_fzxzdm$(k.x,k.y,this.speed),this.previousUIFireTime=this.age,this.currentFocus=null):null!=this.currentFocus&&(!1===(null!=(p=this.currentFocus)?p.isChild_g5h3xp$(x):null)?null!=(f=this.currentFocus)&&f.onCancel():null!=(m=this.currentFocus)&&m.onRelease_fzxzdm$(k.x,k.y,this.speed),this.currentFocus=null));break;case"cancelled":null!=this.currentFocus&&(null!=(v=this.currentFocus)&&v.onCancel(),this.currentFocus=null)}}else switch(i.name){case"began":this.speed.x=0,this.speed.y=0,this.previousPos=k;break;case"moved":var I=r;0!==I&&(C.x=k.x-this.previousPos.x,C.y=k.y-this.previousPos.y,this.speed.x=C.y/I,this.speed.y=C.y/I,null!=this.currentFocus&&!0===(null!=(g=this.currentFocus)?g.drag:null)?null!=(_=this.currentFocus)&&_.onDrag_dleff0$(C.x,C.y):null!=this.currentFocus&&(null!=($=this.currentFocus)&&$.onCancel(),this.currentFocus=null),this.previousPos=k);break;case"ended":var N=r;0!==N&&(C.x=k.x-this.previousPos.x,C.y=k.y-this.previousPos.y,this.speed.x=C.x/N,this.speed.y=C.y/N,null!=this.currentFocus&&(null!=(y=this.currentFocus)&&y.onCancel(),this.currentFocus=null));break;default:null!=this.currentFocus&&(null!=(b=this.currentFocus)&&b.onCancel(),this.currentFocus=null)}if(null==w)for(S=this.touchListener.iterator();S.hasNext();){var M=S.next();if(k.x>=M.x&&k.x<=M.x+M.width&&k.y>=M.y&&k.y<=M.y+M.height){if(!1===M.receiveAlways&&(null!=x||null!=this.currentFocus))continue;M.callback(k,C,this.speed,i,r)}}}else for(a=ge(this.keydownListener).iterator();a.hasNext();){if(!0===a.next().second(o))break}else null!=this.scrollListener&&null!=(n=this.scrollListener)&&n(t)},Qn.prototype.GetModalNode_g5h3xp$=function(e){var t;for(t=e.childList.iterator();t.hasNext();){var i=t.next();if(!0===i.isModal()&&!0===i.GetShow())return i;var r=this.GetModalNode_g5h3xp$(i);if(null!=r)return r}return null},Qn.prototype.reloadTexture_g5h3xp$=function(e){var t,i,r=Ke.isType(t=e,sa)?t:null;for(null!=r&&r.reloadTexture(),i=e.GetChildList().iterator();i.hasNext();){var o=i.next();this.reloadTexture_g5h3xp$(o)}},Qn.prototype.createAction_xcdeti$=function(e,t,i,r,o,n,a,s){void 0===t&&(t=!1),void 0===i&&(i=!1),void 0===r&&(r=!1),void 0===o&&(o=-1),void 0===n&&(n=0),void 0===a&&(a=null);var l=a;null==l&&(l=this);var u=Je(l).findChildByName_3m52m6$("NodeForAction",0);if(null!=u)u.addUpdateCallback_sds54w$(e,t,i,r,o,n,s);else{var h=co();h.SetName_61zpoe$("NodeForAction"),Je(l).addChild_g5h3xp$(h),he(Je(l).GetName(),"GameView"),h.addUpdateCallback_sds54w$(e,t,i,r,o,n,s)}},Qn.prototype.removeAction_81ngrp$=function(e,t,i){void 0===t&&(t=0),void 0===i&&(i=null);var r=i;null==r&&(r=this);var o=Je(r).findChildByName_3m52m6$("NodeForAction",0);null!=o&&o.removeUpdateCallback_9sobi5$(e,t)},Qn.prototype.removeAllAction_3hy050$=function(e){void 0===e&&(e=null);var t=e;null==t&&(t=this);var i=Je(t).findChildByName_3m52m6$("NodeForAction",0);null!=i&&i.removeAllUpdateCallback_6taknv$()},Qn.prototype.actionInstant_cinp1s$=function(e,t,i,r,o){void 0===e&&(e=0),void 0===t&&(t=-1),void 0===i&&(i=0),void 0===r&&(r=null);var n,a,s,l,u,h={v:r};null==h.v&&(h.v=this),this.actionDelay_ab0iom$(e,h.v,(n=this,a=t,s=i,l=h,u=o,function(){var t;return n.createAction_xcdeti$("Instant Action",!0,void 0,void 0,a,s,l.v,(t=u,function(e){return 0===e.elapsed?(t(e),!1):(t(e),!0)})),Ze}))},Qn.prototype.actionOnce_ab0iom$=function(e,t,i){void 0===e&&(e=0),void 0===t&&(t=null);var r=t;null==r&&(r=this);var o,n,a,s=co();Je(r).addChild_g5h3xp$(s),s.addUpdateCallback_sds54w$("One Time Action",!0,void 0,void 0,void 0,void 0,(o=e,n=i,a=s,function(e){return!(e.age>o&&(n(),a.SetTimeToLive_mx4ult$(0),1))}))},Qn.prototype.actionSequence_92c9p5$=function(e,t,i){void 0===e&&(e=0),void 0===t&&(t=null);var r=t;null==r&&(r=this);var o=co();Je(r).addChild_g5h3xp$(o);var n,a,s,l,u;o.addUpdateCallback_sds54w$("Sequence Action",!0,void 0,void 0,void 0,void 0,(n={v:!1},a={v:0},s=e,l=i,u={v:0},function(e){if(!1===n.v){if(e.age>a.v+s&&(l.get_za3lpa$(u.v)(),n.v=!0,u.v=u.v+1|0,u.v>=l.size))return!1}else a.v=e.age,n.v=!1;return!0}))},Qn.prototype.actionDelay_ab0iom$=function(e,t,i){void 0===t&&(t=null);var r,o=t;null==o&&(o=this),this.actionOnce_ab0iom$(e,o,(r=i,function(){return r(),Ze}))},Qn.prototype.actionFadeIn_hkbjms$=function(e,t,i,r,o,n,a,s,l){void 0===t&&(t=0),void 0===i&&(i=1),void 0===r&&(r=0),void 0===n&&(n=!1),void 0===a&&(a=!0),void 0===s&&(s=null),void 0===l&&(l=null);var u={v:s};null==u.v&&(u.v=this);var h,c,d,p,f,m,v,g,_,$=t;this.actionDelay_ab0iom$(r,u.v,(h=this,c=o,d=u,p=n,f=e,m=i,v=a,g=l,_=$,function(){return h.createAction_xcdeti$("Action Fade In",!0,void 0,void 0,c,void 0,d.v,oa(p,f,m,v,h,d,g,_,c)),Ze}))},Qn.prototype.actionFadeOut_7vo5wp$=function(e,t,i,r,o,n,a,s){void 0===t&&(t=1),void 0===i&&(i=0),void 0===o&&(o=null),void 0===n&&(n=!1),void 0===a&&(a=!0),void 0===s&&(s=null);var l={v:o};null==l.v&&(l.v=this);var u,h,c,d,p,f,m,v,g,_=t,$=_/r;this.actionDelay_ab0iom$(i,l.v,(u=this,h=r,c=l,d=n,p=e,f=a,m=s,v=_,g=$,function(){return u.createAction_xcdeti$("Action Fade Out",!0,void 0,void 0,h,void 0,c.v,na(d,p,f,u,c,m,v,g)),Ze}))},Qn.prototype.actionFade_ntk7i0$=function(e,t,i,r,o){if(void 0===r&&(r=null),t!==i){var n=r;null==n&&(n=this);var a,s,l,u,h=(i-t)/e;this.createAction_xcdeti$("Action Fade",!0,void 0,void 0,e,void 0,n,(a=o,s=i,l=t,u=h,function(e){if(0===e.elapsed)return a(s,!0),!1;var t=l+e.age*u;if(0<u){if(s<=t)return a(s,!0),!1;a(t,!1)}if(u<0){if(t<=s)return a(s,!0),!1;a(t,!1)}return!0}))}},Qn.prototype.actionFadeLoop_xukj3e$=function(e,t,i,r,o,n){if(void 0===o&&(o=null),i!==r){var a=o;null==a&&(a=this);var s,l,u,h,c,d,p=(r-i)/t,f=r-i,m={v:(r-i)/Yt.abs(f)},v={v:i};this.createAction_xcdeti$(e,void 0,void 0,void 0,void 0,void 0,a,(s=p,l=m,u=v,h=n,c=r,d=i,function(e){return u.v+=e.elapsed*s*l.v,0===e.elapsed?(h(0,!0),!1):(0<s?0<l.v?u.v>=c&&(u.v=c,l.v*=-1):u.v<=d&&(u.v=d,l.v*=-1):0<l.v?u.v<=c&&(u.v=c,l.v*=-1):u.v>=d&&(u.v=d,l.v*=-1),!1!==h(u.v,!1))}))}},Qn.$metadata$={kind:o,simpleName:"Screen",interfaces:[ho]},sa.prototype.SetSize_dleff0$=function(e,t){var i;if(this.size.width!==e||this.size.height!==t){var r=e,o=t,n=Ke.isType(i=this.GetObject(),ye)?i:null;if(null!=n){var a=n.GetTexture();if(null!=a)if(r<0&&(r=a.GetSize().width),o<0&&(o=a.GetSize().height),null!=this.centerRect){var s=r/a.GetSize().width,l=o/a.GetSize().height;n.SetScale_dleff0$(1,1),n.SetSize_dleff0$(r,o),n.SetScale_dleff0$(s,l)}else n.SetSize_dleff0$(r,o);else r<0&&(r=this.size.width),o<0&&(o=this.size.height),null!=this.centerRect?n.SetScale_dleff0$(1,1):n.SetSize_dleff0$(r,o);po.prototype.SetSize_dleff0$.call(this,r,o),this.SetVerticalAlign_qn2em6$(this.verticalAlign),this.SetHorizontalAlign_jdpdm8$(this.horizontalAlign)}}},sa.prototype.SetScale_mx4ult$$default=function(e){var t,i=Ke.isType(t=this.GetObject(),ye)?t:null;if(null!=i&&null!=i.GetTexture()){var r=this.GetSize().width*e,o=this.GetSize().height*e;i.SetSize_dleff0$(r,o),po.prototype.SetSize_dleff0$.call(this,r,o)}},sa.prototype.SetScaleFromOriginal_mx4ult$=function(e){var t,i=Ke.isType(t=this.GetObject(),ye)?t:null;if(null!=i&&null!=i.GetTexture()){var r=this.GetOriginalSize().width*e,o=this.GetOriginalSize().height*e;i.SetSize_dleff0$(r,o),po.prototype.SetSize_dleff0$.call(this,r,o),this.SetScale_mx4ult$(e,po.prototype.SetScale_mx4ult$$default.bind(this))}},sa.prototype.update_mx4ult$=function(e){if(po.prototype.update_mx4ult$.call(this,e),null!=this.animation){Je(this.animation).update_mx4ult$(e);var t=Je(this.animation).GetCurrentFrame();null!=t&&(this.SetImage_9xt0da$(t,Je(this.animation).GetWidth(),Je(this.animation).GetHeight()),this.SetBlendMode_ieo8yr$(this.blendMode),this.SetBlendFactor_mx4ult$(this.colorBlendFactor),this.SetColor_vnjrmz$(this.GetColor()),this.SetAlpha_8ca0d4$(this.GetAlpha()))}},sa.prototype.GetTextureSize=function(){var e,t=Ke.isType(e=this.GetObject(),ye)?e:null;if(null!=t){var i=t.GetTexture();if(null!=i)return Pi(i.GetSize().width,i.GetSize().height)}return null},sa.prototype.GetImage=function(){return this.image},sa.prototype.SetCenterRect_3fx80m$=function(e){var t,i=this.centerRect=e;if(null!=i){var r=Ke.isType(t=this.GetObject(),ye)?t:null;if(null!=r){var o=r.GetTexture();if(null!=o){var n=o.GetSize();i.x=i.x/n.width,i.y=i.y/n.height,i.height=i.height/n.height,r.SetCenterRect_g5erez$(i)}}}var a=this.size.width,s=this.size.height;this.size.width=0,this.size.height=0,this.SetSize_dleff0$(a,s)},sa.prototype.SetImage_9xt0da$=function(e,t,i){var r,o;if(void 0===t&&(t=-1),void 0===i&&(i=-1),!he(e,this.image)){var n=Ke.isType(r=this.GetObject(),ye)?r:null;if(null!=n)this.image=e,n.SetTexture_h2vgz3$(qe().shared().GetTexture_61zpoe$(e)),n.SetAnchorPoint_qgvyiu$(Ai(.5,.5)),this.SetCenterRect_3fx80m$(this.centerRect);else{this.image=e;var a=Ie().shared().createGuestSprite_h2vgz3$(qe().shared().GetTexture_61zpoe$(e));a.SetAnchorPoint_qgvyiu$(Ai(.5,.5)),this.SetCenterRect_3fx80m$(this.centerRect),this.addObject_s8jyv4$(Ke.isType(o=a,b)?o:Ee())}}this.SetSize_dleff0$(t,i)},sa.prototype.SetTexture_shkjqq$=function(e,t,i){var r,o;void 0===t&&(t=-1),void 0===i&&(i=-1),this.image=e.GetName();var n=Ke.isType(r=this.GetObject(),ye)?r:null;if(null!=n)n.SetTexture_h2vgz3$(e),this.SetCenterRect_3fx80m$(this.centerRect);else{var a=Ie().shared().createGuestSprite_h2vgz3$(e);null!=a&&(this.SetCenterRect_3fx80m$(this.centerRect),this.addObject_s8jyv4$(Ke.isType(o=a,b)?o:Ee()))}this.SetSize_dleff0$(t,i)},sa.prototype.SetColor_sczwbf$$default=function(e,t,i,r,o){var n;this.SetColor_sczwbf$(e,t,i,r,o,po.prototype.SetColor_sczwbf$$default.bind(this));var a=Ke.isType(n=this.GetObject(),ye)?n:null;null!=a&&(a.SetColor_7b5o5w$(this.color.r,this.color.g,this.color.b,this.color.a),a.SetAlpha_mx4ult$(this.color.a))},sa.prototype.SetAlpha_8ca0d4$$default=function(e,t){var i;this.SetAlpha_8ca0d4$(e,t,po.prototype.SetAlpha_8ca0d4$$default.bind(this));var r=Ke.isType(i=this.GetObject(),ye)?i:null;null!=r&&(r.SetColor_7b5o5w$(this.color.r,this.color.g,this.color.b,this.color.a),r.SetAlpha_mx4ult$(this.color.a))},sa.prototype.SetMasterAlpha_mx4ult$=function(e){var t;po.prototype.SetMasterAlpha_mx4ult$.call(this,e);var i=Ke.isType(t=this.GetObject(),ye)?t:null;null!=i&&i.SetAlpha_mx4ult$(this.color.a)},sa.prototype.SetBlendFactor_mx4ult$$default=function(e){var t,i=Ke.isType(t=this.GetObject(),ye)?t:null;null!=i&&i.SetColorBlendFactor_mx4ult$(e),this.SetBlendFactor_mx4ult$(e,po.prototype.SetBlendFactor_mx4ult$$default.bind(this))},sa.prototype.SetBlendMode_ieo8yr$=function(e){var t,i=Ke.isType(t=this.GetObject(),ye)?t:null;null!=i&&i.SetBlendMode_ieo8yr$(e),po.prototype.SetBlendMode_ieo8yr$.call(this,e)},sa.prototype.SetAnimation_pe1q5w$=function(e){this.animation=e},sa.prototype.reloadTexture=function(){var e;if(null!=this.image){var t=Ke.isType(e=this.GetObject(),ye)?e:null;null!=t&&(t.SetTexture_h2vgz3$(qe().shared().GetTexture_61zpoe$(Je(this.image))),this.SetCenterRect_3fx80m$(this.centerRect),this.SetSize_dleff0$(this.GetSize().width,this.GetSize().height))}},sa.prototype.SetRotation_mx4ult$$default=function(e){var t;if(this.rotation!==e){var i=Ke.isType(t=this.GetObject(),ye)?t:null;null!=i&&(i.SetZRotation_mx4ult$(e),this.rotation=e)}},sa.prototype.GetRotation=function(){return this.rotation},sa.prototype.SetRotationDegree_mx4ult$=function(e){void 0===e&&(e=0),this.SetRotation_mx4ult$(e*(te.PI/180))},sa.prototype.GetRotationDegree=function(){return this.rotation*(180/te.PI)},sa.$metadata$={kind:o,simpleName:"Sprite",interfaces:[po]},ua.$metadata$={kind:o,simpleName:"SwitchState",interfaces:[h]},ua.values=function(){return[ca(),da()]},ua.valueOf_61zpoe$=function(e){switch(e){case"on":return ca();case"off":return da();default:c("No enum constant com.blindcatstudio.phantom.graphic.SwitchState."+e)}},pa.prototype.changeState=function(){this.isOn===ca()?this.isOn=da():this.isOn=ca(),this.SetButtonImage()},pa.prototype.SetEnable_6taknv$=function(e){this.enable=e,this.SetButtonImage()},pa.prototype.SetButtonImage=function(){var e,t=Ke.isType(e=this.GetChild_za3lpa$(0),sa)?e:null;if(null!=t)if(!0===this.enable)if(this.GetOnOff()===ca()){var i=this.GetImageFrame()[0];null!=i&&t.SetImage_9xt0da$(i,this.GetSize().width,this.GetSize().height)}else{var r=this.GetImageFrame()[1];null!=r&&t.SetImage_9xt0da$(r,this.GetSize().width,this.GetSize().height)}else if(this.GetOnOff()===ca()){var o=this.GetImageFrame()[2];null!=o&&t.SetImage_9xt0da$(o,this.GetSize().width,this.GetSize().height)}else{var n=this.GetImageFrame()[3];null!=n&&t.SetImage_9xt0da$(n,this.GetSize().width,this.GetSize().height)}},pa.prototype.SetOnOff_abhado$=function(e){this.isOn!==e&&(this.isOn=e,this.SetButtonImage())},pa.prototype.GetOnOff=function(){return this.isOn},pa.prototype.toggle=function(){this.isOn===ca()?this.isOn=da():this.isOn=ca(),this.SetButtonImage()},pa.$metadata$={kind:o,simpleName:"Switch",interfaces:[Kt]},ma.prototype.SetFadeMode_za3lpa$=function(e){this.fadeMode=e},ma.prototype.addTextInternal_r4v59z$=function(e,t,i){var r,o,n,a;void 0===t&&(t=0),void 0===i&&(i=null),null==this.currentContainer&&(this.currentContainer=Xt(0,this.lineGap*this.lineCount+this.textHeight,0),this.addChild_g5h3xp$(Je(this.currentContainer)),Je(this.currentContainer).SetSize_dleff0$(0,this.fontHeight*this.fontScale),Je(this.currentContainer).SetVerticalAlign_qn2em6$(ro()),Je(this.currentContainer).SetHorizontalAlign_jdpdm8$(lo()),Je(this.currentContainer).SetInputOwner_3hy050$(this));var s,l=null;if(0===this.labelType?((l=mi(this.lineOffset,Je(this.currentContainer).GetSize().height/2,0,e,1,this.fontSpace,this.whiteSpace,null,this.fontName)).SetVerticalAlign_qn2em6$(ro()),l.SetHorizontalAlign_jdpdm8$(so()),l.SetColor_vnjrmz$(this.fontColor),l.SetBlendFactor_mx4ult$(1)):((l=Yr(this.lineOffset,Je(this.currentContainer).GetSize().height/2,0,e,this.fontName,this.fontSize*this.fontScale,this.fontColor)).SetVerticalAlign_qn2em6$(ro()),l.SetHorizontalAlign_jdpdm8$(so()),l.SetColor_vnjrmz$(this.fontColor)),l.SetSize_dleff0$(-1,this.fontSize*this.fontScale),0<this.wrapType&&this.lineOffset+l.GetSize().width>this.GetSize().width&&(this.lineOffset=0,this.lineCount=this.lineCount+1|0,this.characterCount=0,this.textHeight=this.textHeight+Je(this.currentContainer).GetSize().height,this.currentContainer=null,this.lineCount>this.lineMax&&this.clearTop(),this.currentContainer=Xt(0,this.lineGap*this.lineCount+this.textHeight,0),this.addChild_g5h3xp$(Je(this.currentContainer)),Je(this.currentContainer).SetSize_dleff0$(0,this.fontHeight*this.fontScale),Je(this.currentContainer).SetVerticalAlign_qn2em6$(ro()),Je(this.currentContainer).SetHorizontalAlign_jdpdm8$(lo()),Je(this.currentContainer).SetInputOwner_3hy050$(this),l.SetPosition_dleff0$(this.lineOffset,Je(this.currentContainer).GetSize().height/2)),null!=(r=this.currentContainer)&&r.addChild_g5h3xp$(l),l.SetInputOwner_3hy050$(this),0!==t){var u=Ke.isType(o=this.GetRoot(),Qn)?o:null;if(null!=u){var h=0;0===this.fadeMode&&(h=this.lineCount*t),l.SetAlpha_8ca0d4$(0,!0),u.actionFadeIn_hkbjms$(l,void 0,void 0,h,t,void 0,!0,void 0,(s=i,function(){return null!=s&&s(),Ze}))}}else null!=i&&i();for(this.lineOffset=this.lineOffset+l.GetSize().width,l.GetSize().height>Je(this.currentContainer).GetSize().height&&Je(this.currentContainer).SetSize_dleff0$(Je(this.currentContainer).GetSize().width,l.GetSize().height),n=Je(this.currentContainer).GetChildList().iterator();n.hasNext();){var c=n.next();c.SetPosition_dleff0$(c.GetPosition().x,Je(this.currentContainer).GetSize().height/2)}for(l.GetSize().height<this.fontHeight&&(he(e,".")||he(e,","))&&l.SetPosition_dleff0$(l.GetPosition().x,Je(this.currentContainer).GetSize().height/2+(this.fontHeight-this.periodCharacterHeight)),Je(this.currentContainer).SetSize_dleff0$(this.lineOffset,Je(this.currentContainer).GetSize().height*this.heightAdjust),Je(this.currentContainer).SetVerticalAlign_qn2em6$(ro()),Je(this.currentContainer).SetHorizontalAlign_jdpdm8$(lo()),a=Je(this.currentContainer).GetChildList().iterator();a.hasNext();){var d=a.next();d.SetPosition_dleff0$(d.GetPosition().x,Je(this.currentContainer).GetSize().height/2)}return this.adjustTextPosition(),l},ma.prototype.addImageInternal_1e04p$=function(e,t,i,r,o){var n,a,s;void 0===t&&(t=-1),void 0===i&&(i=-1),void 0===r&&(r=0),void 0===o&&(o=null),null==this.currentContainer&&(this.currentContainer=Xt(0,this.lineGap*this.lineCount+this.textHeight,0),this.addChild_g5h3xp$(Je(this.currentContainer)),Je(this.currentContainer).SetSize_dleff0$(0,this.fontHeight),Je(this.currentContainer).SetVerticalAlign_qn2em6$(ro()),Je(this.currentContainer).SetHorizontalAlign_jdpdm8$(lo()),Je(this.currentContainer).SetInputOwner_3hy050$(this));var l,u=la(this.lineOffset,Je(this.currentContainer).GetSize().height/2,0,e,t,i);if(u.SetVerticalAlign_qn2em6$(ro()),u.SetHorizontalAlign_jdpdm8$(so()),u.SetBlendFactor_mx4ult$(1),u.SetSize_dleff0$(t,i),null!=(n=this.currentContainer)&&n.addChild_g5h3xp$(u),u.SetInputOwner_3hy050$(this),0!==r){var h=Ke.isType(a=this.GetRoot(),Qn)?a:null;if(null!=h){var c=0;0===this.fadeMode&&(c=this.lineCount*r),u.SetAlpha_8ca0d4$(0,!0),h.actionFadeIn_hkbjms$(u,void 0,void 0,c,r,void 0,!0,void 0,(l=o,function(){return null!=l&&l(),Ze}))}}else null!=o&&o();for(this.lineOffset=this.lineOffset+u.GetSize().width,u.GetSize().height>Je(this.currentContainer).GetSize().height&&Je(this.currentContainer).SetSize_dleff0$(Je(this.currentContainer).GetSize().width,u.GetSize().height),s=Je(this.currentContainer).GetChildList().iterator();s.hasNext();){var d=s.next();d.SetPosition_dleff0$(d.GetPosition().x,Je(this.currentContainer).GetSize().height/2)}return Je(this.currentContainer).SetSize_dleff0$(this.lineOffset,Je(this.currentContainer).GetSize().height*this.heightAdjust),Je(this.currentContainer).SetVerticalAlign_qn2em6$(ro()),Je(this.currentContainer).SetHorizontalAlign_jdpdm8$(lo()),this.adjustTextPosition(),u},ma.prototype.addButtonInternal_1e04p$=function(e,t,i,r,o){var n,a,s;void 0===t&&(t=-1),void 0===i&&(i=-1),void 0===r&&(r=0),void 0===o&&(o=null),null==this.currentContainer&&(this.currentContainer=Xt(0,this.lineGap*this.lineCount+this.textHeight,0),this.addChild_g5h3xp$(Je(this.currentContainer)),Je(this.currentContainer).SetSize_dleff0$(0,this.fontHeight),Je(this.currentContainer).SetVerticalAlign_qn2em6$(ro()),Je(this.currentContainer).SetHorizontalAlign_jdpdm8$(lo()),Je(this.currentContainer).SetInputOwner_3hy050$(this));var l,u=Zt(this.lineOffset,Je(this.currentContainer).GetSize().height/2,0,[e],"",this.fontName,this.fontColor);if(u.SetFontSize_mx4ult$(this.fontSize*this.fontScale),u.SetClickAdjust_dleff0$(0,0),u.SetSize_dleff0$(t,i),u.SetName_61zpoe$(this.buttonCount.toString()),this.buttonCount=this.buttonCount+1|0,u.SetVerticalAlign_qn2em6$(ro()),u.SetHorizontalAlign_jdpdm8$(so()),u.SetBlendFactor_mx4ult$(1),null!=(n=this.currentContainer)&&n.addChild_g5h3xp$(u),0!==r){var h=Ke.isType(a=this.GetRoot(),Qn)?a:null;if(null!=h){var c=0;0===this.fadeMode&&(c=this.lineCount*r),u.SetAlpha_8ca0d4$(0,!0),h.actionFadeIn_hkbjms$(u,void 0,void 0,c,r,void 0,!0,void 0,(l=o,function(){return null!=l&&l(),Ze}))}}else null!=o&&o();for(this.lineOffset=this.lineOffset+u.GetSize().width,u.GetSize().height>Je(this.currentContainer).GetSize().height&&Je(this.currentContainer).SetSize_dleff0$(Je(this.currentContainer).GetSize().width,u.GetSize().height),s=Je(this.currentContainer).GetChildList().iterator();s.hasNext();){var d=s.next();d.SetPosition_dleff0$(d.GetPosition().x,Je(this.currentContainer).GetSize().height/2)}return Je(this.currentContainer).SetSize_dleff0$(this.lineOffset,Je(this.currentContainer).GetSize().height*this.heightAdjust),Je(this.currentContainer).SetVerticalAlign_qn2em6$(ro()),Je(this.currentContainer).SetHorizontalAlign_jdpdm8$(lo()),this.adjustTextPosition(),u};var va=Ke.kotlin.text.toDoubleOrNull_pdl1vz$;function ga(e,t,i){return function(){return e.SetShow_6taknv$(!1),e.removeFromParent(),0===t.childList.size&&(t.lineOffset=0,t.lineCount=0,t.characterCount=0,t.textHeight=0,t.currentContainer=null,t.buttonCount=0,null!=i&&i()),Ze}}function _a(e,t,i,r,o,n,a,s,l,u,h,c,d,p,f,m,v){if(void 0===i&&(i=0),void 0===n&&(n="Main/"),void 0===a&&(a=12),void 0===s&&(s=.1),void 0===l&&(l=.5),void 0===u&&(u=1),void 0===h&&(h=10),void 0===c&&(c=-1),void 0===d&&(d=0),void 0===p&&(p=1),void 0===f&&(f=hi().white_mx4ult$()),void 0===m&&(m=1),Xt(e,t,i,v=v||Object.create(ma.prototype)),ma.call(v),v.defaultFontColor=hi().copy_3nzkge$(f),v.fontColor=hi().copy_3nzkge$(f),v.fontName=n,v.fontNameDefault=n,v.fontSize=1.2*a,v.fontSpace=s,v.whiteSpace=l,v.lineGap=u,v.lineMax=h,v.characterPerLine=c,v.wrapType=d,v.heightAdjust=p,v.labelType=m,v.SetSize_dleff0$(r,o),0===m){var g=mi(0,0,0,"0",1,s,l,null,n);g.SetSize_dleff0$(-1,a),v.fontHeight=g.GetSize().height,-1===c&&(v.characterPerLine=et(r/g.GetSize().width));var _=mi(0,0,0,".",1,s,l,null,n);g.SetSize_dleff0$(-1,a),v.periodCharacterHeight=_.GetSize().height}else v.fontHeight=a,-1===c&&(v.characterPerLine=et(r/a)),v.periodCharacterHeight=a;return v}function $a(){this.screen_hd7mxi$_0=null,this.mask=null,this.modalMask=null,this.fontName="Main/",this.fontSize=16,this.fontColor=di(),this.childVerticalAlign=io(),this.childHorizontalAlign=so(),this.fontVerticalAlign=io(),this.fontHorizontalAlign=so()}function ya(e,t,i,r){return void 0===e&&(e=0),void 0===t&&(t=0),void 0===i&&(i=Sn().value),Xt(e,t,i,r=r||Object.create($a.prototype)),$a.call(r),r.SetName_61zpoe$("View"),r.modalMask=la(0,0,En().value,"Resource/UI/Background",r.GetSize().width,r.GetSize().height),Je(r.modalMask).SetName_61zpoe$("Modal Mask"),Je(r.modalMask).SetAlpha_8ca0d4$(0),Je(r.modalMask).SetShow_6taknv$(!0),r.addChild_g5h3xp$(Je(r.modalMask)),r}function ba(){za(),this.loadingProgress=0,this.currentBlockSetId="",this.currentBlockSetResource="",this.deviceScene=null,this.shutdown=!1,this.requestHandler_6kqtfy$_0=this.requestHandler_6kqtfy$_0}function Sa(){(ka=this).instance=null}ma.prototype.addText_r4v59z$=function(e,t,i){var r,o,n,a,s,l,u,h,c,d,p,f,m,v,g,_;void 0===t&&(t=0),void 0===i&&(i=null);var $="",y=!1,b=!1,S=Le(),k="";for(r=oe(e);r.hasNext();){var w=ne(r.next());if(!0!==b||!1!==y)if(!0!==y)switch(w){case 32:$+=String.fromCharCode(w),this.addTextInternal_r4v59z$($,t),$="";break;case 10:0<$.length?this.addTextInternal_r4v59z$($,t):null==this.currentContainer&&(this.currentContainer=Xt(0,this.lineGap*this.lineCount+this.textHeight,0),this.addChild_g5h3xp$(Je(this.currentContainer)),Je(this.currentContainer).SetSize_dleff0$(0,this.fontHeight*this.fontScale),Je(this.currentContainer).SetVerticalAlign_qn2em6$(ro()),Je(this.currentContainer).SetHorizontalAlign_jdpdm8$(lo()),Je(this.currentContainer).SetInputOwner_3hy050$(this)),$="",this.lineOffset=0,this.lineCount=this.lineCount+1|0,this.characterCount=0,this.textHeight=this.textHeight+Je(this.currentContainer).GetSize().height,this.currentContainer=null,this.lineCount>this.lineMax&&this.clearTop();break;case 91:y=!0;break;case 34:b=!0;break;default:1===this.wrapType?this.addTextInternal_r4v59z$(String.fromCharCode(w),t):$+=String.fromCharCode(w)}else{if(!0===b){34===w?b=!1:k+=String.fromCharCode(w);continue}switch(w){case 91:y=!1,$+=String.fromCharCode(w);break;case 93:if(y=!1,S.add_11rb$(k),k="",0<S.size){if(0!==$.length){if(1===this.wrapType){for(o=oe($);o.hasNext();){var x=ne(o.next());this.addTextInternal_r4v59z$(String.fromCharCode(x),t)}this.addTextInternal_r4v59z$("",t,i)}else this.addTextInternal_r4v59z$($,t);$=""}var C=S.get_za3lpa$(0).toLowerCase();if(he(C,"button"))if(2===S.size){var z=S.get_za3lpa$(1);null!=z&&this.addButtonInternal_1e04p$(z,void 0,void 0,t)}else if(3===S.size){var T=va(S.get_za3lpa$(2));if(null!=T){var G=S.get_za3lpa$(1);if(null!=G){var A=Ke.isType(n=this.GetRoot(),Qn)?n:null;if(null!=A){var I=null!=(a=A.GetCurrentView())?a.sizeUniversalToDevice_1lj1ir$(G,T):null;null!=I&&this.addButtonInternal_1e04p$(G,I.width,I.height,t)}}}}else if(4===S.size){var N=S.get_za3lpa$(3),M=va(S.get_za3lpa$(2));if(null!=M){var O=S.get_za3lpa$(1);if(null!=O){var R=Ke.isType(s=this.GetRoot(),Qn)?s:null;if(null!=R){var j=null!=(l=R.GetCurrentView())?l.sizeUniversalToDevice_1lj1ir$(O,M):null;if(null!=j)this.addButtonInternal_1e04p$(O,j.width,j.height,t).SetName_61zpoe$(N)}}}}else if(5===S.size){var P=S.get_za3lpa$(4),B=S.get_za3lpa$(3),E=va(S.get_za3lpa$(2));if(null!=E){var F=S.get_za3lpa$(1);if(null!=F){var L=Ke.isType(u=this.GetRoot(),Qn)?u:null;if(null!=L){var D=null!=(h=L.GetCurrentView())?h.sizeUniversalToDevice_1lj1ir$(F,E):null;if(null!=D){var V=this.addButtonInternal_1e04p$(F,D.width,D.height,t);V.SetName_61zpoe$(B),he(P,"false")&&V.SetEnable_6taknv$(!1)}}}}}if(he(C,"image"))if(2===S.size){var U=S.get_za3lpa$(1);null!=U&&this.addImageInternal_1e04p$(U,void 0,void 0,t)}else if(3===S.size){var q=va(S.get_za3lpa$(2));if(null!=q){var H=S.get_za3lpa$(1);if(null!=H){var W=Ke.isType(c=this.GetRoot(),Qn)?c:null;if(null!=W){var Y=null!=(d=W.GetCurrentView())?d.sizeUniversalToDevice_1lj1ir$(H,q):null;null!=Y&&this.addImageInternal_1e04p$(H,Y.width,Y.height,t)}}}}if(he(C,"font"))if(2===S.size){var X=S.get_za3lpa$(1);null!=X&&(this.fontName=X)}else this.fontName=this.fontNameDefault;if(he(C,"scale"))if(2===S.size){var K=va(S.get_za3lpa$(1));null!=K&&(this.fontScale=K)}else this.fontScale=1;if(he(C,"color")||he(C,"c"))if(4<=S.size){var Z=null!=(p=ae(S.get_za3lpa$(1)))?p:0,Q=null!=(f=ae(S.get_za3lpa$(2)))?f:0,J=null!=(m=ae(S.get_za3lpa$(3)))?m:0,ee=1;5<=S.size&&(ee=(null!=(v=ae(S.get_za3lpa$(4)))?v:0)/255),this.fontColor=pi(Z,Q,J,ee)}else if(2<=S.size){var te=S.get_za3lpa$(1),ie=1;switch(3===S.size&&(ie=(null!=(g=va(S.get_za3lpa$(4)))?g:0)/255),te.toLowerCase()){case"yellow":this.fontColor=hi().puzzleYellow_mx4ult$(ie);break;case"green":this.fontColor=hi().puzzleGreen_mx4ult$(ie);break;case"red":this.fontColor=hi().puzzleRed_mx4ult$(ie);break;case"blue":this.fontColor=hi().puzzleBlue_mx4ult$(ie);break;case"gray":this.fontColor=pi(196,196,196);break;case"pink":this.fontColor=hi().puzzlePink_mx4ult$(ie);break;case"purple":this.fontColor=hi().puzzlePurple_mx4ult$(ie);break;case"white":this.fontColor=hi().white_mx4ult$(ie);break;default:this.fontColor=ci(te)}}else this.fontColor=this.defaultFontColor;S.clear(),k=""}break;case 32:S.add_11rb$(k),k="";break;case 34:b=!0;break;default:k+=String.fromCharCode(w)}}else 34===w?b=!1:$+=String.fromCharCode(w)}if(0<$.length)if(1===this.wrapType){for(_=oe($);_.hasNext();){var re=ne(_.next());this.addTextInternal_r4v59z$(String.fromCharCode(re),t)}this.addTextInternal_r4v59z$("",t,i)}else this.addTextInternal_r4v59z$($,t,i);else this.addTextInternal_r4v59z$("",t,i)},ma.prototype.addTextList_fux00f$=function(e,t){var i;void 0===e&&(e=null),void 0===t&&(t=0);if(null!=e)for(i=e.iterator();i.hasNext();){var r=i.next();this.addText_r4v59z$(r,t),this.addText_r4v59z$("\n"),this.currentContainer=null}},ma.prototype.clearText_gam257$=function(e,t){var i,r,o,n,a;if(void 0===e&&(e=0),void 0===t&&(t=null),0!==this.childList.size){var s,l=Ke.isType(r=this.GetRoot(),Qn)?r:null;if(null!=l)if(0<e){o=this.childList;for(var u=0;u!==o.size;++u){var h,c=Ke.isType(h=this.childList.get_za3lpa$(u),Ft)?h:null;null!=c&&l.actionFadeOut_7vo5wp$(c,void 0,void 0,e,void 0,void 0,!0,ga(c,this,t))}}else{for(n=y($(this.childList)).iterator();n.hasNext();){var d=n.next(),p=Ke.isType(a=this.childList.get_za3lpa$(d),Ft)?a:null;null!=p&&p.removeFromParent()}this.lineOffset=0,this.lineCount=0,this.characterCount=0,this.textHeight=0,this.currentContainer=null,this.buttonCount=0,null!=t&&t()}}else{this.lineOffset=0,this.lineCount=0,this.characterCount=0,this.textHeight=0,this.currentContainer=null,this.buttonCount=0;var f=Ke.isType(i=this.GetRoot(),Qn)?i:null;null!=f&&f.actionDelay_ab0iom$(0,void 0,(s=t,function(){return null!=s&&s(),Ze}))}},ma.prototype.clearTop=function(){var e,t,i;for(e=y($(this.childList)).iterator();e.hasNext();){var r=e.next();if(0===r){var o=Ke.isType(t=this.childList.get_za3lpa$(r),Ft)?t:null;null!=o&&(o.removeFromParent(),this.lineOffset=0,this.lineCount=this.lineCount-1|0,this.currentContainer=null,this.textHeight=this.textHeight-o.GetSize().height)}else{var n=Ke.isType(i=this.childList.get_za3lpa$(r),Ft)?i:null;null!=n&&n.SetPosition_dleff0$(n.GetPosition().x,n.GetPosition().y-this.lineGap)}}},ma.prototype.SetTextVerticalAlign_qn2em6$=function(e){void 0===e&&(e=io()),this.textVerticalAlign=e,this.adjustTextPosition()},ma.prototype.SetTextHorizontalAlign_jdpdm8$=function(e){void 0===e&&(e=so()),this.textHorizontalAlign=e,this.adjustTextPosition()},ma.prototype.adjustTextPosition=function(){var e,t,i=this.textHeight,r=0,o=0;switch(this.textVerticalAlign.name){case"center":o=.5*(this.GetSize().height-i);break;case"bottom":o=this.GetSize().height-i}switch(this.textHorizontalAlign.name){case"center":r=.5*this.GetSize().width;break;case"right":r=this.GetSize().width}var n=0;e=this.childList.size-1|0;for(var a=0;a<=e;a++){var s=Ke.isType(t=this.childList.get_za3lpa$(a),Ft)?t:null;if(null!=s){switch(this.textHorizontalAlign.name){case"left":s.SetHorizontalAlign_jdpdm8$(so());break;case"center":s.SetHorizontalAlign_jdpdm8$(lo());break;case"right":s.SetHorizontalAlign_jdpdm8$(uo())}var l=0;switch(this.textVerticalAlign.name){case"top":l=.5*s.GetSize().height;break;case"bottom":l=-1*s.GetSize().height*.5}s.SetPosition_dleff0$(r,o+n+l),n+=s.GetSize().height}}},ma.$metadata$={kind:o,simpleName:"TextArea",interfaces:[Ft]},Object.defineProperty($a.prototype,"screen",{get:function(){var e;return Ke.isType(e=this.GetRoot(),Qn)?e:null},set:function(e){this.screen_hd7mxi$_0=e}}),$a.prototype.SetSize_dleff0$=function(e,t){var i;this.size.width=e,this.size.height=t,Ft.prototype.SetSize_dleff0$.call(this,e,t),null!=(i=this.modalMask)&&i.SetSize_dleff0$(e,t)},$a.prototype.moveToBackground=function(){},$a.prototype.resume=function(){},$a.prototype.SetMask_g5i0xv$=function(e){this.mask=e},$a.prototype.GetMask=function(){var e=this.mask;return null==e?this:e},$a.prototype.GetModalMask=function(){return this.modalMask},$a.prototype.addTouchListener_dal58m$=function(e){var t,i=Ke.isType(t=this.GetRoot(),Qn)?t:null;null!=i&&i.addTouchListener_dal58m$(e)},$a.prototype.removeTouchListener=function(){var e,t=Ke.isType(e=this.GetRoot(),Qn)?e:null;null!=t&&t.removeTouchListenerAll()},$a.prototype.SetFontName_61zpoe$=function(e){void 0===e&&(e="Main/"),this.fontName=e},$a.prototype.SetFontSize_mx4ult$=function(e){void 0===e&&(e=16),this.fontSize=e},$a.prototype.SetFontColor_hu04m1$=function(e,t,i,r){this.SetFontColor_7b5o5w$(e/255,t/255,i/255,r)},$a.prototype.SetFontColor_7b5o5w$=function(e,t,i,r){this.fontColor.r=e,this.fontColor.g=t,this.fontColor.b=i,this.fontColor.a=r},$a.prototype.SetFontColor_3nzkge$=function(e){void 0===e&&(e=hi().white_mx4ult$()),this.SetFontColor_7b5o5w$(e.r,e.g,e.b,e.a)},$a.prototype.GetFontColor=function(){return this.fontColor},$a.prototype.SetFontVerticalAlign_qn2em6$=function(e){void 0===e&&(e=io()),this.fontVerticalAlign=e},$a.prototype.SetFontHorizontalAlign_jdpdm8$=function(e){void 0===e&&(e=so()),this.fontHorizontalAlign=e},$a.prototype.SetChildVerticalAlign_qn2em6$=function(e){this.childVerticalAlign=e},$a.prototype.SetChildHorizontalAlign_jdpdm8$=function(e){this.childHorizontalAlign=e},$a.prototype.positionDeviceToUniversal_xpb3zu$=function(e,t,i,r){void 0===i&&(i=null),void 0===r&&(r=null);var o=r;return null==o?Ai(e/this.sizeScale.xRatio,t/this.sizeScale.yRatio):Ai(e/o.xRatio,t/o.yRatio)},$a.prototype.positionUniversalToDevice_xpb3zu$=function(e,t,i,r){void 0===i&&(i=null),void 0===r&&(r=null);var o=r;return null==o?Ai(e*this.sizeScale.xRatio,t*this.sizeScale.yRatio):Ai(e*o.xRatio,t*o.yRatio)},$a.prototype.sizeScaleUniversalToDevice_1lj1ir$=function(e,t,i,r,o,n,a,s){void 0===t&&(t=-1),void 0===i&&(i=-1),void 0===r&&(r=null),void 0===o&&(o=null),void 0===n&&(n=!0),void 0===a&&(a=!0),void 0===s&&(s=!1);var l=r,u=o;null==l&&(l=this),null==u&&(u=Je(l).sizeScale);var h=null;if(t<=0||i<=0){var c=gt().shared().GetTexture_61zpoe$(e);if(null!=c)if(0<t){var d=t/c.GetSize().width;h=new Vi(t,c.GetSize().height*d,u.xRatio,u.yRatio)}else if(0<i){var p=i/c.GetSize().height;h=new Vi(c.GetSize().width*p,i,u.xRatio,u.yRatio)}}else h=new Vi(t,i,u.xRatio,u.yRatio);return null==h&&(h=new Vi(t,i,u.xRatio,u.yRatio)),!0===n&&h.keepOriginalRatio_6taknv$(a),h},$a.prototype.sizeUniversalToDevice_1lj1ir$=function(e,t,i,r,o,n,a,s){void 0===t&&(t=-1),void 0===i&&(i=-1),void 0===r&&(r=null),void 0===o&&(o=null),void 0===n&&(n=!0),void 0===a&&(a=!0),void 0===s&&(s=!1);var l=this.sizeScaleUniversalToDevice_1lj1ir$(e,t,i,r,o,n,a,s);return Pi(l.newX,l.newY)},$a.prototype.createMask_jga54f$=function(e,t,i,r,o,n,a,s,l,u,h,c){void 0===o&&(o=-1),void 0===n&&(n=-1),void 0===a&&(a=null),void 0===s&&(s=null),void 0===l&&(l=!0),void 0===u&&(u=!0),void 0===h&&(h=!1),void 0===c&&(c=!0);var d=a,p=s;null==d&&(d=this),null==p&&(p=this.sizeScale);var f=Ai(e,t);!1===h&&(f=this.convertCoordinateUniversal_f8jzzg$(f,p));var m=null;if(o<=0||n<=0){var v=gt().shared().GetTexture_61zpoe$(r);if(null!=v)if(0<o){var g=o/v.GetSize().width;m=new Vi(o,v.GetSize().height*g,p.xRatio,p.yRatio)}else if(0<n){var _=n/v.GetSize().height;m=new Vi(v.GetSize().width*_,n,p.xRatio,p.yRatio)}}else m=new Vi(o,n,p.xRatio,p.yRatio);null==m&&(m=new Vi(o,n,p.xRatio,p.yRatio)),!0===l&&m.keepOriginalRatio_6taknv$(u);var $=Kr(f.x,f.y,i,r,m.newX,m.newY,c);return $.SetPercentCoordinate_6taknv$(h),$.SetVerticalAlign_qn2em6$(this.childVerticalAlign),$.SetHorizontalAlign_jdpdm8$(this.childHorizontalAlign),d.addChild_g5h3xp$($),$},$a.prototype.createSprite_vzsiy1$=function(e,t,i,r,o){return void 0===i&&(i=0),void 0===o&&(o=null),this.createSprite_591x4d$(e,t,i,r,void 0,void 0,o,null)},$a.prototype.createSprite_591x4d$=function(e,t,i,r,o,n,a,s,l,u,h){void 0===r&&(r=null),void 0===o&&(o=-1),void 0===n&&(n=-1),void 0===a&&(a=null),void 0===s&&(s=null),void 0===l&&(l=!0),void 0===u&&(u=!0),void 0===h&&(h=!1);var c=a,d=s;null==c&&(c=this),null==d&&(d=this.sizeScale);var p=Ai(e,t);!1===h&&(p=this.convertCoordinateUniversal_f8jzzg$(p,d));var f=null;if(o<=0||n<=0){if(null!=r){var m=gt().shared().GetTexture_61zpoe$(r);if(null!=m)if(0<o){var v=o/m.GetSize().width;f=new Vi(o,m.GetSize().height*v,d.xRatio,d.yRatio)}else if(0<n){var g=n/m.GetSize().height;f=new Vi(m.GetSize().width*g,n,d.xRatio,d.yRatio)}}}else f=new Vi(o,n,d.xRatio,d.yRatio);null==f&&(f=new Vi(o,n,d.xRatio,d.yRatio)),!0===l&&f.keepOriginalRatio_6taknv$(u);var _=la(p.x,p.y,i,r,f.newX,f.newY);return _.SetPercentCoordinate_6taknv$(h),_.SetVerticalAlign_qn2em6$(this.childVerticalAlign),_.SetHorizontalAlign_jdpdm8$(this.childHorizontalAlign),_.SetBlendFactor_mx4ult$(1),_.SetColor_vnjrmz$(hi().white_mx4ult$()),c.addChild_g5h3xp$(_),_},$a.prototype.createSprite_9wuqyc$=function(e,t,i,r,o,n,a,s,l,u,h){void 0===i&&(i=Ln()),void 0===r&&(r=null),void 0===o&&(o=-1),void 0===n&&(n=-1),void 0===a&&(a=null),void 0===s&&(s=null),void 0===l&&(l=!0),void 0===u&&(u=!0),void 0===h&&(h=!1);var c=i.value;return i===Ln()&&(c=0),this.createSprite_591x4d$(e,t,c,r,o,n,a,s,l,u,h)},$a.prototype.createLabel_hnp01c$=function(e,t,i,r,o,n,a,s,l){void 0===r&&(r=""),void 0===o&&(o=null),void 0===n&&(n=!1),void 0===a&&(a="Resource/UI/font_texture"),void 0===s&&(s=null),void 0===l&&(l=!1);var u=o,h=s;null==u&&(u=this),null==h&&(h=u.sizeScale);var c=Ai(e,t);!1===l&&(c=this.convertCoordinateUniversal_f8jzzg$(c,h));var d=Yr(c.x,c.y,i,r,this.fontName,this.fontSize*h.xRatio,this.fontColor);return d.SetPercentCoordinate_6taknv$(l),d.SetVerticalAlign_qn2em6$(this.fontVerticalAlign),d.SetHorizontalAlign_jdpdm8$(this.fontHorizontalAlign),u.addChild_g5h3xp$(d),d},$a.prototype.createLabel_17tgk7$=function(e,t,i,r,o,n,a,s,l){void 0===i&&(i=Ln()),void 0===r&&(r=""),void 0===o&&(o=null),void 0===n&&(n=!1),void 0===a&&(a="Resource/UI/font_texture"),void 0===s&&(s=null),void 0===l&&(l=!1);var u=i.value;return i===Ln()&&(u=0),this.createLabel_hnp01c$(e,t,u,r,o,n,a,s,l)},$a.prototype.createCompositeLabel_a1gu21$=function(e,t,i,r,o,n,a,s,l,u,h,c){void 0===i&&(i=Ln()),void 0===r&&(r=""),void 0===o&&(o=1),void 0===n&&(n=0),void 0===a&&(a=1),void 0===s&&(s=null),void 0===l&&(l=!1),void 0===u&&(u=null),void 0===c&&(c=null);var d=s,p=c;null==d&&(d=this);var f=i.value;i===Ln()&&(f=0),null==p&&(p=d.sizeScale);var m=this.convertCoordinateUniversal_f8jzzg$(Ai(e,t),p),v=mi(m.x,m.y,f,r,o,n,a,u,h);return v.SetVerticalAlign_qn2em6$(this.fontVerticalAlign),v.SetHorizontalAlign_jdpdm8$(this.fontHorizontalAlign),d.addChild_g5h3xp$(v),v},$a.prototype.createButton_2nezqx$=function(e,t,i,r,o,n,a,s,l,u,h,c){void 0===r&&(r=""),void 0===o&&(o=null),void 0===n&&(n=100),void 0===a&&(a=40),void 0===s&&(s=null),void 0===l&&(l=null),void 0===u&&(u=null),void 0===h&&(h=!0),void 0===c&&(c=null);var d=i.value;return i===Ln()&&(d=0),this.createButton_ix8ej2$(e,t,d,r,o,n,a,s,l,u,void 0,void 0,h,c)},$a.prototype.createButton_ix8ej2$=function(e,t,i,r,o,n,a,s,l,u,h,c,d,p){void 0===r&&(r=""),void 0===o&&(o=null),void 0===n&&(n=100),void 0===a&&(a=40),void 0===s&&(s=null),void 0===l&&(l=null),void 0===u&&(u=null),void 0===h&&(h=!0),void 0===c&&(c=!0),void 0===d&&(d=!0),void 0===p&&(p=null);var f=o,m=s,v=l,g=u;null==f&&(f=this),null==m&&(m=this.sizeScale);var _=Ai(e,t);!1===this.percentCoordinate&&(_=this.convertCoordinateUniversal_f8jzzg$(_,m));var $=null;if(n<=0||a<=0){if(null!=v){var y=gt().shared().GetTexture_61zpoe$(Je(v[0]));if(null!=y)if(0<n){var b=n/y.GetSize().width;$=new Vi(n,y.GetSize().height*b,m.xRatio,m.yRatio)}else if(0<a){var S=a/y.GetSize().height;$=new Vi(y.GetSize().width*S,a,m.xRatio,m.yRatio)}}}else $=new Vi(n,a,m.xRatio,m.yRatio);null==$&&($=new Vi(n,a,m.xRatio,m.yRatio)),!0===h&&$.keepOriginalRatio_6taknv$(c),null==g&&(g=Di(30,30,30,30)),null==v&&(this.GetSize().width,v=["Resource/UI/Button/ButtonFrame","Resource/UI/Button/ButtonFrame","Resource/UI/Button/ButtonFrame"],g=Di(30,30,30,30));var k=Zt(_.x,_.y,0,Je(v),r,this.fontName);return k.sizeScale=$,k.SetFontSize_mx4ult$(this.fontSize*m.xRatio),k.SetSize_dleff0$($.newX,$.newY),k.SetCenterRect_3fx80m$(g),k.SetClickAdjust_dleff0$(0,0),k.SetReaction_6taknv$(d),k.SetMessageHandler_4mjqr2$(p),k.SetVerticalAlign_qn2em6$(this.childVerticalAlign),k.SetHorizontalAlign_jdpdm8$(this.childHorizontalAlign),Je(f).addChild_g5h3xp$(k),k},$a.prototype.createImageButton_uax0jn$=function(e,t,i,r,o,n,a,s,l,u,h){void 0===i&&(i=jn()),void 0===r&&(r=""),void 0===o&&(o=-1),void 0===n&&(n=-1),void 0===a&&(a=null),void 0===s&&(s=null),void 0===l&&(l=null),void 0===u&&(u=!1),void 0===h&&(h=null);var c=i.value;return i===Ln()&&(c=0),this.createImageButton_nujlpm$(e,t,c,r,o,n,a,s,l,void 0,void 0,u,h)},$a.prototype.createImageButton_nujlpm$=function(e,t,i,r,o,n,a,s,l,u,h,c,d){void 0===r&&(r=""),void 0===o&&(o=-1),void 0===n&&(n=-1),void 0===a&&(a=null),void 0===s&&(s=null),void 0===l&&(l=null),void 0===u&&(u=!0),void 0===h&&(h=!0),void 0===c&&(c=!1),void 0===d&&(d=null);var p=a,f=s;null==p&&(p=this),null==f&&(f=Je(p).sizeScale);var m=Ai(e,t);!1===c&&(m=this.convertCoordinateUniversal_f8jzzg$(m,f));var v=null;if(o<=0||n<=0){var g=null!=l?l[0]:null;if(null!=g){var _=gt().shared().GetTexture_61zpoe$(g);if(null!=_)if(0<o){var $=o/_.GetSize().width;v=new Vi(o,_.GetSize().height*$,Je(f).xRatio,Je(f).yRatio)}else if(0<n){var y=n/_.GetSize().height;v=new Vi(_.GetSize().width*y,n,Je(f).xRatio,Je(f).yRatio)}}}else v=new Vi(o,n,Je(f).xRatio,Je(f).yRatio);null==v&&(v=new Vi(o,n,Je(f).xRatio,Je(f).yRatio)),!0===u&&v.keepOriginalRatio_6taknv$(h);var b=Zt(m.x,m.y,i,l,r,this.fontName,this.fontColor);return b.SetPercentCoordinate_6taknv$(c),b.sizeScale=v,b.SetFontSize_mx4ult$(this.fontSize*Je(f).xRatio),b.SetSize_dleff0$(v.newX,v.newY),b.SetClickAdjust_dleff0$(0,0),b.SetMessageHandler_4mjqr2$(d),b.SetVerticalAlign_qn2em6$(this.childVerticalAlign),b.SetHorizontalAlign_jdpdm8$(this.childHorizontalAlign),Je(p).addChild_g5h3xp$(b),b},$a.prototype.createTextArea_pvsv9g$=function(e,t,i,r,o,n,a,s,l,u,h,c,d,p,f,m){void 0===i&&(i=Ln()),void 0===n&&(n=.05),void 0===a&&(a=1),void 0===s&&(s=1),void 0===l&&(l=20),void 0===u&&(u=-1),void 0===h&&(h=0),void 0===c&&(c=1),void 0===d&&(d=1),void 0===p&&(p=null),void 0===f&&(f=null),void 0===m&&(m=null);var v=p,g=f;null==v&&(v=this),null==g&&(g=this.sizeScale);var _=this.convertCoordinateUniversal_f8jzzg$(Ai(e,t),g),$=new Vi(r,o,Je(g).xRatio,Je(g).yRatio),y=i.value;i===Ln()&&(y=0);var b=Pi(r*$.xRatio,o*$.yRatio),S=_a(_.x,_.y,y,b.width,b.height,this.fontName,this.fontSize*Je(g).yRatio,n,a,s*Je(g).yRatio,l,u,h,c,this.fontColor,d);return Je(v).addChild_g5h3xp$(S),S.SetVerticalAlign_qn2em6$(this.childVerticalAlign),S.SetHorizontalAlign_jdpdm8$(this.childHorizontalAlign),S},$a.prototype.createAction_xcdeti$=function(e,t,i,r,o,n,a,s){void 0===t&&(t=!1),void 0===i&&(i=!1),void 0===r&&(r=!1),void 0===o&&(o=-1),void 0===n&&(n=0),void 0===a&&(a=null);var l=a;null==l&&(l=this);var u=Je(l).findChildByName_3m52m6$("NodeForAction",0);if(null!=u)u.addUpdateCallback_sds54w$(e,t,i,r,o,n,s);else{var h=co();h.SetName_61zpoe$("NodeForAction"),Je(l).addChild_g5h3xp$(h),he(Je(l).GetName(),"GameView"),h.addUpdateCallback_sds54w$(e,t,i,r,o,n,s)}},$a.prototype.removeAction_sbe383$=function(e,t,i,r){void 0===t&&(t=0),void 0===i&&(i=0),void 0===r&&(r=null);var o=r;null==o&&(o=this);var n=Je(o).findChildByName_3m52m6$("NodeForAction",0);null!=n&&n.removeUpdateCallback_9sobi5$(e,i)},$a.prototype.removeAllAction_jldc6z$=function(e,t){void 0===e&&(e=null),void 0===t&&(t=!0);var i=e;null==i&&(i=this);var r=Je(i).findChildByName_3m52m6$("NodeForAction",0);null!=r&&r.removeAllUpdateCallback_6taknv$(t)},$a.prototype.printActionInfo_3hy050$=function(e){void 0===e&&(e=null)},$a.$metadata$={kind:o,simpleName:"View",interfaces:[Ft]},Sa.$metadata$={kind:u,simpleName:"Holder",interfaces:[]};var ka=null;function wa(){return null===ka&&new Sa,ka}function xa(){(Ca=this).initialized=!1}xa.prototype.shared=function(){return null==wa().instance&&(wa().instance=new ba),Je(wa().instance)},xa.prototype.shutdown=function(){var e;null!=(e=wa().instance)&&e.Shutdown(),wa().instance=null},xa.$metadata$={kind:u,simpleName:"Companion",interfaces:[]};var Ca=null;function za(){return null===Ca&&new xa,Ca}function Ta(e){this.closure$callback=e}function Ga(e){this.closure$callback=e}function Aa(){return qe().shared().loadEffect_ho7uxo$("Resource/Sound/Basic/Effect/Score Count - Nonzerobot","score"),Ze}function Ia(){return qe().shared().loadEffect_ho7uxo$("Resource/Sound/Basic/Effect/Score Count - Nonzerobot_PITCHUP","ghostscore"),Ze}function Na(){return qe().shared().loadEffect_ho7uxo$("Resource/Sound/Basic/Effect/Bling - Nonzerobot","star"),Ze}function Ma(){return qe().shared().loadEffect_ho7uxo$("Resource/Sound/Basic/Effect/Happy-sound","angel",2),Ze}function Oa(){return qe().shared().loadEffect_ho7uxo$("Resource/Sound/Basic/Effect/Distorted Laser Blast 2","boom",2,50),Ze}function Ra(){return qe().shared().loadEffect_ho7uxo$("Resource/Sound/Basic/Effect/Squeezed-Spark-Burst_TTX021003","electricity",2,50),Ze}function ja(){return qe().shared().loadEffect_ho7uxo$("Resource/Sound/Basic/Effect/Bomb Explosion","bomb",2),Ze}function Pa(){return qe().shared().loadEffect_ho7uxo$("Resource/Sound/Basic/Effect/Dynamite Explosion","dynamite",2),Ze}function Ba(){return qe().shared().loadEffect_ho7uxo$("Resource/Sound/Basic/Effect/Ancient Game Ceramic or Ice Bomb Explosion 1","singlebomb",2,50),Ze}function Ea(){return qe().shared().loadEffect_ho7uxo$("Resource/Sound/Basic/Effect/Laser Gun","laser",2,50),Ze}function Fa(){return qe().shared().loadEffect_ho7uxo$("Resource/Sound/Basic/Effect/Gem Fall","landing",2),Ze}function La(){return qe().shared().loadEffect_ho7uxo$("Resource/Sound/Basic/Effect/Timer End 2","shake",16),Ze}function Da(){return qe().shared().loadEffect_ho7uxo$("Resource/Sound/Basic/Effect/Message","change",16),Ze}function Va(){return qe().shared().loadEffect_ho7uxo$("Resource/Sound/Basic/Effect/Ghost Disappear Bleeps","ghost",1,50),Ze}function Ua(){return qe().shared().loadEffect_ho7uxo$("Resource/Sound/Basic/Effect/Explosion 1","feverPop0",16),Ze}function qa(){return qe().shared().loadEffect_ho7uxo$("Resource/Sound/Basic/Effect/Explosion 2","feverPop1",16),Ze}function Ha(){return qe().shared().loadEffect_ho7uxo$("Resource/Sound/Basic/Effect/Explosion 3","feverPop2",16),Ze}function Wa(){return qe().shared().loadEffect_ho7uxo$("Resource/Sound/Basic/Effect/Explosion 4","feverPop3",16),Ze}function Ya(){return qe().shared().loadEffect_ho7uxo$("Resource/Sound/Basic/Effect/Explosion 5","feverPop4",16),Ze}function Xa(){return qe().shared().loadEffect_ho7uxo$("Resource/Sound/Basic/Effect/Explosion 6","feverPop5",16),Ze}function Ka(){return qe().shared().loadEffect_ho7uxo$("Resource/Sound/Basic/Effect/Pops 5","pop9"),Ze}function Za(){return qe().shared().loadEffect_ho7uxo$("Resource/Sound/Basic/Effect/Message","click",1),Ze}function Qa(){return qe().shared().loadEffect_ho7uxo$("Resource/Sound/Basic/Effect/Buy","buy"),Ze}function Ja(){return qe().shared().loadEffect_ho7uxo$("Resource/Sound/Basic/Effect/Timer","timer"),Ze}function es(){return qe().shared().loadBGM_icsyi4$("Resource/Sound/Basic/BGM/LLS - Roux_small","MenuBGM",20),Ze}function ts(){return qe().shared().loadBGM_icsyi4$("Resource/Sound/Basic/BGM/LLS - Paper Turtles_small","MainBGM",20),Ze}function is(){return qe().shared().loadBGM_icsyi4$("Resource/Sound/Basic/BGM/LLS - Another Realm_small","TutorialBGM",20),Ze}function rs(){return qe().shared().loadBGM_icsyi4$("Resource/Sound/Basic/BGM/LLS - Facing Danger_small","FeverBGM",20),Ze}function os(){return qe().shared().loadBGM_icsyi4$("Resource/Sound/Basic/BGM/LLS - Results_small","GameOverBGM",20),Ze}function ns(){return qe().shared().loadBGM_icsyi4$("Resource/Sound/Basic/BGM/LLS - Reflections_small","ResultBGM",20),Ze}function as(){return qe().shared().loadBGM_icsyi4$("Resource/Sound/Basic/BGM/LLS - Victory-LN_small","NewRecordBGM",20),Ze}function ss(){return qe().shared().loadTexture_jyasbz$("Resource/UI/Background"),Ze}function ls(){return qe().shared().loadTexture_jyasbz$("Resource/UI/ParticleSquareWhite"),Ze}function us(){return qe().shared().loadTexture_jyasbz$("Resource/UI/particle_circle"),Ze}function hs(){return qe().shared().loadTexture_jyasbz$("Resource/UI/ParticleFairy"),Ze}function cs(){return qe().shared().loadTexture_jyasbz$("Resource/UI/IconTutorialMarker"),Ze}function ds(){return qe().shared().loadTexture_jyasbz$("Resource/UI/menu_tile"),Ze}function ps(){return qe().shared().loadTexture_jyasbz$("Resource/UI/board_mask"),Ze}function fs(){return qe().shared().loadTexture_jyasbz$("Resource/UI/menu_disabled_mask"),Ze}function ms(){return qe().shared().loadTexture_jyasbz$("Resource/UI/menu_selected_mask"),Ze}function vs(){return qe().shared().loadTexture_jyasbz$("Resource/UI/IconOption"),Ze}function gs(){return qe().shared().loadTexture_jyasbz$("Resource/UI/IconBeginner"),Ze}function _s(){return qe().shared().loadTexture_jyasbz$("Resource/UI/IconClassic"),Ze}function $s(){return qe().shared().loadTexture_jyasbz$("Resource/UI/IconBeginner6x6"),Ze}function ys(){return qe().shared().loadTexture_jyasbz$("Resource/UI/IconClassic6x6"),Ze}function bs(){return qe().shared().loadTexture_jyasbz$("Resource/UI/IconInfection6x6"),Ze}function Ss(){return qe().shared().loadTexture_jyasbz$("Resource/UI/IconHardcore6x6"),Ze}function ks(){return qe().shared().loadTexture_jyasbz$("Resource/UI/IconHome"),Ze}function ws(){return qe().shared().loadTexture_jyasbz$("Resource/UI/IconShare"),Ze}function xs(){return qe().shared().loadTexture_jyasbz$("Resource/UI/IconRate"),Ze}function Cs(){return qe().shared().loadTexture_jyasbz$("Resource/UI/IconPlay"),Ze}function zs(){return qe().shared().loadTexture_jyasbz$("Resource/UI/IconRestart"),Ze}function Ts(){return qe().shared().loadTexture_jyasbz$("Resource/UI/IconBack"),Ze}function Gs(){return qe().shared().loadTexture_jyasbz$("Resource/UI/IconGameCenter"),Ze}function As(){return qe().shared().loadTexture_jyasbz$("Resource/UI/IconSoundOn"),Ze}function Is(){return qe().shared().loadTexture_jyasbz$("Resource/UI/IconSoundOff"),Ze}function Ns(){return qe().shared().loadTexture_jyasbz$("Resource/UI/IconSFXOn"),Ze}function Ms(){return qe().shared().loadTexture_jyasbz$("Resource/UI/IconSFXOff"),Ze}function Os(){return qe().shared().loadTexture_jyasbz$("Resource/UI/IconCredits"),Ze}function Rs(){return qe().shared().loadTexture_jyasbz$("Resource/UI/IconStar"),Ze}function js(){return qe().shared().loadTexture_jyasbz$("Resource/UI/IconLock"),Ze}function Ps(){return qe().shared().loadTexture_jyasbz$("Resource/UI/IconLockDisabled"),Ze}function Bs(){return qe().shared().loadTexture_jyasbz$("Resource/UI/IconSync"),Ze}function Es(){return qe().shared().loadTexture_jyasbz$("Resource/UI/IconConfirm"),Ze}function Fs(){return qe().shared().loadTexture_jyasbz$("Resource/UI/IconOk"),Ze}function Ls(){return qe().shared().loadTexture_jyasbz$("Resource/UI/IconNo"),Ze}function Ds(){return qe().shared().loadTexture_jyasbz$("Resource/UI/IconYes"),Ze}function Vs(){return qe().shared().loadTexture_jyasbz$("Resource/UI/IconAbandon"),Ze}function Us(){return qe().shared().loadTexture_jyasbz$("Resource/UI/IconAbandonDisabled"),Ze}function qs(){return qe().shared().loadTexture_jyasbz$("Resource/UI/IconPause"),Ze}function Hs(){return qe().shared().loadTexture_jyasbz$("Resource/UI/IconPauseDisabled"),Ze}function Ws(){return qe().shared().loadTexture_jyasbz$("Resource/UI/IconTutorial"),Ze}function Ys(){return qe().shared().loadTexture_jyasbz$("Resource/UI/IconMarker","IconMarker"),Ze}function Xs(){return qe().shared().loadTexture_jyasbz$("Resource/UI/IconKorean"),Ze}function Ks(){return qe().shared().loadTexture_jyasbz$("Resource/UI/IconEnglish"),Ze}function Zs(){return qe().shared().loadTexture_jyasbz$("Resource/UI/IconBlindcat"),Ze}function Qs(){return qe().shared().loadTexture_jyasbz$("Resource/UI/IconColorNormal"),Ze}function Js(){return qe().shared().loadTexture_jyasbz$("Resource/UI/IconColorBlind"),Ze}function el(){return qe().shared().loadTexture_jyasbz$("Resource/UI/IconBatteryLow"),Ze}function tl(){return qe().shared().loadTexture_jyasbz$("Resource/UI/IconBatteryMedium"),Ze}function il(){return qe().shared().loadTexture_jyasbz$("Resource/UI/IconBatteryHigh"),Ze}function rl(){return qe().shared().loadTexture_jyasbz$("Resource/UI/IconFinger_0"),Ze}function ol(){return qe().shared().loadTexture_jyasbz$("Resource/UI/IconFinger_1"),Ze}function nl(){return qe().shared().loadTexture_jyasbz$("Resource/UI/board_0"),Ze}function al(){return qe().shared().loadTexture_jyasbz$("Resource/UI/board_1"),Ze}function sl(){return qe().shared().loadTexture_jyasbz$("Resource/UI/board_2"),Ze}function ll(){return qe().shared().loadTexture_jyasbz$("Resource/UI/board_3"),Ze}function ul(){return qe().shared().loadTexture_jyasbz$("Resource/UI/board_4"),Ze}function hl(){return qe().shared().loadTexture_jyasbz$("Resource/UI/board_5"),Ze}function cl(){return qe().shared().loadTexture_jyasbz$("Resource/UI/board_6"),Ze}function dl(){return qe().shared().loadTexture_jyasbz$("Resource/UI/board_7"),Ze}function pl(){return qe().shared().loadTexture_jyasbz$("Resource/UI/board_8"),Ze}function fl(){return qe().shared().loadTexture_jyasbz$("Resource/UI/fever_board"),Ze}function ml(){return qe().shared().loadTexture_jyasbz$("Resource/UI/fever_board_left"),Ze}function vl(){return qe().shared().loadTexture_jyasbz$("Resource/UI/fever_board_right"),Ze}function gl(){return qe().shared().loadTexture_jyasbz$("Resource/UI/TextNirvanic","Resource/UI/FEVER"),Ze}function _l(){return qe().shared().loadTexture_jyasbz$("Resource/UI/TextNoMoreMatch","Resource/UI/NOMOREMATCH"),Ze}function $l(){return qe().shared().loadTexture_jyasbz$("Resource/BlockSet/Number/IconMenu"),Ze}function yl(){return qe().shared().loadTexture_jyasbz$("Resource/BlockSet/Dice/IconMenu"),Ze}function bl(){return qe().shared().loadTexture_jyasbz$("Resource/BlockSet/Bird/IconMenu"),Ze}function Sl(){return qe().shared().loadTexture_jyasbz$("Resource/UI/IconContinue"),Ze}function kl(){return qe().shared().loadTexture_jyasbz$("Resource/UI/IconContinueDisabled"),Ze}function wl(){return qe().shared().loadTexture_jyasbz$("Resource/UI/IconVideo"),Ze}function xl(){return qe().shared().loadTexture_jyasbz$("Resource/UI/IconVideoDisabled"),Ze}function Cl(){return qe().shared().loadTexture_jyasbz$("Resource/UI/Title","Resource/UI/Title"),Ze}function zl(){return qe().shared().loadTexture_jyasbz$("Resource/UI/TitleOutline","Resource/UI/TitleOutline"),Ze}function Tl(){return qe().shared().loadTexture_jyasbz$("Resource/UI/TextReady","Resource/UI/READY"),Ze}function Gl(){return qe().shared().loadTexture_jyasbz$("Resource/UI/TextStart","Resource/UI/START"),Ze}function Al(){return qe().shared().loadTexture_jyasbz$("Resource/UI/TextNoMoreMatch","Resource/UI/NOMOREMATCH"),Ze}function Il(){return qe().shared().loadTexture_jyasbz$("Resource/UI/TextTimeOver","Resource/UI/GAMEOVER"),Ze}function Nl(){return qe().shared().loadTexture_jyasbz$("Resource/UI/TextLastChance","Resource/UI/LASTCHANCE"),Ze}function Ml(){return qe().shared().loadTexture_jyasbz$("Resource/UI/TextNirvanic","Resource/UI/FEVER"),Ze}function Ol(){return qe().shared().loadTexture_jyasbz$("Resource/UI/AppStoreBadge"),Ze}function Rl(){return qe().shared().loadTexture_jyasbz$("Resource/UI/google-play-badge"),Ze}function jl(){var e=S(["Resource/UI/timer_gage","Resource/UI/timer_gage_glass","Resource/UI/fever_gage","Resource/UI/fever_gage_glass","Resource/UI/Particle","Resource/UI/ParticleBar","Resource/UI/LightningBar"]);return gt().shared().makeAtlas_kwv3np$("gameSprite",e),Ze}function Pl(){return gt().shared().loadAtlas_ivxn3r$("Match"),Ze}function Bl(){return gt().shared().loadAtlas_ivxn3r$("Block"),Ze}function El(){return gt().shared().loadAtlas_ivxn3r$("Effect"),Ze}function Fl(){var e,t,i="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123=_-,.!()[]%+?=>/'";return i+=tu(4567.89),null!=(t=Ke.isType(e=Ie().shared().GetGuestScreen(),eh)?e:null)&&t.createFont_basrv3$("Number/",i,20,1),Ze}function Ll(){var e,t;return null!=(t=Ke.isType(e=Ie().shared().GetGuestScreen(),eh)?e:null)&&t.createFont_basrv3$("BigScore/","0123456789:,.CombosK+s",40,1,"Roboto-Black.ttf"),Ze}function Dl(){var e,t;return null!=(t=Ke.isType(e=Ie().shared().GetGuestScreen(),eh)?e:null)&&t.addFontAlias_puj7f4$("BigScore/","Gage/"),Ze}Object.defineProperty(ba.prototype,"requestHandler",{get:function(){return null==this.requestHandler_6kqtfy$_0?z("requestHandler"):this.requestHandler_6kqtfy$_0},set:function(e){this.requestHandler_6kqtfy$_0=e}}),ba.prototype.initialize_hmf0yx$=function(e){this.shutdown=!1,this.requestHandler=e},ba.prototype.Shutdown=function(){this.shutdown=!0},ba.prototype.isBannerReady=function(){return this.requestHandler.isBannerReady()},ba.prototype.showAds_6taknv$=function(e){this.requestHandler.showAds_6taknv$(e)},ba.prototype.getAdsHeight=function(){return this.requestHandler.getHeight()},Ta.prototype.callbackMethod_8kj6y5$=function(e,t){this.closure$callback(e)},Ta.$metadata$={kind:o,interfaces:[pu]},ba.prototype.showInterstitial_y8twos$=function(e){return this.requestHandler.showInterstitial_6zcd6v$(new Ta(e))},ba.prototype.isRewardReady=function(){return this.requestHandler.isRewardReady()},Ga.prototype.callbackMethod_8kj6y5$=function(e,t){this.closure$callback(e)},Ga.$metadata$={kind:o,interfaces:[pu]},ba.prototype.playRewarded_y8twos$=function(e){return this.requestHandler.playRewarded_6zcd6v$(new Ga(e))},ba.prototype.setAdsMute_6taknv$=function(e){this.requestHandler.setAdsMute_6taknv$(e)},ba.prototype.showLeaderboard=function(){this.requestHandler.showLeaderboard()},ba.prototype.submitScore_ds2soj$=function(e,t,i){this.requestHandler.submitScore_ds2soj$(e,t,i)},ba.prototype.isLogin=function(){return this.requestHandler.isLogin()},ba.prototype.loginIntent=function(){this.requestHandler.loginIntent()},ba.prototype.getVersionName=function(){return this.requestHandler.getVersionName()},ba.prototype.getVersionCode=function(){return this.requestHandler.getVersionCode()},ba.prototype.isDesktop=function(){return!0},ba.prototype.printLog_7z05hs$=function(e,t,i,r){void 0===t&&(t=""),void 0===i&&(i=0),void 0===r&&(r="")},ba.prototype.clearLog=function(){var e;null!=(e=this.deviceScene)&&e.clearLog()},ba.prototype.shareSocial_3yj0dh$=function(e,t,i,r){void 0===i&&(i=null)},ba.prototype.SetTitle_61zpoe$=function(e){},ba.prototype.changeFPS_za3lpa$=function(e){},ba.prototype.GetScreenshot_3fx80m$=function(e){return void 0===e&&(e=null),Ie().shared().GetScreenshot_3fx80m$(e)},ba.prototype.pause=function(){},ba.prototype.resume=function(){var e;null!=(e=this.deviceScene)&&e.resume()},ba.prototype.SetLoadingProgress_mx4ult$=function(e){this.loadingProgress=e},ba.prototype.GetLoadingProgress=function(){return this.loadingProgress},ba.prototype.loadSoundResource=function(){return S([Aa,Ia,Na,Ma,Oa,Ra,ja,Pa,Ba,Ea,Fa,La,Da,Va,Ua,qa,Ha,Wa,Ya,Xa,Ka,Za,Qa,Ja,es,ts,is,rs,os,ns,as])},ba.prototype.loadDefaultResource_dleff0$=function(e,t){var a,s,l,u,i=new Vi(320,480,void 0,void 0,e,t);return S([ss,ls,us,hs,cs,ds,ps,fs,ms,vs,gs,_s,$s,ys,bs,Ss,ks,ws,xs,Cs,zs,Ts,Gs,As,Is,Ns,Ms,Os,Rs,js,Ps,Bs,Es,Fs,Ls,Ds,Vs,Us,qs,Hs,Ws,Ys,Xs,Ks,Zs,Qs,Js,el,tl,il,rl,ol,nl,al,sl,ll,ul,hl,cl,dl,pl,fl,ml,vl,gl,_l,$l,yl,bl,Sl,kl,wl,xl,Cl,zl,Tl,Gl,Al,Il,Nl,Ml,Ol,Rl,jl,Pl,Bl,El,Fl,Ll,Dl,(a=i,s=e,l=t,u=this,function(){var e,t="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123=_-,.!()[]%+?=>/'";for(t+=tu(4567.89),e=oe(t);e.hasNext();){var i,r=ne(e.next()),o=x(r);e:do{if(Ke.isNumber(o)){i=o.toString();break e}if("string"==typeof o){i=o;break e}if("boolean"==typeof o){i=o.toString();break e}if(Ke.isChar(o)){i=o.toString();break e}i=""}while(0);var n=i;qe().shared().createStringTexture_49g1x9$(n," ",96*a.xRatio,hi().white_mx4ult$(),hi().puzzleTileGray_mx4ult$(),-2,void 0,void 0,"Main_Outlined/"+n)}return u.generateLocalFont_dleff0$(s,l),Ze})])},ba.prototype.generateLocalFont_dleff0$=function(e,t){var i=new Vi(320,480,void 0,void 0,e,t),r="NanumGothicBold.ttf";he(Xl(),"kr")&&(r="NanumGothicBold.ttf");var o,n=Zl("MENU_COUNT");e:do{if(null==n){o=0;break e}if(Ke.isNumber(n)){o=et(n);break e}if("string"==typeof n)try{o=tt(n);break e}catch(e){if(Ke.isType(e,ta)){o=0;break e}throw e}o=0}while(0);var a=o;null!=a&&this.generateLocalFontTexture_5a9l1g$("MENU_",0,a-1|0,r,i,S(["MENU_/","Menu_Mode/"]));var s,l=Zl("TUTORIAL_COUNT");e:do{if(null==l){s=0;break e}if(Ke.isNumber(l)){s=et(l);break e}if("string"==typeof l)try{s=tt(l);break e}catch(e){if(Ke.isType(e,ta)){s=0;break e}throw e}s=0}while(0);null!=(a=s)&&this.generateLocalFontTexture_5a9l1g$("TUTORIAL_",0,a-1|0,r,i,S(["TUTORIAL_/","Number_Outlined/"])),this.SetLoadingProgress_mx4ult$(95);var u,h=Zl("BEGINNER_TIP_COUNT");e:do{if(null==h){u=0;break e}if(Ke.isNumber(h)){u=et(h);break e}if("string"==typeof h)try{u=tt(h);break e}catch(e){if(Ke.isType(e,ta)){u=0;break e}throw e}u=0}while(0);null!=(a=u)&&this.generateLocalFontTexture_5a9l1g$("BEGINNER_TIP_",0,a-1|0,r,i,S(["BEGINNER_TIP_/","Number_Outlined/"]));var c,d=Zl("BEGINNER6x6_TIP_COUNT");e:do{if(null==d){c=0;break e}if(Ke.isNumber(d)){c=et(d);break e}if("string"==typeof d)try{c=tt(d);break e}catch(e){if(Ke.isType(e,ta)){c=0;break e}throw e}c=0}while(0);null!=(a=c)&&this.generateLocalFontTexture_5a9l1g$("BEGINNER6x6_TIP_",0,a-1|0,r,i,S(["BEGINNER6x6_TIP_/","Number_Outlined/"]));var p,f=Zl("Classic_TIP_COUNT");e:do{if(null==f){p=0;break e}if(Ke.isNumber(f)){p=et(f);break e}if("string"==typeof f)try{p=tt(f);break e}catch(e){if(Ke.isType(e,ta)){p=0;break e}throw e}p=0}while(0);null!=(a=p)&&this.generateLocalFontTexture_5a9l1g$("Classic_TIP_",0,a-1|0,r,i,S(["Classic_TIP_/","Number_Outlined/"]))};var Vl,Ul,ql,Hl,Wl=Ke.kotlin.collections.LinkedHashSet_init_287e2$;function Yl(e){Hl=he(ql=e,"kr")?Ul:Vl}function Xl(){return ql}function Kl(e){return 0===e.length}function Zl(e){var t=Hl.get_11rb$(e);return null!=t?t:e}ba.prototype.generateLocalFontTexture_5a9l1g$=function(e,t,i,r,o,n){var a,s,l,u;void 0===r&&(r=" ");for(var h=Wl(),c=t;c<=i;c++){var d="";if(-1===t)d=Zl(e);else{var p;e:do{if(Ke.isNumber(c)){p=c.toString();break e}if("string"==typeof c){p=c;break e}if("boolean"==typeof c){p=c.toString();break e}if(Ke.isChar(c)){p=c.toString();break e}p=""}while(0);d=Zl(e+p)}if(0===d.length!=!0){var f=!1;for(a=oe(d);a.hasNext();){var m,v=ne(a.next()),g=x(v);e:do{if(Ke.isNumber(g)){m=g.toString();break e}if("string"==typeof g){m=g;break e}if("boolean"==typeof g){m=g.toString();break e}if(Ke.isChar(g)){m=g.toString();break e}m=""}while(0);var _=m;!0!==f?he(_,"\n")||(he(_,"[")?f=!0:h.add_11rb$(_)):he(_,"]")&&(f=!1)}}}var $="";for(s=h.iterator();s.hasNext();){$+=s.next()}null!=(u=Ke.isType(l=Ie().shared().GetGuestScreen(),eh)?l:null)&&u.createFont_basrv3$(n.get_za3lpa$(0),$,20,1,r);for(var y=0,b=n.iterator();b.hasNext();++y){var S,k,w=b.next();0!==y&&(null!=(k=Ke.isType(S=Ie().shared().GetGuestScreen(),eh)?S:null)&&k.addFontAlias_puj7f4$(n.get_za3lpa$(0),w))}},ba.prototype.loadBlockSet_jyasbz$=function(e,t){void 0===t&&(t=null);var i=t;null==i&&(i=e);for(var r=le(),o=0;o<=4;o++){var n=i+o.toString()+"_normal",a=e+o.toString()+"_normal";r.put_xwzc9p$(n,a)}var s=i+"connect_0",l=e+"connect_0";r.put_xwzc9p$(s,l);var u=i+"connect_1",h=e+"connect_1";r.put_xwzc9p$(u,h);var c=i+"connect_2",d=e+"connect_2";r.put_xwzc9p$(c,d);var p=i+"connect_3",f=e+"connect_3";r.put_xwzc9p$(p,f);var m=i+"board_tile",v=e+"board_tile";r.put_xwzc9p$(m,v);var g=i+"inactive_mask",_=e+"inactive_mask";r.put_xwzc9p$(g,_);var $=i+"inactive_mask_CB",y=e+"inactive_mask_CB";r.put_xwzc9p$($,y);var b=i+"IconMenu",S=e+"IconMenu";r.put_xwzc9p$(b,S),gt().shared().makeAtlas_mvjluj$(i+"_blocks",r);var k=Km().GetString_sv46oe$(Df(),void 0,"Normal");he(k,"Blind")&&gt().shared().addAlias_puj7f4$(e+"inactive_mask_CB",e+"inactive_mask")},ba.prototype.unloadBlockSet_61zpoe$=function(e){if(0===e.length!=!0){for(var t=0;t<=4;t++)qe().shared().unloadTexture_61zpoe$(e+t.toString()+"_normal"),qe().shared().unloadTexture_61zpoe$(e+t.toString()+"_1"),qe().shared().unloadTexture_61zpoe$(e+t.toString()+"_2"),qe().shared().unloadTexture_61zpoe$(e+t.toString()+"_4"),qe().shared().unloadTexture_61zpoe$(e+t.toString()+"_8");qe().shared().unloadTexture_61zpoe$(e+"white_out"),qe().shared().unloadTexture_61zpoe$(e+"board_tile"),qe().shared().unloadTexture_61zpoe$(e+"board_tile_mask"),qe().shared().unloadTexture_61zpoe$(e+"IconMenu"),gt().shared().removeAtlas_61zpoe$(e+"_blocks")}},ba.prototype.GetCurrentBlockSetResource=function(){return this.currentBlockSetResource},ba.prototype.GetCurrentBlockSetId=function(){return this.currentBlockSetId},ba.prototype.changeCurrentBlockSet_61zpoe$=function(e){var t,i,r=Ke.isType(t=Nv().shared().GetItemInfo_61zpoe$(e),Sv)?t:null;return null==r&&(r=Ke.isType(i=Nv().shared().GetItemByCategory_1svh2y$(dv(),0),Sv)?i:null),this.loadBlockSet_jyasbz$(Je(r).resource),this.currentBlockSetResource=Je(r).resource,this.currentBlockSetId=Je(r).id,!0},ba.prototype.saveCurrentBlockSet=function(){var e,t,i=Ke.isType(e=Nv().shared().GetItemInfo_61zpoe$(this.currentBlockSetId),Sv)?e:null;null==i&&(i=Ke.isType(t=Nv().shared().GetItemByCategory_1svh2y$(dv(),0),Sv)?t:null),Km().SetString_sv46oe$(Bf(),void 0,Je(i).id)},ba.$metadata$={kind:o,simpleName:"AppController",interfaces:[]};var Ql=Ke.kotlin.text.reversed_gw00vp$;function Jl(e){var t,i,r=e.toString(),o="",n=0;for(t=oe(Ql(Ke.isCharSequence(i=r)?i:Ee()).toString());t.hasNext();){var a=ne(t.next());n%3==0&&0<n&&(o=","+o);var s=o;o=String.fromCharCode(a)+s,n=n+1|0}return o}function eu(e){return e.toString()}function tu(e){return e.toString()}var iu=G("SamsaraHTML.com.blindcatstudio.samsara.INT_s8jyv4$",I(function(){var t=Ke.numberToInt,i=Ke.kotlin.text.toInt_pdl1vz$,r=Ke.kotlin.Exception;return function(e){if(null==e)return 0;if(Ke.isNumber(e))return t(e);if("string"==typeof e)try{return i(e)}catch(e){if(Ke.isType(e,r))return 0;throw e}return 0}})),ru=G("SamsaraHTML.com.blindcatstudio.samsara.FLOAT_s8jyv4$",I(function(){var t=Ke.numberToDouble,i=Ke.kotlin.Exception,r=Ke.kotlin.text.toDouble_pdl1vz$;return function(e){if(null==e)return 0;if(Ke.isNumber(e))return t(e);if("string"==typeof e)try{return r(e)}catch(e){if(Ke.isType(e,i))return 0;throw e}return 0}})),ou=G("SamsaraHTML.com.blindcatstudio.samsara.DOUBLE_s8jyv4$",I(function(){var t=Ke.numberToDouble,i=Ke.kotlin.text.toDouble_pdl1vz$,r=Ke.kotlin.Exception;return function(e){if(null==e)return 0;if(Ke.isNumber(e))return t(e);if("string"==typeof e)try{return i(e)}catch(e){if(Ke.isType(e,r))return 0;throw e}return 0}})),nu=G("SamsaraHTML.com.blindcatstudio.samsara.STRING_za3rmp$",function(e){return Ke.isNumber(e)?e.toString():"string"==typeof e?e:"boolean"==typeof e?e.toString():Ke.isChar(e)?e.toString():""}),au=G("SamsaraHTML.com.blindcatstudio.samsara.INT64_za3rmp$",I(function(){var t=Ke.numberToLong,i=Ke.kotlin.text.toLong_pdl1vz$;return function(e){return Ke.isNumber(e)?t(e):"string"==typeof e?i(e):Ke.Long.ZERO}}));function su(e){this.v=e}function lu(){this.ballSize=0,this.amount=0,this.shrinkTime=0,this.power=0,this.drag=0,this.timeToLive=0,this.size=0,this.fireShrinkStart=0,this.fireShrinkEnd=0,this.maxBrightStart=0,this.maxBrightEnd=0,this.brightOffTime=0,this.child=Le()}function uu(e,t,i,r,o,n,a,s,l,u,h,c,d,p){return void 0===e&&(e=100),void 0===t&&(t=50),void 0===i&&(i=.15),void 0===r&&(r=300),void 0===o&&(o=1),void 0===n&&(n=1.5),void 0===a&&(a=100),void 0===s&&(s=.5),void 0===l&&(l=1.5),void 0===u&&(u=.3),void 0===h&&(h=.8),void 0===c&&(c=.5),void 0===d&&(d=1),p=p||Object.create(lu.prototype),lu.call(p),p.ballSize=e,p.amount=t,p.shrinkTime=i,p.power=r,p.drag=o,p.timeToLive=n*d,p.size=a,p.fireShrinkStart=s*d,p.fireShrinkEnd=l*d,p.maxBrightStart=u*d,p.maxBrightEnd=h*d,p.brightOffTime=c*d,p}function hu(){this.particleManager=null}function cu($,y){return function(e,t,i){var r,o;if(0===i)return Ke.isType(e.GetLocalVariables_61zpoe$("Fireball"),lu)&&$.explosion_xovnep$(e),!1;if(e.age<=y.shrinkTime?(e.size<0&&(e.size=0),e.SetOriginalAlpha_mx4ult$(e.age/y.maxBrightStart)):e.age<=y.maxBrightEnd?e.SetOriginalAlpha_mx4ult$(e.age/y.maxBrightStart):e.SetOriginalAlpha_mx4ult$(1-(e.age-y.maxBrightEnd)/y.brightOffTime),e.age>y.shrinkTime){var n="string"==typeof(r=e.GetLocalVariables_61zpoe$("State"))?r:null;if(he(n,"ready")){e.addLocalVariables_bm4g0d$("State",Ke.isType("exploded",b)?"exploded":Ee());var a=Ke.isType(o=e.GetLocalVariables_61zpoe$("Backup"),Ci)?o:null;null!=a&&(e.movement=Gi().copy_qgvyiu$(a));var s,l=go(),u=y.power/2;e:do{if(null==u){s=0;break e}if(Ke.isNumber(u)){s=et(u);break e}if("string"==typeof u)try{s=tt(u);break e}catch(e){if(Ke.isType(e,ta)){s=0;break e}throw e}s=0}while(0);var h,c=l.arc4random_uniform_za3lpa$(s);e:do{if(null==c){h=0;break e}if(Ke.isNumber(c)){h=it(c);break e}if("string"==typeof c)try{h=Qe(c);break e}catch(e){if(Ke.isType(e,ta)){h=0;break e}throw e}h=0}while(0);var d,p=Ai(h+y.power/2,0,0),f=go().arc4random_uniform_za3lpa$(360);e:do{if(null==f){d=0;break e}if(Ke.isNumber(f)){d=it(f);break e}if("string"==typeof f)try{d=Qe(f);break e}catch(e){if(Ke.isType(e,ta)){d=0;break e}throw e}d=0}while(0);p.rotateY_mx4ult$(d);var m,v=go().arc4random_uniform_za3lpa$(360);e:do{if(null==v){m=0;break e}if(Ke.isNumber(v)){m=it(v);break e}if("string"==typeof v)try{m=Qe(v);break e}catch(e){if(Ke.isType(e,ta)){m=0;break e}throw e}m=0}while(0);p.rotateX_mx4ult$(m),e.movement.x=e.movement.x+p.x,e.movement.y=e.movement.y+p.y,e.movement.z=e.movement.z+p.z;var g,_=go().arc4random_uniform_za3lpa$(20);e:do{if(null==_){g=0;break e}if(Ke.isNumber(_)){g=it(_);break e}if("string"==typeof _)try{g=Qe(_);break e}catch(e){if(Ke.isType(e,ta)){g=0;break e}throw e}g=0}while(0);e.size=g+y.size,e.SetOriginalAlpha_mx4ult$(1)}}return e.age>y.fireShrinkStart&&(e.size=e.size-i*y.size/(y.fireShrinkEnd-y.fireShrinkStart),e.size<0)&&!(e.size=0)}}function du(e,t){return t=t||Object.create(hu.prototype),hu.call(t),t.particleManager=e,t}function pu(){}function fu(){}function mu(){}function vu(){Su()}function gu(){(_u=this).instance=new vu,this.user_n3qzoi$_0=this.user_n3qzoi$_0}su.$metadata$={kind:o,simpleName:"Ref",interfaces:[]},su.prototype.component1=function(){return this.v},su.prototype.copy_11rb$=function(e){return new su(void 0===e?this.v:e)},su.prototype.toString=function(){return"Ref(v="+Ke.toString(this.v)+")"},su.prototype.hashCode=function(){var e=0;return e=31*e+Ke.hashCode(this.v)|0},su.prototype.equals=function(e){return this===e||null!==e&&"object"==typeof e&&Object.getPrototypeOf(this)===Object.getPrototypeOf(e)&&Ke.equals(this.v,e.v)},lu.prototype.addFireball_1jtdr7$=function(e){this.child.add_11rb$(e)},lu.prototype.getFireball=function(){return 0===this.child.size?null:this.child.removeAt_za3lpa$(0)},lu.$metadata$={kind:o,simpleName:"Firework",interfaces:[]},hu.prototype.explosion_xovnep$=function(e){var t,i,r=Ke.isType(t=e.removeLocalVariables_61zpoe$("Fireball"),lu)?t:Ee();i=r.amount-1|0;for(var o=0;o<=i;o++){var n="Particle_white";switch(go().arc4random_uniform_za3lpa$(5)){case 0:n="Particle_red";break;case 1:n="Particle_yellow";break;case 2:n="Particle_green";break;case 3:n="Particle_blue";break;default:n="Particle_white"}var a,s=Ai(.3*r.ballSize,0,0),l=go().arc4random_uniform_za3lpa$(360);e:do{if(null==l){a=0;break e}if(Ke.isNumber(l)){a=it(l);break e}if("string"==typeof l)try{a=Qe(l);break e}catch(e){if(Ke.isType(e,ta)){a=0;break e}throw e}a=0}while(0);s.rotateY_mx4ult$(a);var u,h=go().arc4random_uniform_za3lpa$(360);e:do{if(null==h){u=0;break e}if(Ke.isNumber(h)){u=it(h);break e}if("string"==typeof h)try{u=Qe(h);break e}catch(e){if(Ke.isType(e,ta)){u=0;break e}throw e}u=0}while(0);s.rotateX_mx4ult$(u);var c=this.particleManager.createParticle_t3d6nt$(e.position.x+e.local.x+s.x,e.position.y+e.local.y+s.y,e.position.z+e.local.z+s.z,void 0,void 0,void 0,void 0,void 0,void 0,r.size,void 0,n,void 0,!1);if(null!=c){c.SetCallback_lnidq9$(cu(this,r)),c.movement.x=e.movement.x*r.drag,c.movement.y=e.movement.y*r.drag,c.movement.z=e.movement.z*r.drag;var d=Gi().copy_qgvyiu$(c.movement);c.movement.x=c.movement.x+-s.x/r.shrinkTime,c.movement.y=c.movement.y+-s.y/r.shrinkTime,c.movement.z=c.movement.z+-s.z/r.shrinkTime,c.addLocalVariables_bm4g0d$("Backup",d),c.addLocalVariables_bm4g0d$("State",Ke.isType("ready",b)?"ready":Ee());var p,f=r.timeToLive;e:do{if(null==o){p=0;break e}if(Ke.isNumber(o)){p=it(o);break e}if("string"==typeof o)try{p=Qe(o);break e}catch(e){if(Ke.isType(e,ta)){p=0;break e}throw e}p=0}while(0);c.timeToLive=f+.01*p,c.keepDirection=!0;var m,v=c.rotation,g=go().arc4random_uniform_za3lpa$(300)+1|0;e:do{if(null==g){m=0;break e}if(Ke.isNumber(g)){m=it(g);break e}if("string"==typeof g)try{m=Qe(g);break e}catch(e){if(Ke.isType(e,ta)){m=0;break e}throw e}m=0}while(0);v.z=m,Je(c.GetSprite()).SetColor_vnjrmz$(hi().white_mx4ult$(0)),Je(c.GetSprite()).SetBlendMode_ieo8yr$(ti()),c.SetOriginalAlpha_mx4ult$(0);var _=r.getFireball();null!=_&&c.addLocalVariables_bm4g0d$("Fireball",_)}}},hu.prototype.createFirework_uq37hz$=function(e,t,i,r,o,n,a,s,l,u,h,c,d,p,f){var m;void 0===e&&(e=100),void 0===t&&(t=50),void 0===i&&(i=.1),void 0===r&&(r=300),void 0===o&&(o=1),void 0===n&&(n=1.5),void 0===a&&(a=100),void 0===s&&(s=1),void 0===l&&(l=1.5),void 0===u&&(u=.2),void 0===h&&(h=1),void 0===c&&(c=.5),void 0===d&&(d=1),void 0===p&&(p=0),void 0===f&&(f=.5);var v=uu(e,t,i,r,o,n,a,s,l,u,h,c,d);if(0<p){var g;e:do{if(null==t){g=0;break e}if(Ke.isNumber(t)){g=it(t);break e}if("string"==typeof t)try{g=Qe(t);break e}catch(e){if(Ke.isType(e,ta)){g=0;break e}throw e}g=0}while(0);var _,$=g*f;e:do{if(null==$){_=0;break e}if(Ke.isNumber($)){_=et($);break e}if("string"==typeof $)try{_=tt($);break e}catch(e){if(Ke.isType(e,ta)){_=0;break e}throw e}_=0}while(0);m=_-1|0;for(var y=0;y<=m;y++)v.addFireball_1jtdr7$(this.createFirework_uq37hz$(e,3,i,r,o,void 0,a,void 0,void 0,void 0,void 0,void 0,1*d,p-1|0))}return v},hu.$metadata$={kind:o,simpleName:"FireworkManager",interfaces:[]},pu.$metadata$={kind:l,simpleName:"CallbackEvent",interfaces:[]},fu.$metadata$={kind:l,simpleName:"IActivityRequestHandler",interfaces:[]},mu.$metadata$={kind:l,simpleName:"UserLocalData",interfaces:[]},Object.defineProperty(gu.prototype,"user",{get:function(){return null==this.user_n3qzoi$_0?z("user"):this.user_n3qzoi$_0},set:function(e){this.user_n3qzoi$_0=e}}),gu.$metadata$={kind:u,simpleName:"Holder",interfaces:[]};var _u=null;function $u(){return null===_u&&new gu,_u}function yu(){bu=this}yu.prototype.initialize_hwx2pe$=function(e){$u().user=e},yu.prototype.string_61zpoe$=function(e){return $u().user.Get_61zpoe$(e)},yu.prototype.Set_hwpqgh$=function(e,t){var i=e.toString();$u().user.Set_puj7f4$(i,t)},yu.$metadata$={kind:u,simpleName:"Companion",interfaces:[]};var bu=null;function Su(){return null===bu&&new yu,bu}function ku(){this.requestHandler=null}function wu(e,t,i){return i=i||Object.create(ku.prototype),O.call(i),ku.call(i),Su().initialize_hwx2pe$(e),i.requestHandler=t,i}function xu(){this.w_8be2vx$=0,this.h_8be2vx$=0,this.newW_8be2vx$=0,this.newH_8be2vx$=0,this.deviceScene_qeu8eq$_0=this.deviceScene_qeu8eq$_0,this.requestHandler=null,this.loading1_1qxakp$_0=this.loading1_1qxakp$_0,this.loading2_1qxaju$_0=this.loading2_1qxaju$_0}function Cu(e){var t=Ie().shared().convertCoordinate_dleff0$(e.x,e.y);Ie().shared().addInputQueue_o3bepn$(t.x,t.y,Gt())}function zu(e){var t=Ie().shared().convertCoordinate_dleff0$(e.x,e.y);Ie().shared().addInputQueue_o3bepn$(t.x,t.y,It())}function Tu(e){return Ze}function Gu(e){return Ze}function Au(e,t){return t=t||Object.create(xu.prototype),O.call(t),xu.call(t),t.requestHandler=e,t}function Iu(){Ou()}function Nu(){(Mu=this).configList=le(),this.performance=.1}vu.$metadata$={kind:o,simpleName:"UserDefaults",interfaces:[]},ku.prototype.preload=function(){this.game.scale.scaleMode=N.SHOW_ALL,this.game.scale.fullScreenScaleMode=N.SHOW_ALL,this.game.load.image("loading1","Resource/UI/Loading1.png"),this.game.load.image("loading2","Resource/UI/Loading2.png"),this.game.load.image("fullscreen","Resource/UI/IconFullscreen.png"),this.game.load.image("window","Resource/UI/IconWindow.png"),this.game.stage.backgroundColor="#2D2535"},ku.prototype.create=function(){this.game.width,this.game.height;M(this.game.state,Au(this.requestHandler),void 0,void 0,[])},ku.$metadata$={kind:o,simpleName:"BootLoader",interfaces:[]},Object.defineProperty(xu.prototype,"deviceScene",{get:function(){return null==this.deviceScene_qeu8eq$_0?z("deviceScene"):this.deviceScene_qeu8eq$_0},set:function(e){this.deviceScene_qeu8eq$_0=e}}),Object.defineProperty(xu.prototype,"loading1",{get:function(){return null==this.loading1_1qxakp$_0?z("loading1"):this.loading1_1qxakp$_0},set:function(e){this.loading1_1qxakp$_0=e}}),Object.defineProperty(xu.prototype,"loading2",{get:function(){return null==this.loading2_1qxaju$_0?z("loading2"):this.loading2_1qxaju$_0},set:function(e){this.loading2_1qxaju$_0=e}}),xu.prototype.preload=function(){this.game.stage.backgroundColor="#2D2535"},xu.prototype.create=function(){var e,t;this.w_8be2vx$=this.game.width,this.h_8be2vx$=this.game.height;var i=Km().GetString_sv46oe$(Lf(),void 0,"");for(he(i,"")&&(i="en"),Yl(i),Ou().releaseConfig(),he(Ou().GetConfigure_jyasbz$("Reset Hint"),"true")&&(Km().SetInteger_rjan26$("BeginnerGameHint",void 0,0),Km().SetInteger_rjan26$("Beginner6x6GameHint",void 0,0),Km().SetInteger_rjan26$("ClassicGameHint",void 0,0),Km().SetInteger_hh7mhe$(Vf(),void 0,0),Km().SetInteger_hh7mhe$(Uf(),void 0,0),Km().SetInteger_hh7mhe$(qf(),void 0,0)),Km().SetInteger_rjan26$("Draw FPS",void 0,0),e=S(["Beginner","Beginner6x6","Classic"]).iterator();e.hasNext();){var r=e.next(),o=bf(r,"");Hv().shared().addRecord_psi95l$(r,o),o.LoadHighScore_3uxocb$(),o.LoadMaxCombo_3uxocb$(),o.LoadMaxFever_3uxocb$(),o.LoadMaxSPS_3uxocb$()}Hv().shared().SetPlayerAchievement_79oy9z$($f("")),Hv().shared().loadAchievement();var n=1,a=document.getElementById("quality");null!=a&&(n=tt((Ke.isType(t=a,HTMLElement)?t:Ee()).innerText)),Km().GetInteger_hh7mhe$(Ff(),void 0,n),Nv().shared().initializeItemTable(),Nv().shared().loadAllPlayerItem(),ug().shared().load(),this.deviceScene=th(this.w_8be2vx$,this.h_8be2vx$),this.loading1=this.game.add.image(0,this.h_8be2vx$,"loading1"),this.loading1.anchor.y=1,this.loading2=this.game.add.image(0,this.h_8be2vx$,"loading2"),this.loading2.anchor.y=1,this.loadResource()},xu.prototype.loadResource=function(){var e=Le();for(e.addAll_brywnq$(za().shared().loadDefaultResource_dleff0$(this.w_8be2vx$,this.h_8be2vx$)),e.addAll_brywnq$(za().shared().loadSoundResource());0<e.size;){e.removeAt_za3lpa$(0)()}var t=Km().GetString_sv46oe$(Bf(),void 0,"BlocksetNumber");za().shared().changeCurrentBlockSet_61zpoe$(t),za().shared().saveCurrentBlockSet(),this.game.load.json("jsonMatch","Resource/Match.json"),this.game.load.json("jsonBlock","Resource/Block.json"),this.game.load.json("jsonEffect","Resource/Effect.json");var n,l,u,i={v:this.game.add.text(.98*this.w_8be2vx$,this.h_8be2vx$,"")};i.v.fill="#ffffff",i.v.anchor.x=1,i.v.anchor.y=1,this.game.load.onFileComplete.add((n=i,function(e,t,i,r,o){n.v.setText("Loading... "+R(e)+"%")})),this.game.load.onLoadComplete.add((l=this,u=i,function(){var e,t,i,r;for(t=(Ke.isType(e=Ie().shared().GetGuestScreen(),eh)?e:Ee()).atlas.iterator();t.hasNext();){var o=t.next();for(i=l.game.cache.getFrameData(o).getFrames(),r=0;r!==i.length;++r){var n=i[r],a=j(n.name,".png"),s=qu(a,n.name,o);qe().shared().addTexture_p1juio$(a,s)}}return l.loading1.destroy(),l.loading2.destroy(),P(u.v),l.startPhantom(),Ie().shared().presentView_xl35ob$(new Pg),Ze})),this.game.load.start()},xu.prototype.startPhantom=function(){he(Ou().GetConfigure_jyasbz$("Memory Test"),"false"),this.deviceScene.initialize(),za().shared().initialize_hmf0yx$(this.requestHandler),Ie().shared().initialize(),dh().shared().initialize();var e=Km().GetInteger_hh7mhe$(Nf(),void 0,100);dh().shared().SetMasterVolume_mx4ult$(e);var t=Km().GetInteger_hh7mhe$(Mf(),void 0,100);dh().shared().SetBGMVolume_mx4ult$(t),0===t&&za().shared().setAdsMute_6taknv$(!0);var i=Km().GetInteger_hh7mhe$(Of(),void 0,100);dh().shared().SetEffectVolume_mx4ult$(i),this.game.input.mouse.capture=!0,this.game.input.onDown.add(Cu),this.game.input.onUp.add(zu),this.game.input.keyboard.addCallbacks(this,Tu,Gu,B("keyPress",function(e,t){return e.keyPress_s8itvh$(ne(t)),Ze}.bind(null,this)))},xu.prototype.keyPress_s8itvh$=function(e){var t,i=0;t=this.game.input.keyboard.lastKey.keyCode,he(t,E.U)?i=Bt().U:he(t,E.I)?i=Bt().I:he(t,E.O)?i=Bt().O:he(t,E.J)?i=Bt().J:he(t,E.K)?i=Bt().K:he(t,E.L)?i=Bt().L:he(t,E.M)?i=Bt().M:he(t,E.COMMA)?i=Bt().COMMA:he(t,E.PERIOD)?i=Bt().PERIOD:he(t,E.ONE)?i=Bt().NUMPAD_1:he(t,E.TWO)?i=Bt().NUMPAD_2:he(t,E.THREE)?i=Bt().NUMPAD_3:he(t,E.FOUR)?i=Bt().NUMPAD_4:he(t,E.FIVE)?i=Bt().NUMPAD_5:he(t,E.SIX)?i=Bt().NUMPAD_6:he(t,E.SEVEN)?i=Bt().NUMPAD_7:he(t,E.EIGHT)?i=Bt().NUMPAD_8:he(t,E.NINE)?i=Bt().NUMPAD_9:he(t,E.ENTER)?i=Bt().ENTER:he(t,E.X)&&(i=Bt().ESCAPE),0!==i&&Ie().shared().addInputQueue_o3bepn$(0,0,Rt(),i)},xu.prototype.update=function(){var e=it(this.game.time.elapsedMS);e/=1e3,Ie().shared().update_mx4ult$(e)},xu.prototype.render=function(){},xu.prototype.dispose=function(){dh().shutdown(),uv().shutdown(),Hv().shutdown(),Nv().shutdown(),ug().shutdown(),qe().shutdown(),gt().shutdown(),Ie().shared().shutdown(),za().shutdown()},xu.prototype.pause=function(){Ie().shared().moveToBackground()},xu.prototype.resume=function(){Ie().shared().resume()},xu.prototype.resize_vux9f0$=function(e,t){this.newW_8be2vx$=e,this.newH_8be2vx$=t},xu.$metadata$={kind:o,simpleName:"Samsara",interfaces:[]},Nu.prototype.debugConfig=function(){this.addConfigure_puj7f4$("Show FPS","true"),this.addConfigure_puj7f4$("Camera Info","true"),this.addConfigure_puj7f4$("Show Purchase Test","true"),this.addConfigure_puj7f4$("Show Character Change","true"),this.addConfigure_puj7f4$("Unity Ads Test","true"),this.addConfigure_puj7f4$("AdMob Test","true"),this.addConfigure_puj7f4$("Memory Test","false"),this.addConfigure_puj7f4$("Star Test","true"),this.addConfigure_puj7f4$("Login GameCenter","true"),this.addConfigure_puj7f4$("Logging","true"),this.addConfigure_puj7f4$("Logging To Screen","true"),this.performance=1},Nu.prototype.memoryConfig=function(){this.addConfigure_puj7f4$("Show FPS","true"),this.addConfigure_puj7f4$("Camera Info","true"),this.addConfigure_puj7f4$("Show Purchase Test","true"),this.addConfigure_puj7f4$("Show Character Change","true"),this.addConfigure_puj7f4$("Unity Ads Test","false"),this.addConfigure_puj7f4$("AdMob Test","false"),this.addConfigure_puj7f4$("Memory Test","true"),this.addConfigure_puj7f4$("Auto Play","true"),this.addConfigure_puj7f4$("Login GameCenter","false"),this.performance=1},Nu.prototype.testFlightConfig=function(){this.addConfigure_puj7f4$("Show FPS","false"),this.addConfigure_puj7f4$("Camera Info","false"),this.addConfigure_puj7f4$("Show Purchase Test","false"),this.addConfigure_puj7f4$("Show Character Change","false"),this.addConfigure_puj7f4$("Unity Ads Test","true"),this.addConfigure_puj7f4$("AdMob Test","true"),this.addConfigure_puj7f4$("Memory Test","false"),this.addConfigure_puj7f4$("Login GameCenter","true"),this.performance=1},Nu.prototype.recordConfig=function(){this.addConfigure_puj7f4$("Record","true"),this.addConfigure_puj7f4$("RecordForTitle","false"),this.addConfigure_puj7f4$("RecordForTutorial","false"),this.addConfigure_puj7f4$("Show FPS","false"),this.addConfigure_puj7f4$("Camera Info","false"),this.addConfigure_puj7f4$("Show Purchase Test","false"),this.addConfigure_puj7f4$("Show Character Change","false"),this.addConfigure_puj7f4$("Unity Ads Test","true"),this.addConfigure_puj7f4$("AdMob Test","true"),this.addConfigure_puj7f4$("Memory Test","false"),this.addConfigure_puj7f4$("Login GameCenter","false"),this.addConfigure_puj7f4$("Logging","false"),this.addConfigure_puj7f4$("Logging To Screen","false"),this.performance=1},Nu.prototype.releaseConfig=function(){this.addConfigure_puj7f4$("Show FPS","false"),this.addConfigure_puj7f4$("Camera Info","false"),this.addConfigure_puj7f4$("Show Purchase Test","false"),this.addConfigure_puj7f4$("Show Character Change","false"),this.addConfigure_puj7f4$("Unity Ads Test","false"),this.addConfigure_puj7f4$("AdMob Test","false"),this.addConfigure_puj7f4$("Memory Test","false"),this.addConfigure_puj7f4$("Auto Play","false"),this.addConfigure_puj7f4$("Login GameCenter","true"),this.addConfigure_puj7f4$("Logging","false"),this.addConfigure_puj7f4$("Logging To Screen","false"),this.performance=.1},Nu.prototype.demoConfig=function(){this.addConfigure_puj7f4$("Demo","true"),this.addConfigure_puj7f4$("Show FPS","false"),this.addConfigure_puj7f4$("Camera Info","false"),this.addConfigure_puj7f4$("Show Purchase Test","false"),this.addConfigure_puj7f4$("Show Character Change","false"),this.addConfigure_puj7f4$("Unity Ads Test","false"),this.addConfigure_puj7f4$("AdMob Test","false"),this.addConfigure_puj7f4$("Memory Test","false"),this.addConfigure_puj7f4$("Auto Play","false"),this.addConfigure_puj7f4$("Login GameCenter","true"),this.addConfigure_puj7f4$("Logging","false"),this.addConfigure_puj7f4$("Logging To Screen","false"),this.performance=1},Nu.prototype.autoplayConfig=function(){this.addConfigure_puj7f4$("Show FPS","false"),this.addConfigure_puj7f4$("Camera Info","false"),this.addConfigure_puj7f4$("Show Purchase Test","false"),this.addConfigure_puj7f4$("Show Character Change","false"),this.addConfigure_puj7f4$("Unity Ads Test","false"),this.addConfigure_puj7f4$("AdMob Test","false"),this.addConfigure_puj7f4$("Memory Test","false"),this.addConfigure_puj7f4$("Auto Play","true"),this.addConfigure_puj7f4$("Login GameCenter","false"),this.addConfigure_puj7f4$("Logging","false"),this.addConfigure_puj7f4$("Logging To Screen","false"),this.performance=1},Nu.prototype.addConfigure_puj7f4$=function(e,t){this.configList.put_xwzc9p$(e,t)},Nu.prototype.GetConfigure_jyasbz$=function(e,t){return void 0===t&&(t=null),this.configList.get_11rb$(e)},Nu.prototype.SetInteger_bm4lxs$=function(e,t){var i,r=this.configList;e:do{if(Ke.isNumber(t)){i=t.toString();break e}if("string"==typeof t){i=t;break e}if("boolean"==typeof t){i=t.toString();break e}if(Ke.isChar(t)){i=t.toString();break e}i=""}while(0);var o=i;r.put_xwzc9p$(e,o)},Nu.prototype.GetInteger_bm4lxs$=function(e,t){void 0===t&&(t=0);var i,r=this.configList.get_11rb$(e);e:do{if(null==r){i=0;break e}if(Ke.isNumber(r)){i=et(r);break e}if("string"==typeof r)try{i=tt(r);break e}catch(e){if(Ke.isType(e,ta)){i=0;break e}throw e}i=0}while(0);return i},Nu.prototype.SetFloat_9sobi5$=function(e,t){var i,r=this.configList;e:do{if(Ke.isNumber(t)){i=t.toString();break e}if("string"==typeof t){i=t;break e}if("boolean"==typeof t){i=t.toString();break e}if(Ke.isChar(t)){i=t.toString();break e}i=""}while(0);var o=i;r.put_xwzc9p$(e,o)},Nu.prototype.GetFloat_9sobi5$=function(e,t){void 0===t&&(t=0);var i,r=this.configList.get_11rb$(e);e:do{if(null==r){i=0;break e}if(Ke.isNumber(r)){i=it(r);break e}if("string"==typeof r)try{i=Qe(r);break e}catch(e){if(Ke.isType(e,ta)){i=0;break e}throw e}i=0}while(0);return i},Nu.prototype.SetDouble_io5o9c$=function(e,t){var i,r=this.configList;e:do{if(Ke.isNumber(t)){i=t.toString();break e}if("string"==typeof t){i=t;break e}if("boolean"==typeof t){i=t.toString();break e}if(Ke.isChar(t)){i=t.toString();break e}i=""}while(0);var o=i;r.put_xwzc9p$(e,o)},Nu.prototype.GetDouble_io5o9c$=function(e,t){void 0===t&&(t=0);var i,r=this.configList.get_11rb$(e);e:do{if(null==r){i=0;break e}if(Ke.isNumber(r)){i=it(r);break e}if("string"==typeof r)try{i=Qe(r);break e}catch(e){if(Ke.isType(e,ta)){i=0;break e}throw e}i=0}while(0);return i},Nu.prototype.GetPerformance=function(){return 1},Nu.prototype.isWatchOS=function(){return!1},Nu.$metadata$={kind:u,simpleName:"Companion",interfaces:[]};var Mu=null;function Ou(){return null===Mu&&new Nu,Mu}function Ru(){this.parent=null,this.childList=Le(),this.isHidden=!1,this.size=Pi(),this.color=hi().white_mx4ult$(),this.blendMode=ei(),this.z=0,this.anchor=Ai()}Iu.$metadata$={kind:o,simpleName:"SystemConfigure",interfaces:[]};var ju=Ke.kotlin.NotImplementedError;function Pu(e){return e.GetZPosition()}Ru.prototype.GetObject=function(){throw new ju("An operation is not implemented: not implemented")},Ru.prototype.SetShow_6taknv$=function(e){throw new ju("An operation is not implemented: not implemented")},Ru.prototype.SetPosition_qgvyiu$=function(e){throw new ju("An operation is not implemented: not implemented")},Ru.prototype.GetPosition=function(){throw new ju("An operation is not implemented: not implemented")},Ru.prototype.SetZPosition_mx4ult$=function(e){throw new ju("An operation is not implemented: not implemented")},Ru.prototype.GetZPosition=function(){throw new ju("An operation is not implemented: not implemented")},Ru.prototype.SetSize_dleff0$=function(e,t){throw new ju("An operation is not implemented: not implemented")},Ru.prototype.GetSize=function(){return this.size},Ru.prototype.SetAnchorPoint_qgvyiu$=function(e){throw new ju("An operation is not implemented: not implemented")},Ru.prototype.GetAnchorPoint=function(){throw new ju("An operation is not implemented: not implemented")},Ru.prototype.SetScale_dleff0$=function(e,t){throw new ju("An operation is not implemented: not implemented")},Ru.prototype.GetScale=function(){throw new ju("An operation is not implemented: not implemented")},Ru.prototype.SetColor_7b5o5w$=function(e,t,i,r){throw new ju("An operation is not implemented: not implemented")},Ru.prototype.SetAlpha_mx4ult$=function(e){throw new ju("An operation is not implemented: not implemented")},Ru.prototype.SetColorBlendFactor_mx4ult$=function(e){throw new ju("An operation is not implemented: not implemented")},Ru.prototype.SetBlendMode_ieo8yr$=function(e){throw new ju("An operation is not implemented: not implemented")},Ru.prototype.SetZRotation_mx4ult$=function(e){throw new ju("An operation is not implemented: not implemented")},Ru.prototype.convertCoordinate_dleff0$=function(e,t){throw new ju("An operation is not implemented: not implemented")},Ru.prototype.draw_4tzqwv$=function(e,t){throw new ju("An operation is not implemented: not implemented")},Ru.prototype.addChild_jrj3jl$=function(e){this.childList.add_11rb$(e),e.SetParent_jrj3jl$(this)},Ru.prototype.SetParent_jrj3jl$=function(e){this.parent=e},Ru.prototype.GetParent=function(){return this.parent},Ru.prototype.remove=function(){var e;null!=(e=this.parent)&&e.removeChild_jrj3jl$(this)},Ru.prototype.removeChild_jrj3jl$=function(e){this.childList.remove_11rb$(e)},Ru.prototype.GetNodeWithRectangle_lvlpq5$=function(e,t){},Ru.prototype.sort=function(){};var Bu,Eu,Fu=I(function(){var o=Ke.kotlin.comparisons.compareValues_s00gnj$;return function(r){return function(e,t){var i=r;return o(i(e),i(t))}}}),Lu=Ke.kotlin.Comparator;function Du(e){this.closure$comparison=e}function Vu(){this.name=null,this.nameInAtlas="",this.atlas=""}function Uu(e,t){return t=t||Object.create(Vu.prototype),Vu.call(t),t.name=e,t}function qu(e,t,i,r){return r=r||Object.create(Vu.prototype),Vu.call(r),r.name=e,r.nameInAtlas=t,r.atlas=i,r}function Hu(){this.obj=null,this.rotation=0,this.crop=null,this.name="",this.atlas="",this.nameInAtlas=""}function Wu(e){return e=e||Object.create(Hu.prototype),Ru.call(e),Hu.call(e),e.obj=v.game.add.image(-1e3,-1e3,e.name),e.obj.alpha=0,e.color=hi().white_mx4ult$(0),e}function Yu(e,t){var i,r;return t=t||Object.create(Hu.prototype),Ru.call(t),Hu.call(t),null==e?(t.obj=v.game.add.image(-1e3,-1e3,"Resource/UI/Background"),t.color=hi().white_mx4ult$(0)):(t.name=e.GetName(),t.atlas=(Ke.isType(i=e,Vu)?i:Ee()).GetAtlas(),he(t.atlas,"")?t.obj=v.game.add.image(-1e3,-1e3,t.name):(t.nameInAtlas=(Ke.isType(r=e,Vu)?r:Ee()).GetNameInAtlas(),t.obj=v.game.add.image(-1e3,-1e3,t.atlas,t.nameInAtlas),t.obj.alpha=0)),t}function Xu(){this.obj=null,this.mask=null,this.name=""}function Ku(e,t){return t=t||Object.create(Xu.prototype),Ru.call(t),Xu.call(t),null==e?(t.obj=v.game.add.image(-1e3,-1e3,"Resource/UI/Background"),t.obj.alpha=0,t.color=hi().white_mx4ult$(0)):(t.name=e.GetName(),t.obj=v.game.add.image(-1e3,-1e3,t.name),t.obj.alpha=0),t}function Zu(){this.obj=null,this.crop=null}function Qu(e){return e=e||Object.create(Zu.prototype),Ru.call(e),Zu.call(e),e.obj=v.game.add.text(-1e3,-1e3,"",V("15px Arial",void 0,void 0,void 0,void 0,void 0,"#19de65")),e.obj.stroke="#000000",e.obj.strokeThickness=2,e.obj.fill="#ffffff",e.obj.fontSize=60,e.obj.anchor.x=.5,e.obj.anchor.y=0,e}function Ju(){}function eh(){this.obj=null,this.screen=null,this.atlas=Le()}function th(e,t,i){i=i||Object.create(eh.prototype),Ru.call(i),eh.call(i),i.obj=new Ju,i.size=Pi(e,t);var r,o="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123=_-,.!()[]%+?=>/'";e:do{if(Ke.isNumber(4567.89)){r=it(4567.89);break e}r=0}while(0);return o+=eu(r),i.createFont_basrv3$("System",o),Ie().shared().SetGuestScreen_qgvd6v$(i),i.screen=aa(i),i}function ih(){this.name=null,this.file=null,this.category=null,this.obj=null,this.numberOfLoops=1,this.currentTime=0,this.volume=1}function rh(e,t,i,r){return r=r||Object.create(ih.prototype),ih.call(r),r.name=e,r.file=t,r.category=i,r}function oh(){this.name=null,this.category=Oe(),this.channel=Le(),this.playIndex=0,this.originalVolume=1,this.currentVolume=1,this.mixerVolume=1,this.rate=1,this.prevPlayedTime=0}function nh(e,t,i,r,o,n){var a;void 0===i&&(i=1),void 0===r&&(r=Oe()),void 0===o&&(o=Bu),n=n||Object.create(oh.prototype),oh.call(n),n.name=e,a=i-1|0;for(var s=0;s<=a;s++)n.channel.add_11rb$(new Fe(rh(e,t,r),!0));return n.category=r,n.originalVolume=o/Bu,n}function ah(){dh(),this.dictionary=le(),this.bgmVolume=Bu,this.bgmVolumeBackup=Bu,this.bgmRate=1,this._effectVolume=Bu,this._effectVolumeBackup=Bu,this._masterVolume=Bu,this._masterVolumeBackup=Bu;for(var e=Le(16),t=0;t<16;t++)e.add_11rb$(null);this.playingQueue=e,this.playingQueueReadIndex=0,this.playingQueueWriteIndex=0,this.addCount=0,this.working=!1,this.stop=!1,this.stopped=!1,this.playedSoundMap=le()}function sh(){(lh=this).instance=null}Du.prototype.compare=function(e,t){return this.closure$comparison(e,t)},Du.$metadata$={kind:o,interfaces:[Lu]},Ru.prototype._draw_f2myq8$$default=function(e){var t,i;for(F(this.childList,new Du(Fu(Pu))),t=ge(this.childList).iterator();t.hasNext();){var r=t.next(),o=Ke.isType(i=r,Ru)?i:Ee();o.sort(),o._draw_f2myq8$(e)}},Ru.prototype._draw_f2myq8$=function(e,t){void 0===e&&(e=null),t?t(e):this._draw_f2myq8$$default(e)},Ru.$metadata$={kind:o,simpleName:"GuestGDXNode",interfaces:[_e]},Vu.prototype.GetName=function(){return this.name},Vu.prototype.GetSize=function(){if(he(this.atlas,"")){var e=v.game.cache.getImage(this.name);if(null!=e)return Pi(Je(e).width,Je(e).height)}else{var t=v.game.cache.getFrameByName(this.atlas,this.nameInAtlas);if(null!=t)return Pi(it(Je(t).width),it(Je(t).height))}return Pi(0,0)},Vu.prototype.GetObject=function(){if(he(this.atlas,"")){var e=v.game.cache.getImage(this.name);if(null!=e)return Je(e)}else{var t=v.game.cache.getFrameByName(this.atlas,this.nameInAtlas);if(null!=t)return Je(t)}return Ze},Vu.prototype.GetAtlas=function(){return this.atlas},Vu.prototype.GetNameInAtlas=function(){return this.nameInAtlas},Vu.$metadata$={kind:o,simpleName:"GuestGDXTexture",interfaces:[fe]},Hu.prototype.GetObject=function(){return this.obj},Hu.prototype.remove=function(){var e;this.obj.destroy(),null!=(e=this.parent)&&e.removeChild_jrj3jl$(this)},Hu.prototype.SetShow_6taknv$=function(e){this.isHidden=!0!==e,!0===this.isHidden?(this.obj.alpha=0,this.obj.visible=!1):this.obj.visible=!0},Hu.prototype.SetPosition_qgvyiu$=function(e){this.obj.position.x=e.x,this.obj.position.y=e.y},Hu.prototype.GetPosition=function(){return Ai(this.obj.position.x,this.obj.position.y)},Hu.prototype.SetZPosition_mx4ult$=function(e){this.obj.z=e,this.z=e},Hu.prototype.GetZPosition=function(){return this.z},Hu.prototype.SetSize_dleff0$=function(e,t){this.obj.width=e,this.obj.height=t,this.SetAnchorPoint_qgvyiu$(Ai(.5,.5))},Hu.prototype.GetSize=function(){return Pi(this.obj.width,this.obj.height)},Hu.prototype.SetAnchorPoint_qgvyiu$=function(e){this.obj.anchor.x=e.x,this.obj.anchor.y=e.y},Hu.prototype.GetAnchorPoint=function(){return Ai(this.obj.anchor.x,this.obj.anchor.y)},Hu.prototype.SetScale_dleff0$=function(e,t){this.obj.scale.x=e,this.obj.scale.y=t},Hu.prototype.GetScale=function(){return Ai(this.obj.scale.x,this.obj.scale.y)},Hu.prototype.SetColor_7b5o5w$=function(e,t,i,r){this.color.r=e,this.color.g=t,this.color.b=i,this.color.a=r,this.obj.tint=255*e*256*256+255*t*256+255*i},Hu.prototype.SetAlpha_mx4ult$=function(e){this.color.a=e},Hu.prototype.SetColorBlendFactor_mx4ult$=function(e){},Hu.prototype.SetBlendMode_ieo8yr$=function(e){(this.blendMode=e)===ei()?this.obj.blendMode=L:e===ti()&&(this.obj.blendMode=D)},Hu.prototype.SetZRotation_mx4ult$=function(e){this.rotation=-1*e,this.obj.rotation=this.rotation},Hu.prototype.convertCoordinate_dleff0$=function(e,t){return Ai(this.GetPosition().x-this.GetSize().width/2+e,this.GetPosition().y-this.GetSize().height/2+t)},Hu.prototype.draw_4tzqwv$=function(e,t){this.z=t,this.obj.position.x=e.x,this.obj.position.y=e.y},Hu.prototype._draw_f2myq8$$default=function(e){if(!0===this.isHidden?this.obj.alpha=0:Ke.isType(this.GetParent(),Xu)?null!=this.crop&&(this.obj.alpha=this.color.a):this.obj.alpha=this.color.a,null!=e){var t=null!=this.obj;t&&(t=0===this.name.length==!1),t&&(he(this.crop,e)||(this.crop=e,this.obj.mask=e))}this._draw_f2myq8$(e,Ru.prototype._draw_f2myq8$$default.bind(this))},Hu.prototype.SetCenterRect_g5erez$=function(e){},Hu.prototype.SetTexture_h2vgz3$=function(e){var t,i,r=-1e3,o=-1e3,n=0,a=0,s=null;null!=this.obj&&(r=this.obj.position.x,o=this.obj.position.y,n=this.obj.rotation,a=this.obj.alpha,s=this.obj.mask,this.obj.destroy()),null!=e&&(this.name=e.GetName(),this.atlas=(Ke.isType(t=e,Vu)?t:Ee()).GetAtlas(),he(this.atlas,"")?this.obj=v.game.add.image(r,o,this.name):(this.nameInAtlas=(Ke.isType(i=e,Vu)?i:Ee()).GetNameInAtlas(),this.obj=v.game.add.image(r,o,this.atlas,this.nameInAtlas)),this.obj.rotation=n,this.obj.alpha=a,null!=s&&(this.obj.mask=Je(s)))},Hu.prototype.GetTexture=function(){return he(this.name,"")?null:qu(this.name,this.nameInAtlas,this.atlas)},Hu.prototype.GetNodeWithRectangle_lvlpq5$=function(e,t){var i;if(!0!==this.isHidden){if(0<this.color.a){var r=Di(this.GetPosition().x-.5*this.GetSize().width,this.GetPosition().y-.5*this.GetSize().height,this.GetSize().width,this.GetSize().height);e.x>=r.x&&e.x<=r.x+r.width&&e.y>=r.y&&e.y<=r.y+r.height&&t.add_11rb$(this)}for(i=this.childList.iterator();i.hasNext();){var o=i.next();Ke.isType(o,Ru)&&o.GetNodeWithRectangle_lvlpq5$(e,t)}}},Hu.prototype.sort=function(){null!=this.obj&&v.game.world.sendToBack(this.obj)},Hu.$metadata$={kind:o,simpleName:"GuestGDXSprite",interfaces:[ye,Ru]},Xu.prototype.remove=function(){this.obj.destroy(),null!=this.mask&&Je(this.mask).clear()},Xu.prototype.GetObject=function(){return this.obj},Xu.prototype.SetShow_6taknv$=function(e){this.isHidden=!0!==e},Xu.prototype.SetPosition_qgvyiu$=function(e){this.obj.position.x=e.x,this.obj.position.y=e.y},Xu.prototype.GetPosition=function(){return Ai(this.obj.position.x,this.obj.position.y)},Xu.prototype.SetZPosition_mx4ult$=function(e){this.z=e},Xu.prototype.GetZPosition=function(){return this.z},Xu.prototype.SetSize_dleff0$=function(e,t){this.obj.width=e,this.obj.height=t,this.obj.anchor.x=.5,this.obj.anchor.y=.5},Xu.prototype.GetSize=function(){return Pi(this.obj.width,this.obj.height)},Xu.prototype.SetAnchorPoint_qgvyiu$=function(e){},Xu.prototype.GetAnchorPoint=function(){return this.anchor},Xu.prototype.SetScale_dleff0$=function(e,t){this.obj.scale.x=e,this.obj.scale.y=t},Xu.prototype.GetScale=function(){return Ai(this.obj.scale.x,this.obj.scale.y)},Xu.prototype.SetColor_7b5o5w$=function(e,t,i,r){this.color.r=e,this.color.g=t,this.color.b=i,this.color.a=r},Xu.prototype.SetAlpha_mx4ult$=function(e){this.color.a=e},Xu.prototype.SetColorBlendFactor_mx4ult$=function(e){},Xu.prototype.SetBlendMode_ieo8yr$=function(e){this.blendMode=e},Xu.prototype.SetZRotation_mx4ult$=function(e){this.obj.rotation=-1*e},Xu.prototype.convertCoordinate_dleff0$=function(e,t){return Ai(this.GetPosition().x-this.GetSize().width/2+e,this.GetPosition().y-this.GetSize().height/2+t)},Xu.prototype.draw_4tzqwv$=function(e,t){this.z=t,this.SetPosition_qgvyiu$(e),null==this.mask?(this.mask=v.game.add.graphics(-1e3,-1e3),Je(this.mask).beginFill(255),Je(this.mask).alpha=0,Je(this.mask).drawRect(0,0,this.obj.width,this.obj.height),Je(this.mask).endFill()):(Je(this.mask).x=e.x-this.obj.width/2,Je(this.mask).y=e.y-this.obj.height/2)},Xu.prototype._draw_f2myq8$$default=function(e){this._draw_f2myq8$(this.mask,Ru.prototype._draw_f2myq8$$default.bind(this))},Xu.prototype.GetTextureSize=function(){return Pi(it(this.obj.texture.width),it(this.obj.texture.height))},Xu.prototype.GetNodeWithRectangle_lvlpq5$=function(e,t){var i;if(!0!==this.isHidden){if(0<this.color.a){var r=Di(this.GetPosition().x-.5*this.GetSize().width,this.GetPosition().y-.5*this.GetSize().height,this.GetSize().width,this.GetSize().height);e.x>=r.x&&e.x<=r.x+r.width&&e.y>=r.y&&e.y<=r.y+r.height&&t.add_11rb$(this)}for(i=this.childList.iterator();i.hasNext();){var o=i.next();Ke.isType(o,Ru)&&o.GetNodeWithRectangle_lvlpq5$(e,t)}}},Xu.prototype.sort=function(){null!=this.obj&&v.game.world.sendToBack(this.obj)},Xu.$metadata$={kind:o,simpleName:"GuestGDXMask",interfaces:[be,Ru]},Zu.prototype.SetText_61zpoe$=function(e){this.obj.setText(e),this.obj.scale.x=1,this.obj.scale.y=1,this.size=Pi(this.obj.width,this.obj.height)},Zu.prototype.SetFontSize_mx4ult$=function(e){},Zu.prototype.SetFontColor_7b5o5w$=function(e,t,i,r){},Zu.prototype.GetFrameSize=function(){return this.GetSize()},Zu.prototype.GetObject=function(){return this.obj},Zu.prototype.remove=function(){var e;this.obj.parent.removeChild(this.obj),null!=(e=this.parent)&&e.removeChild_jrj3jl$(this)},Zu.prototype.SetShow_6taknv$=function(e){this.isHidden=!0!==e,!0===this.isHidden?(this.obj.alpha=0,this.obj.visible=!1):this.obj.visible=!0},Zu.prototype.SetPosition_qgvyiu$=function(e){this.obj.x=e.x,this.obj.y=e.y},Zu.prototype.GetPosition=function(){return Ai(this.obj.x,this.obj.y)},Zu.prototype.SetZPosition_mx4ult$=function(e){this.obj.z=e,this.z=e},Zu.prototype.GetZPosition=function(){return this.z},Zu.prototype.SetSize_dleff0$=function(e,t){var i=0;0<t?(i=t/this.size.height,0<e&&this.size.width*i>e&&(i=e/this.size.width)):0<e&&(i=e/this.size.width),this.SetScale_dleff0$(i,i)},Zu.prototype.GetSize=function(){return Pi(this.size.width*this.obj.scale.x,this.size.height*this.obj.scale.y)},Zu.prototype.SetAnchorPoint_qgvyiu$=function(e){this.anchor.x=e.x,this.anchor.y=e.y,this.obj.anchor.x=e.x,this.obj.anchor.y=e.y},Zu.prototype.GetAnchorPoint=function(){return this.anchor},Zu.prototype.SetScale_dleff0$=function(e,t){this.obj.scale.x=e,this.obj.scale.y=t},Zu.prototype.GetScale=function(){return Ai(this.obj.scale.x,this.obj.scale.y)},Zu.prototype.SetColor_7b5o5w$=function(e,t,i,r){this.color.r=e,this.color.g=t,this.color.b=i,this.obj.tint=255*e*256*256+255*t*256+255*i,this.color.a=r},Zu.prototype.SetAlpha_mx4ult$=function(e){this.color.a=e},Zu.prototype.SetColorBlendFactor_mx4ult$=function(e){},Zu.prototype.SetBlendMode_ieo8yr$=function(e){(this.blendMode=e)===ei()?this.obj.blendMode=L:e===ti()&&(this.obj.blendMode=D)},Zu.prototype.SetZRotation_mx4ult$=function(e){},Zu.prototype.convertCoordinate_dleff0$=function(e,t){return Ai(this.GetPosition().x-this.GetSize().width/2+e,this.GetPosition().y-this.GetSize().height/2+t)},Zu.prototype.draw_4tzqwv$=function(e,t){this.z=t,this.obj.x=e.x,this.obj.y=e.y+.05*this.GetSize().height},Zu.prototype._draw_f2myq8$$default=function(e){!0===this.isHidden?this.obj.alpha=0:Ke.isType(this.GetParent(),Xu)?null!=this.crop&&(this.obj.alpha=this.color.a):this.obj.alpha=this.color.a,null!=e&&null!=this.obj&&(he(this.crop,e)||(this.crop=e,this.obj.mask=e)),this._draw_f2myq8$(e,Ru.prototype._draw_f2myq8$$default.bind(this))},Zu.prototype.GetNodeWithRectangle_lvlpq5$=function(e,t){var i;if(!0!==this.isHidden&&0!==this.color.a)for(i=this.childList.iterator();i.hasNext();){var r=i.next();Ke.isType(r,Ru)&&r.GetNodeWithRectangle_lvlpq5$(e,t)}},Zu.prototype.sort=function(){this.obj.sendToBack()},Zu.$metadata$={kind:o,simpleName:"GuestGDXLabel",interfaces:[Se,Ru]},Ju.prototype.touchesBegan_qgvyiu$=function(e){Ie().shared().addInputQueue_o3bepn$(e.x,e.y,Gt())},Ju.prototype.touchesMoved_qgvyiu$=function(e){Ie().shared().addInputQueue_o3bepn$(e.x,e.y,At())},Ju.prototype.touchesEnded_qgvyiu$=function(e){Ie().shared().addInputQueue_o3bepn$(e.x,e.y,It())},Ju.prototype.touchesCancelled_qgvyiu$=function(e){Ie().shared().addInputQueue_o3bepn$(e.x,e.y,Nt())},Ju.$metadata$={kind:o,simpleName:"GDXGuestScene",interfaces:[]},eh.prototype.initialize=function(){var e;null!=(e=this.screen)&&e.afterAttached()},eh.prototype.shutdown=function(){},eh.prototype.GetObject=function(){return this.obj},eh.prototype.GetScreen=function(){return Je(this.screen)},eh.prototype.createFont_basrv3$=function(e,t,i,r,o){void 0===i&&(i=20),void 0===r&&(r=0),void 0===o&&(o="NanumGothicBold.ttf")},eh.prototype.addFontAlias_puj7f4$=function(e,t){},eh.prototype.hideAllLabel_1zqrcg$=function(e){var t,i;void 0===e&&(e=null);var r=e;for(null==r&&(r=this),t=r.childList.iterator();t.hasNext();){var o=t.next();this.hideAllLabel_1zqrcg$(Ke.isType(i=o,Ru)?i:Ee())}Ke.isType(r,Zu)&&r.SetShow_6taknv$(!1)},eh.prototype.printLog_61zpoe$=function(e){var t;null!=(t=this.screen)&&t.printLog_61zpoe$(e)},eh.prototype.clearLog=function(){var e;null!=(e=this.screen)&&e.clearLog()},eh.prototype.convertCoordinate_dleff0$=function(e,t){return Ai(e,t)},eh.prototype.GetScreenshot_3fx80m$=function(e){return null},eh.prototype.GetPosition=function(){return Ai(.5*this.size.width,.5*this.size.height)},eh.prototype.GetNodeWithRectangle_lvlpq5$=function(e,t){var i;if(!0!==this.isHidden&&0!==this.color.a)for(i=this.childList.iterator();i.hasNext();){var r=i.next();Ke.isType(r,Ru)&&r.GetNodeWithRectangle_lvlpq5$(e,t)}},eh.prototype.nodeListAtPoint_qgvyiu$=function(e){var t=Le();return this.GetNodeWithRectangle_lvlpq5$(e,t),U(t),_(t)},eh.prototype.createGuestSprite=function(){return Wu()},eh.prototype.createGuestSprite_h2vgz3$=function(e){return null!=e?Yu(e):this.createGuestSprite()},eh.prototype.createGuestMask_h2vgz3$=function(e){return Ku(e)},eh.prototype.createGuestLabel_61zpoe$=function(e){return Qu()},eh.prototype.createGuestTexture_bm4g0d$=function(e,t){return Uu(e)},eh.prototype.loadTexture_jyasbz$=function(e,t){return v.game.load.image(e,e+".png"),Uu(e)},eh.prototype.loadAtlas_ivxn3r$=function(e,t){return v.game.load.atlasJSONHash(e,"Resource/"+e+".png","Resource/"+e+".json"),this.atlas.add_11rb$(e),qr()},eh.prototype.removeAtlas_61zpoe$=function(e){return!1},eh.prototype.makeAtlas_mvjluj$=function(e,t){var i,r=Le();for(i=t.entries.iterator();i.hasNext();){var o=i.next(),n=o.key;o.value;v.game.load.image(n,n+".png");var a=Uu(n);r.add_11rb$(a)}return r},eh.prototype.makeAtlas_kwv3np$=function(e,t){var i,r=Le();for(i=t.iterator();i.hasNext();){var o=i.next();v.game.load.image(o,o+".png");var n=Uu(o);r.add_11rb$(n)}return r},eh.prototype.makeAtlasWithData_d0u64m$=function(e,t){return qr()},eh.prototype.preloadTexture_o14v8n$=function(e){e()},eh.prototype.createStringImage_k1lctz$=function(e,t,i,r,o,n,a,s,l){return null},eh.prototype.SetBackgroundColor_qt1dr2$=function(e,t,i){},eh.prototype.SetTitle_61zpoe$=function(e){},eh.prototype.changeFPS_za3lpa$=function(e){},eh.prototype.moveToBackground=function(){var e;null!=(e=this.screen)&&e.moveToBackground()},eh.prototype.resume=function(){var e;null!=(e=this.screen)&&e.resume()},eh.prototype.terminate=function(){},eh.prototype.render_mx4ult$=function(e){var t,i;null!=(t=this.screen)&&t.draw(),this._draw_f2myq8$(),null!=(i=this.screen)&&i.update_mx4ult$(e)},eh.prototype._draw_f2myq8$$default=function(e){this._draw_f2myq8$(e,Ru.prototype._draw_f2myq8$$default.bind(this))},eh.$metadata$={kind:o,simpleName:"DeviceScene",interfaces:[$e,Ru]},ih.prototype.SetVolume_mx4ult$=function(e){this.volume=e,null!=this.obj&&(Je(this.obj).volume=e)},ih.prototype.isPlaying=function(){return null!=this.obj&&(this.category===Re()&&Je(this.obj).isPlaying)},ih.prototype.play=function(){return null==this.obj&&(this.obj=v.game.add.audio(this.name)),this.category!==Re()?(-1===this.numberOfLoops?Je(this.obj).loop=!0:Je(this.obj).loop=!1,Je(this.obj).volume=this.volume,Je(this.obj).play(),!0):!1===Je(this.obj).isPlaying&&(-1===this.numberOfLoops?Je(this.obj).loop=!0:Je(this.obj).loop=!1,Je(this.obj).volume=this.volume,Je(this.obj).play(),!0)},ih.prototype.stop=function(){null!=this.obj&&Je(this.obj).stop()},ih.$metadata$={kind:o,simpleName:"PhaserSound",interfaces:[]},oh.prototype.play_qhkmbr$=function(e,t,i){if(void 0===e&&(e=0),void 0===t&&(t=0),void 0===i&&(i=1),this.playIndex>=this.channel.size)return!1;var r=this.channel.get_za3lpa$(this.playIndex).first;return!1===r.isPlaying()&&(r.numberOfLoops=e,r.currentTime=0,!(this.category===Oe()&&this.prevPlayedTime+.1>Ie().shared().GetCurrentTime())&&(this.prevPlayedTime=Ie().shared().GetCurrentTime(),!1!==r.play()&&(this.channel.set_wxm5ur$(this.playIndex,new Fe(this.channel.get_za3lpa$(this.playIndex).first,!1)),this.playIndex=this.playIndex+1|0,this.playIndex>=this.channel.size&&(this.playIndex=0),!0)))},oh.prototype.stop=function(){for(var e=0,t=this.channel.iterator();t.hasNext();++e){t.next().first.stop(),this.channel.set_wxm5ur$(this.playIndex,new Fe(this.channel.get_za3lpa$(this.playIndex).first,!0))}},oh.prototype.resume=function(){if(this.category===Re()){var e=this.channel.get_za3lpa$(0).first;!1===e.isPlaying()&&!1===this.channel.get_za3lpa$(0).second&&(e.play(),this.channel.set_wxm5ur$(0,new Fe(this.channel.get_za3lpa$(0).first,!1)))}},oh.prototype.SetCurrentVolume_mx4ult$=function(e){var t;for(this.currentVolume=e,t=this.channel.iterator();t.hasNext();){t.next().first.SetVolume_mx4ult$(this.originalVolume*this.currentVolume*this.mixerVolume)}},oh.prototype.GetCurrentVolume=function(){return this.currentVolume},oh.prototype.SetMixerVolume_mx4ult$=function(e){var t;for(this.mixerVolume=e,t=this.channel.iterator();t.hasNext();){t.next().first.SetVolume_mx4ult$(this.originalVolume*this.currentVolume*this.mixerVolume)}},oh.prototype.GetMixerVolume=function(){return this.mixerVolume},oh.prototype.SetRate_mx4ult$=function(e){},oh.prototype.GetRate=function(){return 1},oh.$metadata$={kind:o,simpleName:"Sound",interfaces:[]},sh.$metadata$={kind:u,simpleName:"Holder",interfaces:[]};var lh=null;function uh(){return null===lh&&new sh,lh}function hh(){(ch=this).initialized=!1}hh.prototype.shared=function(){return null==uh().instance&&(uh().instance=new ah),Je(uh().instance)},hh.prototype.shutdown=function(){var e;null!=(e=uh().instance)&&e.shutdown(),uh().instance=null},hh.$metadata$={kind:u,simpleName:"Companion",interfaces:[]};var ch=null;function dh(){return null===ch&&new hh,ch}function ph(){vh()}function fh(){(mh=this).notice=null,this.handler=null,this.disabled=!1,this.cancelButton="no",this.okButton="ok"}ah.prototype.initialize=function(){return!0},ah.prototype.shutdown=function(){},ah.prototype.addToPlayingQueue_k8wy15$=function(e,t){e.play_qhkmbr$(t)},ah.prototype.loadSound_rxyx1o$=function(e,t,i,r,o){var n,a;void 0===t&&(t=null),void 0===i&&(i=1),void 0===r&&(r=Oe()),void 0===o&&(o=100);var s=e;if(null!=t&&(s=t),null!=this.dictionary.get_11rb$(s))return this.dictionary.get_11rb$(s);var l;v.game.load.audio(s,[e+".ogg",e+".mp3"]),l=nh(s,e,i,r,o);var u=this.dictionary,h=s,c=Je(l);return u.put_xwzc9p$(h,c),r===Re()?null!=(n=this.dictionary.get_11rb$(s))&&n.SetCurrentVolume_mx4ult$(0):null!=(a=this.dictionary.get_11rb$(s))&&a.SetCurrentVolume_mx4ult$(1),this.dictionary.get_11rb$(s)},ah.prototype.unloadSound_61zpoe$=function(e){},ah.prototype.GetSound_61zpoe$=function(e){return null==this.dictionary.get_11rb$(e)?this.loadSound_rxyx1o$(e):this.dictionary.get_11rb$(e)},ah.prototype.playBGM_llw80p$=function(e,t,i,r){void 0===t&&(t=-1),void 0===i&&(i=0),void 0===r&&(r=1);var o=this.GetSound_61zpoe$(e);return null!=o&&(o.category===Re()&&(o.SetMixerVolume_mx4ult$(this.bgmVolume),this.addToPlayingQueue_k8wy15$(o,t),!0))},ah.prototype.play_jf2iyl$=function(e,t,i,r){var o;void 0===t&&(t=0),void 0===i&&(i=1),void 0===r&&(r=0);var n=t;1<n&&(n%=1);var a=Ke.isType(o=this.GetSound_61zpoe$(e),oh)?o:null;return null==a||a.category===Oe()&&(a.SetMixerVolume_mx4ult$(this._effectVolume),this.addToPlayingQueue_k8wy15$(a,r),!0)},ah.prototype.stop_61zpoe$=function(e){var t=this.GetSound_61zpoe$(e);null!=t&&t.stop()},ah.prototype.resume=function(){var e;for(e=this.dictionary.entries.iterator();e.hasNext();){var t=e.next(),i=(t.key,t.value);i.category===Re()&&i.resume()}},ah.prototype.SetRate_9sobi5$=function(e,t){void 0===t&&(t=1);var i=this.GetSound_61zpoe$(e);null!=i&&i.SetRate_mx4ult$(t)},ah.prototype.GetRate_61zpoe$=function(e){var t=this.GetSound_61zpoe$(e);return null!=t?t.GetRate():1},ah.prototype.playEffect_bm4lxs$=function(e,t){var i;void 0===t&&(t=0);var r=Ke.isType(i=this.GetSound_61zpoe$(e),oh)?i:null;return null!=r&&(r.SetMixerVolume_mx4ult$(this._effectVolume),this.addToPlayingQueue_k8wy15$(r,t)),!0},ah.prototype.SetMasterVolume_mx4ult$=function(e){var t,i=e;for(i<=0&&(i=0,this._masterVolumeBackup=10),Bu<i&&(i=Bu),this._masterVolume=i/Bu,t=this.dictionary.entries.iterator();t.hasNext();){var r=t.next().value;r.category===Re()?r.SetMixerVolume_mx4ult$(this.bgmVolume*this._masterVolume):r.category===Oe()&&r.SetMixerVolume_mx4ult$(this._effectVolume*this._masterVolume)}},ah.prototype.GetMasterVolume=function(){return this._masterVolume},ah.prototype.SetMasterVolumeBackup_mx4ult$=function(e){this._masterVolumeBackup=e},ah.prototype.GetMasterVolumeBackup=function(){return this._masterVolumeBackup},ah.prototype.SetBGMVolume_mx4ult$=function(e){var t,i=e;for(i<0&&(i=0),Bu<i&&(i=Bu),this.bgmVolume=i/Bu,t=this.dictionary.entries.iterator();t.hasNext();){var r=t.next().value;r.category===Re()&&r.SetMixerVolume_mx4ult$(this._masterVolume*this.bgmVolume)}},ah.prototype.GetBGMVolume=function(){return this.bgmVolume},ah.prototype.SetEffectVolume_mx4ult$=function(e){var t,i=e;for(i<=0&&(i=0,this._effectVolumeBackup=10),Bu<i&&(i=Bu),this._effectVolume=i/Bu,t=this.dictionary.entries.iterator();t.hasNext();){var r=t.next().value;r.category===Oe()&&r.SetMixerVolume_mx4ult$(this._masterVolume*this._effectVolume)}},ah.prototype.GetEffectVolume=function(){return this._effectVolume},ah.prototype.SetEffectVolumeBackup_mx4ult$=function(e){this._effectVolumeBackup=e},ah.prototype.GetEffectVolumeBackup=function(){return this._effectVolumeBackup},ah.prototype.toggleMaster=function(){0!==this._masterVolume?(this._masterVolumeBackup=this._masterVolume,this._masterVolume=0):this._masterVolume=this._masterVolumeBackup,this.SetBGMVolume_mx4ult$(this.GetBGMVolume()),this.SetEffectVolume_mx4ult$(this.GetEffectVolume())},ah.prototype.toggleBGM=function(){0!==this.bgmVolume?(this.bgmVolumeBackup=this.bgmVolume,this.bgmVolume=0):this.bgmVolume=this.bgmVolumeBackup,this.SetBGMVolume_mx4ult$(this.bgmVolume)},ah.prototype.toggleEffect=function(){0!==this._effectVolume?(this._effectVolumeBackup=this._effectVolume,this._effectVolume=0):this._effectVolume=this._effectVolumeBackup,this.SetEffectVolume_mx4ult$(this._effectVolume)},ah.prototype.SetVolume_9sobi5$=function(e,t){var i=this.GetSound_61zpoe$(e);null!=i&&i.SetCurrentVolume_mx4ult$(t/Bu)},ah.prototype.GetVolume_61zpoe$=function(e){var t=this.GetSound_61zpoe$(e);return null!=t?t.GetCurrentVolume()*Bu:0},ah.prototype.BGMFadeIn_o5txl1$=function(e,t,i,r,o){void 0===i&&(i=100),void 0===r&&(r=.3),void 0===o&&(o=null);var n,a,s,l,u,h=this.GetSound_61zpoe$(t);if(null!=h){var c=i-h.GetCurrentVolume()*Bu;if(c<=0)return void(null!=o&&o());var d=c/r;e.createAction_xcdeti$(t+" BGM Fade In",!0,!1,void 0,void 0,void 0,void 0,(n=h,a=this,s=d,l=i,u=o,function(e){1===e.count&&(n.SetMixerVolume_mx4ult$(a.bgmVolume),a.addToPlayingQueue_k8wy15$(n,-1));var t=n.GetCurrentVolume()*Bu+s*e.elapsed;return l<t&&(t=l),n.SetCurrentVolume_mx4ult$(t/Bu),t!==l||(null!=u&&u(),!1)}))}},ah.prototype.BGMFadeOut_o5txl1$=function(e,t,i,r,o){void 0===i&&(i=0),void 0===r&&(r=.3),void 0===o&&(o=null);var n,a,s,l,u=this.GetSound_61zpoe$(t);if(null!=u){var h=u.GetCurrentVolume()*Bu-i;if(h<=0)return void(null!=o&&o());var c=h/r;e.createAction_xcdeti$(t+" BGM Fade Out",!0,!1,void 0,void 0,void 0,void 0,(n=u,a=c,s=i,l=o,function(e){var t=n.GetCurrentVolume()*Bu-a*e.elapsed;return t<s&&(t=s),n.SetCurrentVolume_mx4ult$(t/Bu),t!==s||(n.stop(),null!=l&&l(),!1)}))}},ah.$metadata$={kind:o,simpleName:"SoundManager",interfaces:[]},fh.prototype.showNotice_5m2ezf$=function(e,t,i,r,o,n){var a,s,l,u,h,c,d,p;if(void 0===t&&(t=""),void 0===i&&(i="MENU_/"),void 0===r&&(r="no"),void 0===o&&(o="ok"),void 0===n&&(n=null),null==this.notice){this.cancelButton=r,this.okButton=o,this.disabled=!1,e.SetFontSize_mx4ult$(16),e.SetFontName_61zpoe$(i),e.SetChildVerticalAlign_qn2em6$(ro()),e.SetChildHorizontalAlign_jdpdm8$(lo());var f,m,v=2;he(Zl("TUTORIAL_TEXT_WRAP_TYPE"),"CHARACTER")&&(v=1),this.notice=e.createTextArea_pvsv9g$(160,240,Pn(),240,480,0,.5,1,void 0,void 0,v),null!=(a=this.notice)&&a.SetFadeMode_za3lpa$(1),null!=(s=this.notice)&&s.SetTextVerticalAlign_qn2em6$(ro()),null!=(l=this.notice)&&l.SetTextHorizontalAlign_jdpdm8$(lo()),null!=(u=this.notice)&&u.SetModal_6taknv$(!0),he(t,"")||null!=(h=this.notice)&&h.addText_r4v59z$(t,.3),this.handler=n,null!=(c=this.notice)&&c.SetMessageHandler_4mjqr2$((f=this,function(e){var t;if(!0===f.disabled)return!1;if(e.event===Ar()){var i=null!=(t=e.sender)?t.GetName():null;return null!=i&&f.clickButton_61zpoe$(i),!1}return e.event===Ir()&&dh().shared().playEffect_bm4lxs$("shake"),!0})),null!=(d=e.screen)&&d.addKeydownListener_5ol7k9$("Back Key For Notice",(m=this,function(e){return!(!1===m.isNoticeShow()||!0!==m.disabled&&(e===Bt().ESCAPE||e===Bt().BACK?(m.clickButton_61zpoe$(m.cancelButton),0):e!==Bt().ENTER||(m.clickButton_61zpoe$(m.okButton),0)))})),null!=(p=this.notice)&&p.SetShow_6taknv$(!0)}},fh.prototype.clearNotice_yo2cqg$=function(e){var t,i;void 0===e&&(e=null),null!=(t=this.notice)&&t.clearText_gam257$(.3,(i=e,function(){return null!=i&&i(),Ze}))},fh.prototype.addNotice_61zpoe$=function(e){var t;null!=(t=this.notice)&&t.addText_r4v59z$(e)},fh.prototype.closeNotice=function(){var e,t,i,r,o;if(null!=this.notice||!1!==(null!=(e=this.notice)?e.GetShow():null)){null!=(t=this.notice)&&t.SetShow_6taknv$(!1),null!=(i=this.notice)&&i.clearText_gam257$();var n,a=Ke.isType(o=null!=(r=this.notice)?r.GetRoot():null,Qn)?o:null;null!=a&&(a.actionDelay_ab0iom$(0,void 0,(n=this,function(){var e;return null!=(e=n.notice)&&e.removeFromParent(),n.notice=null,n.handler=null,Ze})),this.disabled=!0)}},fh.prototype.isNoticeShow=function(){return null!=this.notice&&Je(this.notice).GetShow()},fh.prototype.clickButton_61zpoe$=function(e){var t,i,r,o,n,a,s=Ke.isType(i=null!=(t=this.notice)?t.findChildByName_3m52m6$(e):null,Kt)?i:null;if(null!=s){this.disabled=!0,dh().shared().playEffect_bm4lxs$("click");var l=Ke.isType(o=null!=(r=this.notice)?r.GetRoot():null,Qn)?o:null;null!=l&&l.actionDelay_ab0iom$(0,void 0,(n=this,a=s,function(){var e;return null!=(e=n.handler)&&e(a),Ze}))}},fh.prototype.disableButton_61zpoe$=function(e){var t,i,r=Ke.isType(i=null!=(t=this.notice)?t.findChildByName_3m52m6$(e):null,Kt)?i:null;null!=r&&r.SetEnable_6taknv$(!1)},fh.$metadata$={kind:u,simpleName:"Companion",interfaces:[]};var mh=null;function vh(){return null===mh&&new fh,mh}function gh(){kh(),this.game=null,this.width=0,this.height=0,this.kindOfNumber=0,this.minOfComplete=0,this.map=null,this.clear=null,this.dropMap=null,this.newBlockMap=null,this.hint=new Fe(-1,-1),this.cancelFind=!1,this.running=!1}ph.$metadata$={kind:o,simpleName:"Util",interfaces:[]};var _h=Array;gh.prototype.rotateMap_ytlutl$=function(e){var t,i,r,o=_h(this.width);r=o.length-1|0;for(var n=0;n<=r;n++){var a,s=new Int32Array(this.height);a=s.length-1|0;for(var l=0;l<=a;l++)s[l]=0;o[n]=s}var u=o;t=this.width-1|0;for(var h=0;h<=t;h++){i=this.height-1|0;for(var c=0;c<=i;c++)u[h][c]=e[c][h]}return u},gh.prototype.GetBoard=function(){var e=this.calcMapID();return new Fe(this.map,e)};var $h=Ke.numberToLong,yh=Ke.kotlin.text.toLong_pdl1vz$;function bh(){(Sh=this).checkCompleteCount=0}gh.prototype.calcMapID=function(){var e,t;if(3<this.width||3<this.height)return Ke.Long.ZERO;var i=Ke.Long.ZERO,r=0;e=this.height-1|0;for(var o=0;o<=e;o++){t=this.width-1|0;for(var n=0;n<=t;n++){var a,s=i,l=this.map[n][o];e:do{if(Ke.isNumber(l)){a=$h(l);break e}if("string"==typeof l){a=yh(l);break e}a=Ke.Long.ZERO}while(0);var u,h=a,c=this.kindOfNumber;e:do{if(null==c){u=0;break e}if(Ke.isNumber(c)){u=it(c);break e}if("string"==typeof c)try{u=Qe(c);break e}catch(e){if(Ke.isType(e,ta)){u=0;break e}throw e}u=0}while(0);var d,p=u,f=r;e:do{if(null==f){d=0;break e}if(Ke.isNumber(f)){d=it(f);break e}if("string"==typeof f)try{d=Qe(f);break e}catch(e){if(Ke.isType(e,ta)){d=0;break e}throw e}d=0}while(0);var m,v=Math.pow(p,d);e:do{if(Ke.isNumber(v)){m=$h(v);break e}if("string"==typeof v){m=yh(v);break e}m=Ke.Long.ZERO}while(0);i=s.add(h.multiply(m)),r=r+1|0}}return i},gh.prototype.createNewBoardWithID_s8cxhz$=function(e){for(var t=e,i=Ke.imul(this.width,this.height)-1|0,r=this.height-1|0;0<=r;r--)for(var o=this.width-1|0;0<=o;o--){var n,a=t,s=this.kindOfNumber;e:do{if(null==s){n=0;break e}if(Ke.isNumber(s)){n=it(s);break e}if("string"==typeof s)try{n=Qe(s);break e}catch(e){if(Ke.isType(e,ta)){n=0;break e}throw e}n=0}while(0);var l,u=n,h=i;e:do{if(null==h){l=0;break e}if(Ke.isNumber(h)){l=it(h);break e}if("string"==typeof h)try{l=Qe(h);break e}catch(e){if(Ke.isType(e,ta)){l=0;break e}throw e}l=0}while(0);var c,d=Math.pow(u,l);e:do{if(Ke.isNumber(d)){c=$h(d);break e}if("string"==typeof d){c=yh(d);break e}c=Ke.Long.ZERO}while(0);var p,f=a.div(c),m=this.map[o];e:do{if(null==f){p=0;break e}if(Ke.isNumber(f)){p=et(f);break e}if("string"==typeof f)try{p=tt(f);break e}catch(e){if(Ke.isType(e,ta)){p=0;break e}throw e}p=0}while(0);m[r]=p;var v,g=t,_=this.kindOfNumber;e:do{if(null==_){v=0;break e}if(Ke.isNumber(_)){v=it(_);break e}if("string"==typeof _)try{v=Qe(_);break e}catch(e){if(Ke.isType(e,ta)){v=0;break e}throw e}v=0}while(0);var $,y=v,b=i;e:do{if(null==b){$=0;break e}if(Ke.isNumber(b)){$=it(b);break e}if("string"==typeof b)try{$=Qe(b);break e}catch(e){if(Ke.isType(e,ta)){$=0;break e}throw e}$=0}while(0);var S,k=Math.pow(y,$);e:do{if(Ke.isNumber(k)){S=$h(k);break e}if("string"==typeof k){S=yh(k);break e}S=Ke.Long.ZERO}while(0);t=g.subtract(f.multiply(S)),i=i-1|0}},gh.prototype.createNewBoardWithRandom=function(){var e,t;e=this.width-1|0;for(var i=0;i<=e;i++){t=this.height-1|0;for(var r=0;r<=t;r++){this.clear[i][r]=0;var o,n=this.map[i],a=go().arc4random_uniform_za3lpa$(this.kindOfNumber);e:do{if(null==a){o=0;break e}if(Ke.isNumber(a)){o=et(a);break e}if("string"==typeof a)try{o=tt(a);break e}catch(e){if(Ke.isType(e,ta)){o=0;break e}throw e}o=0}while(0);n[r]=o}}},gh.prototype.removeMatchedTile=function(){var e,t;for(this.checkComplete(),this.clearCompleteTile();!1===this.isFilled();){for(;!1===this.isFilled();)this.dropTile();this.checkComplete(),this.clearCompleteTile()}e=this.width-1|0;for(var i=0;i<=e;i++){t=this.height-1|0;for(var r=0;r<=t;r++)this.clear[i][r]=0}},gh.prototype.createNewBoard_s8cxhz$$default=function(e){var t,i;if(he(e,Ke.Long.ZERO)){this.createNewBoardWithRandom();for(var r=0;r=r+1|0,this.removeMatchedTile(),!0!==this.isAppropriate();)this.createNewBoardWithRandom()}else this.createNewBoardWithID_s8cxhz$(e);t=this.width-1|0;for(var o=0;o<=t;o++){i=this.height-1|0;for(var n=0;n<=i;n++)this.clear[o][n]=0}},gh.prototype.createNewBoard_s8cxhz$=function(e,t){void 0===e&&(e=Ke.Long.ZERO),t?t(e):this.createNewBoard_s8cxhz$$default(e)},gh.prototype.checkComplete=function(){var e,t,i,r,o,n,a,s=!1,l=new Int32Array(this.width);a=l.length-1|0;for(var u=0;u<=a;u++)l[u]=0;var h,c,d=l;e=this.height-1|0;for(var p=0;p<=e;p++){h=-(c=1),t=this.width-1|0;for(var f=0;f<=t;f++)c=this.map[f][p]===h&&-1!==this.map[f][p]?c+1|0:1,d[f]=c,h=this.map[f][p];for(var m=this.width-1|0;0<=m;)if(d[m]>=this.minOfComplete){s=!0,i=d[m]-1|0;for(var v=0;v<=i;v++)this.clear[m-v|0][p]=d[m];m=m-d[m]+1|0}else m=m-1|0}var g,_=new Int32Array(this.height);g=_.length-1|0;for(var $=0;$<=g;$++)_[$]=0;var y=_;r=this.width-1|0;for(var b=0;b<=r;b++){h=-(c=1),o=this.height-1|0;for(var S=0;S<=o;S++)c=this.map[b][S]===h&&-1!==this.map[b][S]?c+1|0:1,y[S]=c,h=this.map[b][S];for(var k=this.height-1|0;0<=k;)if(y[k]>=this.minOfComplete){s=!0,n=y[k]-1|0;for(var w=0;w<=n;w++)this.clear[b][k-w|0]=y[k];k=k-y[k]+1|0}else k=k-1|0}return s},gh.prototype.clearCompleteTile=function(){var e,t,i=!1,r=0;e=this.height-1|0;for(var o=0;o<=e;o++){t=this.width-1|0;for(var n=0;n<=t;n++)0!==this.clear[n][o]&&(this.map[n][o]=-1,i=!(this.clear[n][o]=0),r=r+1|0)}return i},gh.prototype.isFilled=function(){var e,t;e=this.width-1|0;for(var i=0;i<=e;i++){t=this.height-1|0;for(var r=0;r<=t;r++)if(-1===this.map[i][r])return!1}return!0},gh.prototype.dropTile=function(){for(var e,t=this.height-1|0;0<=t;t--){e=this.width-1|0;for(var i=0;i<=e;i++)if(-1===this.map[i][t]){var r=-1;if(0===t){var o,n=go().arc4random_uniform_za3lpa$(this.kindOfNumber);e:do{if(null==n){o=0;break e}if(Ke.isNumber(n)){o=et(n);break e}if("string"==typeof n)try{o=tt(n);break e}catch(e){if(Ke.isType(e,ta)){o=0;break e}throw e}o=0}while(0);r=o}else r=this.map[i][t-1|0],this.map[i][t-1|0]=-1;this.map[i][t]=r}}},gh.prototype.isAppropriate=function(){var e,t,i,r;if(this.width<3||this.height<3)return!0;var o,n=new Int32Array(this.kindOfNumber);o=n.length-1|0;for(var a=0;a<=o;a++)n[a]=0;var s=n;e=this.width-1|0;for(var l=0;l<=e;l++){t=this.height-1|0;for(var u=0;u<=t;u++)s[i=this.map[l][u]]=s[i]+1|0}r=this.kindOfNumber-1|0;for(var h=0;h<=r;h++)if(s[h]<1)return!1;return!0},gh.prototype.pickRandom_q5rwfd$=function(e){for(var t=go().arc4random_uniform_za3lpa$(e.length)+1|0,i=0,r=0;i!==t;){if(0===e[r]&&(i=i+1|0)===t)return e[r]=1,r;if((r=r+1|0)===e.length){if(0===i)return-1;r=0}}return-1},gh.prototype.makeHint_klim6j$=function(e){var t,i,r,o,n,a,s,l=_h(this.width);s=l.length-1|0;for(var u=0;u<=s;u++){var h,c=_h(this.height);h=c.length-1|0;for(var d=0;d<=h;d++)c[d]=new Fe(0,0);l[u]=c}var p={v:l};t=this.width-1|0;for(var f=0;f<=t;f++){i=this.height-1|0;for(var m=0;m<=i;m++){var v=Ke.isType(r=e[f][m],Ip)?r:null;p.v[f][m]=null!=v?new Fe(v.value,v.GetAttribute()===pf()?1:0):new Fe(-1,-1)}}var g,_=new Int32Array(Ke.imul(this.width,this.height));g=_.length-1|0;for(var $=0;$<=g;$++)_[$]=0;var y=_;for(o=0;o!==y.length;++o){y[o];var b=this.pickRandom_q5rwfd$(y);if(-1===b)break;var S,k=b%this.width,w=b/this.width|0,x=_h(p.v.length);S=x.length-1|0;for(var C=0;C<=S;C++){var z,T=_h(p.v[0].length);z=T.length-1|0;for(var G=0;G<=z;G++)T[G]=new Fe(-1,-1);x[C]=T}var A=x;n=this.height-1|0;for(var I=0;I<=n;I++){a=this.width-1|0;for(var N=0;N<=a;N++)A[N][I]=p.v[N][I].copy_xwzc9p$()}if(0===A[k][w].second&&(this.increaseChainedTile_aatw4l$(A,k,w),!0===this.checkComplete_9kzzq3$(A)))return void(this.hint=new Fe(k,w))}this.hint=new Fe(-1,-1)},gh.prototype.clearHint=function(){this.hint=new Fe(-1,-1)},gh.prototype.GetHint=function(){return this.hint},gh.prototype.cancelFindNoMoreMatch=function(){!0===this.running&&(this.cancelFind=!0),this.cancelFind=!1},bh.$metadata$={kind:u,simpleName:"Companion",interfaces:[]};var Sh=null;function kh(){return null===Sh&&new bh,Sh}function wh(e,t,i,r,o){q.call(this,o),this.exceptionState_0=1,this.$this=e,this.local$tmp$=void 0,this.local$tmp$_0=void 0,this.local$y=void 0,this.local$x=void 0,this.local$test=void 0,this.local$temp=t,this.local$depth=i,this.local$click=r}gh.prototype.isNoMoreMatch_nq05ln$=function(e,t,i,r,o){var n=new wh(this,e,t,i,r);return o?n:n.doResume(null)},wh.$metadata$={kind:Ke.Kind.CLASS,simpleName:null,interfaces:[q]},((wh.prototype=Object.create(q.prototype)).constructor=wh).prototype.doResume=function(){for(;;)try{switch(this.state_0){case 0:var e,t;if(void 0===this.local$depth&&(this.local$depth=0),void 0===this.local$click&&(this.local$click=""),9<this.local$depth)return!1;this.state_0=2;continue;case 1:throw this.exception_0;case 2:if(this.local$depth<=3){if(this.state_0=3,this.result_0=W(1,this),this.result_0===H)return H;continue}this.state_0=4;continue;case 3:this.state_0=4;continue;case 4:this.local$tmp$=this.$this.height-1|0,this.local$y=0,this.state_0=5;continue;case 5:if(this.local$y>this.local$tmp$){this.state_0=16;continue}this.local$tmp$_0=this.$this.width-1|0,this.local$x=0,this.state_0=6;continue;case 6:if(this.local$x>this.local$tmp$_0){this.state_0=14;continue}if(!0===this.$this.cancelFind)return!1;this.state_0=7;continue;case 7:var i,r=_h(this.local$temp.length);i=r.length-1|0;for(var o=0;o<=i;o++){var n,a=_h(this.local$temp[0].length);n=a.length-1|0;for(var s=0;s<=n;s++)a[s]=new Fe(-1,-1);r[o]=a}this.local$test=r,e=this.$this.height-1|0;for(var l=0;l<=e;l++){t=this.$this.width-1|0;for(var u=0;u<=t;u++)this.local$test[u][l]=this.local$temp[u][l].copy_xwzc9p$()}if(0===this.local$test[this.local$x][this.local$y].second){if(this.$this.increaseChainedTile_aatw4l$(this.local$test,this.local$x,this.local$y),!0===this.$this.isNoMoreTouch_9kzzq3$(this.local$test)){if(!0===this.$this.checkComplete_9kzzq3$(this.local$test))return!1;this.state_0=8;continue}this.state_0=9;continue}this.state_0=12;continue;case 8:return!0;case 9:var h,c=this.local$test.slice(),d=this.local$depth+1|0;e:do{if(Ke.isNumber(this.local$x)){h=this.local$x.toString();break e}if("string"==typeof this.local$x){h=this.local$x;break e}if("boolean"==typeof this.local$x){h=this.local$x.toString();break e}if(Ke.isChar(this.local$x)){h=this.local$x.toString();break e}h=""}while(0);var p,f=this.local$click+h+",";e:do{if(Ke.isNumber(this.local$y)){p=this.local$y.toString();break e}if("string"==typeof this.local$y){p=this.local$y;break e}if("boolean"==typeof this.local$y){p=this.local$y.toString();break e}if(Ke.isChar(this.local$y)){p=this.local$y.toString();break e}p=""}while(0);if(this.state_0=10,this.result_0=this.$this.isNoMoreMatch_nq05ln$(c,d,f+p+" ",this),this.result_0===H)return H;continue;case 10:if(!1===this.result_0)return!1;this.state_0=11;continue;case 11:this.state_0=12;continue;case 12:this.state_0=13;continue;case 13:this.local$x++,this.state_0=6;continue;case 14:this.state_0=15;continue;case 15:this.local$y++,this.state_0=5;continue;case 16:return!0}}catch(e){if(1===this.state_0)throw this.exceptionState_0=this.state_0,e;this.state_0=this.exceptionState_0,this.exception_0=e}},gh.prototype.countKindOf_9kzzq3$=function(e){var t,i,r,o,n,a=new Int32Array(this.kindOfNumber);n=a.length-1|0;for(var s=0;s<=n;s++)a[s]=0;var l=a;t=this.height-1|0;for(var u=0;u<=t;u++){i=this.width-1|0;for(var h=0;h<=i;h++)e[h][u].first<this.kindOfNumber&&0<=e[h][u].first&&(l[r=e[h][u].first]=l[r]+1|0)}var c=0,d=0;o=this.kindOfNumber-1|0;for(var p=0;p<=o;p++)0<l[p]&&(c=c+1|0,d=d+p|0);return new Fe(c,d)},gh.prototype.isNoMoreTouch_9kzzq3$=function(e){var t,i;t=this.width-1|0;for(var r=0;r<=t;r++){i=this.height-1|0;for(var o=0;o<=i;o++)if(0===e[r][o].second)return!1}return!0},gh.prototype.findPossibleMatch_klim6j$=function(e){var t,i,r,o,n,a,s=_h(this.width);a=s.length-1|0;for(var l=0;l<=a;l++){var u,h=_h(this.height);u=h.length-1|0;for(var c=0;c<=u;c++)h[c]=new Fe(0,0);s[l]=h}var d=s;t=this.width-1|0;for(var p=0;p<=t;p++){i=this.height-1|0;for(var f=0;f<=i;f++){var m=Ke.isType(r=e[p][f],Ip)?r:null;d[p][f]=null!=m?new Fe(m.value,m.GetAttribute()===pf()?1:0):new Fe(-1,-1)}}o=this.width-1|0;for(var v=0;v<=o;v++){n=this.height-1|0;for(var g=0;g<=n;g++){var _=d;if(0===_[v][g].second&&(this.increaseChainedTile_aatw4l$(_,v,g),!0===this.checkComplete_9kzzq3$(_)))return!0}}return!1};var xh=Ke.booleanArray;function Ch(e,t,i,r,o,n){n=n||Object.create(gh.prototype),gh.call(n),n.game=e,n.width=t,n.height=i,n.kindOfNumber=r,n.minOfComplete=o;var a,s=_h(n.width);a=s.length-1|0;for(var l=0;l<=a;l++){var u,h=new Int32Array(n.height);u=h.length-1|0;for(var c=0;c<=u;c++)h[c]=-1;s[l]=h}n.map=s;var d,p=_h(n.width);d=p.length-1|0;for(var f=0;f<=d;f++){var m,v=new Int32Array(n.height);m=v.length-1|0;for(var g=0;g<=m;g++)v[g]=0;p[f]=v}n.clear=p;var _,$=_h(n.width);_=$.length-1|0;for(var y=0;y<=_;y++){var b,S=new Int32Array(n.height);b=S.length-1|0;for(var k=0;k<=b;k++)S[k]=-1;$[y]=S}n.dropMap=$;var w,x=_h(n.width);w=x.length-1|0;for(var C=0;C<=w;C++){var z,T=new Int32Array(n.height);z=T.length-1|0;for(var G=0;G<=z;G++)T[G]=-1;x[C]=T}return n.newBlockMap=x,n}function zh(){var b,l,a,r,S,o,_,v,g,$,t,f,n,i,s,u,h,e,c,y,d,k,p;this.initializeDone=!1,this.view_c2zo2j$_0=this.view_c2zo2j$_0,this.quality=2,this.particleManager_v8z4ir$_0=this.particleManager_v8z4ir$_0,this.gameState_d7cpud$_0=this.gameState_d7cpud$_0,this.masterTimer_hq0vq1$_0=this.masterTimer_hq0vq1$_0,this.boardGenerator_epr2il$_0=this.boardGenerator_epr2il$_0,this.playerRecord=null,this.gameValue_c2gwc5$_0=this.gameValue_c2gwc5$_0,this.scheduledJobManager_2z1g5v$_0=this.scheduledJobManager_2z1g5v$_0,this.gameConfigure_i3ngcq$_0=this.gameConfigure_i3ngcq$_0,this.boardRect=Di(),this.gameLogicUpdater_q530j1$_0=this.gameLogicUpdater_q530j1$_0,this.gameTimer=null,this.gameTimeElapsed=0,this.gameRemainTime=0,this.beginnerTimer=null,this.beginnerTimeRemain=0,this.blockDisableTimer=null,this.blockDisableTimeRemain=0,this.comboTimer_qhfmdp$_0=this.comboTimer_qhfmdp$_0,this.comboTimeRemain=0,this.feverTimer_8kmffb$_0=this.feverTimer_8kmffb$_0,this.feverTimeRemain=0,this.entityManager_f4f37k$_0=this.entityManager_f4f37k$_0,this.map_miog1a$_0=this.map_miog1a$_0,this.hintMap_qgymqz$_0=this.hintMap_qgymqz$_0,this.clear_sddaxv$_0=this.clear_sddaxv$_0,this.increaseCheck_f490rg$_0=this.increaseCheck_f490rg$_0,this.createColumn_8wqhbs$_0=this.createColumn_8wqhbs$_0,this.beingTransform=!1,this.comboRestart=!1,this.onIdling=!1,this.idleStartTime=0,this.completeCheckNoMoreMatch=!1,this.completeMakeHint=!1,this.showHintNow=!1,this.pressPos=new Fe(-1,-1),this.inputQueue=C([new Fe(-1,-1)]),this.keyInputIgnoreStart=!1,this.keyInputIgnoreEnd=0,this.lastInput=new Fe(-1,-1),this.noMoreMatch=!1,this.gameOverFlag=!1,this.lastChanceFlag=!1,this.isPaused=!1,this.isPausedOnlyForLogic=!1,this.isCanceled=!1,this.comboSeedScore=0,this.comboSeedFactor=0,this.background_6pzcos$_0=this.background_6pzcos$_0,this.boardList=Le(),this.boardMask_56ytzs$_0=this.boardMask_56ytzs$_0,this.boardMaskZ=0,this.feverTimerBar_x11r14$_0=this.feverTimerBar_x11r14$_0,this.feverBackground_w2xd2w$_0=this.feverBackground_w2xd2w$_0,this.bannerOffset=20,this.bottomHeight=0,this.autoPlayKeyIndex=0,this.nirvanaCount=0,this.scoreBackup=0,this.maxComboBackup=0,this.maxFeverBackup=0,this.clearedObstacleBackup=0,this.mapBackup_re831w$_0=this.mapBackup_re831w$_0,this.nirvanaCountBackup=0,this.playingTimeBackup=0,this.timerSoundFired=!1,this.continueByStar=0,this.continueByVideo=0,this.touchListener=(b=this,function(e,t,i,r,o){switch(r.name){case"began":if(e.x<b.boardRect.x||e.y<b.boardRect.y)return;var n,a=e.x-b.boardRect.x,s=b.gameConfigure.tileWidthResult;e:do{if(null==s){n=0;break e}if(Ke.isNumber(s)){n=it(s);break e}if("string"==typeof s)try{var l=Qe(s);n=l;break e}catch(e){if(Ke.isType(e,ta)){n=0;break e}throw e}n=0}while(0);var u,h=a/n;e:do{if(null==h){u=0;break e}if(Ke.isNumber(h)){u=et(h);break e}if("string"==typeof h)try{var c=tt(h);u=c;break e}catch(e){if(Ke.isType(e,ta)){u=0;break e}throw e}u=0}while(0);var d,p=u,f=e.y-b.boardRect.y,m=b.gameConfigure.tileHeightResult;e:do{if(null==m){d=0;break e}if(Ke.isNumber(m)){d=it(m);break e}if("string"==typeof m)try{var v=Qe(m);d=v;break e}catch(e){if(Ke.isType(e,ta)){d=0;break e}throw e}d=0}while(0);var g,_=f/d;e:do{if(null==_){g=0;break e}if(Ke.isNumber(_)){g=et(_);break e}if("string"==typeof _)try{var $=tt(_);g=$;break e}catch(e){if(Ke.isType(e,ta)){g=0;break e}throw e}g=0}while(0);var y=g;if(p<0||p>=b.gameConfigure.width)return;if(y<0||y>=b.gameConfigure.height)return;b.pressPos=new Fe(p,y),null!=b.map[p][y]&&b.addKeyInput_ydzd23$(p,y),b.pressPos=new Fe(-1,-1);break;case"moved":break;case"ended":case"cancelled":b.pressPos=new Fe(-1,-1)}}),this.onReady_m3wg3q$_0=(l=this,function(e){var t,i,r,o,n;if(!he(e,"enter")&&!he(e,"leave"))if(!0===l.isIdle())if(!0===l.gameConfigure.showReadyStart){var a=l.view.createSprite_9wuqyc$(0,240,Pn(),null,320,100,void 0,void 0,!1);a.SetColor_vnjrmz$(hi().black_mx4ult$(0)),a.SetVerticalAlign_qn2em6$(ro()),a.SetHorizontalAlign_jdpdm8$(so()),null!=(t=l.view.screen)&&t.actionFadeIn_hkbjms$(a,0,.6,void 0,.1,void 0,void 0,void 0,(o=l,n=a,function(){var a,s,l,e=o.view.createSprite_9wuqyc$(160,240,Pn(),"Resource/UI/READY",240);return e.SetHorizontalAlign_jdpdm8$(lo()),e.SetVerticalAlign_qn2em6$(ro()),e.SetTimeToLive_mx4ult$(2),e.addUpdateCallback_sds54w$("Game Ready",void 0,void 0,void 0,void 0,void 0,(a=e,s=o,l=n,function(e){var t,o,n,i;if(0===e.elapsed)return!1;if(a.age<=.1)a.SetAlpha_8ca0d4$(.5+10*a.age),a.SetScale_mx4ult$(1+2*e.elapsed);else if(a.age<=.3)a.SetScale_mx4ult$(1-e.elapsed);else if(.9<=a.age){if(!(a.age<=1)){null!=(t=s.view.screen)&&t.actionFadeOut_7vo5wp$(l,.6,void 0,.3,void 0,void 0,void 0,(i=l,function(){return i.SetTimeToLive_mx4ult$(0),Ze}));var r=s.view.createSprite_9wuqyc$(160,240,Pn(),"Resource/UI/START",240);return r.SetHorizontalAlign_jdpdm8$(lo()),r.SetVerticalAlign_qn2em6$(ro()),r.SetTimeToLive_mx4ult$(1),r.addUpdateCallback_sds54w$("Game Start",void 0,void 0,void 0,void 0,void 0,(o=s,n=r,function(e){var t,i;if(0===e.elapsed)return!1;if(1===e.count){var r=Ke.isType(t=o.view.findChildByName_3m52m6$("Pause Switch"),Kt)?t:null;null!=r&&Je(r).SetEnable_6taknv$(!0),null!=(r=Ke.isType(i=o.view.findChildByName_3m52m6$("Abandon Button"),Kt)?i:null)&&Je(r).SetEnable_6taknv$(!0)}return n.age<=1?(n.SetAlpha_8ca0d4$(1-2*(n.age-.5)),n.SetScale_mx4ult$(1+.2*n.age)):n.removeFromParent(),!0})),s.view.addChild_g5h3xp$(r),a.removeFromParent(),!0}a.SetAlpha_8ca0d4$(1-10*(a.age-.9))}return!0})),Ze})),l.gameState.SetNextState_9sobi5$("timerStart",1)}else{var s=Ke.isType(i=l.view.findChildByName_3m52m6$("Pause Switch"),Kt)?i:null;null!=s&&Je(s).SetEnable_6taknv$(!0),null!=(s=Ke.isType(r=l.view.findChildByName_3m52m6$("Abandon Button"),Kt)?r:null)&&Je(s).SetEnable_6taknv$(!0),l.gameState.SetNextState_9sobi5$("timerStart")}else l.processCheck()}),this.onTimerStart=(a=this,function(e){var t,i,r,o,n;he(e,"enter")||he(e,"leave")||(null!=(t=a.gameTimer)&&t.start(),null!=(i=a.beginnerTimer)&&i.start(),null!=(r=a.feverTimer)&&r.start(),null!=(o=a.comboTimer)&&o.start(),null!=(n=a.blockDisableTimer)&&n.start(),a.gameState.SetNextState_9sobi5$("running"))}),this.onTimerRestart=(r=this,function(e){var t,i;he(e,"enter")||he(e,"leave")||(null!=(t=r.beginnerTimer)&&t.restart(),null!=(i=r.blockDisableTimer)&&i.restart(),r.updateInfo(),r.gameState.SetNextState_9sobi5$("running"))}),this.onRunning=(S=this,function(e){var t,i,r,o,n,a,s,l,u,h;if(!he(e,"enter")&&!he(e,"leave")&&!0!==S.isPausedOnlyForLogic)if(0===S.gameConfigure.touchInputMode&&S.processKeyInput(),!0===S.isIdle()){if(!1===S.onIdling&&(S.updateBlockConnection(),!0===S.gameConfigure.takeSnapshot&&S.takeSnapshot(),S.onIdling=!0,S.idleStartTime=S.masterTimer.current,S.completeCheckNoMoreMatch=!1,S.completeMakeHint=!1,S.gameValue.playingTime=S.gameTimeElapsed,S.checkDelayedBlock(),1===S.gameConfigure.obstacleType&&S.checkBottomObstacle()),!0===S.gameConfigure.checkNoMoreMatch&&!1===S.completeCheckNoMoreMatch&&1<S.masterTimer.current-S.idleStartTime){var c=!1;for(t=S.entityManager.GetList(),i=0;i!==t.length;++i){var d=t[i];if(Ke.isType(d,Jp)){S.completeCheckNoMoreMatch=!0,c=!0;break}}!1===c&&(S.completeCheckNoMoreMatch=!0,S.checkNoMoreMatch_y8twos$((h=S,function(e){!0===e&&(h.noMoreMatch=!0)})))}if(!0===S.gameConfigure.showHint&&(!1===S.completeMakeHint?10<S.masterTimer.current-S.idleStartTime&&(S.boardGenerator.makeHint_klim6j$(S.map),S.completeMakeHint=!0):3<S.masterTimer.current-S.idleStartTime&&(S.idleStartTime=S.masterTimer.current,S.showHint())),1===S.gameConfigure.touchInputMode&&S.processKeyInput(),!0===S.comboRestart&&(null!=(r=S.comboTimer)&&r.restart(),S.comboRestart=!1),!0===S.gameOverFlag?!0===S.gameConfigure.limitGameTime&&!1===S.gameConfigure.resetTimeEveryClear?!0===S.lastChanceFlag?(dh().shared().stop_61zpoe$("timer"),!1===S.processRemain()&&S.gameState.SetNextState_9sobi5$("gameOver")):!0!==S.isAllDisabled()&&0!==S.gameValue.feverLevel||(dh().shared().stop_61zpoe$("timer"),S.gameState.SetNextState_9sobi5$("gameOver")):S.gameState.SetNextState_9sobi5$("noMoreMove"):!0===S.isAllDisabled()||!0===S.noMoreMatch?(!1===S.processRemain()&&(!0===S.gameConfigure.regenNoMoreMove?S.gameState.SetNextState_9sobi5$("regenAll"):S.gameOverFlag=!0),S.noMoreMatch=!1):(he(null!=(o=S.blockDisableTimer)?o.state:null,rp())&&null!=(n=S.blockDisableTimer)&&n.restart(),he(null!=(a=S.beginnerTimer)?a.state:null,rp())&&null!=(s=S.beginnerTimer)&&s.restart()),he(Ou().GetConfigure_jyasbz$("Auto Play"),"true")){S.boardGenerator.makeHint_klim6j$(S.map);var p=S.boardGenerator.GetHint();if(-1!==p.first&&-1!==p.second)S.addKeyInput_ydzd23$(p.first,p.second);else{var f,m=S,v=S.autoPlayKeyIndex%S.gameConfigure.width;e:do{if(null==v){f=0;break e}if(Ke.isNumber(v)){f=et(v);break e}if("string"==typeof v)try{var g=tt(v);f=g;break e}catch(e){if(Ke.isType(e,ta)){f=0;break e}throw e}f=0}while(0);var _,$=f,y=S.autoPlayKeyIndex/S.gameConfigure.width|0;e:do{if(null==y){_=0;break e}if(Ke.isNumber(y)){_=et(y);break e}if("string"==typeof y)try{var b=tt(y);_=b;break e}catch(e){if(Ke.isType(e,ta)){_=0;break e}throw e}_=0}while(0);m.addKeyInput_ydzd23$($,_),S.autoPlayKeyIndex=S.autoPlayKeyIndex+1|0,S.autoPlayKeyIndex>=Ke.imul(S.gameConfigure.width,S.gameConfigure.height)&&(S.autoPlayKeyIndex=0)}}}else S.onIdling=!1,S.showHintNow=!1,1===S.gameConfigure.touchInputMode&&S.cancelKeyInput_za3lpa$(),!0===S.processCheck()?(null!=(l=S.comboTimer)&&l.pause(),S.comboRestart=!0):0===S.gameConfigure.comboMode&&(null!=(u=S.comboTimer)&&u.pause(),S.comboRestart=!0)}),this.onRegenAll=(o=this,function(e){var t,i;he(e,"enter")&&null!=(t=o.view.screen)&&t.actionDelay_ab0iom$(o.gameConfigure.matchDelay,void 0,(i=o,function(){var e,t;return i.dropOffAllBlock(),null!=(e=i.view.screen)&&e.actionDelay_ab0iom$(.5,void 0,(t=i,function(){var e;return t.regenAllBlock_za3lpa$(-9),(t.gameValue.feverGage=0)<t.gameValue.feverLevel&&(t.gameValue.feverLevel=0,t.stopFever()),t.comboReset(),null!=(e=t.comboTimer)&&e.restart(),t.gameState.SetNextState_9sobi5$("running"),Ze})),Ze}))}),this.onNoMoreMove=(_=this,function(e){var t,i,r,o,n,a,s,l,u,h,c;if(!he(e,"enter")&&!he(e,"leave")){_.backupForSharing(),null!=(t=_.view.screen)&&t.removeAction_81ngrp$("BGM Fade"),0<dh().shared().GetVolume_61zpoe$("FeverBGM")&&dh().shared().BGMFadeOut_o5txl1$(Je(_.view.screen),"FeverBGM",0,.3),0<dh().shared().GetVolume_61zpoe$("MainBGM")&&dh().shared().BGMFadeOut_o5txl1$(Je(_.view.screen),"MainBGM",0,.3),null!=(i=_.view.screen)&&i.actionDelay_ab0iom$(.5,void 0,Hd);var d=Ke.isType(r=_.view.findChildByName_3m52m6$("Pause Switch"),Kt)?r:null;null!=d&&d.SetEnable_6taknv$(!1),null!=(d=Ke.isType(o=_.view.findChildByName_3m52m6$("Abandon Button"),Kt)?o:null)&&d.SetEnable_6taknv$(!1),_.view.SetChildHorizontalAlign_jdpdm8$(lo()),_.view.SetChildVerticalAlign_qn2em6$(ro());var p=_.view.createSprite_9wuqyc$(160,240,Pn(),"Resource/UI/Background",320,480,void 0,void 0,void 0,!1);p.SetAlpha_8ca0d4$(0),p.SetShow_6taknv$(!0);var f=_.view.createSprite_591x4d$(160,-40,Pn().value+1,"Resource/UI/NOMOREMATCH",240);f.SetHorizontalAlign_jdpdm8$(lo()),f.SetVerticalAlign_qn2em6$(ro()),f.SetAlpha_8ca0d4$(1),null!=(n=_.view.screen)&&n.actionFadeIn_hkbjms$(p,void 0,.8,void 0,.3,void 0,void 0,void 0,Wd),null!=(a=_.view.screen)&&a.actionFadeOut_7vo5wp$(f,void 0,3,.5),null!=(s=_.view.screen)&&s.actionFadeOut_7vo5wp$(p,.8,3,.5);var m,v,g=fn(0,10*_.view.sizeScale.yRatio,f.GetPosition().y,240*_.view.sizeScale.yRatio,.6);g.SetTimeMultiplier_mx4ult$(20),f.addUpdateCallback_sds54w$("Title",void 0,void 0,void 0,void 0,void 0,(m=g,v=f,function(e){m.update_mx4ult$(e.elapsed);var t=m.GetPosition();return v.SetPosition_dleff0$(v.GetPosition().x,t),!0})),_.isPausedOnlyForLogic=!0,null!=(l=_.gameTimer)&&l.pause(),null!=(u=_.comboTimer)&&u.pause(),null!=(h=_.feverTimer)&&h.pause(),null!=(c=_.blockDisableTimer)&&c.pause(),_.gameState.SetNextState_9sobi5$("confirmContinue",4)}}),this.onGameOver_4sel7f$_0=(v=this,function(e){var t,i,r,o,n,a,s,l,u,h,c;if(!he(e,"enter")&&!he(e,"leave")){if(!1===v.lastChanceFlag){!1===v.gameConfigure.regenNoMoreMove&&!1===v.gameConfigure.limitGameTime||(null!=(t=v.view.screen)&&t.removeAction_81ngrp$("BGM Fade"),0<dh().shared().GetVolume_61zpoe$("FeverBGM")&&dh().shared().BGMFadeOut_o5txl1$(Je(v.view.screen),"FeverBGM",0,.3),0<dh().shared().GetVolume_61zpoe$("MainBGM")&&dh().shared().BGMFadeOut_o5txl1$(Je(v.view.screen),"MainBGM",0,.3),null!=(i=v.view.screen)&&i.actionDelay_ab0iom$(.5,void 0,Yd));var d=Ke.isType(r=v.view.findChildByName_3m52m6$("Pause Switch"),Kt)?r:null;null!=d&&d.SetEnable_6taknv$(!1),null!=(d=Ke.isType(o=v.view.findChildByName_3m52m6$("Abandon Button"),Kt)?o:null)&&d.SetEnable_6taknv$(!1),v.view.SetChildHorizontalAlign_jdpdm8$(lo()),v.view.SetChildVerticalAlign_qn2em6$(ro());var p=null;!1===v.gameConfigure.regenNoMoreMove&&!1===v.gameConfigure.limitGameTime||((p=v.view.createSprite_9wuqyc$(160,240,Pn(),"Resource/UI/Background",320,480,void 0,void 0,void 0,!1)).SetAlpha_8ca0d4$(0),p.SetShow_6taknv$(!0),null!=(n=v.view.screen)&&n.actionFadeIn_hkbjms$(p,void 0,.8,void 0,.3));var f=v.view.createSprite_591x4d$(160,240,Pn().value+1,"Resource/UI/GAMEOVER",200);return f.SetHorizontalAlign_jdpdm8$(lo()),f.SetVerticalAlign_qn2em6$(ro()),f.addUpdateCallback_sds54w$("Game Over",void 0,void 0,void 0,void 0,void 0,(m=f,function(e){return e.age<=1&&(m.SetAlpha_8ca0d4$(2*(e.age-.5)),m.SetScaleFromOriginal_mx4ult$(4-3*e.age)),!0})),null!=(a=v.view.screen)&&a.actionFadeOut_7vo5wp$(f,void 0,3,.5),null!=p&&null!=(s=v.view.screen)&&s.actionFadeOut_7vo5wp$(p,.8,3,.5),v.isPausedOnlyForLogic=!0,null!=(l=v.gameTimer)&&l.pause(),null!=(u=v.comboTimer)&&u.pause(),null!=(h=v.feverTimer)&&h.pause(),null!=(c=v.blockDisableTimer)&&c.pause(),void v.gameState.SetNextState_9sobi5$("confirmContinueForTimeAttack",4)}var m;v.backupForSharing(),v.boardList.clear(),!1===v.lastChanceFlag?v.gameState.SetNextState_9sobi5$("waitForStop",3):v.gameState.SetNextState_9sobi5$("waitForStop",1)}}),this.onConfirmContinue=(g=this,function(e){var t,i,r,o;if(he(e,"enter")){var n=1;!1===za().shared().isRewardReady()&&(n=2);var a,s,l={v:Ke.imul(g.gameConfigure.needStarForContinue,g.continueByStar+1|0)};if((ug().shared().GetStarAmount()<l.v||g.continueByStar>=n)&&(0<g.continueByVideo||!1===za().shared().isRewardReady())||2<=(g.continueByStar+g.continueByVideo|0))return null!=(t=g.blockDisableTimer)&&t.stop(),null!=(i=g.beginnerTimer)&&i.stop(),null!=(r=g.gameTimer)&&r.stop(),null!=(o=g.feverTimer)&&o.stop(),void g.gameState.SetNextState_9sobi5$("waitForStop");var c,d,u="  "+Zl("MENU_17")+"   ",h="";if(g.continueByStar>=n)u=a="";else if(ug().shared().GetStarAmount()<l.v){var p,f=l.v;e:do{if(Ke.isNumber(f)){p=f.toString();break e}if("string"==typeof f){p=f;break e}if("boolean"==typeof f){p=f.toString();break e}if(Ke.isChar(f)){p=f.toString();break e}p=""}while(0);a="[Button Resource/UI/IconContinueDisabled 50 star false] [Scale 1.2]x "+p}else{var m,v=l.v;e:do{if(Ke.isNumber(v)){m=v.toString();break e}if("string"==typeof v){m=v;break e}if("boolean"==typeof v){m=v.toString();break e}if(Ke.isChar(v)){m=v.toString();break e}m=""}while(0);a="[Button Resource/UI/IconContinue 50 star] [Scale 1.2]x "+m,h="star"}0<g.continueByVideo||!1===za().shared().isRewardReady()?u=s="":(s="[Button Resource/UI/IconVideo 50 video]",he(h,"")&&(h="video")),vh().showNotice_5m2ezf$(g.view,Zl("MENU_16")+"\n\n\n"+a+u+s+"\n\n\n[Button Resource/UI/IconAbandon 50 no]",void 0,void 0,h,(c=g,d=l,function(e){var t,i,r,o,n,a,s,l;if(he(e.GetName(),"star")){c.continueByStar=c.continueByStar+1|0,ug().shared().decreaseStar_za3lpa$(d.v);var u=Ke.isType(t=c.view.findChildByName_3m52m6$("Star Amount"),ma)?t:null;null!=u&&u.clearText_gam257$(void 0,(l=u,function(){return l.addText_r4v59z$("[image Resource/UI/IconStar 20] "+Jl(ug().shared().GetStarAmount())),Ze})),vh().closeNotice(),c.continueGame()}else if(he(e.GetName(),"video")){var h=za().shared().playRewarded_y8twos$((a=c,s=e,function(e){return!0===e?(vh().closeNotice(),a.continueByVideo=a.continueByVideo+1|0,a.continueGame()):s.SetEnable_6taknv$(!1),Ze}));!1===h&&e.SetEnable_6taknv$(!1)}else vh().closeNotice(),null!=(i=c.blockDisableTimer)&&i.stop(),null!=(r=c.beginnerTimer)&&r.stop(),null!=(o=c.gameTimer)&&o.stop(),null!=(n=c.feverTimer)&&n.stop(),c.gameState.SetNextState_9sobi5$("waitForStop")}))}}),this.onConfirmContinueForTimeAttack=($=this,function(e){var t,i,r,o;if(he(e,"enter")){var n=1;!1===za().shared().isRewardReady()&&(n=2);var a,s,l={v:Ke.imul($.gameConfigure.needStarForContinue,$.continueByStar+1|0)};if((ug().shared().GetStarAmount()<l.v||$.continueByStar>=n)&&(0<$.continueByVideo||!1===za().shared().isRewardReady())||2<=($.continueByStar+$.continueByVideo|0))return null!=(t=$.blockDisableTimer)&&t.stop(),null!=(i=$.beginnerTimer)&&i.stop(),null!=(r=$.gameTimer)&&r.stop(),null!=(o=$.feverTimer)&&o.stop(),void $.gameState.SetNextState_9sobi5$("waitForStop");var c,d,u="  "+Zl("MENU_17")+"   ",h="";if($.continueByStar>=n)u=a="";else if(ug().shared().GetStarAmount()<l.v){var p,f=l.v;e:do{if(Ke.isNumber(f)){p=f.toString();break e}if("string"==typeof f){p=f;break e}if("boolean"==typeof f){p=f.toString();break e}if(Ke.isChar(f)){p=f.toString();break e}p=""}while(0);a="[Button Resource/UI/IconContinueDisabled 50 star false] [Scale 1.2]x "+p}else{var m,v=l.v;e:do{if(Ke.isNumber(v)){m=v.toString();break e}if("string"==typeof v){m=v;break e}if("boolean"==typeof v){m=v.toString();break e}if(Ke.isChar(v)){m=v.toString();break e}m=""}while(0);a="[Button Resource/UI/IconContinue 50 star] [Scale 1.2]x "+m,h="star"}0<$.continueByVideo||!1===za().shared().isRewardReady()?u=s="":(s="[Button Resource/UI/IconVideo 50 video]",he(h,"")&&(h="video")),vh().showNotice_5m2ezf$($.view,Zl("MENU_21")+"\n\n\n"+a+u+s+"\n\n\n[Button Resource/UI/IconAbandon 50 no]",void 0,void 0,h,(c=$,d=l,function(e){var t,i,r,o,n,a,s,l;if(he(e.GetName(),"star")){c.continueByStar=c.continueByStar+1|0,ug().shared().decreaseStar_za3lpa$(d.v);var u=Ke.isType(t=c.view.findChildByName_3m52m6$("Star Amount"),ma)?t:null;null!=u&&u.clearText_gam257$(void 0,(l=u,function(){return l.addText_r4v59z$("[image Resource/UI/IconStar 20] "+Jl(ug().shared().GetStarAmount())),Ze})),vh().closeNotice(),c.continueGame()}else if(he(e.GetName(),"video")){var h=za().shared().playRewarded_y8twos$((a=c,s=e,function(e){return!0===e?(vh().closeNotice(),a.continueByVideo=a.continueByVideo+1|0,a.continueGame()):s.SetEnable_6taknv$(!1),Ze}));!1===h&&e.SetEnable_6taknv$(!1)}else vh().closeNotice(),null!=(i=c.blockDisableTimer)&&i.stop(),null!=(r=c.beginnerTimer)&&r.stop(),null!=(o=c.gameTimer)&&o.stop(),null!=(n=c.feverTimer)&&n.stop(),c.gameState.SetNextState_9sobi5$("waitForStop")}))}}),this.onWaitForStop_ge8lbh$_0=(t=this,function(e){he(e,"enter")||he(e,"leave")||(t.boardGenerator.cancelFindNoMoreMatch(),t.gameState.SetNextState_9sobi5$("gameClose",0))}),this.onGameClose=(f=this,function(e){var t;if(he(e,"enter")){f.masterTimer.stop(),f.stop();var i=xg(f);null!=(t=f.view.screen)&&t.presentView_xl35ob$(i);var r,o="",n=f.gameTimeElapsed;e:do{if(Ke.isNumber(n)){r=n.toString();break e}if("string"==typeof n){r=n;break e}if("boolean"==typeof n){r=n.toString();break e}if(Ke.isChar(n)){r=n.toString();break e}r=""}while(0);o+=r;var a,s=f.gameValue.score;e:do{if(Ke.isNumber(s)){a=s.toString();break e}if("string"==typeof s){a=s;break e}if("boolean"==typeof s){a=s.toString();break e}if(Ke.isChar(s)){a=s.toString();break e}a=""}while(0);o+=","+a;var l,u=f.gameValue.clickAllCount;e:do{if(Ke.isNumber(u)){l=u.toString();break e}if("string"==typeof u){l=u;break e}if("boolean"==typeof u){l=u.toString();break e}if(Ke.isChar(u)){l=u.toString();break e}l=""}while(0);o+=","+l;var h,c=f.gameValue.maxComboOnGame;e:do{if(Ke.isNumber(c)){h=c.toString();break e}if("string"==typeof c){h=c;break e}if("boolean"==typeof c){h=c.toString();break e}if(Ke.isChar(c)){h=c.toString();break e}h=""}while(0);o+=","+h;var d,p=f.gameValue.maxFeverOnGame;e:do{if(Ke.isNumber(p)){d=p.toString();break e}if("string"==typeof p){d=p;break e}if("boolean"==typeof p){d=p.toString();break e}if(Ke.isChar(p)){d=p.toString();break e}d=""}while(0);A(o+=","+d)}}),this.gameCancel=(n=this,function(){var e,t;null!=(e=n.view.screen)&&e.removeAction_81ngrp$("BGM Fade"),0<dh().shared().GetVolume_61zpoe$("FeverBGM")&&dh().shared().BGMFadeOut_o5txl1$(Je(n.view.screen),"FeverBGM",0,.3),0<dh().shared().GetVolume_61zpoe$("MainBGM")&&dh().shared().BGMFadeOut_o5txl1$(Je(n.view.screen),"MainBGM",0,.3),dh().shared().stop_61zpoe$("timer"),n.boardGenerator.cancelFindNoMoreMatch(),n.stop();var i=xg(n);null!=(t=n.view.screen)&&t.presentView_xl35ob$(i)}),this.update=(i=this,function(e){i.particleManager.updateObject_mx4ult$(e),i.particleManager.projection_1s1xds$(i.view.size,Ai(0,0*i.view.sizeScale.yRatio)),!1===i.isPaused&&i.gameState.update_mx4ult$(e),i.entityManager.update_mx4ult$(e),i.updateInfo()}),this.comboTimerUpdateCallback=(s=this,function(e){var t;0<s.comboTimeRemain&&(s.comboTimeRemain-=e,s.comboTimeRemain<=0&&(s.comboTimeRemain=0,s.showHintNow=!0,s.comboReset(),null!=(t=s.comboTimer)&&t.restart()))}),this.comboTimerRestartCallback=(u=this,function(){var t,e=u.gameConfigure.comboTiming,i=u.gameValue.combo;e:do{if(null==i){t=0;break e}if(Ke.isNumber(i)){t=it(i);break e}if("string"==typeof i)try{var r=Qe(i);t=r;break e}catch(e){if(Ke.isType(e,ta)){t=0;break e}throw e}t=0}while(0);var o=e-t*u.gameConfigure.comboTimingAdjust;o<u.gameConfigure.comboTimingLowest&&(o=u.gameConfigure.comboTimingLowest),u.comboTimeRemain=o}),this.feverTimerUpdateCallback=(h=this,function(e){0<h.feverTimeRemain&&(h.feverTimeRemain-=e,h.feverTimeRemain<=0&&0<h.gameValue.feverLevel&&(h.gameValue.feverGage=0,h.gameValue.feverLevel=0,h.stopFever()))}),this.feverTimerRestartCallback=(e=this,function(){e.feverTimeRemain=e.gameConfigure.feverTime,e.updateInfo()}),this.gameTimeUpdateCallback=(c=this,function(e){c.gameTimeElapsed+=e,c.gameRemainTime-=e,c.gameRemainTime<=0&&!(c.gameRemainTime=0)===c.gameConfigure.limitGameTime&&(c.gameOverFlag=!0)}),this.blockDisableTimeUpdateCallback=(y=this,function(e){if(y.blockDisableTimeRemain-=e,y.blockDisableTimeRemain<=0){if(!he(y.gameState.GetState(),"running"))return;var t,i=y.gameValue,r=y.gameConfigure.blockDisableTime,o=y.gameTimeElapsed;e:do{if(null==o){t=0;break e}if(Ke.isNumber(o)){t=et(o);break e}if("string"==typeof o)try{var n=tt(o);t=n;break e}catch(e){if(Ke.isType(e,ta)){t=0;break e}throw e}t=0}while(0);var a,s=t,l=y.gameConfigure.timeForAdjustBlockDisableTime;e:do{if(null==l){a=0;break e}if(Ke.isNumber(l)){a=et(l);break e}if("string"==typeof l)try{var u=tt(l);a=u;break e}catch(e){if(Ke.isType(e,ta)){a=0;break e}throw e}a=0}while(0);var h,c=s/a|0;e:do{if(null==c){h=0;break e}if(Ke.isNumber(c)){h=it(c);break e}if("string"==typeof c)try{var d=Qe(c);h=d;break e}catch(e){if(Ke.isType(e,ta)){h=0;break e}throw e}h=0}while(0);i.blockDisableTime=r-h*y.gameConfigure.adjustTimeForBlockDisableTime,y.gameValue.blockDisableTime<y.gameConfigure.minimumTimeForBlockDisableTime&&(y.gameValue.blockDisableTime=y.gameConfigure.minimumTimeForBlockDisableTime);var p=y.GetClickedButton();if(-1!==p.first)return;for(;y.blockDisableTimeRemain<=0;){var f,m=y,v=y.gameValue.blockDisableTime;e:do{if(null==v){f=0;break e}if(Ke.isNumber(v)){f=it(v);break e}if("string"==typeof v)try{var g=Qe(v);f=g;break e}catch(e){if(Ke.isType(e,ta)){f=0;break e}throw e}f=0}while(0);m.blockDisableTimeRemain+=f,!0===y.gameConfigure.blockDisablePeriodically&&y.disableOneBlock()}}}),this.beginnerTimeUpdateCallback=(d=this,function(e){d.gameTimeElapsed+=e,d.gameTimeElapsed>=d.gameValue.gameTime&&(dh().shared().stop_61zpoe$("timer"),d.gameOverFlag=!0)}),this.blockDisableTimeRestartCallback=(k=this,function(){var t,e=k.gameValue,i=k.gameConfigure.blockDisableTime,r=k.gameTimeElapsed;e:do{if(null==r){t=0;break e}if(Ke.isNumber(r)){t=et(r);break e}if("string"==typeof r)try{var o=tt(r);t=o;break e}catch(e){if(Ke.isType(e,ta)){t=0;break e}throw e}t=0}while(0);var n,a=t,s=k.gameConfigure.timeForAdjustBlockDisableTime;e:do{if(null==s){n=0;break e}if(Ke.isNumber(s)){n=et(s);break e}if("string"==typeof s)try{var l=tt(s);n=l;break e}catch(e){if(Ke.isType(e,ta)){n=0;break e}throw e}n=0}while(0);var u,h=a/n|0;e:do{if(null==h){u=0;break e}if(Ke.isNumber(h)){u=it(h);break e}if("string"==typeof h)try{var c=Qe(h);u=c;break e}catch(e){if(Ke.isType(e,ta)){u=0;break e}throw e}u=0}while(0);e.blockDisableTime=i-u*k.gameConfigure.adjustTimeForBlockDisableTime,k.gameValue.blockDisableTime<k.gameConfigure.minimumTimeForBlockDisableTime&&(k.gameValue.blockDisableTime=k.gameConfigure.minimumTimeForBlockDisableTime);var d,p=k,f=k.gameValue.blockDisableTime;e:do{if(null==f){d=0;break e}if(Ke.isNumber(f)){d=it(f);break e}if("string"==typeof f)try{var m=Qe(f);d=m;break e}catch(e){if(Ke.isType(e,ta)){d=0;break e}throw e}d=0}while(0);p.blockDisableTimeRemain=d}),this.beginnerTimeRestartCallback=(p=this,function(){p.gameTimeElapsed=0;var t,e=p.gameValue,i=p.gameValue.gameTimeInitialValue,r=p.gameValue.score/p.gameConfigure.gameTimeAdjustPerScore|0;e:do{if(null==r){t=0;break e}if(Ke.isNumber(r)){t=et(r);break e}if("string"==typeof r)try{var o=tt(r);t=o;break e}catch(e){if(Ke.isType(e,ta)){t=0;break e}throw e}t=0}while(0);var n,a=t;e:do{if(null==a){n=0;break e}if(Ke.isNumber(a)){n=it(a);break e}if("string"==typeof a)try{var s=Qe(a);n=s;break e}catch(e){if(Ke.isType(e,ta)){n=0;break e}throw e}n=0}while(0);e.gameTime=i-n,p.gameValue.gameTime<2&&(p.gameValue.gameTime=2)})}gh.prototype.increaseChainedTile_aatw4l$=function(e,t,i){var r,o=_h(this.width);r=o.length-1|0;for(var n=0;n<=r;n++){var a,s=new Int32Array(this.height);a=s.length-1|0;for(var l=0;l<=a;l++)s[l]=0;o[n]=s}var u,h=o,c=_h(this.width);u=c.length-1|0;for(var d=0;d<=u;d++){var p,f=xh(this.height,!1);p=f.length-1|0;for(var m=0;m<=p;m++)f[m]=!1;c[d]=f}var v=c;return this.increaseChainedTileRec_cpafc8$(h,e,t,i,e[t][i].first,v),v},gh.prototype.increaseChainedTileRec_cpafc8$=function(e,t,i,r,o,n){r<0||r>=this.height||i<0||i>=this.width||1!==e[i][r]&&-(e[i][r]=1)!==t[i][r].first&&t[i][r].first===o&&(t[i][r]=new Fe((t[i][r].first+1|0)%this.kindOfNumber,999),n[i][r]=!0,this.increaseChainedTileRec_cpafc8$(e,t,i,r-1|0,o,n),this.increaseChainedTileRec_cpafc8$(e,t,i+1|0,r,o,n),this.increaseChainedTileRec_cpafc8$(e,t,i,r+1|0,o,n),this.increaseChainedTileRec_cpafc8$(e,t,i-1|0,r,o,n))},gh.prototype.checkComplete_9kzzq3$=function(e){var t,i,r,o,n,a=_h(this.width);n=a.length-1|0;for(var s=0;s<=n;s++){var l,u=new Int32Array(this.height);l=u.length-1|0;for(var h=0;h<=l;h++)u[h]=0;a[s]=u}this.clear=a;var c,d=!1,p=new Int32Array(this.width);c=p.length-1|0;for(var f=0;f<=c;f++)p[f]=0;var m,v,g=p;t=this.height-1|0;for(var _=0;_<=t;_++){m=-(v=1),i=this.width-1|0;for(var $=0;$<=i;$++)v=e[$][_].first===m&&-1!==e[$][_].first?v+1|0:1,g[$]=v,m=e[$][_].first;for(var y=this.width-1|0;0<=y;y--)if(g[y]>=this.minOfComplete)return d=!0}var b,S=new Int32Array(this.height);b=S.length-1|0;for(var k=0;k<=b;k++)S[k]=0;var w=S;r=this.width-1|0;for(var x=0;x<=r;x++){m=-(v=1),o=this.height-1|0;for(var C=0;C<=o;C++)v=e[x][C].first===m&&-1!==e[x][C].first?v+1|0:1,w[C]=v,m=e[x][C].first;for(var z=this.height-1|0;0<=z;z--)if(w[z]>=this.minOfComplete)return d=!0}return d},gh.prototype.processDrop_klim6j$=function(e){var t,i,r;t=this.width-1|0;for(var o=0;o<=t;o++){i=this.height-1|0;for(var n=0;n<=i;n++)null!=e[o][n]?this.dropMap[o][n]=Je(e[o][n]).value:this.dropMap[o][n]=-1,this.newBlockMap[o][n]=-1}for(;!1===this.isAllLanded_ytlutl$(this.dropMap);)for(var a=this.height-1|0;0<=a;a--){r=this.width-1|0;for(var s=0;s<=r;s++)if(-1===this.dropMap[s][a]){var l=-1;0===a?l=-1:(l=this.dropMap[s][a-1|0],this.dropMap[s][a-1|0]=-1),this.dropMap[s][a]=l}}},gh.prototype.isAllLanded_ytlutl$=function(e){var t,i;t=this.width-1|0;for(var r=0;r<=t;r++){i=this.height-2|0;for(var o=0;o<=i;o++)if(-1!==e[r][o]&&-1===e[r][o+1|0])return!1}return!0},gh.prototype.makeMapForNewBlock_klim6j$=function(e){var t;this.processDrop_klim6j$(e),t=this.width-1|0;for(var i=0;i<=t;i++)for(var r=this.height-1|0;0<=r;r--)if(-1===this.dropMap[i][r]){var o,n=new Int32Array(this.kindOfNumber);o=n.length-1|0;for(var a=0;a<=o;a++)n[a]=0;var s=n;if(0<i){var l=this.dropMap[i-1|0][r];-1!==l&&l<this.kindOfNumber&&(s[l]=s[l]+1|0)}if(i<(this.width-1|0)){var u=this.dropMap[i+1|0][r];-1!==u&&u<this.kindOfNumber&&(s[u]=s[u]+1|0)}if(r<(this.height-1|0)){var h=this.dropMap[i][r+1|0];-1!==h&&h<this.kindOfNumber&&(s[h]=s[h]+1|0)}var c,d=go().arc4random_uniform_za3lpa$(this.kindOfNumber);e:do{if(null==d){c=0;break e}if(Ke.isNumber(d)){c=et(d);break e}if("string"==typeof d)try{c=tt(d);break e}catch(e){if(Ke.isType(e,ta)){c=0;break e}throw e}c=0}while(0);var p=c;if(go().arc4random_uniform_za3lpa$(100)<30)this.dropMap[i][r]=p,this.newBlockMap[i][r]=p;else for(var f=-1,m=0;;){if(0===s[m]&&(f=f+1|0),f===p){this.dropMap[i][r]=m,this.newBlockMap[i][r]=m;break}(m=m+1|0)>=this.kindOfNumber&&(m=0)}}},gh.prototype.GetAvailableBlockOriginal_za3lpa$=function(e){for(var t=this.height-1|0;0<=t;t--)if(-1!==this.newBlockMap[e][t]){var i=this.newBlockMap[e][t];return this.newBlockMap[e][t]=-1,i}return-1},gh.prototype.GetAvailableBlock_vux9f0$=function(e,t){var i,r,o,n,a=0,s=new Int32Array(this.kindOfNumber);n=s.length-1|0;for(var l=0;l<=n;l++)s[l]=0;var u,h=s,c=0,d=new Int32Array(this.kindOfNumber);u=d.length-1|0;for(var p=0;p<=u;p++)d[p]=0;var f=d,m=Je(Je(this.game).entityManager).GetList();for(i=0;i!==m.length;++i){var v=m[i],g=Ke.isType(r=v,Ip)?r:null;null!=g&&(0===h[g.value]&&(a=a+1|0,h[g.value]=1),0===f[g.value]&&g.GetAttribute()!==pf()&&(c=c+1|0,f[g.value]=1))}if(a<=2&&c<2&&0===go().arc4random_uniform_za3lpa$(3)){var _,$=this.kindOfNumber-c|0,y=go().arc4random_uniform_za3lpa$($);e:do{if(null==y){_=0;break e}if(Ke.isNumber(y)){_=et(y);break e}if("string"==typeof y)try{_=tt(y);break e}catch(e){if(Ke.isType(e,ta)){_=0;break e}throw e}_=0}while(0);var b=_,S=-1;o=this.kindOfNumber-1|0;for(var k=0;k<=o;k++)if(0===f[k]&&(S=S+1|0)===b)return k}var w,x=go().arc4random_uniform_za3lpa$(this.kindOfNumber);e:do{if(null==x){w=0;break e}if(Ke.isNumber(x)){w=et(x);break e}if("string"==typeof x)try{w=tt(x);break e}catch(e){if(Ke.isType(e,ta)){w=0;break e}throw e}w=0}while(0);return w},gh.$metadata$={kind:o,simpleName:"BoardGenerator",interfaces:[]},Object.defineProperty(zh.prototype,"view",{get:function(){return null==this.view_c2zo2j$_0?z("view"):this.view_c2zo2j$_0},set:function(e){this.view_c2zo2j$_0=e}}),Object.defineProperty(zh.prototype,"particleManager",{get:function(){return null==this.particleManager_v8z4ir$_0?z("particleManager"):this.particleManager_v8z4ir$_0},set:function(e){this.particleManager_v8z4ir$_0=e}}),Object.defineProperty(zh.prototype,"gameState",{get:function(){return null==this.gameState_d7cpud$_0?z("gameState"):this.gameState_d7cpud$_0},set:function(e){this.gameState_d7cpud$_0=e}}),Object.defineProperty(zh.prototype,"masterTimer",{get:function(){return null==this.masterTimer_hq0vq1$_0?z("masterTimer"):this.masterTimer_hq0vq1$_0},set:function(e){this.masterTimer_hq0vq1$_0=e}}),Object.defineProperty(zh.prototype,"boardGenerator",{get:function(){return null==this.boardGenerator_epr2il$_0?z("boardGenerator"):this.boardGenerator_epr2il$_0},set:function(e){this.boardGenerator_epr2il$_0=e}}),Object.defineProperty(zh.prototype,"gameValue",{get:function(){return null==this.gameValue_c2gwc5$_0?z("gameValue"):this.gameValue_c2gwc5$_0},set:function(e){this.gameValue_c2gwc5$_0=e}}),Object.defineProperty(zh.prototype,"scheduledJobManager",{get:function(){return null==this.scheduledJobManager_2z1g5v$_0?z("scheduledJobManager"):this.scheduledJobManager_2z1g5v$_0},set:function(e){this.scheduledJobManager_2z1g5v$_0=e}}),Object.defineProperty(zh.prototype,"gameConfigure",{get:function(){return null==this.gameConfigure_i3ngcq$_0?z("gameConfigure"):this.gameConfigure_i3ngcq$_0},set:function(e){this.gameConfigure_i3ngcq$_0=e}}),Object.defineProperty(zh.prototype,"gameLogicUpdater",{get:function(){return null==this.gameLogicUpdater_q530j1$_0?z("gameLogicUpdater"):this.gameLogicUpdater_q530j1$_0},set:function(e){this.gameLogicUpdater_q530j1$_0=e}}),Object.defineProperty(zh.prototype,"comboTimer",{get:function(){return null==this.comboTimer_qhfmdp$_0?z("comboTimer"):this.comboTimer_qhfmdp$_0},set:function(e){this.comboTimer_qhfmdp$_0=e}}),Object.defineProperty(zh.prototype,"feverTimer",{get:function(){return null==this.feverTimer_8kmffb$_0?z("feverTimer"):this.feverTimer_8kmffb$_0},set:function(e){this.feverTimer_8kmffb$_0=e}}),Object.defineProperty(zh.prototype,"entityManager",{get:function(){return null==this.entityManager_f4f37k$_0?z("entityManager"):this.entityManager_f4f37k$_0},set:function(e){this.entityManager_f4f37k$_0=e}}),Object.defineProperty(zh.prototype,"map",{get:function(){return null==this.map_miog1a$_0?z("map"):this.map_miog1a$_0},set:function(e){this.map_miog1a$_0=e}}),Object.defineProperty(zh.prototype,"hintMap",{get:function(){return null==this.hintMap_qgymqz$_0?z("hintMap"):this.hintMap_qgymqz$_0},set:function(e){this.hintMap_qgymqz$_0=e}}),Object.defineProperty(zh.prototype,"clear",{get:function(){return null==this.clear_sddaxv$_0?z("clear"):this.clear_sddaxv$_0},set:function(e){this.clear_sddaxv$_0=e}}),Object.defineProperty(zh.prototype,"increaseCheck",{get:function(){return null==this.increaseCheck_f490rg$_0?z("increaseCheck"):this.increaseCheck_f490rg$_0},set:function(e){this.increaseCheck_f490rg$_0=e}}),Object.defineProperty(zh.prototype,"createColumn",{get:function(){return null==this.createColumn_8wqhbs$_0?z("createColumn"):this.createColumn_8wqhbs$_0},set:function(e){this.createColumn_8wqhbs$_0=e}}),Object.defineProperty(zh.prototype,"background",{get:function(){return null==this.background_6pzcos$_0?z("background"):this.background_6pzcos$_0},set:function(e){this.background_6pzcos$_0=e}}),Object.defineProperty(zh.prototype,"boardMask",{get:function(){return null==this.boardMask_56ytzs$_0?z("boardMask"):this.boardMask_56ytzs$_0},set:function(e){this.boardMask_56ytzs$_0=e}}),Object.defineProperty(zh.prototype,"feverTimerBar",{get:function(){return null==this.feverTimerBar_x11r14$_0?z("feverTimerBar"):this.feverTimerBar_x11r14$_0},set:function(e){this.feverTimerBar_x11r14$_0=e}}),Object.defineProperty(zh.prototype,"feverBackground",{get:function(){return null==this.feverBackground_w2xd2w$_0?z("feverBackground"):this.feverBackground_w2xd2w$_0},set:function(e){this.feverBackground_w2xd2w$_0=e}}),Object.defineProperty(zh.prototype,"mapBackup",{get:function(){return null==this.mapBackup_re831w$_0?z("mapBackup"):this.mapBackup_re831w$_0},set:function(e){this.mapBackup_re831w$_0=e}}),zh.prototype.initGameVariables=function(){var e;this.entityManager=Lp(),this.gameState=new Kd,this.gameValue=new Zd(this.gameConfigure);var t,i=this.gameValue,r=_h(this.gameConfigure.width);t=r.length-1|0;for(var o=0;o<=t;o++){var n,a=new Int32Array(this.gameConfigure.height);n=a.length-1|0;for(var s=0;s<=n;s++)a[s]=-1;r[o]=a}i.mapForSharing=r,this.gameValue.addTimeEveryFeverAmount=this.gameConfigure.addTimeEveryFeverAmount,this.scheduledJobManager=new np,this.keyInputIgnoreStart=!1,this.keyInputIgnoreEnd=0,this.gameOverFlag=!1,this.lastChanceFlag=!1;var l,u=new Int32Array(this.gameConfigure.width);l=u.length-1|0;for(var h=0;h<=l;h++)u[h]=0;this.createColumn=u;var c,d=_h(this.gameConfigure.width);c=d.length-1|0;for(var p=0;p<=c;p++){var f,m=_h(this.gameConfigure.height);f=m.length-1|0;for(var v=0;v<=f;v++)m[v]=null;d[p]=m}this.map=d;var g,_=_h(this.gameConfigure.width);g=_.length-1|0;for(var $=0;$<=g;$++){var y,b=new Int32Array(this.gameConfigure.height);y=b.length-1|0;for(var S=0;S<=y;S++)b[S]=-1;_[$]=b}this.mapBackup=_;var k,w=_h(this.gameConfigure.width);k=w.length-1|0;for(var x=0;x<=k;x++){var C,z=new Int32Array(this.gameConfigure.height);C=z.length-1|0;for(var T=0;T<=C;T++)z[T]=0;w[x]=z}this.increaseCheck=w;var G,A=_h(this.gameConfigure.width);G=A.length-1|0;for(var I=0;I<=G;I++){var N,M=new Int32Array(this.gameConfigure.height);N=M.length-1|0;for(var O=0;O<=N;O++)M[O]=0;A[I]=M}this.hintMap=A;var R,j=_h(this.gameConfigure.width);R=j.length-1|0;for(var P=0;P<=R;P++){var B,E=new Int32Array(this.gameConfigure.height);B=E.length-1|0;for(var F=0;F<=B;F++)E[F]=0;j[P]=E}this.clear=j;var L,D=.5*this.view.GetSize().width,V=this.gameConfigure.tileWidthResult,U=this.gameConfigure.width;e:do{if(null==U){L=0;break e}if(Ke.isNumber(U)){L=it(U);break e}if("string"==typeof U)try{L=Qe(U);break e}catch(e){if(Ke.isType(e,ta)){L=0;break e}throw e}L=0}while(0);var q,H=D-V*L*.5,W=this.gameConfigure.tileWidthResult,Y=this.gameConfigure.width;e:do{if(null==Y){q=0;break e}if(Ke.isNumber(Y)){q=it(Y);break e}if("string"==typeof Y)try{q=Qe(Y);break e}catch(e){if(Ke.isType(e,ta)){q=0;break e}throw e}q=0}while(0);var X,K=W*q,Z=this.gameConfigure.tileHeightResult,Q=this.gameConfigure.height;e:do{if(null==Q){X=0;break e}if(Ke.isNumber(Q)){X=it(Q);break e}if("string"==typeof Q)try{X=Qe(Q);break e}catch(e){if(Ke.isType(e,ta)){X=0;break e}throw e}X=0}while(0);this.boardRect=Di(H,0,K,Z*X),this.boardRect.y=(this.view.GetSize().height-this.boardRect.height)*this.gameConfigure.topMargin-this.bottomHeight*this.view.sizeScale.yRatio;var J=Ke.isType(e=Nv().shared().GetItemInfo_61zpoe$(za().shared().GetCurrentBlockSetId()),Sv)?e:Ee();this.gameValue.blockInfo=J,this.gameValue.blockSet=J.resource;var ee=this.gameValue.blockInfo.GetAbility_61zpoe$("Basic Bonus");if(null!=ee){var te,ie=this.gameValue,re=ee.first;e:do{if(null==re){te=0;break e}if(Ke.isNumber(re)){te=it(re);break e}if("string"==typeof re)try{te=Qe(re);break e}catch(e){if(Ke.isType(e,ta)){te=0;break e}throw e}te=0}while(0);ie.basicBonus=te}this.gameRemainTime=this.gameConfigure.gameTime},zh.prototype.deinitGameVariables=function(){this.particleManager.clearParticlePool(),Je(this.entityManager).removeAll(),this.gameOverFlag=!1,this.lastChanceFlag=!1},zh.prototype.initAdditional=function(){var e,t,i;if(this.view.SetChildHorizontalAlign_jdpdm8$(lo()),this.view.SetChildVerticalAlign_qn2em6$(ro()),!1===Ou().isWatchOS()){var r,o=this.gameConfigure.tileWidthResult,n=this.gameConfigure.tileHeightResult,a=Di(this.boardRect.x-this.gameConfigure.tileWidthResult,this.boardRect.y-this.gameConfigure.tileHeightResult-this.gameConfigure.topGaugeHeight,this.boardRect.width+2*this.gameConfigure.tileWidthResult,this.boardRect.height+2*this.gameConfigure.tileHeightResult+this.gameConfigure.topGaugeHeight+this.gameConfigure.bottomGaugeHeight),s=a.x,l=a.y,u=xn().value;e:do{if(null==u){r=0;break e}if(Ke.isNumber(u)){r=it(u);break e}if("string"==typeof u)try{r=Qe(u);break e}catch(e){if(Ke.isType(e,ta)){r=0;break e}throw e}r=0}while(0);var h=la(s,l,r,"Resource/UI/board_0",o,n);h.SetAlpha_8ca0d4$(.1),this.view.addChild_g5h3xp$(h);var c,d=a.x+o,p=a.y,f=xn().value;e:do{if(null==f){c=0;break e}if(Ke.isNumber(f)){c=it(f);break e}if("string"==typeof f)try{c=Qe(f);break e}catch(e){if(Ke.isType(e,ta)){c=0;break e}throw e}c=0}while(0);(h=la(d,p,c,"Resource/UI/board_1",a.width-2*o,n)).SetAlpha_8ca0d4$(.1),this.view.addChild_g5h3xp$(h);var m,v=a.x+a.width-o,g=a.y,_=xn().value;e:do{if(null==_){m=0;break e}if(Ke.isNumber(_)){m=it(_);break e}if("string"==typeof _)try{m=Qe(_);break e}catch(e){if(Ke.isType(e,ta)){m=0;break e}throw e}m=0}while(0);(h=la(v,g,m,"Resource/UI/board_2",o,n)).SetAlpha_8ca0d4$(.1),this.view.addChild_g5h3xp$(h);var $,y=a.x,b=a.y+n,S=xn().value;e:do{if(null==S){$=0;break e}if(Ke.isNumber(S)){$=it(S);break e}if("string"==typeof S)try{$=Qe(S);break e}catch(e){if(Ke.isType(e,ta)){$=0;break e}throw e}$=0}while(0);(h=la(y,b,$,"Resource/UI/board_3",o,a.height-2*n)).SetAlpha_8ca0d4$(.1),this.view.addChild_g5h3xp$(h);var k,w=a.x+o,x=a.y+n,C=xn().value;e:do{if(null==C){k=0;break e}if(Ke.isNumber(C)){k=it(C);break e}if("string"==typeof C)try{k=Qe(C);break e}catch(e){if(Ke.isType(e,ta)){k=0;break e}throw e}k=0}while(0);(h=la(w,x,k,"Resource/UI/board_4",a.width-2*o,a.height-2*n)).SetAlpha_8ca0d4$(.1),this.view.addChild_g5h3xp$(h);var z,T=a.x+a.width-o,G=a.y+n,A=xn().value;e:do{if(null==A){z=0;break e}if(Ke.isNumber(A)){z=it(A);break e}if("string"==typeof A)try{z=Qe(A);break e}catch(e){if(Ke.isType(e,ta)){z=0;break e}throw e}z=0}while(0);(h=la(T,G,z,"Resource/UI/board_5",o,a.height-2*n)).SetAlpha_8ca0d4$(.1),this.view.addChild_g5h3xp$(h);var I,N=a.x,M=a.y+a.height-n,O=xn().value;e:do{if(null==O){I=0;break e}if(Ke.isNumber(O)){I=it(O);break e}if("string"==typeof O)try{I=Qe(O);break e}catch(e){if(Ke.isType(e,ta)){I=0;break e}throw e}I=0}while(0);(h=la(N,M,I,"Resource/UI/board_6",o,n)).SetAlpha_8ca0d4$(.1),this.view.addChild_g5h3xp$(h);var R,j=a.x+o,P=a.y+a.height-n,B=xn().value;e:do{if(null==B){R=0;break e}if(Ke.isNumber(B)){R=it(B);break e}if("string"==typeof B)try{R=Qe(B);break e}catch(e){if(Ke.isType(e,ta)){R=0;break e}throw e}R=0}while(0);(h=la(j,P,R,"Resource/UI/board_7",a.width-2*o,n)).SetAlpha_8ca0d4$(.1),this.view.addChild_g5h3xp$(h);var E,F=a.x+a.width-o,L=a.y+a.height-n,D=xn().value;e:do{if(null==D){E=0;break e}if(Ke.isNumber(D)){E=it(D);break e}if("string"==typeof D)try{E=Qe(D);break e}catch(e){if(Ke.isType(e,ta)){E=0;break e}throw e}E=0}while(0);(h=la(F,L,E,"Resource/UI/board_8",o,n)).SetAlpha_8ca0d4$(.1),this.view.addChild_g5h3xp$(h)}var V=Ke.isType(e=this.gameValue.blockInfo,Sv)?e:null;t=this.gameConfigure.width-1|0;for(var U=0;U<=t;U++){i=this.gameConfigure.height-1|0;for(var q=0;q<=i;q++){var H,W=this.boardRect.x;e:do{if(null==U){H=0;break e}if(Ke.isNumber(U)){H=it(U);break e}if("string"==typeof U)try{H=Qe(U);break e}catch(e){if(Ke.isType(e,ta)){H=0;break e}throw e}H=0}while(0);var Y,X=W+H*this.gameConfigure.tileWidthResult+.5*this.gameConfigure.tileWidthResult,K=this.boardRect.y;e:do{if(null==q){Y=0;break e}if(Ke.isNumber(q)){Y=it(q);break e}if("string"==typeof q)try{Y=Qe(q);break e}catch(e){if(Ke.isType(e,ta)){Y=0;break e}throw e}Y=0}while(0);var Z,Q=K+Y*this.gameConfigure.tileHeightResult+.5*this.gameConfigure.tileHeightResult,J=Cn().value;e:do{if(null==J){Z=0;break e}if(Ke.isNumber(J)){Z=it(J);break e}if("string"==typeof J)try{Z=Qe(J);break e}catch(e){if(Ke.isType(e,ta)){Z=0;break e}throw e}Z=0}while(0);var ee=la(X,Q,Z,(null!=V?V.resource:null)+"board_tile",this.gameConfigure.tileWidth,this.gameConfigure.tileHeight);ee.SetAlpha_8ca0d4$(.8),ee.SetHorizontalAlign_jdpdm8$(lo()),ee.SetVerticalAlign_qn2em6$(ro()),this.view.addChild_g5h3xp$(ee),this.boardList.add_11rb$(ee)}}var te,ie=this.boardRect.x,re=this.boardRect.y,oe=Tn().value;e:do{if(null==oe){te=0;break e}if(Ke.isNumber(oe)){te=it(oe);break e}if("string"==typeof oe)try{te=Qe(oe);break e}catch(e){if(Ke.isType(e,ta)){te=0;break e}throw e}te=0}while(0);var ne=Kr(ie,re,te,"Resource/UI/board_mask",this.boardRect.width,this.boardRect.height);ne.SetVerticalAlign_qn2em6$(io()),ne.SetHorizontalAlign_jdpdm8$(so()),this.view.addChild_g5h3xp$(ne),this.view.SetMask_g5i0xv$(ne),!1===Ou().isWatchOS()?this.createMainScore():Ie().shared().SetTitle_61zpoe$("0"),!0!==this.gameConfigure.limitGameTime&&!0!==this.gameConfigure.blockDisablePeriodically&&!0!==this.gameConfigure.resetTimeEveryClear||this.createTimeBar(),this.createFeverGage(),1<=this.quality&&this.createBackgroundEffect()},zh.prototype.initGame_g5c4ga$=function(e){var t,i,s;this.initializeDone=!1,this.view=e,this.initGameVariables(),this.initMasterTimer(),this.view.addUpdateCallback_sds54w$("Master Timer",void 0,void 0,void 0,void 0,void 0,this.masterTimer.update),this.initFeverTimer(),this.initComboTimer(),!0===this.gameConfigure.resetTimeEveryClear?this.initBeginnerTimer():this.initGameTimer(),!0===this.gameConfigure.blockDisablePeriodically&&this.initBlockDisableTimer(),this.gameState.addOnUpdateCallback_bodv9c$("ready",this.onReady),this.gameState.addOnUpdateCallback_bodv9c$("timerStart",this.onTimerStart),this.gameState.addOnUpdateCallback_bodv9c$("timerRestart",this.onTimerRestart),this.gameState.addOnUpdateCallback_bodv9c$("running",this.onRunning),this.gameState.addOnUpdateCallback_bodv9c$("regenAll",this.onRegenAll),this.gameState.addOnUpdateCallback_bodv9c$("noMoreMove",this.onNoMoreMove),this.gameState.addOnUpdateCallback_bodv9c$("confirmContinue",this.onConfirmContinue),this.gameState.addOnUpdateCallback_bodv9c$("confirmContinueForTimeAttack",this.onConfirmContinueForTimeAttack),this.gameState.addOnUpdateCallback_bodv9c$("gameOver",this.onGameOver),this.gameState.addOnUpdateCallback_bodv9c$("gameClose",this.onGameClose),this.gameState.addOnUpdateCallback_bodv9c$("waitForStop",this.onWaitForStop),this.gameLogicUpdater=new Qd(0,0,this.gameConfigure.gameUpdateInterval,0,"Game Logic"),null!=(t=this.gameLogicUpdater)&&t.SetUpdateCallback_d6xl6w$(this.update),this.scheduledJobManager.addJob_5h0cc$(Je(this.gameLogicUpdater)),this.view.addTouchListener_dal58m$(new Ct("For Game",this.boardRect.x,this.boardRect.y,this.boardRect.width,this.boardRect.height,void 0,this.touchListener)),3===this.gameConfigure.width&&3===this.gameConfigure.height&&null!=(i=this.view.screen)&&i.addKeydownListener_5ol7k9$("Game Key Input",(s=this,function(e){if(e>=Bt().NUMPAD_1&&e<=Bt().NUMPAD_9){var t=e-145|0,i=t%3,r=2-(t/3|0)|0;return s.pressPos=new Fe(i,r),null!=s.map[i][r]&&s.addKeyInput_ydzd23$(i,r),s.pressPos=new Fe(-1,-1),!0}var o;switch(e){case 49:o=0;break;case 37:o=1;break;case 43:o=2;break;case 38:o=3;break;case 39:o=4;break;case 40:o=5;break;case 41:o=6;break;case 55:o=7;break;case 56:o=8;break;default:return!1}var n=o%3,a=o/3|0;return s.pressPos=new Fe(n,a),null!=s.map[n][a]&&s.addKeyInput_ydzd23$(n,a),s.pressPos=new Fe(-1,-1),!0})),this.initAdditional(),this.particleManager=cn(this.view);var r,o=200*Ou().GetPerformance();e:do{if(null==o){r=0;break e}if(Ke.isNumber(o)){r=et(o);break e}if("string"==typeof o)try{r=tt(o);break e}catch(e){if(Ke.isType(e,ta)){r=0;break e}throw e}r=0}while(0);var n=r;this.particleManager.SetMaxParticle_za3lpa$(n);var a=ko(20,Ai(0,0,-100),Ai(0,0,0),Ai(0,0,0),90,1600,200,50);a.projection=1,this.particleManager.SetCamera_s6wt6e$(a)},zh.prototype.deinitGame=function(){this.deinitGameVariables()},zh.prototype.start=function(){var e,t,i;this.masterTimer.start(),null!=(e=this.gameLogicUpdater)&&e.start(),this.gameState.SetNextState_9sobi5$("ready"),this.cancelKeyInput_za3lpa$(),this.initializeDone=!0,null!=(t=this.view.screen)&&t.addKeydownListener_5ol7k9$("Back Key",(i=this,function(e){var t;return!(e!==Bt().ESCAPE&&e!==Bt().BACK||!he(i.gameState.GetState(),"running")||!0===i.isPaused||((Ke.isType(t=i.view,Cg)?t:Ee()).showExitPopup(),0))}))},zh.prototype.stop=function(){var e;this.masterTimer.stop(),null!=(e=this.gameLogicUpdater)&&e.stop()},zh.prototype.backupForSharing=function(){var e,t,i,r,o,n,a;e=this.gameConfigure.width-1|0;for(var s=0;s<=e;s++){t=this.gameConfigure.height-1|0;for(var l=0;l<=t;l++){this.gameValue.mapForSharing[s][l]=Je(this.map[s][l]).value;var u=this.map[s][l];if(Ke.isType(u,Ip))(Ke.isType(i=u,Ip)?i:Ee()).GetAttribute()===pf()&&((r=this.gameValue.mapForSharing[s])[l]=r[l]+1e4|0);else if(Ke.isType(u,af))!0===(Ke.isType(o=u,af)?o:Ee()).isStone&&((n=this.gameValue.mapForSharing[s])[l]=n[l]+1e4|0);else if(Ke.isType(u,Jp)){var h;(a=this.gameValue.mapForSharing[s])[l]=a[l]+(1e5*(Ke.isType(h=u,Jp)?h:Ee()).subValue|0)|0}}}},zh.prototype.takeSnapshot=function(){var e,t,i,r,o,n,a;this.scoreBackup=this.gameValue.score,this.maxComboBackup=this.gameValue.maxComboOnGame,this.maxFeverBackup=this.gameValue.maxFeverOnGame,this.clearedObstacleBackup=this.gameValue.clearedObstacleSum,this.nirvanaCountBackup=this.nirvanaCount,this.playingTimeBackup=this.gameValue.playingTime,e=this.gameConfigure.width-1|0;for(var s=0;s<=e;s++){t=this.gameConfigure.height-1|0;for(var l=0;l<=t;l++){this.mapBackup[s][l]=Je(this.map[s][l]).value;var u=this.map[s][l];if(Ke.isType(u,Ip))(Ke.isType(i=u,Ip)?i:Ee()).GetAttribute()===pf()&&((r=this.mapBackup[s])[l]=r[l]+1e4|0);else if(Ke.isType(u,af))!0===(Ke.isType(o=u,af)?o:Ee()).isStone&&((n=this.mapBackup[s])[l]=n[l]+1e4|0);else if(Ke.isType(u,Jp)){var h;(a=this.mapBackup[s])[l]=a[l]+(1e5*(Ke.isType(h=u,Jp)?h:Ee()).subValue|0)|0}}}},zh.prototype.saveSnapshot=function(){var e,t;Km().SetInteger_rjan26$("Snapshot_Score",void 0,this.scoreBackup),Km().SetInteger_rjan26$("Snapshot_Combo",void 0,this.maxComboBackup),Km().SetInteger_rjan26$("Snapshot_Fever",void 0,this.maxFeverBackup),Km().SetInteger_rjan26$("Snapshot_Ghost",void 0,this.clearedObstacleBackup),Km().SetInteger_rjan26$("Snapshot_Nirvana",void 0,this.nirvanaCountBackup),Km().SetFloat_whnl05$("Snapshot_PlayingTime",void 0,this.playingTimeBackup),Km().SetInteger_rjan26$("Snapshot_ContinueStar",void 0,this.continueByStar),Km().SetInteger_rjan26$("Snapshot_ContinueVideo",void 0,this.continueByVideo);try{e=this.gameConfigure.width-1|0;for(var i=0;i<=e;i++){t=this.gameConfigure.height-1|0;for(var r=0;r<=t;r++){var o,n=Km();e:do{if(Ke.isNumber(i)){o=i.toString();break e}if("string"==typeof i){o=i;break e}if("boolean"==typeof i){o=i.toString();break e}if(Ke.isChar(i)){o=i.toString();break e}o=""}while(0);var a,s="Snapshot_Map_"+o+"_";e:do{if(Ke.isNumber(r)){a=r.toString();break e}if("string"==typeof r){a=r;break e}if("boolean"==typeof r){a=r.toString();break e}if(Ke.isChar(r)){a=r.toString();break e}a=""}while(0);n.SetInteger_rjan26$(s+a,void 0,this.mapBackup[i][r])}}}catch(e){if(Ke.isType(e,Y))return A("saveSnapshot failed"),!1;throw e}return!0},zh.prototype.restoreSnapshot=function(){var e,t,i;this.gameValue.score=Km().GetInteger_rjan26$("Snapshot_Score"),this.gameValue.maxComboOnGame=Km().GetInteger_rjan26$("Snapshot_Combo"),this.gameValue.maxFeverOnGame=Km().GetInteger_rjan26$("Snapshot_Fever"),this.gameValue.clearedObstacleSum=Km().GetInteger_rjan26$("Snapshot_Ghost"),this.nirvanaCount=Km().GetInteger_rjan26$("Snapshot_Nirvana"),this.gameValue.playingTime=Km().GetFloat_whnl05$("Snapshot_PlayingTime"),this.gameTimeElapsed=this.gameValue.playingTime,this.continueByStar=Km().GetInteger_rjan26$("Snapshot_ContinueStar"),this.continueByVideo=Km().GetInteger_rjan26$("Snapshot_ContinueVideo");var r,o,n=Ke.isType(e=this.view.findChildByName_3m52m6$("Ghost Amount"),ma)?e:null;null!=n&&n.clearText_gam257$(void 0,(r=n,o=this,function(){return r.addText_r4v59z$("[Color][Image Ghost_white 35][Scale 0.6]X[Scale] [Color 35BEC1]"+Jl(o.gameValue.clearedObstacleSum)),Ze})),t=this.gameConfigure.width-1|0;for(var a=0;a<=t;a++){i=this.gameConfigure.height-1|0;for(var s=0;s<=i;s++){var l,u=Km();e:do{if(Ke.isNumber(a)){l=a.toString();break e}if("string"==typeof a){l=a;break e}if("boolean"==typeof a){l=a.toString();break e}if(Ke.isChar(a)){l=a.toString();break e}l=""}while(0);var h,c="Snapshot_Map_"+l+"_";e:do{if(Ke.isNumber(s)){h=s.toString();break e}if("string"==typeof s){h=s;break e}if("boolean"==typeof s){h=s.toString();break e}if(Ke.isChar(s)){h=s.toString();break e}h=""}while(0);var d=u.GetInteger_rjan26$(c+h),p=this.entityManager.createBlock_mwco6a$(this,d%1e5,d/1e5|0,a,s);this.map[a][s]=p,this.hintMap[a][s]=0,this.clear[a][s]=0}}},zh.prototype.GetPlayerRecord=function(){return null==this.playerRecord&&(this.playerRecord=Hv().shared().GetRecord_61zpoe$(this.gameConfigure.modeString)),Je(this.playerRecord)},zh.prototype.initMasterTimer=function(){this.masterTimer=xt(0,this.scheduledJobManager.update),this.masterTimer.remain=-1,this.masterTimer.increase=!0,this.masterTimer.state=yt()},zh.prototype.initComboTimer=function(){var e,t;this.comboTimer=new Qd(0,0,this.gameConfigure.comboTimerInterval,0),null!=(e=this.comboTimer)&&e.SetUpdateCallback_d6xl6w$(this.comboTimerUpdateCallback),null!=(t=this.comboTimer)&&t.SetRestartCallback_o14v8n$(this.comboTimerRestartCallback),this.comboTimeRemain=this.gameConfigure.comboTiming,this.scheduledJobManager.addJob_5h0cc$(Je(this.comboTimer))},zh.prototype.initFeverTimer=function(){var e,t;this.feverTimer=new Qd(0,0,this.gameConfigure.feverTimerInterval,0),null!=(e=this.feverTimer)&&e.SetUpdateCallback_d6xl6w$(this.feverTimerUpdateCallback),null!=(t=this.feverTimer)&&t.SetRestartCallback_o14v8n$(this.feverTimerRestartCallback),this.feverTimeRemain=this.gameConfigure.feverTime,this.scheduledJobManager.addJob_5h0cc$(Je(this.feverTimer))},zh.prototype.initBlockDisableTimer=function(){var e,t;this.blockDisableTimer=new Qd(0,0,this.gameConfigure.blockDisableTimerInterval,0),null!=(e=this.blockDisableTimer)&&e.SetUpdateCallback_d6xl6w$(this.blockDisableTimeUpdateCallback),null!=(t=this.blockDisableTimer)&&t.SetRestartCallback_o14v8n$(this.blockDisableTimeRestartCallback);var i,r=this.gameConfigure.blockDisableTime;e:do{if(null==r){i=0;break e}if(Ke.isNumber(r)){i=it(r);break e}if("string"==typeof r)try{i=Qe(r);break e}catch(e){if(Ke.isType(e,ta)){i=0;break e}throw e}i=0}while(0);this.blockDisableTimeRemain=i,this.scheduledJobManager.addJob_5h0cc$(Je(this.blockDisableTimer))},zh.prototype.initGameTimer=function(){var e;this.gameTimer=new Qd(0,0,this.gameConfigure.gameTimerInterval,0),null!=(e=this.gameTimer)&&e.SetUpdateCallback_d6xl6w$(this.gameTimeUpdateCallback),this.gameTimeElapsed=0,this.scheduledJobManager.addJob_5h0cc$(Je(this.gameTimer))},zh.prototype.initBeginnerTimer=function(){var e,t;this.beginnerTimer=new Qd(0,0,this.gameConfigure.blockDisableTimerInterval,0),null!=(e=this.beginnerTimer)&&e.SetUpdateCallback_d6xl6w$(this.beginnerTimeUpdateCallback),null!=(t=this.beginnerTimer)&&t.SetRestartCallback_o14v8n$(this.beginnerTimeRestartCallback),this.gameTimeElapsed=0,this.scheduledJobManager.addJob_5h0cc$(Je(this.beginnerTimer))},zh.prototype.checkComplete=function(){var e,t,i,r,o,n,a,s,l,u,h,c=!1,d=_h(this.gameConfigure.width);h=d.length-1|0;for(var p=0;p<=h;p++){var f,m=new Int32Array(this.gameConfigure.height);f=m.length-1|0;for(var v=0;v<=f;v++)m[v]=0;d[p]=m}this.clear=d;var g,_,$,y=!1,b=_h(this.gameConfigure.width);$=b.length-1|0;for(var S=0;S<=$;S++){var k,w=new Int32Array(this.gameConfigure.height);k=w.length-1|0;for(var x=0;x<=k;x++)w[x]=0;b[S]=w}var C=b;e=this.gameConfigure.height-1|0;for(var z=0;z<=e;z++){g=-(_=1),t=this.gameConfigure.width-1|0;for(var T=0;T<=t;T++){var G=Ke.isType(i=this.map[T][z],Ip)?i:null;if(null!=G)if(he(G.GetBlockState(),"wait")){if(!1===G.isMatchCheckable()){g=-(_=1);continue}!0===G.needCheck&&0===G.needCheckReason&&(c=!0),G.needCheck=!1,_=G.value===g?_+1|0:1,C[T][z]=_,g=G.value}else g=-(_=1);else{var A=Ke.isType(r=this.map[T][z],uf)?r:null;null!=A&&(A.needCheck=!1),g=-(_=1)}}for(var I=this.gameConfigure.width-1|0;0<=I;)if(C[I][z]>=this.gameConfigure.minOfComplete){y=!0,o=C[I][z]-1|0;for(var N=0;N<=o;N++)this.clear[I-N|0][z]=C[I][z];I=I-C[I][z]|0}else I=I-1|0}n=this.gameConfigure.width-1|0;for(var M=0;M<=n;M++){g=-(_=1),a=this.gameConfigure.height-1|0;for(var O=0;O<=a;O++){var R=Ke.isType(s=this.map[M][O],Ip)?s:null;if(null!=R)if(he(R.GetBlockState(),"wait")){if(!1===R.isMatchCheckable()){g=-(_=1);continue}!0===R.needCheck&&0===R.needCheckReason&&(c=!0),R.needCheck=!1,_=R.value===g?_+1|0:1,C[M][O]=_,g=R.value}else g=-(_=1);else{var j=Ke.isType(l=this.map[M][O],uf)?l:null;null!=j&&(j.needCheck=!1),g=-(_=1)}}for(var P=this.gameConfigure.height-1|0;0<=P;)if(C[M][P]>=this.gameConfigure.minOfComplete){y=!0,u=C[M][P]-1|0;for(var B=0;B<=u;B++)this.clear[M][P-B|0]=C[M][P];P=P-C[M][P]|0}else P=P-1|0}return!0===c&&!0===y&&this.resetAllDelayedBlock(),y},zh.prototype.resetAllDelayedBlock=function(){var e,t,i=this.entityManager.GetList();for(e=0;e!==i.length;++e){var r=i[e],o=Ke.isType(t=r,Ip)?t:null;null!=o&&0===o.needCheckReason&&(o.needCheckReason=-1)}},zh.prototype.GetScorePerBlock_za3lpa$=function(e){return e<this.gameConfigure.scorePerBlock.length?this.gameConfigure.scorePerBlock[e]:this.gameConfigure.scorePerBlock[this.gameConfigure.scorePerBlock.length-1|0]},zh.prototype.GetScoreMultiplierPerCombo_za3lpa$=function(e){return e<this.gameConfigure.scoreMultiplierPerCombo.length?this.gameConfigure.scoreMultiplierPerCombo[e]:this.gameConfigure.scoreMultiplierPerCombo[this.gameConfigure.scoreMultiplierPerCombo.length-1|0]},zh.prototype.GetScoreMultiplierPerFever_za3lpa$=function(e){return e<this.gameConfigure.scoreMultiplierPerFever.length?this.gameConfigure.scoreMultiplierPerFever[e]:this.gameConfigure.scoreMultiplierPerFever[this.gameConfigure.scoreMultiplierPerFever.length-1|0]};var Th=Ke.kotlin.math.round_14dthe$;function Gh(e){return function(){return Je(e.sprite).SetAlpha_8ca0d4$(1),Ze}}function Ah(e){return function(){return e.addText_r4v59z$("[image Resource/UI/IconStar 20] "+Jl(ug().shared().GetStarAmount())),Ze}}zh.prototype.calcScore_za3lpa$=function(e){var t,i=this.GetScorePerBlock_za3lpa$(e);e:do{if(null==i){t=0;break e}if(Ke.isNumber(i)){t=it(i);break e}if("string"==typeof i)try{t=Qe(i);break e}catch(e){if(Ke.isType(e,ta)){t=0;break e}throw e}t=0}while(0);var r,o=t*this.gameValue.basicBonus;e:do{if(null==o){r=0;break e}if(Ke.isNumber(o)){r=et(o);break e}if("string"==typeof o)try{r=tt(o);break e}catch(e){if(Ke.isType(e,ta)){r=0;break e}throw e}r=0}while(0);var n,a=r,s=this.GetScoreMultiplierPerCombo_za3lpa$(this.gameValue.combo)*this.GetScoreMultiplierPerFever_za3lpa$(this.gameValue.feverLevel);e:do{if(null==a){n=0;break e}if(Ke.isNumber(a)){n=it(a);break e}if("string"==typeof a)try{n=Qe(a);break e}catch(e){if(Ke.isType(e,ta)){n=0;break e}throw e}n=0}while(0);var l,u=n,h=this.comboSeedScore;e:do{if(null==h){l=0;break e}if(Ke.isNumber(h)){l=it(h);break e}if("string"==typeof h)try{l=Qe(h);break e}catch(e){if(Ke.isType(e,ta)){l=0;break e}throw e}l=0}while(0);var c,d=Th((u+l*this.comboSeedFactor)*s);e:do{if(null==d){c=0;break e}if(Ke.isNumber(d)){c=et(d);break e}if("string"==typeof d)try{c=tt(d);break e}catch(e){if(Ke.isType(e,ta)){c=0;break e}throw e}c=0}while(0);var p=c,f=Ke.imul(p,e);return 0===this.gameValue.combo&&(this.comboSeedScore=f),new Fe(p,f)},zh.prototype.increaseFeverGage_8ca0d4$=function(e,t){var i,r;void 0===t&&(t=!0),!0===this.gameOverFlag&&!1===this.gameConfigure.allowFeverGaugeIncreasementAfterGameOver||(this.gameValue.feverGage=this.gameValue.feverGage+e,100<=this.gameValue.feverGage&&((i=this.gameValue).feverLevel=i.feverLevel+1|0,this.startFever_za3lpa$(this.gameValue.feverLevel),this.gameValue.feverLevel>this.gameValue.maxFeverOnGame&&(this.gameValue.maxFeverOnGame=this.gameValue.feverLevel),!0===t?this.gameValue.feverGage=0:(this.gameValue.feverGage=this.gameValue.feverGage-100,this.gameValue.feverGage<0&&(this.gameValue.feverGage=0),this.gameValue.feverGage=this.gameValue.feverGage%100),null!=(r=this.feverTimer)&&r.restart()))},zh.prototype.startFever_za3lpa$=function(e){var t,i;if(this.createFeverMark(),!0===this.gameConfigure.addTimeEveryFever&&!1===this.gameOverFlag){this.gameRemainTime+=this.gameValue.addTimeEveryFeverAmount,this.gameRemainTime>this.gameValue.gameTimeInitialValue&&(this.gameRemainTime=this.gameValue.gameTimeInitialValue);var r,o=.5*this.view.size.width;e:do{if(null==o){r=0;break e}if(Ke.isNumber(o)){r=it(o);break e}if("string"==typeof o)try{r=Qe(o);break e}catch(e){if(Ke.isType(e,ta)){r=0;break e}throw e}r=0}while(0);var n=Ai(r,this.boardRect.y+this.boardRect.height+this.gameConfigure.tileHeightGap+.5*this.gameConfigure.bottomGaugeHeight),a=this.view.findChildByName_3m52m6$("Timer Label");null!=a&&(n.x=n.x+.5*a.GetSize().width),this.createTimePlus_4tzqwv$(n,this.gameValue.addTimeEveryFeverAmount),10<this.gameRemainTime&&(dh().shared().stop_61zpoe$("timer"),this.timerSoundFired=!1),this.gameValue.addTimeEveryFeverAmount=this.gameValue.addTimeEveryFeverAmount*this.gameConfigure.addTimeEveryFeverAmountAdjust,this.gameValue.addTimeEveryFeverAmount<this.gameConfigure.addTimeEveryFeverAmountMinimum&&(this.gameValue.addTimeEveryFeverAmount=this.gameConfigure.addTimeEveryFeverAmountMinimum)}var s=this.gameConfigure.GetStarPerFever_za3lpa$(e);ug().shared().addStar_za3lpa$(s),(t=this.gameValue).earnedStar=t.earnedStar+s|0;var l,u=Ke.isType(i=this.view.findChildByName_3m52m6$("Star Amount"),ma)?i:null;null!=u&&u.clearText_gam257$(void 0,(l=u,function(){return l.addText_r4v59z$("[image Resource/UI/IconStar 20] "+Jl(ug().shared().GetStarAmount())),Ze}))},zh.prototype.stopFever=function(){};var Ih=Ke.kotlin.collections.copyToArray;function Nh(e,t){return function(){return e.isPaused=!0,e.showNirvanaEffect_kj86xc$(Ih(t.v)),Ze}}function Mh(u,h,c,d,p,f){return function(){var e,t;if(null!=u.gameValue){if(u.createScore_l4u1g4$(h,c.second),u.gameValue.combo<1)dh().shared().playEffect_bm4lxs$("feverPop0");else{var i=1+((u.gameValue.combo-1|0)/5|0)|0;5<i&&(i=5);var r,o=dh().shared(),n=i;e:do{if(Ke.isNumber(n)){r=n.toString();break e}if("string"==typeof n){r=n;break e}if("boolean"==typeof n){r=n.toString();break e}if(Ke.isChar(n)){r=n.toString();break e}r=""}while(0);o.playEffect_bm4lxs$("feverPop"+r)}var a,s,l;u.gameValue.lastEarnedScore=u.gameValue.lastEarnedScore+c.second|0,u.gameValue.score=u.gameValue.score+c.second|0,Ie().shared().SetTitle_61zpoe$(Jl(u.gameValue.score)),!0===d.v?null!=(e=u.view.screen)&&e.actionDelay_ab0iom$(p.v,u.view,(l=u,function(){return l.increaseFeverGage_8ca0d4$(100,!1),l.isPaused=!1,Ze})):null!=(t=u.view.screen)&&t.actionDelay_ab0iom$(p.v,u.view,(a=u,s=f,function(){return null!=a.gameValue&&a.increaseFeverGage_8ca0d4$(a.GetFeverGagePerBlock_za3lpa$(s)+a.GetFeverGageBonusPerCombo_za3lpa$(a.gameValue.combo)),Ze}))}}}function Oh(e){return function(){return e.explode_nhq4am$(),Ze}}function Rh(){return dh().shared().playEffect_bm4lxs$("pop9"),Ze}function jh(e){return e.GetScreenY()}function Ph(e){return e.GetScreenX()}function Bh(d,p,f,m){return function(){var t,e=d.GetRealScreenX(),i=d.GetRealScreenY(),r=p.particleManager,o=Ai(e,i,-50),n=p.gameConfigure.tileWidth/2,a=f.v,s=m,l=hi().white_mx4ult$(),u=Ai(p.gameConfigure.tileWidth/4,p.gameConfigure.tileWidth/4,-10),h=Ai(p.gameConfigure.tileWidth/2,p.gameConfigure.tileWidth/2,500),c=Ln().value;e:do{if(null==c){t=0;break e}if(Ke.isNumber(c)){t=it(c);break e}if("string"==typeof c)try{t=Qe(c);break e}catch(e){if(Ke.isType(e,ta)){t=0;break e}throw e}t=0}while(0);return r.createExplosion_3jyyep$(o,n,10,a,1,s,l,u,h,!0,t),Ze}}function Eh(){return dh().shared().playEffect_bm4lxs$("feverPop5"),Ze}function Fh(e,t,i,r,o,n){q.call(this,n),this.$controller=o,this.exceptionState_0=1,this.local$this$Game=e,this.local$closure$temp=t,this.local$closure$callback=i}function Lh(e){return function(){return e.isPaused=!1,0<e.comboTimeRemain&&(e.comboTimeRemain=e.comboTimeRemain+.5),Ze}}function Dh(e,t){return function(){return e.removeBounce(),e.moveTo_mp7p4f$(e.GetScreenX(),t.gameConfigure.height+1|0,t.gameConfigure.fallingSpeed,t.gameConfigure.fallingSpeedLimit,t.gameConfigure.acceleration),e.SetCheckCollide_6taknv$(!1),Ze}}function Vh(){return dh().shared().playEffect_bm4lxs$("landing"),Ze}function Uh(e){return function(){return e.SetTimeToLive_mx4ult$(0),Ze}}function qh(e){return function(){return e.SetTimeToLive_mx4ult$(0),Ze}}function Hh(e){return function(){return e.SetTimeToLive_mx4ult$(0),Ze}}function Wh(e){return function(){return e.SetTimeToLive_mx4ult$(0),Ze}}function Yh(e,t,i){return e.age<.5?e.SetOriginalAlpha_mx4ult$(2*e.age):e.age>e.timeToLive-.5?e.SetOriginalAlpha_mx4ult$(1-2*(e.age-(e.timeToLive-.5))):e.SetOriginalAlpha_mx4ult$(1),!1}function Xh(e,t,i){return e.age<.5?e.SetOriginalAlpha_mx4ult$(2*e.age):e.age>e.timeToLive-.5?e.SetOriginalAlpha_mx4ult$(1-2*(e.age-(e.timeToLive-.5))):e.SetOriginalAlpha_mx4ult$(1),!1}function Kh(i,r){return function(){var e,t;return null!=(e=i.view.screen)&&e.actionFadeOut_7vo5wp$(r,.6,1.5,.3,void 0,void 0,void 0,(t=r,function(){return t.SetTimeToLive_mx4ult$(0),Ze})),Ze}}function Zh(b,S,k){return function(e){var t,i,r,o,n,a,s,l,u;if(1===e.count){1<=b.quality&&(b.removeBackgroundEffect(),b.createFeverBackgroundEffect()),dh().shared().BGMFadeOut_o5txl1$(Je(b.view.screen),"MainBGM",void 0,.5,(u=b,function(){return dh().shared().BGMFadeIn_o5txl1$(Je(u.view.screen),"FeverBGM",void 0,.5),Ze}));var h,c=b.view,d=100+b.bannerOffset/b.view.sizeScale.yRatio,p=Pn().value;e:do{if(null==p){h=0;break e}if(Ke.isNumber(p)){h=it(p);break e}if("string"==typeof p)try{h=Qe(p);break e}catch(e){if(Ke.isType(e,ta)){h=0;break e}throw e}h=0}while(0);var f=c.createSprite_591x4d$(0,d,h,null,320,100,void 0,void 0,!1);f.SetColor_vnjrmz$(hi().black_mx4ult$(0)),f.SetVerticalAlign_qn2em6$(ro()),f.SetHorizontalAlign_jdpdm8$(so()),null!=(t=b.view.screen)&&t.actionFadeIn_hkbjms$(f,0,.6,0,.3,void 0,void 0,void 0,Kh(b,f));var m,v=S,g=b.view,_=100+b.bannerOffset/b.view.sizeScale.yRatio,$=Pn().value;e:do{if(null==$){m=0;break e}if(Ke.isNumber($)){m=it($);break e}if("string"==typeof $)try{m=Qe($);break e}catch(e){if(Ke.isType(e,ta)){m=0;break e}throw e}m=0}while(0);v.v=g.createSprite_591x4d$(0,_,m,"Resource/UI/FEVER",260),null!=(i=S.v)&&i.SetHorizontalAlign_jdpdm8$(lo()),null!=(r=S.v)&&r.SetVerticalAlign_qn2em6$(ro()),null!=(o=S.v)&&o.SetPosition_dleff0$(-1*Je(S.v).GetSize().width/2,Je(S.v).GetPosition().y),null!=(n=S.v)&&n.SetColor_vnjrmz$(hi().white_mx4ult$()),null!=(a=S.v)&&a.SetBlendFactor_mx4ult$(1),null!=(s=S.v)&&s.SetTimeToLive_mx4ult$(2),b.view.addChild_g5h3xp$(Je(S.v)),k.SetTarget_nfvrp9$(160*b.view.sizeScale.xRatio+Je(S.v).GetSize().width/2,-10,.3,!0,1.5)}var y=k.update_mx4ult$(e.elapsed);return null!=(l=S.v)&&l.SetPosition_dleff0$(-1*Je(S.v).GetSize().width/2+y,Je(S.v).GetPosition().y),!0}}function Qh(je,Pe,Be,Ee,Fe,Le,De,Ve,Ue,qe,He,We,Ye,Xe){return function(e){var t,i,r,o,n,a,s,l,u,h,c,d,p,f,m,v,g,_,$,y,b,S,k,w;if(1===e.count){var x,C=Le,z=je.view,T=Pe,G=Be,A=Cn().value;e:do{if(null==A){x=0;break e}if(Ke.isNumber(A)){x=it(A);break e}if("string"==typeof A)try{x=Qe(A);break e}catch(e){if(Ke.isType(e,ta)){x=0;break e}throw e}x=0}while(0);C.v=z.createMask_jga54f$(T,G,x,je.gameConfigure.uiFolder+"fever_board",Ee.v,Fe.v,void 0,void 0,!1,void 0,void 0,!1),null!=(t=Le.v)&&t.SetHorizontalAlign_jdpdm8$(lo()),null!=(i=Le.v)&&i.SetVerticalAlign_qn2em6$(oo()),null!=(r=Le.v)&&r.SetName_61zpoe$("Fever Gauge Mask");var I,N=je.view,M=Pe-.5*Ee.v,O=Be,R=Cn().value;e:do{if(null==R){I=0;break e}if(Ke.isNumber(R)){I=it(R);break e}if("string"==typeof R)try{I=Qe(R);break e}catch(e){if(Ke.isType(e,ta)){I=0;break e}throw e}I=0}while(0);var j=N.createSprite_591x4d$(M,O,I,je.gameConfigure.uiFolder+"fever_board_left",-1,Fe.v,void 0,void 0,!1,!1);j.SetHorizontalAlign_jdpdm8$(uo()),j.SetVerticalAlign_qn2em6$(oo());var P,B=je.view,E=Pe+.5*Ee.v,F=Be,L=Cn().value;e:do{if(null==L){P=0;break e}if(Ke.isNumber(L)){P=it(L);break e}if("string"==typeof L)try{P=Qe(L);break e}catch(e){if(Ke.isType(e,ta)){P=0;break e}throw e}P=0}while(0);var D=B.createSprite_591x4d$(E,F,P,je.gameConfigure.uiFolder+"fever_board_right",-1,Fe.v,void 0,void 0,!1,!1);D.SetHorizontalAlign_jdpdm8$(so()),D.SetVerticalAlign_qn2em6$(oo()),Ee.v=Je(Le.v).GetSize().width,Fe.v=Je(Le.v).GetSize().height;var V=la(0,0,void 0,je.gameConfigure.uiFolder+"fever_board",Ee.v,Fe.v);V.SetBlendFactor_mx4ult$(1),null!=(o=Le.v)&&o.addChild_g5h3xp$(V),De.v=la(0,.2*Fe.v,void 0,je.gameConfigure.uiFolder+"fever_gage",0,.6*Fe.v),null!=(n=De.v)&&n.SetBlendFactor_mx4ult$(1),null!=(a=Le.v)&&a.addChild_g5h3xp$(Je(De.v)),je.view.SetFontHorizontalAlign_jdpdm8$(lo()),je.view.SetFontVerticalAlign_qn2em6$(ro()),je.view.SetFontName_61zpoe$("Gage/"),Ve.v=je.view.createLabel_17tgk7$(Ee.v/2,Fe.v/2,void 0,"",Le.v),null!=(s=Ve.v)&&s.SetVerticalAlign_qn2em6$(ro()),null!=(l=Ve.v)&&l.SetSize_dleff0$(-1,1.2*Je(De.v).GetSize().height),null!=(u=Ve.v)&&u.SetBlendFactor_mx4ult$(1),null!=(h=Ve.v)&&h.SetColor_vnjrmz$(hi().puzzleYellow_mx4ult$()),je.view.SetFontName_61zpoe$()}switch(Ue.v<je.gameValue.feverLevel&&qe.v<3&&(He.v=100,qe.v=99,null!=(c=je.view.screen)&&c.actionDelay_ab0iom$(.7,void 0,(d=qe,p=We,f=Ye,m=He,v=Ve,g=je,_=De,function(){var e,t;d.v=3;var i,r=p,o=f.v;e:do{if(null==o){i=0;break e}if(Ke.isNumber(o)){i=it(o);break e}if("string"==typeof o)try{i=Qe(o);break e}catch(e){if(Ke.isType(e,ta)){i=0;break e}throw e}i=0}while(0);r.reset_y2kzbl$(void 0,void 0,i);var n,a=p,s=m.v;e:do{if(null==s){n=0;break e}if(Ke.isNumber(s)){n=it(s);break e}if("string"==typeof s)try{n=Qe(s);break e}catch(e){if(Ke.isType(e,ta)){n=0;break e}throw e}n=0}while(0);if(a.SetTarget_nfvrp9$(n,-50,.5,void 0,-1),null!=(e=v.v)){var l,u=g.gameValue.feverLevel;e:do{if(Ke.isNumber(u)){l=u.toString();break e}if("string"==typeof u){l=u;break e}if("boolean"==typeof u){l=u.toString();break e}if(Ke.isChar(u)){l=u.toString();break e}l=""}while(0);e.SetText_61zpoe$(l)}return null!=(t=v.v)&&t.SetSize_dleff0$(-1,1.2*Je(_.v).GetSize().height),Ze})),!0===je.gameConfigure.resetInactiveWhenFever&&je.resetDisabledBlock_wnu51o$(void 0,void 0,!1,!1)),qe.v){case 0:var U,q,H=je,W=Ue,Y=De,X=Ve,K=Ye,Z=qe,Q=He,J=We;if(0<W.v&&0===H.gameValue.feverLevel&&(Je(Y.v).SetBlendFactor_mx4ult$(1),W.v=0,null!=(U=X.v)&&U.SetText_61zpoe$(""),1<=H.quality&&(H.removeFeverBackgroundEffect(),H.createBackgroundEffect()),dh().shared().BGMFadeOut_o5txl1$(Je(H.view.screen),"FeverBGM",void 0,.5,(w=H,function(){return!1===w.gameOverFlag&&dh().shared().BGMFadeIn_o5txl1$(Je(w.view.screen),"MainBGM",void 0,.5),Ze}))),K.v<H.gameValue.feverGage&&(Z.v=99,null!=(q=H.view.screen)&&q.actionDelay_ab0iom$(.6,void 0,($=Z,y=H,b=Q,S=J,k=K,function(){$.v=1,b.v=y.gameValue.feverGage;var t,e=S,i=k.v;e:do{if(null==i){t=0;break e}if(Ke.isNumber(i)){t=it(i);break e}if("string"==typeof i)try{t=Qe(i);break e}catch(e){if(Ke.isType(e,ta)){t=0;break e}throw e}t=0}while(0);e.reset_y2kzbl$(void 0,void 0,t);var r,o=S,n=b.v;e:do{if(null==n){r=0;break e}if(Ke.isNumber(n)){r=it(n);break e}if("string"==typeof n)try{r=Qe(n);break e}catch(e){if(Ke.isType(e,ta)){r=0;break e}throw e}r=0}while(0);return o.SetTarget_nfvrp9$(r,-50,.5,void 0,-1),Ze}))),K.v>H.gameValue.feverGage){Z.v=2,Q.v=H.gameValue.feverGage;var ee,te=K.v;e:do{if(null==te){ee=0;break e}if(Ke.isNumber(te)){ee=it(te);break e}if("string"==typeof te)try{ee=Qe(te);break e}catch(e){if(Ke.isType(e,ta)){ee=0;break e}throw e}ee=0}while(0);J.reset_y2kzbl$(void 0,void 0,ee);var ie,re=Q.v;e:do{if(null==re){ie=0;break e}if(Ke.isNumber(re)){ie=it(re);break e}if("string"==typeof re)try{ie=Qe(re);break e}catch(e){if(Ke.isType(e,ta)){ie=0;break e}throw e}ie=0}while(0);J.SetTarget_nfvrp9$(ie,50,.5,void 0,-1)}break;case 1:var oe=je,ne=He,ae=qe,se=We,le=Ye,ue=De,he=Ee;e:do{var ce;if(ne.v!==oe.gameValue.feverGage){ae.v=0;break e}le.v=se.update_mx4ult$(e.elapsed),le.v>=ne.v&&(le.v=ne.v,ae.v=0),null!=(ce=ue.v)&&ce.SetSize_dleff0$(le.v*he.v/100,Je(ue.v).GetSize().height)}while(0);break;case 2:var de=je,pe=He,fe=qe,me=We,ve=Ye,ge=De,_e=Ee;e:do{var $e;if(pe.v!==de.gameValue.feverGage){fe.v=0;break e}ve.v=me.update_mx4ult$(e.elapsed),ve.v<=pe.v&&(ve.v=pe.v,fe.v=0),null!=($e=ge.v)&&$e.SetSize_dleff0$(ve.v*_e.v/100,Je(ge.v).GetSize().height)}while(0);break;case 3:var ye=je,be=We,Se=Ye,ke=He,we=Xe,xe=Ue,Ce=qe,ze=De,Te=Ee;e:do{var Ge;if(Se.v=be.update_mx4ult$(e.elapsed),Se.v>=ke.v){Se.v=ke.v,we.v=e.age,xe.v=ye.gameValue.feverLevel,Ce.v=0;break e}null!=(Ge=ze.v)&&Ge.SetSize_dleff0$(Se.v*Te.v/100,Je(ze.v).GetSize().height)}while(0);break;case 4:var Ae=Xe,Ie=qe,Ne=De,Me=Ye,Oe=Ee;e:do{var Re;if(Ae.v+1<e.age){Ie.v=0;break e}null!=(Re=Ne.v)&&Re.SetSize_dleff0$(Me.v*Oe.v/100,Je(Ne.v).GetSize().height)}while(0)}return!0}}function Jh(i){return function(e,t){!0===t&&i.removeFromParent()}}function ec(c,d,p){return function(){var t,e=c.GetRealScreenX(),i=c.GetRealScreenY(),r=d.particleManager,o=Ai(e,i,-50),n=d.gameConfigure.tileWidth/2,a=p.v,s=hi().white_mx4ult$(),l=Ai(d.gameConfigure.tileWidth/4,d.gameConfigure.tileWidth/4,-10),u=Ai(d.gameConfigure.tileWidth/2,d.gameConfigure.tileWidth/2,500),h=Ln().value;e:do{if(null==h){t=0;break e}if(Ke.isNumber(h)){t=it(h);break e}if("string"==typeof h)try{t=Qe(h);break e}catch(e){if(Ke.isType(e,ta)){t=0;break e}throw e}t=0}while(0);return r.createExplosion_3jyyep$(o,n,10,a,1,"Resource/UI/Particle",s,l,u,!0,t),Ze}}function tc(e,g,_,$,y,b){return function(){var e,t,i=g.boardRect.x,r=_;e:do{if(null==r){t=0;break e}if(Ke.isNumber(r)){t=it(r);break e}if("string"==typeof r)try{t=Qe(r);break e}catch(e){if(Ke.isType(e,ta)){t=0;break e}throw e}t=0}while(0);var o,n=i+t*g.gameConfigure.tileWidth,a=g.gameConfigure.tileWidth/2;e:do{if(null==a){o=0;break e}if(Ke.isNumber(a)){o=it(a);break e}if("string"==typeof a)try{o=Qe(a);break e}catch(e){if(Ke.isType(e,ta)){o=0;break e}throw e}o=0}while(0);var s,l=n+o,u=g.boardRect.y,h=$;e:do{if(null==h){s=0;break e}if(Ke.isNumber(h)){s=it(h);break e}if("string"==typeof h)try{s=Qe(h);break e}catch(e){if(Ke.isType(e,ta)){s=0;break e}throw e}s=0}while(0);var c,d=u+s*g.gameConfigure.tileHeight,p=g.gameConfigure.tileHeight/2;e:do{if(null==p){c=0;break e}if(Ke.isNumber(p)){c=it(p);break e}if("string"==typeof p)try{c=Qe(p);break e}catch(e){if(Ke.isType(e,ta)){c=0;break e}throw e}c=0}while(0);var f,m,v=Ai(l,d+c);return g.createScore_l4u1g4$(v,y.second),null!=(e=g.view.screen)&&e.actionDelay_ab0iom$(0,void 0,(f=g,m=b,function(){return f.increaseFeverGage_8ca0d4$(f.GetFeverGagePerBlock_za3lpa$(m.v.size)+f.GetFeverGageBonusPerCombo_za3lpa$(f.gameValue.combo)),Ze})),g.gameValue.lastEarnedScore=g.gameValue.lastEarnedScore+y.second|0,g.gameValue.score=g.gameValue.score+y.second|0,Ie().shared().SetTitle_61zpoe$(Jl(g.gameValue.score)),Ze}}function ic(o,n,a){return function(){var e,t,i,r;return Ke.isType(o,af)?o.explode_nhq4am$(10,0,n.gameConfigure.removeFireDelay+.5):o.explode_nhq4am$(10,0,.5),null!=(e=n.view.screen)&&e.actionDelay_ab0iom$(.2,void 0,(t=o,i=n,r=a,function(){var e=Ai(t.GetRealScreenX(),t.GetRealScreenY());return i.createScore_l4u1g4$(e,r.first),Ze})),Ze}}function rc(o,n,a){return function(){var e,t,i,r;return Ke.isType(o,af)?o.explode_nhq4am$(10,0,n.gameConfigure.removeFireDelay+.5):o.explode_nhq4am$(10,0,.5),null!=(e=n.view.screen)&&e.actionDelay_ab0iom$(.2,void 0,(t=o,i=n,r=a,function(){var e=Ai(t.GetRealScreenX(),t.GetRealScreenY());return i.createScore_l4u1g4$(e,r.first),Ze})),Ze}}function oc(s,l,u){return function(){var e,t,i;if(0<s.v)if(l.gameValue.combo<1)dh().shared().playEffect_bm4lxs$("feverPop0");else{var r=1+((l.gameValue.combo-1|0)/5|0)|0;5<r&&(r=5);var o,n=dh().shared(),a=r;e:do{if(Ke.isNumber(a)){o=a.toString();break e}if("string"==typeof a){o=a;break e}if("boolean"==typeof a){o=a.toString();break e}if(Ke.isChar(a)){o=a.toString();break e}o=""}while(0);n.playEffect_bm4lxs$("feverPop"+o)}return null!=(e=l.view.screen)&&e.actionDelay_ab0iom$(0,void 0,(t=l,i=s,function(){return t.increaseFeverGage_8ca0d4$(t.GetFeverGagePerBlock_za3lpa$(i.v+1|0)+t.GetFeverGageBonusPerCombo_za3lpa$(t.gameValue.combo)),Ze})),l.gameValue.lastEarnedScore=l.gameValue.lastEarnedScore+u.second|0,l.gameValue.score=l.gameValue.score+u.second|0,Ie().shared().SetTitle_61zpoe$(Jl(l.gameValue.score)),Ze}}function nc(e){return e.GetRealScreenY()}function ac(_,$,y,b,S,k,w){return function(e){var t,i,r;if(0===e.elapsed)return _.SetAlpha_8ca0d4$(0),void(Ke.isType($,Ip)?null!=(t=y.view.screen)&&t.actionDelay_ab0iom$(0,void 0,(r=$,function(){var e;return(Ke.isType(e=r,Ip)?e:Ee()).resetDisable_6taknv$(),Ze})):Ke.isType($,af)&&(Ke.isType(i=$,af)?i:Ee()).explode_nhq4am$(10,0,y.gameConfigure.removeFireDelay+.5));var o=b;o<0&&(o=0);var n=.6*y.gameConfigure.tileWidth-.6*y.gameConfigure.tileWidth/S*e.age;if(_.SetSize_dleff0$(n,o),k.v+.1<=e.age){k.v=e.age;var a,s=go(),l=.3*y.gameConfigure.tileWidth;e:do{if(null==l){a=0;break e}if(Ke.isNumber(l)){a=et(l);break e}if("string"==typeof l)try{a=tt(l);break e}catch(e){if(Ke.isType(e,ta)){a=0;break e}throw e}a=0}while(0);var u,h=s.arc4random_uniform_za3lpa$(a);e:do{if(null==h){u=0;break e}if(Ke.isNumber(h)){u=et(h);break e}if("string"==typeof h)try{u=tt(h);break e}catch(e){if(Ke.isType(e,ta)){u=0;break e}throw e}u=0}while(0);var c,d=u,p=.15*y.gameConfigure.tileWidth;e:do{if(null==p){c=0;break e}if(Ke.isNumber(p)){c=et(p);break e}if("string"==typeof p)try{c=tt(p);break e}catch(e){if(Ke.isType(e,ta)){c=0;break e}throw e}c=0}while(0);var f,m=d-c|0,v=_,g=w.x;e:do{if(null==m){f=0;break e}if(Ke.isNumber(m)){f=it(m);break e}if("string"==typeof m)try{f=Qe(m);break e}catch(e){if(Ke.isType(e,ta)){f=0;break e}throw e}f=0}while(0);v.SetPosition_dleff0$(g+f,w.y)}}}function sc(u,h,c,d,p,f,m){return function(){var e,t,i,r=u,o=h,n=In().value;e:do{if(null==n){i=0;break e}if(Ke.isNumber(n)){i=it(n);break e}if("string"==typeof n)try{i=Qe(n);break e}catch(e){if(Ke.isType(e,ta)){i=0;break e}throw e}i=0}while(0);var a=la(r,o,i,"Resource/UI/LightningBar",c,d);a.SetBlendMode_ieo8yr$(ti()),a.SetBlendFactor_mx4ult$(1),p.view.addChild_g5h3xp$(a),a.SetVerticalAlign_qn2em6$(oo()),a.SetHorizontalAlign_jdpdm8$(lo()),a.SetTimeToLive_mx4ult$(.5);var s=Ke.isType(e=p.gameValue.blockInfo,Sv)?e:Ee();if(Ke.isType(f,Ip))switch(s.colorMap.get_za3lpa$(f.value)){case"yellow":a.SetColor_vnjrmz$(hi().yellow_mx4ult$());break;case"red":a.SetColor_vnjrmz$(hi().red_mx4ult$());break;case"green":a.SetColor_vnjrmz$(hi().green_mx4ult$());break;case"blue":a.SetColor_vnjrmz$(hi().blue_mx4ult$());break;default:a.SetColor_vnjrmz$(hi().purple_mx4ult$())}else a.SetColor_vnjrmz$(hi().white_mx4ult$());a.SetAlpha_8ca0d4$(.9);var l=a.GetPosition();return null!=(t=p.view.screen)&&t.actionInstant_cinp1s$(0,.5,void 0,void 0,ac(a,f,p,d,m,{v:0},l)),Ze}}function lc(){return dh().shared().playEffect_bm4lxs$("feverPop5"),Ze}function uc(r,o,n){return function(){var e,t,i;return null!=(e=r.view.screen)&&e.actionDelay_ab0iom$(0,void 0,(t=r,i=o,function(){return t.increaseFeverGage_8ca0d4$(t.GetFeverGagePerBlock_za3lpa$(i.v+1|0)+t.GetFeverGageBonusPerCombo_za3lpa$(t.gameValue.combo)),Ze})),r.gameValue.lastEarnedScore=r.gameValue.lastEarnedScore+n.second|0,r.gameValue.score=r.gameValue.score+n.second|0,Ie().shared().SetTitle_61zpoe$(Jl(r.gameValue.score)),Ze}}zh.prototype.clearCompleteTileByChunk=function(){var e,t,i,r,o,n,a,s,l,u,h,c,d,p,f,m,v,g,_,$,y,b=0,S={v:!1},k=0,w=this.gameConfigure.nirvanaDelayGap,x=0,C=Le();e=this.gameConfigure.height-1|0;for(var z=0;z<=e;z++){t=this.gameConfigure.width-1|0;for(var T=0;T<=t;T++)if(0!==this.clear[T][z]){var G=Ke.isType(i=this.map[T][z],Ip)?i:Ee(),A=this.GetChainedTile_vux9f0$(T,z);this.makeMatchConnection_n4bh9e$(Ih(A));var I={v:Le()},N=this.clearCompleteRec_tu1qy8$(T,z,G.value,0,I.v);C.addAll_brywnq$(I.v),this.gameValue.addBlockCount_za3lpa$(N),b=b+N|0;var M=this.calcScore_za3lpa$(N);if(N>=this.gameConfigure.amountOfNirvana){S.v=!0,this.nirvanaCount=this.nirvanaCount+1|0,k=N;var O,R=this.gameConfigure.matchDelay,j=w,P=N+1|0;e:do{if(null==P){O=0;break e}if(Ke.isNumber(P)){O=it(P);break e}if("string"==typeof P)try{O=Qe(P);break e}catch(e){if(Ke.isType(e,ta)){O=0;break e}throw e}O=0}while(0);var B,E=R+j*O+.2,F=w;e:do{if(null==N){B=0;break e}if(Ke.isNumber(N)){B=it(N);break e}if("string"==typeof N)try{B=Qe(N);break e}catch(e){if(Ke.isType(e,ta)){B=0;break e}throw e}B=0}while(0);if(.5<(E=F*B)){var L;e:do{if(null==N){L=0;break e}if(Ke.isNumber(N)){L=it(N);break e}if("string"==typeof N)try{L=Qe(N);break e}catch(e){if(Ke.isType(e,ta)){L=0;break e}throw e}L=0}while(0);w=.5/L,E=.5}E+=.5;var D=-1;if(-1!==(D=1<this.nirvanaCount?this.gameConfigure.alternativeItemForNirvana:N<this.gameConfigure.itemTable.length?this.gameConfigure.itemTable[N]:this.gameConfigure.itemTable[this.gameConfigure.itemTable.length-1|0])){var V=new Fe(T,z);for(r=I.v.iterator();r.hasNext();){var U=r.next();this.lastInput.first===U.GetScreenX()&&this.lastInput.second===U.GetScreenY()&&(V=new Fe(this.lastInput.first,this.lastInput.second))}(o=this.createColumn)[n=V.first]=o[n]-1|0;var q=G.value;if(103===D){var H,W=go().arc4random_uniform_za3lpa$(2);e:do{if(null==W){H=0;break e}if(Ke.isNumber(W)){H=et(W);break e}if("string"==typeof W)try{H=tt(W);break e}catch(e){if(Ke.isType(e,ta)){H=0;break e}throw e}H=0}while(0);q=H}var Y=this.createItem_mbbjvw$(D,q,V.first,V.second,V.first,V.second);this.map[V.first][V.second]=Y,Je(Y.sprite).SetAlpha_8ca0d4$(0),null!=(a=this.view.screen)&&a.actionDelay_ab0iom$(this.gameConfigure.matchDelay+E,void 0,Gh(Y))}var X=this.gameConfigure.GetStarForNirvanaPerFever_za3lpa$(this.gameValue.feverLevel);ug().shared().addStar_za3lpa$(X),(s=this.gameValue).earnedStar=s.earnedStar+X|0;var K=Ke.isType(l=this.view.findChildByName_3m52m6$("Star Amount"),ma)?l:null;null!=K&&K.clearText_gam257$(void 0,Ah(K))}else{var Z=-1;if(-1!==(Z=N<this.gameConfigure.itemTable.length?this.gameConfigure.itemTable[N]:this.gameConfigure.itemTable[this.gameConfigure.itemTable.length-1|0])){var Q=new Fe(T,z);for(u=I.v.iterator();u.hasNext();){var J=u.next();this.lastInput.first===J.GetScreenX()&&this.lastInput.second===J.GetScreenY()&&(Q=new Fe(this.lastInput.first,this.lastInput.second))}(h=this.createColumn)[c=Q.first]=h[c]-1|0;var ee=G.value;if(103===Z){var te,ie=go().arc4random_uniform_za3lpa$(2);e:do{if(null==ie){te=0;break e}if(Ke.isNumber(ie)){te=et(ie);break e}if("string"==typeof ie)try{te=tt(ie);break e}catch(e){if(Ke.isType(e,ta)){te=0;break e}throw e}te=0}while(0);ee=te}var re=this.createItem_mbbjvw$(Z,ee,Q.first,Q.second,Q.first,Q.second);Je(re.sprite).SetAlpha_8ca0d4$(0),this.map[Q.first][Q.second]=re,x+=.3,null!=(d=this.view.screen)&&d.actionFadeIn_hkbjms$(Je(re.sprite),void 0,void 0,void 0,.3)}}if(!0===S.v){var oe,ne=Ih(I.v),ae=this.gameConfigure.matchDelay,se=w,le=N+1|0;e:do{if(null==le){oe=0;break e}if(Ke.isNumber(le)){oe=it(le);break e}if("string"==typeof le)try{oe=Qe(le);break e}catch(e){if(Ke.isType(e,ta)){oe=0;break e}throw e}oe=0}while(0);this.createMatchBackground_old_jpdi8v$(ne,ae+se*oe,hi().puzzleYellow_mx4ult$()),null!=(p=this.view.screen)&&p.actionDelay_ab0iom$(this.gameConfigure.matchDelay,void 0,Nh(this,I))}else 0<x?this.createMatchBackground_old_jpdi8v$(Ih(I.v),this.gameConfigure.matchDelay,hi().puzzleBlue_mx4ult$()):this.createMatchBackground_jpdi8v$(Ih(I.v),this.gameConfigure.matchDelay,hi().puzzlePink_mx4ult$());var ue=Ai();for(f=I.v.iterator();f.hasNext();){var he=f.next(),ce=Ke.isType(m=he,Ip)?m:null;if(null!=ce)if(!0===S.v){ce.connectionBitMask=0,ce.removeConnection();var de,pe=this.gameConfigure.matchDelay,fe=w,me=N+1|0;e:do{if(null==me){de=0;break e}if(Ke.isNumber(me)){de=it(me);break e}if("string"==typeof me)try{de=Qe(me);break e}catch(e){if(Ke.isType(e,ta)){de=0;break e}throw e}de=0}while(0);ce.explode_902hsc$(N,pe+fe*de+.2,.5,1)}else ce.connectionBitMask=0,ce.removeConnection(),ce.explode_902hsc$(N,this.gameConfigure.matchDelay,x,2);var ve,ge=ue.x,_e=he.GetRealScreenX();e:do{if(null==_e){ve=0;break e}if(Ke.isNumber(_e)){ve=it(_e);break e}if("string"==typeof _e)try{ve=Qe(_e);break e}catch(e){if(Ke.isType(e,ta)){ve=0;break e}throw e}ve=0}while(0);ue.x=ge+ve;var $e,ye=ue.y,be=he.GetRealScreenY();e:do{if(null==be){$e=0;break e}if(Ke.isNumber(be)){$e=it(be);break e}if("string"==typeof be)try{$e=Qe(be);break e}catch(e){if(Ke.isType(e,ta)){$e=0;break e}throw e}$e=0}while(0);ue.y=ye+$e}var Se,ke=ue.x,we=I.v.size;e:do{if(null==we){Se=0;break e}if(Ke.isNumber(we)){Se=it(we);break e}if("string"==typeof we)try{Se=Qe(we);break e}catch(e){if(Ke.isType(e,ta)){Se=0;break e}throw e}Se=0}while(0);ue.x=ke/Se;var xe,Ce=ue.y,ze=I.v.size;e:do{if(null==ze){xe=0;break e}if(Ke.isNumber(ze)){xe=it(ze);break e}if("string"==typeof ze)try{xe=Qe(ze);break e}catch(e){if(Ke.isType(e,ta)){xe=0;break e}throw e}xe=0}while(0);ue.y=Ce/xe;var Te={v:this.gameConfigure.matchDelay+x+this.gameConfigure.removeFireDelay};if(!0===S.v){var Ge,Ae=this.gameConfigure.matchDelay+this.gameConfigure.removeFireDelay,Ie=w,Ne=N+1|0;e:do{if(null==Ne){Ge=0;break e}if(Ke.isNumber(Ne)){Ge=it(Ne);break e}if("string"==typeof Ne)try{Ge=Qe(Ne);break e}catch(e){if(Ke.isType(e,ta)){Ge=0;break e}throw e}Ge=0}while(0);Te.v=Ae+Ie*Ge+.2}for(null!=(v=this.view.screen)&&v.actionDelay_ab0iom$(Te.v,this.view,Mh(this,ue,M,S,Te,N)),g=this.entityManager.GetList(),_=0;_!==g.length;++_){var Me=g[_],Oe=Ke.isType($=Me,af)?$:null;if(null!=Oe&&!0===Oe.matched&&Oe.value%1e3===G.value){Oe.matched=!1;var Re=this.gameConfigure.matchDelay+x;if(!0===S.v){var je,Pe=this.gameConfigure.matchDelay,Be=k+1|0;e:do{if(null==Be){je=0;break e}if(Ke.isNumber(Be)){je=it(Be);break e}if("string"==typeof Be)try{je=Qe(Be);break e}catch(e){if(Ke.isType(e,ta)){je=0;break e}throw e}je=0}while(0);Re=Pe+.05*je+.2}null!=(y=this.view.screen)&&y.actionDelay_ab0iom$(Re,void 0,Oh(Oe))}}}}return b},zh.prototype.showNirvanaEffect_kj86xc$=function(e,t){var i,r,o;void 0===t&&(t=0),null!=(i=this.view.screen)&&i.actionDelay_ab0iom$(0,void 0,Rh);var n,a=this.gameConfigure.nirvanaDelayGap,s=a;e:do{if(null==e.length){n=0;break e}if(Ke.isNumber(e.length)){n=it(e.length);break e}if("string"==typeof e.length)try{n=Qe(e.length);break e}catch(e){if(Ke.isType(e,ta)){n=0;break e}throw e}n=0}while(0);var l=s*n;if(.5<l){var u;e:do{if(null==e.length){u=0;break e}if(Ke.isNumber(e.length)){u=it(e.length);break e}if("string"==typeof e.length)try{u=Qe(e.length);break e}catch(e){if(Ke.isType(e,ta)){u=0;break e}throw e}u=0}while(0);a=.5/u,l=.5}var h={v:3*this.gameConfigure.tileWidth};3<this.gameConfigure.width&&(h.v*=2);for(var c=Ke.isType(r=this.gameValue.blockInfo,Sv)?r:Ee(),d=0,p=K(e,X([jh,Ph])).iterator();p.hasNext();++d){var f,m,v=p.next(),g="Particle_"+c.colorMap.get_za3lpa$(v.value);e:do{if(null==d){m=0;break e}if(Ke.isNumber(d)){m=it(d);break e}if("string"==typeof d)try{m=Qe(d);break e}catch(e){if(Ke.isType(e,ta)){m=0;break e}throw e}m=0}while(0);var _=m*a;null!=(f=this.view.screen)&&f.actionDelay_ab0iom$(_,void 0,Bh(v,this,h,g))}if(0===t&&null!=(o=this.view.screen)){var $,y=a,b=e.length+1|0;e:do{if(null==b){$=0;break e}if(Ke.isNumber(b)){$=it(b);break e}if("string"==typeof b)try{$=Qe(b);break e}catch(e){if(Ke.isType(e,ta)){$=0;break e}throw e}$=0}while(0);o.actionDelay_ab0iom$(y*$+.2,void 0,Eh)}},zh.prototype.GetFeverGagePerBlock_za3lpa$=function(e){if(null==this.gameValue)return 0;var t=0;return this.gameValue.feverLevel>=this.gameConfigure.feverGagePerBlock.length&&(t=this.gameConfigure.feverGagePerBlock.length-1|0),e>=this.gameConfigure.feverGagePerBlock[t].length?this.gameConfigure.feverGagePerBlock[t][this.gameConfigure.feverGagePerBlock[t].length-1|0]:this.gameConfigure.feverGagePerBlock[t][e]},zh.prototype.GetFeverGageBonusPerCombo_za3lpa$=function(e){return e>=this.gameConfigure.feverGageBonusPerCombo.length?this.gameConfigure.feverGageBonusPerCombo[this.gameConfigure.feverGageBonusPerCombo.length-1|0]:this.gameConfigure.feverGageBonusPerCombo[e]},zh.prototype.clearCompleteRec_tu1qy8$=function(e,t,i,r,o){var n,a=r;if(e<0||e>=this.gameConfigure.width)return a;if(t<0||t>=this.gameConfigure.height)return a;if(0===this.clear[e][t])return a;var s=Ke.isType(n=this.map[e][t],Ip)?n:null;if(null!=s){if(s.value!==i)return a;this.clear[e][t]=0,o.add_wxm5ur$(0,s),this.removeBlock_vux9f0$(e,t),a=a+1|0,a=this.clearCompleteRec_tu1qy8$(e,t-1|0,i,a,o),a=this.clearCompleteRec_tu1qy8$(e+1|0,t,i,a,o),a=this.clearCompleteRec_tu1qy8$(e,t+1|0,i,a,o),a=this.clearCompleteRec_tu1qy8$(e-1|0,t,i,a,o)}return a},zh.prototype.removeBlock_vux9f0$=function(e,t){var i,r,o,n,a,s=Ke.isType(i=this.map[e][t],uf)?i:null;if(null!=s){if(Ke.isType(s,Ip))this.gameValue.addBlockType_za3lpa$(s.value);else if(Ke.isType(s,af)){this.gameValue.addObstacleClear_za3lpa$(s.value);var l=Ke.isType(r=this.view.findChildByName_3m52m6$("Ghost Amount"),ma)?r:null;null!=l&&l.clearText_gam257$(void 0,(n=l,a=this,function(){return n.addText_r4v59z$("[Color][Image Ghost_white 35][Scale 0.6]X[Scale] [Color 35BEC1]"+Jl(a.gameValue.clearedObstacleSum)),Ze}))}this.map[e][t]=null,(o=this.createColumn)[e]=o[e]+1|0}},zh.prototype.preIncreaseChainedTile_qt1dr2$=function(e,t,i){var r,o=_h(this.gameConfigure.width);r=o.length-1|0;for(var n=0;n<=r;n++){var a,s=new Int32Array(this.gameConfigure.height);a=s.length-1|0;for(var l=0;l<=a;l++)s[l]=0;o[n]=s}this.increaseCheck=o;var u=new su(0);return this.increaseChainedTileRec_t5mq2m$(e,t,i,!0,u)},zh.prototype.increaseChainedTile_qt1dr2$=function(e,t,i){var r,o=_h(this.gameConfigure.width);r=o.length-1|0;for(var n=0;n<=r;n++){var a,s=new Int32Array(this.gameConfigure.height);a=s.length-1|0;for(var l=0;l<=a;l++)s[l]=0;o[n]=s}this.increaseCheck=o;var u=new su(0);this.increaseChainedTileRec_t5mq2m$(e,t,i,!1,u)},zh.prototype.increaseChainedTileRec_t5mq2m$=function(e,t,i,r,o){var n;if(o.v=o.v+1|0,t<0||t>=this.gameConfigure.height)return o.v=o.v-1|0,!0;if(e<0||e>=this.gameConfigure.width)return o.v=o.v-1|0,!0;if(1===this.increaseCheck[e][t])return o.v=o.v-1|0,!0;this.increaseCheck[e][t]=1;var a=Ke.isType(n=this.map[e][t],Ip)?n:null;return null==a?(o.v=o.v-1|0,!0):a.value!==i?(o.v=o.v-1|0,!0):!0===this.gameConfigure.onetimeGrow&&a.GetAttribute()===pf()?(o.v=o.v-1|0,!0):!1===this.isBlockIncreasable_wsdf01$(a)?(o.v=o.v-1|0,!1):(!1===r&&a.transform_mx4ult$(0),!1===this.increaseChainedTileRec_t5mq2m$(e,t-1|0,i,r,o)?(o.v=o.v-1|0,!1):!1===this.increaseChainedTileRec_t5mq2m$(e+1|0,t,i,r,o)?(o.v=o.v-1|0,!1):!1===this.increaseChainedTileRec_t5mq2m$(e,t+1|0,i,r,o)?(o.v=o.v-1|0,!1):!1===this.increaseChainedTileRec_t5mq2m$(e-1|0,t,i,r,o)?(o.v=o.v-1|0,!1):(o.v=o.v-1|0,!0))},zh.prototype.GetChainedTile_vux9f0$=function(e,t){var i,r,o=_h(this.gameConfigure.width);r=o.length-1|0;for(var n=0;n<=r;n++){var a,s=new Int32Array(this.gameConfigure.height);a=s.length-1|0;for(var l=0;l<=a;l++)s[l]=0;o[n]=s}this.increaseCheck=o;var u=Le(),h=Ke.isType(i=this.map[e][t],Ip)?i:null;if(null!=h){var c=new su(0);this.GetChainedTileRec_e9yo5h$(e,t,h.value,c,u)}return u},zh.prototype.GetChainedTileRec_e9yo5h$=function(e,t,i,r,o){var n;if(r.v=r.v+1|0,t<0||t>=this.gameConfigure.height)return r.v=r.v-1|0,!0;if(e<0||e>=this.gameConfigure.width)return r.v=r.v-1|0,!0;if(1===this.increaseCheck[e][t])return r.v=r.v-1|0,!0;this.increaseCheck[e][t]=1;var a=Ke.isType(n=this.map[e][t],Ip)?n:null;return null==a?(r.v=r.v-1|0,!0):a.value!==i?(r.v=r.v-1|0,!0):(o.add_11rb$(a),!1===this.GetChainedTileRec_e9yo5h$(e,t-1|0,i,r,o)?(r.v=r.v-1|0,!1):!1===this.GetChainedTileRec_e9yo5h$(e+1|0,t,i,r,o)?(r.v=r.v-1|0,!1):!1===this.GetChainedTileRec_e9yo5h$(e,t+1|0,i,r,o)?(r.v=r.v-1|0,!1):!1===this.GetChainedTileRec_e9yo5h$(e-1|0,t,i,r,o)?(r.v=r.v-1|0,!1):(r.v=r.v-1|0,!0))},zh.prototype.isFilled=function(){var e,t;e=this.gameConfigure.width-1|0;for(var i=0;i<=e;i++){t=this.gameConfigure.height-1|0;for(var r=0;r<=t;r++)if(null==this.map[i][r])return!1}return!0},zh.prototype.isAllLanded=function(){var e,t=this.entityManager.GetList();for(e=0;e!==t.length;++e){var i=t[e],r=i.GetScreenX(),o=i.GetScreenY();if(r<0||r>=this.gameConfigure.width||o<0||o>=this.gameConfigure.height)return!1;if(this.map[r][o]!==i)return!1}return!0},zh.prototype.isNeedCheckRemain=function(){var e,t,i;e=this.gameConfigure.width-1|0;for(var r=0;r<=e;r++){t=this.gameConfigure.height-1|0;for(var o=0;o<=t;o++){var n=Ke.isType(i=this.map[r][o],uf)?i:null;if(null!=n&&!0===n.needCheck)return!0}}return!1},zh.prototype.createOneBlock_7bka6z$=function(e,t,i,r,o){var n,a,s;void 0===o&&(o=!0);var l=0;if(!0===o&&this.gameConfigure.obstacleMinimumScore<this.gameValue.score&&0<this.gameConfigure.obstacleRatio){var u=0;for(n=this.entityManager.GetList(),a=0;a!==n.length;++a){var h=n[a];if(Ke.isType(h,af)&&(u=u+1|0)>=this.gameConfigure.obstacleMaximumNumber)break}u<this.gameConfigure.obstacleMaximumNumber&&(l=go().arc4random_uniform_za3lpa$(this.gameConfigure.obstacleRatio))}if(1===l){var c,d=go(),p=this.gameConfigure.kindOfNumber;e:do{if(null==p){c=0;break e}if(Ke.isNumber(p)){c=et(p);break e}if("string"==typeof p)try{c=tt(p);break e}catch(e){if(Ke.isType(e,ta)){c=0;break e}throw e}c=0}while(0);var f,m=d.arc4random_uniform_za3lpa$(c);e:do{if(null==m){f=0;break e}if(Ke.isNumber(m)){f=et(m);break e}if("string"==typeof m)try{f=tt(m);break e}catch(e){if(Ke.isType(e,ta)){f=0;break e}throw e}f=0}while(0);s=1e3+f|0}else s=3===this.gameConfigure.width&&3===this.gameConfigure.height?this.boardGenerator.GetAvailableBlock_vux9f0$(i,r):this.boardGenerator.GetAvailableBlockOriginal_za3lpa$(i);if(-1===s)return null;var v=this.entityManager.createBlock_mwco6a$(this,s,void 0,e,t);return v.needCheck=!0,v.needCheckReason=1,v.isDropping=!0,v},zh.prototype.createItem_mbbjvw$$default=function(e,t,i,r,o,n){return this.entityManager.createBlock_mwco6a$(this,e,t,i,r)},zh.prototype.createItem_mbbjvw$=function(e,t,i,r,o,n,a){return void 0===t&&(t=0),a?a(e,t,i,r,o,n):this.createItem_mbbjvw$$default(e,t,i,r,o,n)},zh.prototype.GetAvailableY=function(){var e,t,i,r=new Int32Array(this.gameConfigure.width);i=r.length-1|0;for(var o=0;o<=i;o++)r[o]=-1;var n=r,a=this.entityManager.GetList();for(e=0;e!==a.length;++e){var s=a[e],l=Ke.isType(t=s,uf)?t:null;null!=l&&l.GetScreenY()<=n[l.GetScreenX()]&&(n[l.GetScreenX()]=l.GetScreenY()-1|0)}return n},zh.prototype.checkJustDrop_za3lpa$=function(e){return!1},zh.prototype.prepareDrop_103y6$=function(e,t,i){var r,o,n,a,s;if(void 0===t&&(t=!0),void 0===i&&(i=!0),!1===this.checkJustDrop_za3lpa$(e)&&!0===this.gameConfigure.createNewBlock){3===this.gameConfigure.width&&3===this.gameConfigure.height||this.boardGenerator.makeMapForNewBlock_klim6j$(this.map);var l=this.GetAvailableY();r=this.createColumn.length-1|0;for(var u=0;u<=r;u++){o=this.createColumn[u]-1|0;for(var h=0;h<=o;h++){var c=this.createOneBlock_7bka6z$(u,l[u]+this.gameConfigure.dropAdjust-h|0,u,h,i);if(null==c)return;c.moveTo_mp7p4f$(u,2,this.gameConfigure.fallingSpeed,this.gameConfigure.fallingSpeedLimit,this.gameConfigure.acceleration)}}n=this.createColumn.length-1|0;for(var d=0;d<=n;d++)this.createColumn[d]=0}a=this.gameConfigure.width-1|0;for(var p=0;p<=a;p++)for(var f=this.gameConfigure.height-2|0;0<=f;f--){var m=this.map[p][f];if(null!=m&&null==this.map[p][f+1|0]){m.moveTo_mp7p4f$(p,2,this.gameConfigure.fallingSpeed,this.gameConfigure.fallingSpeedLimit,this.gameConfigure.acceleration);var v=Ke.isType(s=m,uf)?s:null;null!=v&&v.fall_6taknv$(t),this.map[p][f]=null}}},zh.prototype.printTile=function(){var e,t;e=this.gameConfigure.height-1|0;for(var i=0;i<=e;i++){t=this.gameConfigure.width-1|0;for(var r=0;r<=t;r++){var o=this.map[r][i];if(null!=o){var n,a=o.value;e:do{if(Ke.isNumber(a)){n=a.toString();break e}if("string"==typeof a){n=a;break e}if("boolean"==typeof a){n=a.toString();break e}if(Ke.isChar(a)){n=a.toString();break e}n=""}while(0);n}else"x"}"\n"}},zh.prototype.rendererUpdateCallback_mx4ult$=function(e){this.entityManager.update_mx4ult$(e)},zh.prototype.generateBoard=function(){if(this.boardGenerator=Ch(this,this.gameConfigure.width,this.gameConfigure.height,this.gameConfigure.kindOfNumber,this.gameConfigure.minOfComplete),!0!==this.gameConfigure.takeSnapshot||1!==Km().GetInteger_rjan26$("Snapshot"))this.regenAllBlock_za3lpa$(this.gameConfigure.dropAdjust);else{Km().SetInteger_rjan26$("Snapshot",void 0,0),this.restoreSnapshot();var e,t=new Int32Array(this.gameConfigure.width);e=t.length-1|0;for(var i=0;i<=e;i++)t[i]=0;this.createColumn=t;var r,o=_h(this.gameConfigure.width);r=o.length-1|0;for(var n=0;n<=r;n++){var a,s=new Int32Array(this.gameConfigure.height);a=s.length-1|0;for(var l=0;l<=a;l++)s[l]=0;o[n]=s}this.increaseCheck=o}},Object.defineProperty(zh.prototype,"onReady",{get:function(){return this.onReady_m3wg3q$_0}}),Object.defineProperty(zh.prototype,"onGameOver",{get:function(){return this.onGameOver_4sel7f$_0}}),zh.prototype.continueGame=function(){var e,s;if(this.gameOverFlag=!1,this.noMoreMatch=!1,0<this.gameValue.feverLevel?dh().shared().BGMFadeIn_o5txl1$(Je(this.view.screen),"FeverBGM",void 0,.3):dh().shared().BGMFadeIn_o5txl1$(Je(this.view.screen),"MainBGM",void 0,.3),3===this.gameConfigure.width){var t=this.getRandomBlocks_za3lpa$(this.gameConfigure.explodeForContinue);this.explodeBlocks_mti8id$(t,.15)}else{var i=this.getRandomBlocks_za3lpa$(this.gameConfigure.explodeForContinue);this.explodeBlocks_mti8id$(i,1/12)}!0===this.gameConfigure.limitGameTime&&(this.gameRemainTime=this.gameRemainTime+this.gameConfigure.bonusTime,this.timerSoundFired=!1),null!=(e=this.view.screen)&&e.actionDelay_ab0iom$(1,void 0,(s=this,function(){var e,t,i,r,o,n,a=Ke.isType(e=s.view.findChildByName_3m52m6$("Pause Switch"),Kt)?e:null;return null!=a&&Je(a).SetEnable_6taknv$(!0),null!=(a=Ke.isType(t=s.view.findChildByName_3m52m6$("Abandon Button"),Kt)?t:null)&&Je(a).SetEnable_6taknv$(!0),s.gameState.SetNextState_9sobi5$("running"),s.isPausedOnlyForLogic=!1,null!=(i=s.gameTimer)&&i.resume(),null!=(r=s.blockDisableTimer)&&r.resume(),null!=(o=s.comboTimer)&&o.resume(),s.comboTimeRemain+=2,null!=(n=s.feverTimer)&&n.resume(),0<s.gameValue.feverLevel&&(s.feverTimeRemain+=3),Ze}))},Object.defineProperty(zh.prototype,"onWaitForStop",{get:function(){return this.onWaitForStop_ge8lbh$_0}}),Fh.$metadata$={kind:Ke.Kind.CLASS,simpleName:null,interfaces:[q]},((Fh.prototype=Object.create(q.prototype)).constructor=Fh).prototype.doResume=function(){for(;;)try{switch(this.state_0){case 0:if(this.local$this$Game.boardGenerator.running=!0,this.state_0=2,this.result_0=this.local$this$Game.boardGenerator.isNoMoreMatch_nq05ln$(this.local$closure$temp.v.slice(),void 0,void 0,this),this.result_0===H)return H;continue;case 1:throw this.exception_0;case 2:var e=this.result_0;return this.local$closure$callback(e),this.local$this$Game.boardGenerator.running=!1,Ze}}catch(e){if(1===this.state_0)throw this.exceptionState_0=this.state_0,e;this.state_0=this.exceptionState_0,this.exception_0=e}},zh.prototype.checkNoMoreMatch_y8twos$=function(e){var t,i,r,o,n;if(!0!==this.noMoreMatch){var a,s=_h(this.gameConfigure.width);a=s.length-1|0;for(var l=0;l<=a;l++){var u,h=_h(this.gameConfigure.height);u=h.length-1|0;for(var c=0;c<=u;c++)h[c]=new Fe(0,0);s[l]=h}var d={v:s},p=0;t=this.gameConfigure.width-1|0;for(var f=0;f<=t;f++){i=this.gameConfigure.height-1|0;for(var m=0;m<=i;m++){var v=Ke.isType(r=this.map[f][m],Ip)?r:null;if(null!=v)d.v[f][m]=new Fe(v.value,v.GetAttribute()===pf()?1:0),0===d.v[f][m].second&&(p=p+1|0);else{if(Ke.isType(this.map[f][m],Jp))return;d.v[f][m]=new Fe(-1,-1)}}}if(9===Ke.imul(this.gameConfigure.width,this.gameConfigure.height)){var g=this.boardGenerator.countKindOf_9kzzq3$(d.v);if(2===g.first){if(g.second%2==0)return void e(!0);if(9===p)return}else if(3===g.first){var _,$=_h(d.v.length);_=$.length-1|0;for(var y=0;y<=_;y++){var b,S=_h(d.v[0].length);b=S.length-1|0;for(var k=0;k<=b;k++)S[k]=new Fe(-1,-1);$[y]=S}var w=$;o=this.gameConfigure.height-1|0;for(var x=0;x<=o;x++){n=this.gameConfigure.width-1|0;for(var C=0;C<=n;C++)w[C][x]=d.v[C][x].copy_xwzc9p$()}if(d.v[0][0].second<this.gameConfigure.kindOfNumber&&0===d.v[0][0].second){var z=(d.v[0][0].first+1|0)%this.gameConfigure.kindOfNumber;d.v[1][0].first===z&&d.v[0][1].first===z&&(d.v[0][0]=new Fe(z,d.v[0][0].second))}if(d.v[2][0].second<this.gameConfigure.kindOfNumber&&0===d.v[2][0].second){var T=(d.v[2][0].first+1|0)%this.gameConfigure.kindOfNumber;d.v[1][0].first===T&&d.v[2][1].first===T&&(d.v[2][0]=new Fe(T,d.v[2][0].second))}if(d.v[0][2].second<this.gameConfigure.kindOfNumber&&0===d.v[0][2].second){var G=(d.v[0][2].first+1|0)%this.gameConfigure.kindOfNumber;d.v[0][1].first===G&&d.v[1][2].first===G&&(d.v[0][2]=new Fe(G,d.v[0][2].second))}if(d.v[2][2].second<this.gameConfigure.kindOfNumber&&0===d.v[2][2].second){var A=(d.v[2][2].first+1|0)%this.gameConfigure.kindOfNumber;d.v[2][1].first===A&&d.v[1][2].first===A&&(d.v[2][2]=new Fe(A,d.v[2][2].second))}if(!0===this.boardGenerator.checkComplete_9kzzq3$(d.v))return;var I=this.boardGenerator.countKindOf_9kzzq3$(d.v);if(2===I.first){if(I.second%2==0)return void e(!0);if(9===p)return}else if(9===p)return;if(d.v[0][0].second<this.gameConfigure.kindOfNumber){var N=(d.v[0][0].first+1|0)%this.gameConfigure.kindOfNumber;d.v[1][0].first===N&&d.v[0][1].first===N&&(d.v[0][0]=new Fe(N,d.v[0][0].second))}if(d.v[2][0].second<this.gameConfigure.kindOfNumber){var M=(d.v[2][0].first+1|0)%this.gameConfigure.kindOfNumber;d.v[1][0].first===M&&d.v[2][1].first===M&&(d.v[2][0]=new Fe(M,d.v[2][0].second))}if(d.v[0][2].second<this.gameConfigure.kindOfNumber){var O=(d.v[0][2].first+1|0)%this.gameConfigure.kindOfNumber;d.v[0][1].first===O&&d.v[1][2].first===O&&(d.v[0][2]=new Fe(O,d.v[0][2].second))}if(d.v[2][2].second<this.gameConfigure.kindOfNumber){var R=(d.v[2][2].first+1|0)%this.gameConfigure.kindOfNumber;d.v[2][1].first===R&&d.v[1][2].first===R&&(d.v[2][2]=new Fe(R,d.v[2][2].second))}var j=this.boardGenerator.countKindOf_9kzzq3$(d.v);if(2===j.first&&j.second%2==0)return void e(!0);if(d.v=w.slice(),d.v[0][0].second<this.gameConfigure.kindOfNumber&&0===d.v[0][0].second){var P=(d.v[0][0].first+1|0)%this.gameConfigure.kindOfNumber;d.v[1][0].first===P&&d.v[0][1].first===P&&(d.v[0][0]=new Fe(P,d.v[0][0].second))}if(d.v[2][0].second<this.gameConfigure.kindOfNumber&&0===d.v[2][0].second){var B=(d.v[2][0].first+1|0)%this.gameConfigure.kindOfNumber;d.v[1][0].first===B&&d.v[2][1].first===B&&(d.v[2][0]=new Fe(B,d.v[2][0].second))}if(d.v[0][2].second<this.gameConfigure.kindOfNumber&&0===d.v[0][2].second){var E=(d.v[0][2].first+1|0)%this.gameConfigure.kindOfNumber;d.v[0][1].first===E&&d.v[1][2].first===E&&(d.v[0][2]=new Fe(E,d.v[0][2].second))}if(d.v[2][2].second<this.gameConfigure.kindOfNumber&&0===d.v[2][2].second){var F=(d.v[2][2].first+1|0)%this.gameConfigure.kindOfNumber;d.v[2][1].first===F&&d.v[1][2].first===F&&(d.v[2][2]=new Fe(F,d.v[2][2].second))}}else if(9===p)return}else if(8<p)return;this.boardGenerator.cancelFindNoMoreMatch();var L,D,V;Q(Z.Unconfined,void 0,void 0,void 0,(L=this,D=d,V=e,function(e,t,i){var r=new Fh(L,D,V,e,this,t);return i?r:r.doResume(null)}))}},zh.prototype.isIdle=function(){return!0!==this.isPaused&&!0!==this.isPausedOnlyForLogic&&(!0!==this.isBouncingRemain()&&(!0===this.isFilled()&&!1===this.isTransforming()&&!1===this.isNeedCheckRemain()))},zh.prototype.isBouncingRemain=function(){var e,t,i;e=this.gameConfigure.width-1|0;for(var r=0;r<=e;r++){t=this.gameConfigure.height-1|0;for(var o=0;o<=t;o++){var n=Ke.isType(i=this.map[r][o],uf)?i:null;if(null!=n&&!0===n.bouncing)return!0}}return!1},zh.prototype.isTransforming=function(){var e,t,i;e=this.gameConfigure.width-1|0;for(var r=0;r<=e;r++){t=this.gameConfigure.height-1|0;for(var o=0;o<=t;o++){var n=Ke.isType(i=this.map[r][o],Ip)?i:null;if(null!=n&&!0===n.isTransforming)return!0}}return!1},zh.prototype.updateInfo=function(){},zh.prototype.comboReset=function(){this.comboTimeRemain=0,this.gameValue.combo=0,!(this.comboSeedScore=0)===this.gameOverFlag&&0===this.gameValue.feverLevel||(this.gameValue.perfectPlay=!1),this.resetAllDelayedBlock()},zh.prototype.checkDelayedBlock=function(){var e,t,i,r=!1;if(0===this.gameConfigure.comboMode){e=this.gameConfigure.width-1|0;for(var o=0;o<=e;o++){t=this.gameConfigure.height-1|0;for(var n=0;n<=t;n++){var a=Ke.isType(i=this.map[o][n],Ip)?i:null;null!=a&&0===a.needCheckReason&&(r=!0)}}}!0===r&&(this.comboReset(),this.gameValue.feverGage=this.gameValue.feverGage*this.gameValue.feverGageDecreaseValue,this.gameValue.feverGage<0&&(this.gameValue.feverGage=0))},zh.prototype.checkBottomObstacle=function(){var e,t,i;e=this.gameConfigure.width-1|0;for(var r=0;r<=e;r++)for(var o=this.gameConfigure.height-1|0;0<=o;o--){var n=Ke.isType(t=this.map[r][o],af)?t:null;if(null!=n){if(!0===n.isStone)continue;if(o===(this.gameConfigure.height-1|0))n.makeStone();else{var a=Ke.isType(i=this.map[r][o+1|0],af)?i:null;null!=a&&!0===a.isStone&&n.makeStone()}}}},zh.prototype.showHint=function(){var e,t,i,r=this.boardGenerator.GetHint();if(-1!==r.first&&-1!==r.second){var o=Ke.isType(e=this.map[r.first][r.second],Ip)?e:null;if(null!=o&&o.GetAttribute()!==pf()){var n,a=Pn().value;e:do{if(null==a){n=0;break e}if(Ke.isNumber(a)){n=it(a);break e}if("string"==typeof a)try{n=Qe(a);break e}catch(e){if(Ke.isType(e,ta)){n=0;break e}throw e}n=0}while(0);var s=la(0,0,n,"Resource/UI/IconMarker",this.gameConfigure.tileWidthResult,this.gameConfigure.tileHeightResult);s.SetVerticalAlign_qn2em6$(ro()),s.SetHorizontalAlign_jdpdm8$(lo()),s.SetBlendMode_ieo8yr$(ti()),s.SetBlendFactor_mx4ult$(1),s.SetAlpha_8ca0d4$(0),this.view.addChild_g5h3xp$(s);var l,u=this.boardRect.x,h=r.first;e:do{if(null==h){l=0;break e}if(Ke.isNumber(h)){l=it(h);break e}if("string"==typeof h)try{l=Qe(h);break e}catch(e){if(Ke.isType(e,ta)){l=0;break e}throw e}l=0}while(0);var c,d=u+l*this.gameConfigure.tileWidthResult+.5*this.gameConfigure.tileWidthResult,p=this.boardRect.y,f=r.second;e:do{if(null==f){c=0;break e}if(Ke.isNumber(f)){c=it(f);break e}if("string"==typeof f)try{c=Qe(f);break e}catch(e){if(Ke.isType(e,ta)){c=0;break e}throw e}c=0}while(0);s.SetPosition_dleff0$(d,p+c*this.gameConfigure.tileHeightResult+.5*this.gameConfigure.tileHeightResult),s.addUpdateCallback_sds54w$("Marker",void 0,void 0,void 0,void 0,void 0,(t=s,i={v:0},function(e){return t.SetScaleFromOriginal_mx4ult$(i.v),1<i.v?t.SetAlpha_8ca0d4$(1-(i.v-1)):.8<i.v?t.SetAlpha_8ca0d4$(1):t.SetAlpha_8ca0d4$(0),i.v+=1.5*e.elapsed,!(2<i.v&&(t.SetTimeToLive_mx4ult$(0),1))}))}}},zh.prototype.disableOneBlock=function(){var e,t;e=this.gameConfigure.blockDisableCountAtOnce-1|0;for(var i=0;i<=e;i++){var r,o=go().arc4random_uniform_za3lpa$(Ke.imul(this.gameConfigure.width,this.gameConfigure.height));e:do{if(null==o){r=0;break e}if(Ke.isNumber(o)){r=et(o);break e}if("string"==typeof o)try{r=tt(o);break e}catch(e){if(Ke.isType(e,ta)){r=0;break e}throw e}r=0}while(0);for(var n=r,a=-1,s=0,l=0;;){if(l>Ke.imul(this.gameConfigure.width,this.gameConfigure.height)){this.blockDisableTimeRemain=.01;break}var u=s%this.gameConfigure.width,h=s/this.gameConfigure.width|0,c=Ke.isType(t=this.map[u][h],Ip)?t:null;if(null!=c&&(c.GetAttribute()!==pf()&&(a=a+1|0),a===n)){c.disabledDone=!1,c.SetAttribute_c9f3gi$(pf());var d=this.boardGenerator.GetHint();d.first===u&&d.second===h&&this.boardGenerator.clearHint();break}(s=s+1|0)>=Ke.imul(this.gameConfigure.width,this.gameConfigure.height)&&(l=l+1|(s=0))}}},zh.prototype.isBlockIncreasable_wsdf01$=function(e){return(!0!==e.needCheck||0!==e.needCheckReason)&&!0!==e.isTransforming},zh.prototype.areAllBlocksIncreasable=function(){var e,t,i;e=this.gameConfigure.width-1|0;for(var r=0;r<=e;r++){t=this.gameConfigure.height-1|0;for(var o=0;o<=t;o++){var n=Ke.isType(i=this.map[r][o],Ip)?i:null;if(null!=n&&!1===this.isBlockIncreasable_wsdf01$(n))return!1}}return!0},zh.prototype.isBlockClickable_nwthlc$=function(e){return!0!==e.bouncing&&((!Ke.isType(e,Ip)||e.GetAttribute()!==pf())&&(!0!==e.needCheck&&!0!==e.isTransforming))},zh.prototype.isBlockConnectable_wsdf01$=function(e){return!0},zh.prototype.updateBlockConnection=function(){var e,t,i,r,o,n,a;e=this.gameConfigure.width-1|0;for(var s=0;s<=e;s++){t=this.gameConfigure.height-1|0;for(var l=0;l<=t;l++){var u=Ke.isType(i=this.map[s][l],Ip)?i:null;if(null!=u){if(!1===this.isBlockConnectable_wsdf01$(u)){u.connectionBitMask=0,u.removeConnection();continue}var h=0;if(0<l){var c=Ke.isType(r=this.map[s][l-1|0],Ip)?r:null;null!=c&&!0===this.isBlockConnectable_wsdf01$(c)&&c.value===u.value&&(h=h+1|0)}if(l<(this.gameConfigure.height-1|0)){var d=Ke.isType(o=this.map[s][l+1|0],Ip)?o:null;null!=d&&!0===this.isBlockConnectable_wsdf01$(d)&&d.value===u.value&&(h=h+2|0)}if(0<s){var p=Ke.isType(n=this.map[s-1|0][l],Ip)?n:null;null!=p&&!0===this.isBlockConnectable_wsdf01$(p)&&p.value===u.value&&(h=h+4|0)}if(s<(this.gameConfigure.width-1|0)){var f=Ke.isType(a=this.map[s+1|0][l],Ip)?a:null;null!=f&&!0===this.isBlockConnectable_wsdf01$(f)&&f.value===u.value&&(h=h+8|0)}u.connectionBitMask!==h&&(u.connectionBitMask=h,u.updateConnection())}}}},zh.prototype.makeMatchConnection_n4bh9e$=function(e){var t,i;for(t=0;t!==e.length;++t){var r=e[t],o=Ke.isType(i=r,Ip)?i:null;null!=o&&o.removeConnection()}},zh.prototype.processKeyInput=function(){var e,t,i,r,o,n,a,s,l;for(e=this.entityManager.GetList(),t=0;t!==e.length;++t){var u=e[t],h=Ke.isType(i=u,Jp)?i:null;if(null!=h&&!0===h.isUsed())return void this.cancelKeyInput_za3lpa$()}var c=this.GetClickedButton();if(-1!==c.first&&-1!==c.second){this.lastInput=new Fe(-1,-1);var d=c.first,p=c.second;(r=this.gameValue).clickAllCount=r.clickAllCount+1|0;var f=Ke.isType(o=this.map[d][p],uf)?o:null;if(null!=f)if(Ke.isType(f,Ip)){if(!1===this.isBlockClickable_nwthlc$(Ke.isType(n=f,Ip)?n:Ee()))return void(f.GetAttribute()===pf()&&(dh().shared().playEffect_bm4lxs$("shake"),this.cancelKeyInput_za3lpa$(0),f.shake_7b5o5w$(),this.gameValue.feverGage=.9*this.gameValue.feverGage));if(!1===this.preIncreaseChainedTile_qt1dr2$(d,p,f.value))return;dh().shared().playEffect_bm4lxs$("change"),this.boardGenerator.clearHint(),this.checkDelayedBlock(),this.increaseChainedTile_qt1dr2$(d,p,f.value),null!=(a=this.blockDisableTimer)&&a.pause(),this.gameValue.seq=0,this.lastInput=new Fe(d,p)}else if(Ke.isType(f,Jp)){this.boardGenerator.clearHint(),(Ke.isType(s=f,Jp)?s:Ee()).SetUsed_6taknv$(!0),null!=(l=this.blockDisableTimer)&&l.pause(),this.gameValue.seq=0}else Ke.isType(f,af)&&(dh().shared().playEffect_bm4lxs$("shake"),f.shake_7b5o5w$(),this.gameValue.feverGage=.9*this.gameValue.feverGage);this.boardGenerator.cancelFindNoMoreMatch(),this.cancelKeyInput_za3lpa$(0)}},zh.prototype.addKeyInput_ydzd23$=function(e,t,i){if(void 0===i&&(i=!1),!1===i&&!0===this.gameOverFlag){if(!0!==this.gameConfigure.limitGameTime)return;if(0===this.gameValue.feverLevel)return}if(!0===this.keyInputIgnoreStart){if(this.gameTimeElapsed<this.keyInputIgnoreEnd)return;this.keyInputIgnoreStart=!1}1<this.inputQueue.size||this.inputQueue.add_11rb$(new Fe(e,t))},zh.prototype.cancelKeyInput_za3lpa$=function(e){void 0===e&&(e=-1),-1===e?this.inputQueue.clear():this.inputQueue.removeAt_za3lpa$(e)},zh.prototype.ignoreKeyInput_mx4ult$=function(e){this.keyInputIgnoreStart=!0,this.keyInputIgnoreEnd=this.gameTimeElapsed+e},zh.prototype.GetClickedButton=function(){if(0<this.inputQueue.size){var e=this.inputQueue.get_za3lpa$(0);return new Fe(e.first,e.second)}return new Fe(-1,-1)},zh.prototype.processCheck=function(){var e,t,i,r,o,n,a,s=!1;if(!0===this.checkComplete()){var l=!0;this.processObstacle(),e=this.gameConfigure.width-1|0;for(var u=0;u<=e;u++){t=this.gameConfigure.height-1|0;for(var h=0;h<=t;h++){var c=Ke.isType(i=this.map[u][h],af)?i:null;null!=c&&!0===c.matched&&(l=!1,this.removeBlock_vux9f0$(u,h))}}var d=this.clearCompleteTileByChunk();this.increaseCombo(),d>=this.gameConfigure.amountOfNirvana?this.prepareDrop_103y6$(d,!1,l):this.prepareDrop_103y6$(d,void 0,l),s=!0}r=this.gameConfigure.width-1|0;for(var p=0;p<=r;p++){o=this.gameConfigure.height-1|0;for(var f=0;f<=o;f++){var m=Ke.isType(n=this.map[p][f],Jp)?n:null;if(null!=m&&!0===m.isUsed()&&!0===this.isIdle()){this.isPaused=!0,m.used=!1;var v=this.processItem_lwb297$(m,p,f);return null!=(a=this.view.screen)&&a.actionDelay_ab0iom$(v,void 0,Lh(this)),this.prepareDrop_103y6$(1,void 0,!1),!0}}}return s},zh.prototype.increaseCombo=function(){var e,t;(e=this.gameValue).combo=e.combo+1|0;var i,r=this.gameConfigure.comboTiming,o=this.gameValue.combo;e:do{if(null==o){i=0;break e}if(Ke.isNumber(o)){i=it(o);break e}if("string"==typeof o)try{i=Qe(o);break e}catch(e){if(Ke.isType(e,ta)){i=0;break e}throw e}i=0}while(0);var n=r-i*this.gameConfigure.comboTimingAdjust;n<this.gameConfigure.comboTimingLowest&&(n=this.gameConfigure.comboTimingLowest),this.comboTimeRemain=n,1<this.gameValue.combo&&this.createComboMark(),null!=(t=this.beginnerTimer)&&t.pause(),(this.gameValue.combo-1|0)>this.gameValue.maxComboOnGame&&(this.gameValue.maxComboOnGame=this.gameValue.combo-1|0)},zh.prototype.processObstacle=function(){var e,t,i,r,o,n,a;e=this.gameConfigure.width-1|0;for(var s=0;s<=e;s++){t=this.gameConfigure.height-1|0;for(var l=0;l<=t;l++){var u=Ke.isType(i=this.map[s][l],af)?i:null;if(null!=u){if(!0===u.isStone)continue;if(0<s){var h=null!=(r=this.map[s-1|0][l])?r.value:null;if(null!=h&&0!==this.clear[s-1|0][l]&&!0===u.isPair_za3lpa$(h)){u.matched=!0;continue}}if(s<(this.gameConfigure.width-1|0)){var c=null!=(o=this.map[s+1|0][l])?o.value:null;if(null!=c&&0!==this.clear[s+1|0][l]&&!0===u.isPair_za3lpa$(c)){u.matched=!0;continue}}if(0<l){var d=null!=(n=this.map[s][l-1|0])?n.value:null;if(null!=d&&0!==this.clear[s][l-1|0]&&!0===u.isPair_za3lpa$(d)){u.matched=!0;continue}}if(l<(this.gameConfigure.height-1|0)){var p=null!=(a=this.map[s][l+1|0])?a.value:null;if(null!=p&&0!==this.clear[s][l+1|0]&&!0===u.isPair_za3lpa$(p)){u.matched=!0;continue}}}}}},zh.prototype.processItem_lwb297$=function(e,t,i){var r,o,n,a,s,l,u,h,c,d,p=0;return Ke.isType(e,tf)?(p=this.resetDisabledBlock_wnu51o$(t-1|0,t+1|0,void 0,!0),null!=(r=this.view.screen)&&r.actionDelay_ab0iom$(p,void 0,(d=e,function(){return d.explode_nhq4am$(),Ze})),this.removeBlock_vux9f0$(t,i)):Ke.isType(e,rf)?(p=this.explodeSameBlock_n119nu$(Ke.isType(o=e,rf)?o:Ee()),null!=(n=this.view.screen)&&n.actionDelay_ab0iom$(p,void 0,(c=e,function(){return c.explode_nhq4am$(),Ze})),this.removeBlock_vux9f0$(t,i)):Ke.isType(e,of)?(p=this.explodeNearBlock_qt1dr2$(t,i),null!=(a=e.sprite)&&a.SetBlendMode_ieo8yr$(ti()),null!=(s=e.sprite)&&s.SetBlendFactor_mx4ult$(0),null!=(l=e.sprite)&&l.SetColor_vnjrmz$(hi().red_mx4ult$()),null!=(u=this.view.screen)&&u.actionFade_ntk7i0$(p,0,1,null,(h=e,function(e,t){var i,r;null!=(i=h.sprite)&&i.SetBlendFactor_mx4ult$(e),!0===t&&(null!=(r=h.sprite)&&r.SetBlendFactor_mx4ult$(1),h.explode_nhq4am$())})),this.removeBlock_vux9f0$(t,i)):Ke.isType(e,nf)&&(p=this.explodeLineBlock_lwb297$(e,t,i)),p},zh.prototype.isItemRemain=function(){var e,t;e=this.gameConfigure.width-1|0;for(var i=0;i<=e;i++){t=this.gameConfigure.height-1|0;for(var r=0;r<=t;r++)if(Ke.isType(this.map[i][r],Jp))return!0}return!1},zh.prototype.processRemain=function(){var e,t,i,r,o,n,a,s;e=this.gameConfigure.width-1|0;for(var l=0;l<=e;l++){t=this.gameConfigure.height-1|0;for(var u=0;u<=t;u++)if(Ke.isType(this.map[l][u],nf))return this.cancelKeyInput_za3lpa$(),this.addKeyInput_ydzd23$(l,u,!0),!0}i=this.gameConfigure.width-1|0;for(var h=0;h<=i;h++){r=this.gameConfigure.height-1|0;for(var c=0;c<=r;c++)if(Ke.isType(this.map[h][c],of))return this.cancelKeyInput_za3lpa$(),this.addKeyInput_ydzd23$(h,c,!0),!0}o=this.gameConfigure.width-1|0;for(var d=0;d<=o;d++){n=this.gameConfigure.height-1|0;for(var p=0;p<=n;p++)if(Ke.isType(this.map[d][p],rf))return this.cancelKeyInput_za3lpa$(),this.addKeyInput_ydzd23$(d,p,!0),!0}a=this.gameConfigure.width-1|0;for(var f=0;f<=a;f++){s=this.gameConfigure.height-1|0;for(var m=0;m<=s;m++)if(Ke.isType(this.map[f][m],tf))return this.cancelKeyInput_za3lpa$(),this.addKeyInput_ydzd23$(f,m,!0),!0}return!1},zh.prototype.isAllDisabled=function(){var e,t,i;e=this.gameConfigure.width-1|0;for(var r=0;r<=e;r++){t=this.gameConfigure.height-1|0;for(var o=0;o<=t;o++){var n=Ke.isType(i=this.map[r][o],Ip)?i:null;if(null!=n&&n.GetAttribute()!==pf())return!1}}return!0},zh.prototype.disabledAllBlock=function(){for(var e,t,i=0,r=this.gameConfigure.height-1|0;0<=r;r--){e=this.gameConfigure.width-1|0;for(var o=0;o<=e;o++){if(null!=this.map[o][r]){var n=Ke.isType(t=this.map[o][r],Ip)?t:null;null!=n&&n.SetAttribute_c9f3gi$(pf())}i=i+1|0}}},zh.prototype.dropOffAllBlock=function(){var e,t,i,r,o,n=0,a=Ke.imul(this.gameConfigure.height,this.gameConfigure.width);e:do{if(null==a){o=0;break e}if(Ke.isNumber(a)){o=it(a);break e}if("string"==typeof a)try{o=Qe(a);break e}catch(e){if(Ke.isType(e,ta)){o=0;break e}throw e}o=0}while(0);for(var s=1/o,l=this.gameConfigure.height-1|0;0<=l;l--){e=this.gameConfigure.width-1|0;for(var u=0;u<=e;u++){if(null!=this.map[u][l]){var h=Ke.isType(t=this.map[u][l],uf)?t:null;if(null!=h){if(null!=(i=this.view.screen)){var c,d=n;e:do{if(null==d){c=0;break e}if(Ke.isNumber(d)){c=it(d);break e}if("string"==typeof d)try{c=Qe(d);break e}catch(e){if(Ke.isType(e,ta)){c=0;break e}throw e}c=0}while(0);i.actionDelay_ab0iom$(s*c,void 0,Dh(h,this))}this.map[u][l]=null;var p=Ke.isType(r=h,Ip)?r:null;null!=p&&(p.connectionBitMask=0,p.removeConnection())}}n=n+1|0}}},zh.prototype.regenAllBlock_za3lpa$=function(e){var t,i,r;this.boardGenerator.createNewBoard_s8cxhz$();var o,n=this.boardGenerator.GetBoard().first;t=this.gameConfigure.width-1|0;for(var a=0;a<=t;a++){i=this.gameConfigure.height-1|0;for(var s=0;s<=i;s++){var l=n[a][this.gameConfigure.height-s-1|0];this.entityManager.createBlock_mwco6a$(this,l,void 0,a,e-(a+(3*s|0))|0).moveTo_mp7p4f$(a,3,this.gameConfigure.fallingSpeed,this.gameConfigure.fallingSpeedLimitForNoMoreMove,this.gameConfigure.acceleration),this.map[a][s]=null,this.hintMap[a][s]=0,this.clear[a][s]=0}}null!=(r=this.view.screen)&&r.actionDelay_ab0iom$(.5,void 0,(o=this,function(){var e,t;e=o.gameConfigure.width;for(var i=0;i<=e;i++)null!=(t=o.view.screen)&&t.actionDelay_ab0iom$(.1*i,void 0,Vh);return Ze}));var u,h=new Int32Array(this.gameConfigure.width);u=h.length-1|0;for(var c=0;c<=u;c++)h[c]=0;this.createColumn=h;var d,p=_h(this.gameConfigure.width);d=p.length-1|0;for(var f=0;f<=d;f++){var m,v=new Int32Array(this.gameConfigure.height);m=v.length-1|0;for(var g=0;g<=m;g++)v[g]=0;p[f]=v}this.increaseCheck=p},zh.prototype.createScore_l4u1g4$=function(e,t){if(!(this.quality<1)){var i="";if(0<(t/1e3|0)){var r,o=t/100|0;e:do{if(null==o){r=0;break e}if(Ke.isNumber(o)){r=it(o);break e}if("string"==typeof o)try{r=Qe(o);break e}catch(e){if(Ke.isType(e,ta)){r=0;break e}throw e}r=0}while(0);var n=r/10;if((t/100|0)%10==0){var a;e:do{if(null==n){a=0;break e}if(Ke.isNumber(n)){a=et(n);break e}if("string"==typeof n)try{a=tt(n);break e}catch(e){if(Ke.isType(e,ta)){a=0;break e}throw e}a=0}while(0);var s,l=a;e:do{if(Ke.isNumber(l)){s=l.toString();break e}if("string"==typeof l){s=l;break e}if("boolean"==typeof l){s=l.toString();break e}if(Ke.isChar(l)){s=l.toString();break e}s=""}while(0);i=s+"K"}else{var u;e:do{if(Ke.isNumber(n)){u=n.toString();break e}if("string"==typeof n){u=n;break e}if("boolean"==typeof n){u=n.toString();break e}if(Ke.isChar(n)){u=n.toString();break e}u=""}while(0);i=u+"K"}}else{var h;e:do{if(Ke.isNumber(t)){h=t.toString();break e}if("string"==typeof t){h=t;break e}if("boolean"==typeof t){h=t.toString();break e}if(Ke.isChar(t)){h=t.toString();break e}h=""}while(0);i=h}var c;if(t<1e3){var d,p=e.x,f=e.y,m=On().value;e:do{if(null==m){d=0;break e}if(Ke.isNumber(m)){d=it(m);break e}if("string"==typeof m)try{d=Qe(m);break e}catch(e){if(Ke.isType(e,ta)){d=0;break e}throw e}d=0}while(0);(c=Yr(p,f,d,i,"Gage/")).SetBlendFactor_mx4ult$(1),c.SetColor_vnjrmz$(hi().white_mx4ult$())}else{var v,g=e.x,_=e.y,$=On().value;e:do{if(null==$){v=0;break e}if(Ke.isNumber($)){v=it($);break e}if("string"==typeof $)try{v=Qe($);break e}catch(e){if(Ke.isType(e,ta)){v=0;break e}throw e}v=0}while(0);(c=Yr(g,_,v,i,"Gage/")).SetColor_vnjrmz$(hi().puzzleYellow_mx4ult$()),c.SetBlendFactor_mx4ult$(1)}c.SetSize_dleff0$(-1,26*this.view.sizeScale.yRatio),c.SetVerticalAlign_qn2em6$(ro()),c.SetHorizontalAlign_jdpdm8$(lo());var y,b,S,k=e.x-c.GetSize().width/2,w=this.boardRect.x;e:do{if(null==w){y=0;break e}if(Ke.isNumber(w)){y=it(w);break e}if("string"==typeof w)try{y=Qe(w);break e}catch(e){if(Ke.isType(e,ta)){y=0;break e}throw e}y=0}while(0);if(k<y){var x,C=this.boardRect.x;e:do{if(null==C){x=0;break e}if(Ke.isNumber(C)){x=it(C);break e}if("string"==typeof C)try{x=Qe(C);break e}catch(e){if(Ke.isType(e,ta)){x=0;break e}throw e}x=0}while(0);e.x=x+c.GetSize().width/2,c.SetPosition_dleff0$(e.x,e.y)}if(e.x+c.GetSize().width/2>this.boardRect.x+this.boardRect.width){var z,T=this.boardRect.x;e:do{if(null==T){z=0;break e}if(Ke.isNumber(T)){z=it(T);break e}if("string"==typeof T)try{z=Qe(T);break e}catch(e){if(Ke.isType(e,ta)){z=0;break e}throw e}z=0}while(0);e.x=z+this.boardRect.width-c.GetSize().width/2,c.SetPosition_dleff0$(e.x,e.y)}c.SetTimeToLive_mx4ult$(1),c.addUpdateCallback_sds54w$("Create Score",void 0,void 0,void 0,void 0,void 0,(b=c,S=this,function(e){var t=e.elapsed;return b.SetPosition_dleff0$(b.GetPosition().x,b.GetPosition().y-100*t*S.view.sizeScale.yRatio),.5<e.age&&b.SetAlpha_8ca0d4$(1-2*(e.age-.5),!0),!0})),this.view.addChild_g5h3xp$(c)}},zh.prototype.createTimePlus_4tzqwv$=function(e,t){var i,r,o,n="+"+eu(t)+"s",a=e.x,s=e.y,l=On().value;e:do{if(null==l){r=0;break e}if(Ke.isNumber(l)){r=it(l);break e}if("string"==typeof l)try{r=Qe(l);break e}catch(e){if(Ke.isType(e,ta)){r=0;break e}throw e}r=0}while(0);(i=Yr(a,s,r,n,"Gage/")).SetColor_vnjrmz$(hi().puzzleYellow_mx4ult$()),i.SetBlendFactor_mx4ult$(1),i.SetSize_dleff0$(-1,16*this.view.sizeScale.yRatio),i.SetVerticalAlign_qn2em6$(ro()),i.SetHorizontalAlign_jdpdm8$(so()),i.SetTimeToLive_mx4ult$(2),i.addUpdateCallback_sds54w$("Create Score",void 0,void 0,void 0,void 0,void 0,(o=i,function(e){return e.timeToLive-e.age<.5&&o.SetAlpha_8ca0d4$(1-2*(e.timeToLive-e.age-.5),!0),!0})),this.view.addChild_g5h3xp$(i)},zh.prototype.createMatchBackground_old_jpdi8v$=function(e,t,i){var r,o,n,a,s,l,u,h,c,d;if(void 0===t&&(t=.5),!(this.quality<1)){var p,f=_h(this.gameConfigure.width);p=f.length-1|0;for(var m=0;m<=p;m++){var v,g=_h(this.gameConfigure.height);v=g.length-1|0;for(var _=0;_<=v;_++)g[_]=new Fe(null,255);f[m]=g}var $=f;for(r=0;r!==e.length;++r){var y=e[r],b=Ke.isType(o=y,Ip)?o:null;null!=b&&($[b.GetScreenX()][b.GetScreenY()]=new Fe(b,255))}n=this.gameConfigure.width-1|0;for(var S=0;S<=n;S++){a=this.gameConfigure.height-1|0;for(var k=0;k<=a;k++){var w=$[S][k].first;if(null!=w){var x=null!=w?w.value:null,C=0;if(0<k){var z=$[S][k-1|0].first;null!=z&&z.value===x&&(C=C+1|0)}if(k<(this.gameConfigure.height-1|0)){var T=$[S][k+1|0].first;null!=T&&T.value===x&&(C=C+2|0)}if(0<S){var G=$[S-1|0][k].first;null!=G&&G.value===x&&(C=C+4|0)}if(S<(this.gameConfigure.width-1|0)){var A=$[S+1|0][k].first;null!=A&&A.value===x&&(C=C+8|0)}$[S][k]=new Fe($[S][k].first,C);var I,N=Je(w).GetRealScreenX(),M=Je(w).GetRealScreenY(),O=On().value;e:do{if(null==O){I=0;break e}if(Ke.isNumber(O)){I=it(O);break e}if("string"==typeof O)try{I=Qe(O);break e}catch(e){if(Ke.isType(e,ta)){I=0;break e}throw e}I=0}while(0);var R,j=I,P=C;e:do{if(Ke.isNumber(P)){R=P.toString();break e}if("string"==typeof P){R=P;break e}if("boolean"==typeof P){R=P.toString();break e}if(Ke.isChar(P)){R=P.toString();break e}R=""}while(0);var B,E="MatchBorder"+R,F=this.gameConfigure.tileWidthResult;e:do{if(null==F){B=0;break e}if(Ke.isNumber(F)){B=it(F);break e}if("string"==typeof F)try{B=Qe(F);break e}catch(e){if(Ke.isType(e,ta)){B=0;break e}throw e}B=0}while(0);var L,D=B,V=this.gameConfigure.tileHeightResult;e:do{if(null==V){L=0;break e}if(Ke.isNumber(V)){L=it(V);break e}if("string"==typeof V)try{L=Qe(V);break e}catch(e){if(Ke.isType(e,ta)){L=0;break e}throw e}L=0}while(0);var U=la(N,M,j,E,D,L);U.SetHorizontalAlign_jdpdm8$(lo()),U.SetVerticalAlign_qn2em6$(ro()),U.SetBlendFactor_mx4ult$(1),U.SetColor_vnjrmz$(i),this.view.addChild_g5h3xp$(U),U.SetAlpha_8ca0d4$(0),null!=(s=this.view.screen)&&s.actionFadeIn_hkbjms$(U,void 0,void 0,void 0,.1),null!=(l=this.view.screen)&&l.actionFadeOut_7vo5wp$(U,void 0,t,.3,void 0,void 0,void 0,Uh(U))}}}u=this.gameConfigure.width-1|0;for(var q=0;q<=u;q++){h=this.gameConfigure.height-1|0;for(var H=0;H<=h;H++){var W=$[q][H].first;if(null!=W){var Y=$[q][H].second;if(0===Y||1===Y||2===Y||4===Y||8===Y)continue;var X=255,K=255,Z=255,Q=255;0<H&&(X=$[q][H-1|0].second),H<(this.gameConfigure.height-1|0)&&(K=$[q][H+1|0].second),0<q&&(Z=$[q-1|0][H].second),q<(this.gameConfigure.width-1|0)&&(Q=$[q+1|0][H].second);var J=0;0==(1&Z)&&0==(4&X)&&(J=J+1|0),0==(1&Q)&&0==(8&X)&&(J=J+2|0),0==(2&Z)&&0==(4&K)&&(J=J+4|0),0==(2&Q)&&0==(8&K)&&(J=J+8|0);var ee,te=W.GetRealScreenX(),ie=W.GetRealScreenY(),re=On().value;e:do{if(null==re){ee=0;break e}if(Ke.isNumber(re)){ee=it(re);break e}if("string"==typeof re)try{ee=Qe(re);break e}catch(e){if(Ke.isType(e,ta)){ee=0;break e}throw e}ee=0}while(0);var oe,ne=ee,ae=J;e:do{if(Ke.isNumber(ae)){oe=ae.toString();break e}if("string"==typeof ae){oe=ae;break e}if("boolean"==typeof ae){oe=ae.toString();break e}if(Ke.isChar(ae)){oe=ae.toString();break e}oe=""}while(0);var se,le="MatchCorner"+oe,ue=this.gameConfigure.tileWidthResult;e:do{if(null==ue){se=0;break e}if(Ke.isNumber(ue)){se=it(ue);break e}if("string"==typeof ue)try{se=Qe(ue);break e}catch(e){if(Ke.isType(e,ta)){se=0;break e}throw e}se=0}while(0);var he,ce=se,de=this.gameConfigure.tileHeightResult;e:do{if(null==de){he=0;break e}if(Ke.isNumber(de)){he=it(de);break e}if("string"==typeof de)try{he=Qe(de);break e}catch(e){if(Ke.isType(e,ta)){he=0;break e}throw e}he=0}while(0);var pe=la(te,ie,ne,le,ce,he);pe.SetHorizontalAlign_jdpdm8$(lo()),pe.SetVerticalAlign_qn2em6$(ro()),pe.SetBlendFactor_mx4ult$(1),pe.SetColor_vnjrmz$(i),this.view.addChild_g5h3xp$(pe),pe.SetAlpha_8ca0d4$(0),null!=(c=this.view.screen)&&c.actionFadeIn_hkbjms$(pe,void 0,void 0,void 0,.1),null!=(d=this.view.screen)&&d.actionFadeOut_7vo5wp$(pe,void 0,t,.3,void 0,void 0,void 0,qh(pe))}}}}},zh.prototype.createMatchBackground_jpdi8v$=function(e,t,i){var r,o,n,a,s,l,u,h,c,d;if(void 0===t&&(t=.5),!(this.quality<1)){var p,f=_h(this.gameConfigure.width);p=f.length-1|0;for(var m=0;m<=p;m++){var v,g=_h(this.gameConfigure.height);v=g.length-1|0;for(var _=0;_<=v;_++)g[_]=new Fe(null,255);f[m]=g}var $=f,y=0,b=0;r=this.gameConfigure.width-1|0;for(var S=0;S<=r;S++){for(o=b=0;o!==e.length;++o){var k=e[o],w=Ke.isType(n=k,Ip)?n:null;null!=w&&w.GetScreenX()===S&&(b=b+1|0,$[S][w.GetScreenY()]=new Fe(w,255))}var x;if(3<=b)x=(y=y+1|0)%2==0?hi().puzzleYellow_mx4ult$():hi().white_mx4ult$(),this.createMatchBackgroundLine_4vdr8k$($,t,Je(x));a=this.gameConfigure.width-1|0;for(var C=0;C<=a;C++){s=this.gameConfigure.height-1|0;for(var z=0;z<=s;z++)$[C][z]=new Fe(null,255)}}l=this.gameConfigure.height-1|0;for(var T=0;T<=l;T++){for(u=b=0;u!==e.length;++u){var G=e[u],A=Ke.isType(h=G,Ip)?h:null;null!=A&&A.GetScreenY()===T&&(b=b+1|0,$[A.GetScreenX()][T]=new Fe(A,255))}var I;if(3<=b)I=(y=y+1|0)%2==0?hi().puzzleYellow_mx4ult$():hi().white_mx4ult$(),this.createMatchBackgroundLine_4vdr8k$($,t,Je(I));c=this.gameConfigure.width-1|0;for(var N=0;N<=c;N++){d=this.gameConfigure.height-1|0;for(var M=0;M<=d;M++)$[N][M]=new Fe(null,255)}}}},zh.prototype.createMatchBackgroundLine_4vdr8k$=function(e,t,i){var r,o,n,a,s,l;void 0===t&&(t=.5);var u=e;r=this.gameConfigure.width-1|0;for(var h=0;h<=r;h++){o=this.gameConfigure.height-1|0;for(var c=0;c<=o;c++){var d=u[h][c].first;if(null!=d){var p=d.value,f=0;if(0<c){var m=u[h][c-1|0].first;null!=m&&m.value===p&&(f=f+1|0)}if(c<(this.gameConfigure.height-1|0)){var v=u[h][c+1|0].first;null!=v&&v.value===p&&(f=f+2|0)}if(0<h){var g=u[h-1|0][c].first;null!=g&&g.value===p&&(f=f+4|0)}if(h<(this.gameConfigure.width-1|0)){var _=u[h+1|0][c].first;null!=_&&_.value===p&&(f=f+8|0)}u[h][c]=new Fe(u[h][c].first,f);var $,y=d.GetRealScreenX(),b=d.GetRealScreenY(),S=On().value;e:do{if(null==S){$=0;break e}if(Ke.isNumber(S)){$=it(S);break e}if("string"==typeof S)try{$=Qe(S);break e}catch(e){if(Ke.isType(e,ta)){$=0;break e}throw e}$=0}while(0);var k,w=$,x=f;e:do{if(Ke.isNumber(x)){k=x.toString();break e}if("string"==typeof x){k=x;break e}if("boolean"==typeof x){k=x.toString();break e}if(Ke.isChar(x)){k=x.toString();break e}k=""}while(0);var C,z="MatchBorder"+k,T=this.gameConfigure.tileWidthResult;e:do{if(null==T){C=0;break e}if(Ke.isNumber(T)){C=it(T);break e}if("string"==typeof T)try{C=Qe(T);break e}catch(e){if(Ke.isType(e,ta)){C=0;break e}throw e}C=0}while(0);var G,A=C,I=this.gameConfigure.tileHeightResult;e:do{if(null==I){G=0;break e}if(Ke.isNumber(I)){G=it(I);break e}if("string"==typeof I)try{G=Qe(I);break e}catch(e){if(Ke.isType(e,ta)){G=0;break e}throw e}G=0}while(0);var N=la(y,b,w,z,A,G);N.SetHorizontalAlign_jdpdm8$(lo()),N.SetVerticalAlign_qn2em6$(ro()),N.SetBlendMode_ieo8yr$(ti()),N.SetBlendFactor_mx4ult$(1),N.SetColor_vnjrmz$(i),this.view.addChild_g5h3xp$(N),N.SetAlpha_8ca0d4$(1),null!=(n=this.view.screen)&&n.actionFadeOut_7vo5wp$(N,void 0,t,.1,void 0,void 0,void 0,Hh(N))}}}a=this.gameConfigure.width-1|0;for(var M=0;M<=a;M++){s=this.gameConfigure.height-1|0;for(var O=0;O<=s;O++){var R=u[M][O].first;if(null!=R){var j=u[M][O].second;if(0===j||1===j||2===j||4===j||8===j)continue;var P=255,B=255,E=255,F=255;0<O&&(P=u[M][O-1|0].second),O<(this.gameConfigure.height-1|0)&&(B=u[M][O+1|0].second),0<M&&(E=u[M-1|0][O].second),M<(this.gameConfigure.width-1|0)&&(F=u[M+1|0][O].second);var L=0;0==(1&E)&&0==(4&P)&&(L=L+1|0),0==(1&F)&&0==(8&P)&&(L=L+2|0),0==(2&E)&&0==(4&B)&&(L=L+4|0),0==(2&F)&&0==(8&B)&&(L=L+8|0);var D,V=R.GetRealScreenX(),U=R.GetRealScreenY(),q=On().value;e:do{if(null==q){D=0;break e}if(Ke.isNumber(q)){D=it(q);break e}if("string"==typeof q)try{D=Qe(q);break e}catch(e){if(Ke.isType(e,ta)){D=0;break e}throw e}D=0}while(0);var H,W=D,Y=L;e:do{if(Ke.isNumber(Y)){H=Y.toString();break e}if("string"==typeof Y){H=Y;break e}if("boolean"==typeof Y){H=Y.toString();break e}if(Ke.isChar(Y)){H=Y.toString();break e}H=""}while(0);var X,K="MatchCorner"+H,Z=this.gameConfigure.tileWidthResult;e:do{if(null==Z){X=0;break e}if(Ke.isNumber(Z)){X=it(Z);break e}if("string"==typeof Z)try{X=Qe(Z);break e}catch(e){if(Ke.isType(e,ta)){X=0;break e}throw e}X=0}while(0);var Q,J=X,ee=this.gameConfigure.tileHeightResult;e:do{if(null==ee){Q=0;break e}if(Ke.isNumber(ee)){Q=it(ee);break e}if("string"==typeof ee)try{Q=Qe(ee);break e}catch(e){if(Ke.isType(e,ta)){Q=0;break e}throw e}Q=0}while(0);var te=la(V,U,W,K,J,Q);te.SetHorizontalAlign_jdpdm8$(lo()),te.SetVerticalAlign_qn2em6$(ro()),te.SetBlendMode_ieo8yr$(ti()),te.SetBlendFactor_mx4ult$(1),te.SetColor_vnjrmz$(i),this.view.addChild_g5h3xp$(te),te.SetAlpha_8ca0d4$(1),null!=(l=this.view.screen)&&l.actionFadeOut_7vo5wp$(te,void 0,t,.1,void 0,void 0,void 0,Wh(te))}}}},zh.prototype.createComboMark=function(){var e=new dn(1,-3);e.SetScale_mx4ult$(1.2),e.SetTimeMultiplier_mx4ult$(3);var t=new dn(0,-30*this.view.sizeScale.yRatio);t.SetTimeMultiplier_mx4ult$(2.5);var G,A,I,N,M;this.view.createAction_xcdeti$("Combo Mark",!1,!0,void 0,-1,void 0,void 0,(G=e,A=this,N={v:!(I={v:null})},M=t,function(e){var t,i,r,o,n,a,s,l,u,h,c,d,p=G.update_mx4ult$(e.elapsed),f=A.gameValue.combo-1|0,m=160*A.view.sizeScale.xRatio;e:do{if(Ke.isNumber(f)){d=f.toString();break e}if("string"==typeof f){d=f;break e}if("boolean"==typeof f){d=f.toString();break e}if(Ke.isChar(f)){d=f.toString();break e}d=""}while(0);var v,g=d.length;e:do{if(null==g){v=0;break e}if(Ke.isNumber(g)){v=it(g);break e}if("string"==typeof g)try{v=Qe(g);break e}catch(e){if(Ke.isType(e,ta)){v=0;break e}throw e}v=0}while(0);var _=Ai(m+5*v,A.boardRect.y-A.gameConfigure.tileHeightResult);if(1===e.count){var $,y;e:do{if(Ke.isNumber(f)){y=f.toString();break e}if("string"==typeof f){y=f;break e}if("boolean"==typeof f){y=f.toString();break e}if(Ke.isChar(f)){y=f.toString();break e}y=""}while(0);$=y+Zl(" Combo");var b,S=I,k=_.x,w=_.y,x=jn().value;e:do{if(null==x){b=0;break e}if(Ke.isNumber(x)){b=it(x);break e}if("string"==typeof x)try{b=Qe(x);break e}catch(e){if(Ke.isType(e,ta)){b=0;break e}throw e}b=0}while(0);S.v=Yr(k,w,b,$,"Gage/"),null!=(t=I.v)&&t.SetSize_dleff0$(-1,30*A.view.sizeScale.yRatio),null!=(i=I.v)&&i.SetVerticalAlign_qn2em6$(ro()),null!=(r=I.v)&&r.SetHorizontalAlign_jdpdm8$(lo());var C=[new Fe(hi().sky_mx4ult$(),hi().salmon_mx4ult$(.8)),new Fe(hi().lemon_mx4ult$(),hi().salmon_mx4ult$(.8)),new Fe(hi().strawberry_mx4ult$(),hi().salmon_mx4ult$(.8)),new Fe(hi().grape_mx4ult$(),hi().salmon_mx4ult$(.8)),new Fe(hi().spring_mx4ult$(),hi().salmon_mx4ult$(.8))],z=f/20|0;C.length<=z&&(z=C.length-1|0),null!=(o=I.v)&&o.SetColor_vnjrmz$(C[z].first),null!=(n=I.v)&&n.SetBlendFactor_mx4ult$(1),A.view.addChild_g5h3xp$(Je(I.v)),null!=(a=I.v)&&a.SetChildAlpha_qiya20$(void 0,void 0,1)}if(A.comboTimeRemain<.5&&!1===N.v&&(N.v=!0,null!=(s=A.view.screen)&&s.actionFadeOut_7vo5wp$(Je(I.v),void 0,void 0,.5)),!0===N.v){var T=M.update_mx4ult$(e.elapsed);null!=(l=I.v)&&l.SetPosition_dleff0$(Je(I.v).GetPosition().x,_.y+T*A.view.sizeScale.yRatio)}return 0<p?null!=(u=I.v)&&u.SetScaleOriginal_mx4ult$(1+p):p<=0&&null!=(h=I.v)&&h.SetScaleOriginal_mx4ult$(1),0!==e.elapsed&&0!==A.gameValue.combo||(null!=(c=I.v)&&c.removeFromParent(),!1)}))},zh.prototype.createBackgroundEffect=function(){var w,e=.15;this.quality<2&&(e=.3),this.view.createAction_xcdeti$("Background Effect",!0,!1,!0,void 0,e,void 0,(w=this,function(e){var t,i=go().arc4random_uniform_za3lpa$(320);e:do{if(null==i){t=0;break e}if(Ke.isNumber(i)){t=it(i);break e}if("string"==typeof i)try{t=Qe(i);break e}catch(e){if(Ke.isType(e,ta)){t=0;break e}throw e}t=0}while(0);var r,o=0+t,n=go().arc4random_uniform_za3lpa$(480);e:do{if(null==n){r=0;break e}if(Ke.isNumber(n)){r=it(n);break e}if("string"==typeof n)try{r=Qe(n);break e}catch(e){if(Ke.isType(e,ta)){r=0;break e}throw e}r=0}while(0);var a=0+r,s=w.view.positionUniversalToDevice_xpb3zu$(o,a),l=!(s.z=100),u=hi().white_mx4ult$(),h=go().arc4random_uniform_za3lpa$(100);h<60&&(l=!0),20<h&&h<50&&(u=hi().puzzleYellow_mx4ult$(.8));var c,d=w.particleManager,p=5*w.view.sizeScale.xRatio,f=800*w.view.sizeScale.xRatio,m=go().arc4random_uniform_za3lpa$(100);e:do{if(null==m){c=0;break e}if(Ke.isNumber(m)){c=it(m);break e}if("string"==typeof m)try{c=Qe(m);break e}catch(e){if(Ke.isType(e,ta)){c=0;break e}throw e}c=0}while(0);var v,g=3+c/100,_=u,$=Ai(5,5,100),y=Ai(50*w.view.sizeScale.xRatio,50*w.view.sizeScale.xRatio,100),b=l,S=Pn().value;e:do{if(null==S){v=0;break e}if(Ke.isNumber(S)){v=it(S);break e}if("string"==typeof S)try{v=Qe(S);break e}catch(e){if(Ke.isType(e,ta)){v=0;break e}throw e}v=0}while(0);var k=d.createFairy2_emwd81$(s,p,f,g,"Resource/UI/Particle",_,$,y,void 0,!0,b,v,w.view);return null!=k&&(k.name="fairy"),!0}))},zh.prototype.removeBackgroundEffect=function(){var e;for(this.view.removeAction_sbe383$("Background Effect"),e=this.particleManager.GetObjectList().iterator();e.hasNext();){var t=e.next();he(t.name,"fairy")&&(t.movement.x=0,t.movement.y=0,t.movement.z=0,t.accel.y=-1500)}},zh.prototype.createFeverBackgroundEffect=function(){var e=.05;this.quality<2&&(e=.1);var fe,me;this.view.createAction_xcdeti$("Fever Background",void 0,void 0,void 0,void 0,e,void 0,(fe=this,me={v:0},function(e){if(0===e.elapsed)return!1;if(e.age<1)return!0;if(-1!==e.timeToLive&&e.age+1>e.timeToLive)return!1;var t=1;if(fe.quality<2&&(t=6),me.v=me.v+1|0,me.v===t){me.v=0;var i=hi().white_mx4ult$(),r=go().arc4random_uniform_za3lpa$(100);20<r&&r<50&&(i=hi().puzzleYellow_mx4ult$(.8));var o,n=go(),a=fe.view.size.width;e:do{if(null==a){o=0;break e}if(Ke.isNumber(a)){o=et(a);break e}if("string"==typeof a)try{o=tt(a);break e}catch(e){if(Ke.isType(e,ta)){o=0;break e}throw e}o=0}while(0);var s,l=n.arc4random_uniform_za3lpa$(o);e:do{if(null==l){s=0;break e}if(Ke.isNumber(l)){s=it(l);break e}if("string"==typeof l)try{s=Qe(l);break e}catch(e){if(Ke.isType(e,ta)){s=0;break e}throw e}s=0}while(0);var u,h=s,c=fe.view.size.height+50,d=fe.particleManager,p=go().arc4random_uniform_za3lpa$(70);e:do{if(null==p){u=0;break e}if(Ke.isNumber(p)){u=it(p);break e}if("string"==typeof p)try{u=Qe(p);break e}catch(e){if(Ke.isType(e,ta)){u=0;break e}throw e}u=0}while(0);var f,m=u-50,v=200+go().arc4random_uniform_za3lpa$(200)|0;e:do{if(null==v){f=0;break e}if(Ke.isNumber(v)){f=it(v);break e}if("string"==typeof v)try{f=Qe(v);break e}catch(e){if(Ke.isType(e,ta)){f=0;break e}throw e}f=0}while(0);var g=d.createStar_2a19qk$(h,c,m,f*fe.view.sizeScale.xRatio,"Resource/UI/Particle",i,void 0,void 0,!0,!0,-20);null!=g&&(g.timeToLive=3,g.movement.y=-1500*fe.view.sizeScale.yRatio)}if(fe.quality<1)return!0;if(0===go().arc4random_uniform_za3lpa$(2)){var _,$=hi().white_mx4ult$(),y=go(),b=fe.view.size.width;e:do{if(null==b){_=0;break e}if(Ke.isNumber(b)){_=et(b);break e}if("string"==typeof b)try{_=tt(b);break e}catch(e){if(Ke.isType(e,ta)){_=0;break e}throw e}_=0}while(0);var S,k=y.arc4random_uniform_za3lpa$(_);e:do{if(null==k){S=0;break e}if(Ke.isNumber(k)){S=it(k);break e}if("string"==typeof k)try{S=Qe(k);break e}catch(e){if(Ke.isType(e,ta)){S=0;break e}throw e}S=0}while(0);var w,x=S,C=go(),z=fe.view.size.height;e:do{if(null==z){w=0;break e}if(Ke.isNumber(z)){w=et(z);break e}if("string"==typeof z)try{w=tt(z);break e}catch(e){if(Ke.isType(e,ta)){w=0;break e}throw e}w=0}while(0);var T,G=C.arc4random_uniform_za3lpa$(w);e:do{if(null==G){T=0;break e}if(Ke.isNumber(G)){T=it(G);break e}if("string"==typeof G)try{T=Qe(G);break e}catch(e){if(Ke.isType(e,ta)){T=0;break e}throw e}T=0}while(0);var A,I=T,N=100*fe.view.sizeScale.yRatio;e:do{if(null==N){A=0;break e}if(Ke.isNumber(N)){A=it(N);break e}if("string"==typeof N)try{A=Qe(N);break e}catch(e){if(Ke.isType(e,ta)){A=0;break e}throw e}A=0}while(0);var M,O=I+A,R=fe.particleManager,j=go().arc4random_uniform_za3lpa$(70)+30|0;e:do{if(null==j){M=0;break e}if(Ke.isNumber(j)){M=it(j);break e}if("string"==typeof j)try{M=Qe(j);break e}catch(e){if(Ke.isType(e,ta)){M=0;break e}throw e}M=0}while(0);var P,B=M,E=100+go().arc4random_uniform_za3lpa$(150)|0;e:do{if(null==E){P=0;break e}if(Ke.isNumber(E)){P=it(E);break e}if("string"==typeof E)try{P=Qe(E);break e}catch(e){if(Ke.isType(e,ta)){P=0;break e}throw e}P=0}while(0);var F=R.createStar_2a19qk$(x,O,B,P*fe.view.sizeScale.xRatio,"Resource/UI/Particle",$,void 0,void 0,!0,!0,-10);if(null!=F){F.timeToLive=2;var L,D=F.rotation;e:do{if(Ke.isNumber(975)){L=it(975);break e}L=0}while(0);D.z=L,F.keepDirection=!0;var V,U=F.movement,q=300+go().arc4random_uniform_za3lpa$(300)|0;e:do{if(null==q){V=0;break e}if(Ke.isNumber(q)){V=it(q);break e}if("string"==typeof q)try{V=Qe(q);break e}catch(e){if(Ke.isType(e,ta)){V=0;break e}throw e}V=0}while(0);U.y=-1*V*fe.view.sizeScale.yRatio,F.SetCallback_lnidq9$(Yh)}}var H,W=go(),Y=fe.view.size.width;e:do{if(null==Y){H=0;break e}if(Ke.isNumber(Y)){H=et(Y);break e}if("string"==typeof Y)try{H=tt(Y);break e}catch(e){if(Ke.isType(e,ta)){H=0;break e}throw e}H=0}while(0);var X,K=W.arc4random_uniform_za3lpa$(H);e:do{if(null==K){X=0;break e}if(Ke.isNumber(K)){X=it(K);break e}if("string"==typeof K)try{X=Qe(K);break e}catch(e){if(Ke.isType(e,ta)){X=0;break e}throw e}X=0}while(0);var Z,Q=X,J=go(),ee=fe.view.size.height;e:do{if(null==ee){Z=0;break e}if(Ke.isNumber(ee)){Z=et(ee);break e}if("string"==typeof ee)try{Z=tt(ee);break e}catch(e){if(Ke.isType(e,ta)){Z=0;break e}throw e}Z=0}while(0);var te,ie=J.arc4random_uniform_za3lpa$(Z);e:do{if(null==ie){te=0;break e}if(Ke.isNumber(ie)){te=it(ie);break e}if("string"==typeof ie)try{te=Qe(ie);break e}catch(e){if(Ke.isType(e,ta)){te=0;break e}throw e}te=0}while(0);var re,oe=te,ne=100*fe.view.sizeScale.yRatio;e:do{if(null==ne){re=0;break e}if(Ke.isNumber(ne)){re=it(ne);break e}if("string"==typeof ne)try{re=Qe(ne);break e}catch(e){if(Ke.isType(e,ta)){re=0;break e}throw e}re=0}while(0);var ae,se=oe+re,le=fe.particleManager,ue=100+go().arc4random_uniform_za3lpa$(50)|0;e:do{if(null==ue){ae=0;break e}if(Ke.isNumber(ue)){ae=it(ue);break e}if("string"==typeof ue)try{ae=Qe(ue);break e}catch(e){if(Ke.isType(e,ta)){ae=0;break e}throw e}ae=0}while(0);var he=le.createStar_2a19qk$(Q,se,-50,ae*fe.view.sizeScale.xRatio,"Resource/UI/Particle",void 0,1,void 0,!0,!0,-10);if(null!=he){var ce,de=he.movement,pe=400+go().arc4random_uniform_za3lpa$(500)|0;e:do{if(null==pe){ce=0;break e}if(Ke.isNumber(pe)){ce=it(pe);break e}if("string"==typeof pe)try{ce=Qe(pe);break e}catch(e){if(Ke.isType(e,ta)){ce=0;break e}throw e}ce=0}while(0);de.y=-1*ce*fe.view.sizeScale.yRatio,he.timeToLive=2,he.SetCallback_lnidq9$(Xh)}return!0}))},zh.prototype.removeFeverBackgroundEffect=function(){this.view.removeAction_sbe383$("Fever Background")},zh.prototype.createFeverMark=function(){var e=new dn;this.view.createAction_xcdeti$("Fever Mark",!0,void 0,void 0,2,void 0,void 0,Zh(this,{v:null},e))},zh.prototype.createMainScore=function(){var C,z,T,G,A,I,e=new dn;this.view.createAction_xcdeti$("Main Score",void 0,void 0,void 0,void 0,void 0,void 0,(C=this,z={v:null},T=50,G={v:0},A=e,I={v:0},function(e){var t,i,r,o,n,a,s,l,u;if(1===e.count){var h=30+C.bannerOffset/C.view.sizeScale.yRatio;return C.view.SetChildVerticalAlign_qn2em6$(io()),C.view.SetFontName_61zpoe$("BigScore/"),z.v=C.view.createLabel_17tgk7$(160,h,Rn(),"0",null,!1,null,null,!1),null!=(t=z.v)&&t.SetColor_vnjrmz$(hi().puzzleYellow_mx4ult$()),null!=(i=z.v)&&i.SetBlendFactor_mx4ult$(1),null!=(r=z.v)&&r.SetHorizontalAlign_jdpdm8$(lo()),null!=(o=z.v)&&o.SetVerticalAlign_qn2em6$(io()),null!=(n=z.v)&&n.SetText_61zpoe$("0"),null!=(a=z.v)&&a.SetSize_dleff0$(-1,T*C.view.sizeScale.yRatio),!0}if(G.v!==C.gameValue.score){G.v=C.gameValue.score;var c,d=A,p=I.v;e:do{if(null==p){c=0;break e}if(Ke.isNumber(p)){c=it(p);break e}if("string"==typeof p)try{c=Qe(p);break e}catch(e){if(Ke.isType(e,ta)){c=0;break e}throw e}c=0}while(0);d.reset_y2kzbl$(void 0,void 0,c);var f,m=A,v=G.v;e:do{if(null==v){f=0;break e}if(Ke.isNumber(v)){f=it(v);break e}if("string"==typeof v)try{f=Qe(v);break e}catch(e){if(Ke.isType(e,ta)){f=0;break e}throw e}f=0}while(0);m.SetTarget_nfvrp9$(f,-50,1.5,void 0,-1)}if(I.v<G.v){var g,_=I,$=A.update_mx4ult$(e.elapsed);e:do{if(null==$){g=0;break e}if(Ke.isNumber($)){g=et($);break e}if("string"==typeof $)try{g=tt($);break e}catch(e){if(Ke.isType(e,ta)){g=0;break e}throw e}g=0}while(0);_.v=g,I.v>G.v&&(I.v=G.v);var y=Jl(I.v);if(null!=(s=z.v)&&s.SetText_61zpoe$(y),5<y.length){if(null!=(l=z.v)){var b,S=T*C.view.sizeScale.yRatio,k=y.length-5|0;e:do{if(null==k){b=0;break e}if(Ke.isNumber(k)){b=it(k);break e}if("string"==typeof k)try{b=Qe(k);break e}catch(e){if(Ke.isType(e,ta)){b=0;break e}throw e}b=0}while(0);var w,x=b;e:do{if(Ke.isNumber(25)){w=it(25);break e}w=0}while(0);l.SetSize_dleff0$(-1,S*(1-x/w))}}else null!=(u=z.v)&&u.SetSize_dleff0$(-1,T*C.view.sizeScale.yRatio)}return!0}))},zh.prototype.createTimeBar=function(){new dn;var t,e=this.gameConfigure.width;e:do{if(null==e){t=0;break e}if(Ke.isNumber(e)){t=it(e);break e}if("string"==typeof e)try{t=Qe(e);break e}catch(e){if(Ke.isType(e,ta)){t=0;break e}throw e}t=0}while(0);var Ee,Fe,Le,De,Ve,Ue,qe,He,We,Ye,Xe,i={v:this.gameConfigure.tileWidthResult*t-4*this.gameConfigure.tileWidthGap},r={v:this.gameConfigure.bottomGaugeHeight},o=this.view.positionDeviceToUniversal_xpb3zu$(0,this.boardRect.y+this.boardRect.height+this.gameConfigure.tileHeightGap),n=this.view.positionDeviceToUniversal_xpb3zu$(i.v,r.v),a=o.y;i.v=n.x,r.v=n.y,this.view.createAction_xcdeti$("Time Bar",void 0,void 0,void 0,void 0,void 0,void 0,(Ee=this,Fe=160,Le=a,De=i,Ve=r,Ue={v:null},qe={v:null},He={v:0},We={v:0},Ye={v:null},Xe={v:0},function(e){var t,i,r,o,n,a,s,l,u,h,c,d,p,f,m,v,g,_,$,y,b,S,k,w,x,C;if(1===e.count){var z,T=Ue,G=Ee.view,A=Fe,I=Le,N=Cn().value;e:do{if(null==N){z=0;break e}if(Ke.isNumber(N)){z=it(N);break e}if("string"==typeof N)try{z=Qe(N);break e}catch(e){if(Ke.isType(e,ta)){z=0;break e}throw e}z=0}while(0);T.v=G.createMask_jga54f$(A,I,z,Ee.gameConfigure.uiFolder+"fever_board",De.v,Ve.v,void 0,void 0,!1,void 0,void 0,!1),null!=(t=Ue.v)&&t.SetHorizontalAlign_jdpdm8$(lo()),null!=(i=Ue.v)&&i.SetVerticalAlign_qn2em6$(io());var M,O=Ee.view,R=Fe-.5*De.v,j=Le,P=Cn().value;e:do{if(null==P){M=0;break e}if(Ke.isNumber(P)){M=it(P);break e}if("string"==typeof P)try{M=Qe(P);break e}catch(e){if(Ke.isType(e,ta)){M=0;break e}throw e}M=0}while(0);var B=O.createSprite_591x4d$(R,j,M,Ee.gameConfigure.uiFolder+"fever_board_left",-1,Ve.v,void 0,void 0,!1,!1);B.SetHorizontalAlign_jdpdm8$(uo()),B.SetVerticalAlign_qn2em6$(io());var E,F=Ee.view,L=Fe+.5*De.v,D=Le,V=Cn().value;e:do{if(null==V){E=0;break e}if(Ke.isNumber(V)){E=it(V);break e}if("string"==typeof V)try{E=Qe(V);break e}catch(e){if(Ke.isType(e,ta)){E=0;break e}throw e}E=0}while(0);var U=F.createSprite_591x4d$(L,D,E,Ee.gameConfigure.uiFolder+"fever_board_right",-1,Ve.v,void 0,void 0,!1,!1);U.SetHorizontalAlign_jdpdm8$(so()),U.SetVerticalAlign_qn2em6$(io()),De.v=Je(Ue.v).GetSize().width,Ve.v=Je(Ue.v).GetSize().height;var q=la(0,0,void 0,Ee.gameConfigure.uiFolder+"fever_board",De.v,Ve.v);q.SetBlendFactor_mx4ult$(1),null!=(r=Ue.v)&&r.addChild_g5h3xp$(q),qe.v=la(0,.2*Ve.v,void 0,Ee.gameConfigure.uiFolder+"timer_gage",De.v,.6*Ve.v),null!=(o=qe.v)&&o.SetBlendFactor_mx4ult$(1),null!=(n=Ue.v)&&n.addChild_g5h3xp$(Je(qe.v)),He.v=Ee.gameValue.gameTime;var H,W=We,Y=He.v;e:do{if(null==Y){H=0;break e}if(Ke.isNumber(Y)){H=et(Y);break e}if("string"==typeof Y)try{H=tt(Y);break e}catch(e){if(Ke.isType(e,ta)){H=0;break e}throw e}H=0}while(0);if(W.v=H,Ee.view.SetFontName_61zpoe$("Gage/"),!0===Ee.gameConfigure.blockDisablePeriodically){Ee.view.SetFontHorizontalAlign_jdpdm8$(lo()),Ee.view.SetFontVerticalAlign_qn2em6$(ro());var X=Ee.gameValue.blockDisableTime.toString(),K=rt(X,".")+3|0;K>X.length&&(K=X.length,X+=".00");var Z=K;X=X.substring(0,Z),Ye.v=Ee.view.createLabel_17tgk7$(De.v/2,Ve.v/2,void 0,X,Ue.v),null!=(a=Ye.v)&&a.SetVerticalAlign_qn2em6$(ro()),null!=(s=Ye.v)&&s.SetSize_dleff0$(-1,1.2*Je(qe.v).GetSize().height),null!=(l=Ye.v)&&l.SetBlendFactor_mx4ult$(1),null!=(u=Ye.v)&&u.SetColor_vnjrmz$(hi().white_mx4ult$()),Xe.v=Ee.gameValue.blockDisableTime}if(!0===Ee.gameConfigure.limitGameTime){Ee.view.SetFontHorizontalAlign_jdpdm8$(lo()),Ee.view.SetFontVerticalAlign_qn2em6$(ro());var Q,J=Ee.gameValue.gameTime;e:do{if(null==J){Q=0;break e}if(Ke.isNumber(J)){Q=et(J);break e}if("string"==typeof J)try{Q=tt(J);break e}catch(e){if(Ke.isType(e,ta)){Q=0;break e}throw e}Q=0}while(0);var ee,te=Q%60;e:do{if(Ke.isNumber(te)){ee=te.toString();break e}if("string"==typeof te){ee=te;break e}if("boolean"==typeof te){ee=te.toString();break e}if(Ke.isChar(te)){ee=te.toString();break e}ee=""}while(0);var ie=ee;1===ie.length&&(ie="0"+ie);var re,oe=Ye,ne=Ee.view,ae=De.v/2,se=Ve.v/2,le=Ee.gameValue.gameTime;e:do{if(null==le){re=0;break e}if(Ke.isNumber(le)){re=et(le);break e}if("string"==typeof le)try{re=tt(le);break e}catch(e){if(Ke.isType(e,ta)){re=0;break e}throw e}re=0}while(0);var ue,he=re/60|0;e:do{if(Ke.isNumber(he)){ue=he.toString();break e}if("string"==typeof he){ue=he;break e}if("boolean"==typeof he){ue=he.toString();break e}if(Ke.isChar(he)){ue=he.toString();break e}ue=""}while(0);oe.v=ne.createLabel_17tgk7$(ae,se,void 0,ue+":"+ie,Ue.v),null!=(h=Ye.v)&&h.SetSize_dleff0$(-1,1.2*Je(qe.v).GetSize().height),null!=(c=Ye.v)&&c.SetBlendFactor_mx4ult$(1),null!=(d=Ye.v)&&d.SetColor_vnjrmz$(hi().white_mx4ult$())}}if(null!=(p=Ye.v)&&p.SetName_61zpoe$("Timer Label"),!0===Ee.gameConfigure.blockDisablePeriodically){var ce=Ee.blockDisableTimeRemain/Ee.gameValue.blockDisableTime;if(null!=(f=qe.v)&&f.SetPosition_dleff0$(-1*De.v+ce*De.v,Je(qe.v).GetPosition().y),Xe.v!==Ee.gameValue.blockDisableTime){if(Ee.gameValue.blockDisableTime===Ee.gameConfigure.minimumTimeForBlockDisableTime&&null!=(m=Ye.v)&&m.SetColor_vnjrmz$(hi().puzzlePurple_mx4ult$()),null!=(v=Ye.v)){var de,pe=Ee.gameValue.blockDisableTime;e:do{if(Ke.isNumber(pe)){de=pe.toString();break e}if("string"==typeof pe){de=pe;break e}if("boolean"==typeof pe){de=pe.toString();break e}if(Ke.isChar(pe)){de=pe.toString();break e}de=""}while(0);v.SetText_61zpoe$(de)}null!=(g=Ye.v)&&g.SetSize_dleff0$(-1,1.2*Je(qe.v).GetSize().height),Xe.v=Ee.gameValue.blockDisableTime}}if(!0===Ee.gameConfigure.resetTimeEveryClear){var fe=Ee.gameValue.gameTime-Ee.gameTimeElapsed;fe<=0&&(fe=0,null!=(_=Ye.v)&&_.SetText_61zpoe$("0:00"));var me=fe/Ee.gameValue.gameTime;if(null!=($=qe.v)&&$.SetPosition_dleff0$(-1*De.v+me*De.v,Je(qe.v).GetPosition().y),null!=(y=Ye.v)){var ve,ge=fe+.99;e:do{if(null==ge){ve=0;break e}if(Ke.isNumber(ge)){ve=et(ge);break e}if("string"==typeof ge)try{ve=tt(ge);break e}catch(e){if(Ke.isType(e,ta)){ve=0;break e}throw e}ve=0}while(0);var _e,$e=ve;e:do{if(Ke.isNumber($e)){_e=$e.toString();break e}if("string"==typeof $e){_e=$e;break e}if("boolean"==typeof $e){_e=$e.toString();break e}if(Ke.isChar($e)){_e=$e.toString();break e}_e=""}while(0);y.SetText_61zpoe$(_e)}null!=(b=Ye.v)&&b.SetSize_dleff0$(-1,1.2*Je(qe.v).GetSize().height)}else if(!0===Ee.gameConfigure.limitGameTime){var ye=Ee.gameRemainTime;ye<=0&&(ye=0,null!=(S=Ye.v)&&S.SetText_61zpoe$("0:00"),null!=(k=Ye.v)&&k.SetSize_dleff0$(-1,1.2*Je(qe.v).GetSize().height));var be,Se=ye;e:do{if(null==Se){be=0;break e}if(Ke.isNumber(Se)){be=et(Se);break e}if("string"==typeof Se)try{be=tt(Se);break e}catch(e){if(Ke.isType(e,ta)){be=0;break e}throw e}be=0}while(0);if(be!==We.v){var ke,we=We,xe=ye;e:do{if(null==xe){ke=0;break e}if(Ke.isNumber(xe)){ke=et(xe);break e}if("string"==typeof xe)try{ke=tt(xe);break e}catch(e){if(Ke.isType(e,ta)){ke=0;break e}throw e}ke=0}while(0);we.v=ke;var Ce,ze=We.v+1|0;e:do{if(null==ze){Ce=0;break e}if(Ke.isNumber(ze)){Ce=et(ze);break e}if("string"==typeof ze)try{Ce=tt(ze);break e}catch(e){if(Ke.isType(e,ta)){Ce=0;break e}throw e}Ce=0}while(0);var Te,Ge=Ce%60;e:do{if(Ke.isNumber(Ge)){Te=Ge.toString();break e}if("string"==typeof Ge){Te=Ge;break e}if("boolean"==typeof Ge){Te=Ge.toString();break e}if(Ke.isChar(Ge)){Te=Ge.toString();break e}Te=""}while(0);var Ae=Te;if(1===Ae.length&&(Ae="0"+Ae),null!=(w=Ye.v)){var Ie,Ne=We.v+1|0;e:do{if(null==Ne){Ie=0;break e}if(Ke.isNumber(Ne)){Ie=et(Ne);break e}if("string"==typeof Ne)try{Ie=tt(Ne);break e}catch(e){if(Ke.isType(e,ta)){Ie=0;break e}throw e}Ie=0}while(0);var Me,Oe=Ie/60|0;e:do{if(Ke.isNumber(Oe)){Me=Oe.toString();break e}if("string"==typeof Oe){Me=Oe;break e}if("boolean"==typeof Oe){Me=Oe.toString();break e}if(Ke.isChar(Oe)){Me=Oe.toString();break e}Me=""}while(0);w.SetText_61zpoe$(Me+":"+Ae)}null!=(x=Ye.v)&&x.SetSize_dleff0$(-1,1.2*Je(qe.v).GetSize().height)}var Re,je=Ee.gameRemainTime,Pe=Ee.gameValue.gameTime;e:do{if(null==Pe){Re=0;break e}if(Ke.isNumber(Pe)){Re=it(Pe);break e}if("string"==typeof Pe)try{Re=Qe(Pe);break e}catch(e){if(Ke.isType(e,ta)){Re=0;break e}throw e}Re=0}while(0);var Be=je/Re;0<=Be&&null!=(C=qe.v)&&C.SetPosition_dleff0$(-1*De.v+Be*De.v,Je(qe.v).GetPosition().y),ye<=5&&!1===Ee.timerSoundFired&&(dh().shared().playEffect_bm4lxs$("timer",-1),Ee.timerSoundFired=!0)}return!0}))},zh.prototype.createFeverGage=function(){var t,e=new dn,i=this.gameConfigure.width;e:do{if(null==i){t=0;break e}if(Ke.isNumber(i)){t=it(i);break e}if("string"==typeof i)try{t=Qe(i);break e}catch(e){if(Ke.isType(e,ta)){t=0;break e}throw e}t=0}while(0);var r={v:this.gameConfigure.tileWidthResult*t-4*this.gameConfigure.tileWidthGap},o={v:this.gameConfigure.topGaugeHeight},n=this.view.positionDeviceToUniversal_xpb3zu$(0,this.boardRect.y-this.gameConfigure.tileHeightGap),a=this.view.positionDeviceToUniversal_xpb3zu$(r.v,o.v),s=n.y;r.v=a.x,o.v=a.y,this.view.createAction_xcdeti$("Fever Gage",void 0,void 0,void 0,void 0,void 0,void 0,Qh(this,160,s,r,o,{v:null},{v:null},{v:null},{v:0},{v:0},{v:0},e,{v:0},{v:0}))},zh.prototype.explodeSameBlock_n119nu$=function(e){var t,i,r,o,n,a,s,l=e.subValue,u={v:Le()};t=this.gameConfigure.width-1|0;for(var h=0;h<=t;h++){i=this.gameConfigure.height-1|0;for(var c=0;c<=i;c++){var d=Ke.isType(r=this.map[h][c],uf)?r:null;null!=d&&Ke.isType(d,Ip)&&d.value===l&&(u.v.add_11rb$(d),this.removeBlock_vux9f0$(h,c))}}if(0===u.v.size)return 0;dh().shared().playEffect_bm4lxs$("laser"),this.shakeBoard_s2l86p$(void 0,void 0,void 0,1,2.5);var p=.7*this.gameConfigure.tileWidth,f=e.GetRealScreenX(),m=e.GetRealScreenY();for(o=u.v.iterator();o.hasNext();){var v,g=o.next(),_=Ai(g.GetRealScreenX()-f,g.GetRealScreenY()-m),$=_.length2D(),y=_.GetDegree(),b=Ke.isType(n=this.gameValue.blockInfo,Sv)?n:Ee(),S=f+.5*_.x,k=m+.5*_.y,w=In().value;e:do{if(null==w){v=0;break e}if(Ke.isNumber(w)){v=it(w);break e}if("string"==typeof w)try{v=Qe(w);break e}catch(e){if(Ke.isType(e,ta)){v=0;break e}throw e}v=0}while(0);var x,C=la(S,k,v,"Lightning01_"+b.colorMap.get_za3lpa$(l),p,$),z=new Et(["Lightning01_"+b.colorMap.get_za3lpa$(l),"Lightning02_"+b.colorMap.get_za3lpa$(l),"Lightning03_"+b.colorMap.get_za3lpa$(l)],.1,-1,p,$,0,0),T=go().arc4random_uniform_za3lpa$(3);e:do{if(null==T){x=0;break e}if(Ke.isNumber(T)){x=et(T);break e}if("string"==typeof T)try{x=tt(T);break e}catch(e){if(Ke.isType(e,ta)){x=0;break e}throw e}x=0}while(0);z.SetStartFrame_za3lpa$(x),z.SetEndFrame_za3lpa$(2),C.SetAnimation_pe1q5w$(z),C.SetVerticalAlign_qn2em6$(ro()),C.SetHorizontalAlign_jdpdm8$(lo()),C.SetRotationDegree_mx4ult$(y),C.SetBlendMode_ieo8yr$(ti()),C.SetBlendFactor_mx4ult$(1),this.view.addChild_g5h3xp$(C),null!=(a=this.view.screen)&&a.actionFade_ntk7i0$(.6,.8*this.gameConfigure.tileWidth,0,null,Jh(C))}var G,A,I,N=this.calcScore_za3lpa$(u.v.size);return null!=(s=this.view.screen)&&s.actionDelay_ab0iom$(.6,void 0,(G=u,A=this,I=N,function(){var e;for(0<G.v.size&&(dh().shared().playEffect_bm4lxs$("singlebomb"),A.increaseCombo()),e=G.v.iterator();e.hasNext();){var t=e.next();t.explode_nhq4am$();var i=Ai(t.GetRealScreenX(),t.GetRealScreenY());A.createScore_l4u1g4$(i,I.first)}return Ze})),this.gameValue.lastEarnedScore=this.gameValue.lastEarnedScore+N.second|0,this.gameValue.score=this.gameValue.score+N.second|0,Ie().shared().SetTitle_61zpoe$(Jl(this.gameValue.score)),.6},zh.prototype.explodeNearBlock_qt1dr2$=function(e,t,i){var r,o,n,a,s;void 0===i&&(i=0);var l=[new Fe(e+1|0,t+1|0),new Fe(e,t+1|0),new Fe(e-1|0,t+1|0),new Fe(e-1|0,t),new Fe(e-1|0,t-1|0),new Fe(e,t-1|0),new Fe(e+1|0,t-1|0),new Fe(e+1|0,t)],u={v:Le()},h={v:0};for(r=0;r!==l.length;++r){var c=l[r];if(0<=c.first&&c.first<this.gameConfigure.width&&0<=c.second&&c.second<this.gameConfigure.height){var d=Ke.isType(o=this.map[c.first][c.second],uf)?o:null;null!=d&&(Ke.isType(d,Ip)||Ke.isType(d,af))&&(u.v.add_11rb$(d),0===i&&(this.removeBlock_vux9f0$(c.first,c.second),h.v=h.v+1|0))}}if(0===u.v.size)return 0;var p={v:3*this.gameConfigure.tileWidth};3<this.gameConfigure.width&&(p.v*=2);var f,m=u.v.size;e:do{if(null==m){f=0;break e}if(Ke.isNumber(m)){f=it(m);break e}if("string"==typeof m)try{f=Qe(m);break e}catch(e){if(Ke.isType(e,ta)){f=0;break e}throw e}f=0}while(0);var v=.6/f;.06<v&&(v=.06),dh().shared().playEffect_bm4lxs$("pop9");for(var g,_,$,y,b,S,k,w=0,x=u.v.iterator();x.hasNext();++w){var C,z,T=x.next();e:do{if(null==w){z=0;break e}if(Ke.isNumber(w)){z=it(w);break e}if("string"==typeof w)try{z=Qe(w);break e}catch(e){if(Ke.isType(e,ta)){z=0;break e}throw e}z=0}while(0);var G=z*v;null!=(C=this.view.screen)&&C.actionDelay_ab0iom$(G,void 0,ec(T,this,p))}if(null!=(n=this.view.screen)){var A,I=u.v.size-1;e:do{if(null==I){A=0;break e}if(Ke.isNumber(I)){A=it(I);break e}if("string"==typeof I)try{A=Qe(I);break e}catch(e){if(Ke.isType(e,ta)){A=0;break e}throw e}A=0}while(0);n.actionDelay_ab0iom$(A*v+.2,void 0,(g=this,_=e,$=t,function(){var t,e=Pn().value;e:do{if(null==e){t=0;break e}if(Ke.isNumber(e)){t=it(e);break e}if("string"==typeof e)try{t=Qe(e);break e}catch(e){if(Ke.isType(e,ta)){t=0;break e}throw e}t=0}while(0);var i=la(0,0,t,"Resource/UI/IconMarker",g.gameConfigure.tileWidthResult,g.gameConfigure.tileHeightResult);i.SetVerticalAlign_qn2em6$(ro()),i.SetHorizontalAlign_jdpdm8$(lo()),i.SetBlendMode_ieo8yr$(ti()),i.SetBlendFactor_mx4ult$(1),i.SetAlpha_8ca0d4$(0),g.view.addChild_g5h3xp$(i);var r,o=g.boardRect.x,n=_;e:do{if(null==n){r=0;break e}if(Ke.isNumber(n)){r=it(n);break e}if("string"==typeof n)try{r=Qe(n);break e}catch(e){if(Ke.isType(e,ta)){r=0;break e}throw e}r=0}while(0);var a,s,l,u=o+r*g.gameConfigure.tileWidthResult+.5*g.gameConfigure.tileWidthResult,h=g.boardRect.y,c=$;e:do{if(null==c){a=0;break e}if(Ke.isNumber(c)){a=it(c);break e}if("string"==typeof c)try{a=Qe(c);break e}catch(e){if(Ke.isType(e,ta)){a=0;break e}throw e}a=0}while(0);return i.SetPosition_dleff0$(u,h+a*g.gameConfigure.tileHeightResult+.5*g.gameConfigure.tileHeightResult),i.addUpdateCallback_sds54w$("Marker",void 0,void 0,void 0,void 0,void 0,(s=i,l={v:0},function(e){return s.SetScaleFromOriginal_mx4ult$(l.v),l.v<=3&&(.8<l.v?s.SetAlpha_8ca0d4$(1):s.SetAlpha_8ca0d4$(0)),l.v+=25*e.elapsed,.15<e.age&&s.SetAlpha_8ca0d4$(1-2*(e.age-.15)),1<e.age&&s.SetTimeToLive_mx4ult$(0),!0})),Ze}))}if(null!=(a=this.view.screen)){var N,M=u.v.size-1|0;e:do{if(null==M){N=0;break e}if(Ke.isNumber(M)){N=it(M);break e}if("string"==typeof M)try{N=Qe(M);break e}catch(e){if(Ke.isType(e,ta)){N=0;break e}throw e}N=0}while(0);a.actionDelay_ab0iom$(N*v+.3,void 0,(y=h,b=this,S=u,k=i,function(){var e;for(0<y.v&&(b.increaseCombo(),dh().shared().playEffect_bm4lxs$("boom"),b.shakeBoard_s2l86p$(void 0,void 0,void 0,2,5)),e=S.v.iterator();e.hasNext();){var t=e.next();0===k&&t.explode_nhq4am$(void 0,void 0,.3)}return Ze}))}var O=this.calcScore_za3lpa$(h.v);if(null!=(s=this.view.screen)){var R,j=u.v.size-1|0;e:do{if(null==j){R=0;break e}if(Ke.isNumber(j)){R=it(j);break e}if("string"==typeof j)try{R=Qe(j);break e}catch(e){if(Ke.isType(e,ta)){R=0;break e}throw e}R=0}while(0);s.actionDelay_ab0iom$(R*v,void 0,tc(0,this,e,t,O,u))}var P,B=u.v.size-1|0;e:do{if(null==B){P=0;break e}if(Ke.isNumber(B)){P=it(B);break e}if("string"==typeof B)try{P=Qe(B);break e}catch(e){if(Ke.isType(e,ta)){P=0;break e}throw e}P=0}while(0);return P*v+.3},zh.prototype.explodeLineBlock_lwb297$=function(e,t,i){var r,o,n,a,s,l,u,h=Le(),c=Le(),d={v:0},p=(Ke.isType(r=e,nf)?r:Ee()).subValue;if(0===p||2===p){o=this.gameConfigure.width-1|0;for(var f=0;f<=o;f++){var m=this.map[f][i];Ke.isType(m,Ip)?(m.connectionBitMask=0,m.removeConnection(),h.add_11rb$(m),this.removeBlock_vux9f0$(f,i),d.v=d.v+1|0):Ke.isType(m,af)?!1===m.isStone&&(h.add_11rb$(m),this.removeBlock_vux9f0$(f,i),d.v=d.v+1|0):Ke.isType(m,Jp)&&m===e&&(h.add_11rb$(m),this.removeBlock_vux9f0$(f,i),d.v=d.v+1|0)}}if(1===p||2===p)for(var v=this.gameConfigure.height-1|0;0<=v;v--){var g=this.map[t][v];Ke.isType(g,Ip)?(g.connectionBitMask=0,g.removeConnection(),c.add_11rb$(g),this.removeBlock_vux9f0$(t,v),d.v=d.v+1|0):Ke.isType(g,af)?!1===g.isStone&&(c.add_11rb$(g),this.removeBlock_vux9f0$(t,v),d.v=d.v+1|0):Ke.isType(g,Jp)&&g===e&&(c.add_11rb$(g),this.removeBlock_vux9f0$(t,v),d.v=d.v+1|0)}if(0===h.size&&0===c.size)return 0;this.increaseCombo(),dh().shared().playEffect_bm4lxs$("electricity"),this.shakeBoard_s2l86p$(void 0,void 0,void 0,1.5,3);var _,$,y=["LineFlash01_red","LineFlash02_red","LineFlash03_red"];if(0<h.size){var b,S=this.gameConfigure.tileWidth,k=this.gameConfigure.tileHeightResult,w=this.gameConfigure.height;e:do{if(null==w){b=0;break e}if(Ke.isNumber(w)){b=it(w);break e}if("string"==typeof w)try{b=Qe(w);break e}catch(e){if(Ke.isType(e,ta)){b=0;break e}throw e}b=0}while(0);var x,C=k*b,z=this.boardRect.x,T=this.gameConfigure.tileHeightResult,G=this.gameConfigure.height;e:do{if(null==G){x=0;break e}if(Ke.isNumber(G)){x=it(G);break e}if("string"==typeof G)try{x=Qe(G);break e}catch(e){if(Ke.isType(e,ta)){x=0;break e}throw e}x=0}while(0);var A,I=z+T*x*.5,N=this.boardRect.y;e:do{if(null==i){A=0;break e}if(Ke.isNumber(i)){A=it(i);break e}if("string"==typeof i)try{A=Qe(i);break e}catch(e){if(Ke.isType(e,ta)){A=0;break e}throw e}A=0}while(0);var M,O=N+A*this.gameConfigure.tileHeightResult+this.gameConfigure.tileHeightResult/2,R=In().value;e:do{if(null==R){M=0;break e}if(Ke.isNumber(R)){M=it(R);break e}if("string"==typeof R)try{M=Qe(R);break e}catch(e){if(Ke.isType(e,ta)){M=0;break e}throw e}M=0}while(0);var j,P=la(I,O,M,"LineFlash03_red",S,C),B=new Et(y,.1,-1,S,C,0,0),E=go().arc4random_uniform_za3lpa$(3);e:do{if(null==E){j=0;break e}if(Ke.isNumber(E)){j=et(E);break e}if("string"==typeof E)try{j=tt(E);break e}catch(e){if(Ke.isType(e,ta)){j=0;break e}throw e}j=0}while(0);B.SetStartFrame_za3lpa$(j),B.SetEndFrame_za3lpa$(2),P.SetAnimation_pe1q5w$(B),P.SetVerticalAlign_qn2em6$(ro()),P.SetHorizontalAlign_jdpdm8$(lo()),P.SetRotationDegree_mx4ult$(90),P.SetBlendMode_ieo8yr$(ti()),P.SetBlendFactor_mx4ult$(1),this.view.addChild_g5h3xp$(P),null!=(n=this.view.screen)&&n.actionFade_ntk7i0$(.8,this.gameConfigure.tileWidth,0,null,(_=P,function(e,t){!0===t&&_.removeFromParent()}))}if(0<c.size){var F,L=this.gameConfigure.tileWidth,D=this.gameConfigure.tileHeightResult,V=this.gameConfigure.height;e:do{if(null==V){F=0;break e}if(Ke.isNumber(V)){F=it(V);break e}if("string"==typeof V)try{F=Qe(V);break e}catch(e){if(Ke.isType(e,ta)){F=0;break e}throw e}F=0}while(0);var U,q=D*F,H=this.boardRect.x;e:do{if(null==t){U=0;break e}if(Ke.isNumber(t)){U=it(t);break e}if("string"==typeof t)try{U=Qe(t);break e}catch(e){if(Ke.isType(e,ta)){U=0;break e}throw e}U=0}while(0);var W,Y=H+U*this.gameConfigure.tileWidthResult+this.gameConfigure.tileWidthResult/2,X=this.boardRect.y,K=In().value;e:do{if(null==K){W=0;break e}if(Ke.isNumber(K)){W=it(K);break e}if("string"==typeof K)try{W=Qe(K);break e}catch(e){if(Ke.isType(e,ta)){W=0;break e}throw e}W=0}while(0);var Z,Q=la(Y,X,W,"LineFlash03_red",L,q),J=new Et(y,.1,-1,L,q,0,0),ee=go().arc4random_uniform_za3lpa$(3);e:do{if(null==ee){Z=0;break e}if(Ke.isNumber(ee)){Z=et(ee);break e}if("string"==typeof ee)try{Z=tt(ee);break e}catch(e){if(Ke.isType(e,ta)){Z=0;break e}throw e}Z=0}while(0);J.SetStartFrame_za3lpa$(Z),J.SetEndFrame_za3lpa$(2),Q.SetAnimation_pe1q5w$(J),Q.SetVerticalAlign_qn2em6$(io()),Q.SetHorizontalAlign_jdpdm8$(lo()),Q.SetBlendMode_ieo8yr$(ti()),Q.SetBlendFactor_mx4ult$(1),this.view.addChild_g5h3xp$(Q),null!=(a=this.view.screen)&&a.actionFade_ntk7i0$(.8,this.gameConfigure.tileWidth,0,null,($=Q,function(e,t){!0===t&&$.removeFromParent()}))}var te,ie=this.calcScore_za3lpa$(d.v+1|0),re=this.gameConfigure.width;e:do{if(null==re){te=0;break e}if(Ke.isNumber(re)){te=it(re);break e}if("string"==typeof re)try{te=Qe(re);break e}catch(e){if(Ke.isType(e,ta)){te=0;break e}throw e}te=0}while(0);var oe=.8/te;for(.08<oe&&(oe=.08),s=ge(ve(h)).iterator();s.hasNext();){var ne,ae=s.next(),se=ae.component1(),le=ae.component2();e:do{if(null==se){ne=0;break e}if(Ke.isNumber(se)){ne=it(se);break e}if("string"==typeof se)try{ne=Qe(se);break e}catch(e){if(Ke.isType(e,ta)){ne=0;break e}throw e}ne=0}while(0);var ue=.8-.2+ne*oe;null!=(l=this.view.screen)&&l.actionDelay_ab0iom$(ue,void 0,ic(le,this,ie))}for(var he=0,ce=c.iterator();ce.hasNext();++he){var de,pe,fe=ce.next();e:do{if(null==he){pe=0;break e}if(Ke.isNumber(he)){pe=it(he);break e}if("string"==typeof he)try{pe=Qe(he);break e}catch(e){if(Ke.isType(e,ta)){pe=0;break e}throw e}pe=0}while(0);var me=.8-.2+pe*oe;null!=(de=this.view.screen)&&de.actionDelay_ab0iom$(me,void 0,rc(fe,this,ie))}return null!=(u=this.view.screen)&&u.actionDelay_ab0iom$(.8,void 0,oc(d,this,ie)),.8-.2+.8};var hc,cc,dc,pc,fc,mc,vc,gc,_c,$c,yc,bc,Sc,kc,wc,xc,Cc,zc,Tc,Gc,Ac,Ic,Nc,Mc,Oc,Rc,jc,Pc,Bc,Ec,Fc,Lc,Dc,Vc,Uc,qc,Hc,Wc,Yc,Xc,Kc,Zc,Qc,Jc,ed,td,id,rd,od,nd,ad,sd,ld,ud,hd,cd,dd,pd,fd,md,vd,gd,_d,$d,yd,bd,Sd,kd,wd,xd,Cd,zd,Td,Gd,Ad,Id,Nd,Md,Od,Rd,jd,Pd,Bd,Ed,Fd,Ld,Dd=I(function(){var o=Ke.kotlin.comparisons.compareValues_s00gnj$;return function(r){return function(e,t){var i=r;return o(i(e),i(t))}}});function Vd(e){this.closure$comparison=e}function Ud(e){return function(){return Ke.isType(e,Ip)?(e.connectionBitMask=0,e.removeConnection(),e.explode_902hsc$(void 0,void 0,void 0,2),dh().shared().playEffect_bm4lxs$("feverPop0")):e.explode_nhq4am$(),Ze}}function qd(u,h,c,d){return function(){for(var e,t,i,r,o,n=0,a=u.iterator();a.hasNext();++n){var s,l=a.next();null!=(s=h.view.screen)&&s.actionDelay_ab0iom$(n*c,void 0,Ud(l))}return null!=(e=h.view.screen)&&e.actionDelay_ab0iom$(c*d+.3,void 0,(i=d,r=h,function(){return r.prepareDrop_103y6$(i,!1,!1),Ze})),null!=(t=h.view.screen)&&t.actionDelay_ab0iom$(c*d,void 0,(o=h,function(){return o.isPaused=!1,Ze})),Ze}}function Hd(){return dh().shared().SetVolume_9sobi5$("GameOverBGM",100),dh().shared().playBGM_llw80p$("GameOverBGM",0),Ze}function Wd(){return Ze}function Yd(){return dh().shared().SetVolume_9sobi5$("GameOverBGM",100),dh().shared().playBGM_llw80p$("GameOverBGM",0),Ze}function Xd(e,t){return t=t||Object.create(zh.prototype),zh.call(t),t.gameConfigure=e,t}function Kd(){this.cur_0="_init",this.next_0="_transform",this.elapsed=0,this.delay=0,this.onUpdateCallback=le(),this.cur_0="_init",this.next_0="_init",this.elapsed=0,this.delay=0}function Zd(e){this.configure=e,this.blockSet="",this.blockInfo_3jid96$_0=this.blockInfo_3jid96$_0,this.basicBonus=1,this.gameTime=e.gameTime,this.gameTimeInitialValue=e.gameTime,this.blockDisableTime=e.blockDisableTime,this.blockDisableTimeInitialValue=e.blockDisableTime,this.score=0,this.lastEarnedScore=0,this.combo=0,this.earnedStar=0,this.finalFlag=!1,this.maxComboOnGame=0,this.maxFeverOnGame=0,this.seq=0,this.seqMax=0,this.feverGage=0,this.feverGageDecreaseValue=.5,this.feverLevel=0,this.perfectPlay=!0,this.hintFlag=!1,this.clickCount=0,this.clickAllCount=0;var t,i=new Int32Array(e.kindOfNumber);t=i.length-1|0;for(var r=0;r<=t;r++)i[r]=0;this.clearBlockType=i;var o,n=new Int32Array(Ke.imul(e.width,e.height)+1|0);o=n.length-1|0;for(var a=0;a<=o;a++)n[a]=0;this.clearBlockCount=n,this.clearBlockAmount=0,this.clearedObstacleSum=0;var s,l=new Int32Array(e.kindOfNumber);s=l.length-1|0;for(var u=0;u<=s;u++)l[u]=0;this.clearedObstacleSumByType=l,this.mapForSharing_9nqlsq$_0=this.mapForSharing_9nqlsq$_0,this.playingTime=0,this.addTimeEveryFeverAmount=0}function Qd(e,t,i,r,o){void 0===i&&(i=0),void 0===r&&(r=0),void 0===o&&(o=""),this.name=o,this.manager_punyzj$_0=this.manager_punyzj$_0,this.startTime=e,this.endTime=t,this.interval=i,this.repeatCount=r,this.lastExcuteTime=0,this.onUpdateCallback=null,this.onChangeCallback=le(),this.state=tp()}function Jd(e,t){h.call(this),this.name$=e,this.ordinal$=t}function ep(){ep=function(){},hc=new Jd("ready",0),cc=new Jd("running",1),dc=new Jd("paused",2),pc=new Jd("stop",3)}function tp(){return ep(),hc}function ip(){return ep(),cc}function rp(){return ep(),dc}function op(){return ep(),pc}function np(){var o;this.currentTime=0,this.list=Le(),this.update=(o=this,function(e){o.currentTime=o.currentTime+e;for(var t=o.currentTime,i=o.list.size-1|0;0<=i;i--){var r=o.list.get_za3lpa$(i);switch(r.state.name){case"running":0<r.endTime&&r.endTime<=t?r.state=op():r.startTime<=t&&(r.update_mx4ult$(t-r.lastExcuteTime),r.lastExcuteTime=t,r.startTime=t+r.interval,0<r.repeatCount&&(r.repeatCount=r.repeatCount-1|0,0===r.repeatCount&&(r.state=op())));break;case"stop":r.remove(),o.list.removeAt_za3lpa$(i)}}})}function ap(){var t,i,r;this.inputEnable=Le(),this.inputMask=Le(),this.availableInputCount=0,this.lastIncrease=new Fe(-1,-1),this.justDropType=0,this.justDropCount=-1,this.markerScale=new Float32Array([]),this.item=Le(),this.onReady_1hbg4m$_0=(t=this,function(e){he(e,"enter")||he(e,"leave")||(!0===t.isIdle()?t.gameState.SetNextState_9sobi5$("timerStart"):t.processCheck())}),this.onGameOver_mfeufl$_0=(i=this,function(e){he(e,"enter")||he(e,"leave")||(i.gameOverFlag=!1,i.gameState.SetNextState_9sobi5$("running"))}),this.onWaitForStop_7w6bbt$_0=(r=this,function(e){he(e,"enter")||he(e,"leave")||r.gameState.SetNextState_9sobi5$("gameClose")})}function sp(i,r,o,n){return function(e){var t=i.markerScale[r+Ke.imul(o,i.gameConfigure.width)|0];return n.SetScaleFromOriginal_mx4ult$(t),1<t?n.SetAlpha_8ca0d4$(1-(t-1)):.8<t?n.SetAlpha_8ca0d4$(1):n.SetAlpha_8ca0d4$(0),i.markerScale[r+Ke.imul(o,i.gameConfigure.width)|0]=i.markerScale[r+Ke.imul(o,i.gameConfigure.width)|0]+1.5*e.elapsed,2<i.markerScale[r+Ke.imul(o,i.gameConfigure.width)|0]&&(i.markerScale[r+Ke.imul(o,i.gameConfigure.width)|0]=0),!0}}function lp(e,t){return Xd(e,t=t||Object.create(ap.prototype)),ap.call(t),t}function up(){this.index=1,this.block=Le(),this.blockIndex=0,this.reuseBlock=!1,this.reuseWhenNoMoreMove=!1,this.resetClearBlockCount=!1,this.stopCreateBlock=!1}function hp(e,t,i,r,o,n,a,s){return void 0===t&&(t=-1),void 0===i&&(i=null),void 0===r&&(r=new Int32Array([])),void 0===o&&(o=!1),void 0===n&&(n=!1),void 0===a&&(a=!1),s=s||Object.create(up.prototype),Ch(e,e.gameConfigure.width,e.gameConfigure.height,e.gameConfigure.kindOfNumber,e.gameConfigure.minOfComplete,s),up.call(s),s.index=t,s.block=ie(r),s.reuseBlock=o,s.reuseWhenNoMoreMove=n,s.resetClearBlockCount=a,null==i?s.createNewBoard_s8cxhz$(Ke.Long.ZERO,gh.prototype.createNewBoard_s8cxhz$$default.bind(s)):s.map=s.rotateMap_ytlutl$(Je(i)),s}function cp(){}function dp(e,t){return gp(e,t=t||Object.create(cp.prototype)),cp.call(t),t.modeString="Classic",t.localizedModeString=Zl("Classic Mode"),t.needStar=0,t.blockDisablePeriodically=!1,t.blockDisableTime=2,t.comboMode=1,t.showHint=!1,t.limitGameTime=!0,t.gameTime=60,t.lastChance=!0,t.kindOfNumber=4,t.minOfComplete=3,t.obstacleRatio=15,t.obstacleMinimumScore=0,t.obstacleMaximumNumber=0,t.itemTable=new Int32Array([-1]),t.regenNoMoreMove=!0,t.checkNoMoreMatch=!0,t.touchInputMode=0,t.onetimeGrow=!1,t.clickOnce=!0,t.createNewBlockWithClicked=!1,t.dropBlock=!0,t.rotation=!0,t.disableChained=!0,t.dropAdjust=-1,t.fallingSpeed=0,t.fallingSpeedLimit=300,t.acceleration=100,t.transformDelay=.14,t.matchDelay=.2,t.addTimeEveryFever=!0,t.addTimeEveryFeverAmount=5,t.addTimeEveryFeverAmountAdjust=.5,t.addTimeEveryFeverAmountMinimum=3,t.allowFeverGaugeIncreasementAfterGameOver=!0,t.showSPS=!0,t}function pp(){}function fp(e,t){return dp(e,t=t||Object.create(pp.prototype)),pp.call(t),t.needStar=0,t.needStarForContinue=10,t.bonusTime=15,t.transformDelay=.14,t.matchDelay=.2,t.scorePerBlock=new Int32Array([0,10,20,30,40,60,90,130,180,1e3]),t.topMargin=.65,t.boardSize=180,t.gaugeHeightRatio=.5,t}function mp(){}function vp(){this.screenSize=Di(),this.modeString="",this.localizedModeString="",this.needStar=0,this.needStarForContinue=5,this.explodeForContinue=4,this.bonusTime=15,this.score=0,this.gameUpdateInterval=0,this.comboTimerInterval=0,this.feverTimerInterval=0,this.blockDisableTimerInterval=0,this.gameTimerInterval=0,this.showReadyStart=!0,this.takeSnapshot=!1,this.comboMode=1,this.showHint=!1,this.blockDisablePeriodically=!1,this.blockDisableTime=2,this.adjustTimeForBlockDisableTime=.1,this.timeForAdjustBlockDisableTime=60,this.minimumTimeForBlockDisableTime=.1,this.scoreForAdjustBlockDisableTime=5e3,this.blockDisableCountAtOnce=1,this.checkPerfectPlay=!1,this.limitGameTime=!0,this.gameTime=60,this.resetTimeEveryClear=!1,this.gameTimeAdjustPerScore=3e3,this.kindOfNumber=4,this.minOfComplete=3,this.indexOfGroup=new Int32Array([0,0,0,0,-1]),this.startOfGroup=new Int32Array([0]),this.countOfGroup=new Int32Array([4]),this.obstacleRatio=0,this.obstacleMinimumScore=0,this.obstacleMaximumNumber=1,this.obstacleType=0,this.itemTable=new Int32Array([-1,-1,-1,-1,-1,-1,101,103,104,102,100]),this.alternativeItemForNirvana=-1,this.regenNoMoreMove=!1,this.checkNoMoreMatch=!1,this.lastChance=!1,this.touchInputMode=0,this.onetimeGrow=!1,this.clickOnce=!0,this.preventStreakClick=!0,this.createNewBlock=!0,this.createNewBlockWithClicked=!1,this.dropBlock=!0,this.rotation=!0,this.disableChained=!0,this.reactivateDisabled=!1,this.reactivateAfter=0,this.amountOfNirvana=9,this.scorePerBlock=new Int32Array([0,11,22,33,44,66,99,143,198,1100]),this.scoreMultiplierPerCombo=new Float32Array([1,1,2,3,4,5,6,7,8,9,9,10,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25]),this.scoreMultiplierPerFever=new Float32Array([1,2,2.5,3,3.5,4,5]),this.feverGagePerBlock=[new Float32Array([0,0,0,3,4,6,9,13,18,100])],this.feverGageBonusPerCombo=new Float32Array([0,0,0,0,0,0,0,0,0,0,10]),this.starPerFever=new Int32Array([0,1,1,1,1,1,2,3,4,5,6]),this.starForNirvanaPerFever=new Int32Array([10,25]),this.feverTime=10,this.resetInactiveWhenFever=!0,this.topMargin=.6,this.width=3,this.height=3,this.tileWidthResult=45,this.tileHeightResult=45,this.tileWidthGapRatio=.1,this.tileHeightGapRatio=.1,this.tileWidthGap=0,this.tileHeightGap=0,this.tileWidth=0,this.tileHeight=0,this.uiFolder="Resource/UI/",this.dropAdjust=-1,this.bounceOnLanding=!0,this.fallingSpeed=12,this.fallingSpeedLimit=12,this.acceleration=14,this.fallingSpeedLimitForNoMoreMove=12,this.transformDelay=.2,this.matchDelay=0,this.matchEffectSpeed=2,this.matchEffectDuration=.5,this.removeFireDelay=.1,this.shakeDuration=.4,this.scoreDuration=.1,this.comboTiming=2,this.comboTimingAdjust=.03,this.comboTimingLowest=1,this.nirvanaDelayGap=.05,this.boardSize=360,this.gaugeHeightRatio=.38,this.topGaugeHeight=30,this.bottomGaugeHeight=30,this.addTimeEveryFever=!1,this.addTimeEveryFeverAmount=30,this.addTimeEveryFeverAmountAdjust=-.5,this.addTimeEveryFeverAmountMinimum=0,this.allowFeverGaugeIncreasementAfterGameOver=!1,this.showSPS=!1,this.minimumSecondsForSPS=60}function gp(e,t){return t=t||Object.create(vp.prototype),vp.call(t),t.screenSize=e,t}function _p(){}function $p(e,t){return gp(e,t=t||Object.create(_p.prototype)),_p.call(t),t.modeString="Beginner",t.localizedModeString=Zl("Beginner Mode"),t.showReadyStart=!1,t.blockDisablePeriodically=!1,t.blockDisableTime=2,t.showHint=!1,t.limitGameTime=!1,t.resetTimeEveryClear=!1,t.itemTable=new Int32Array([-1]),t.width=3,t.height=3,t.kindOfNumber=4,t.minOfComplete=3,t.obstacleRatio=15,t.obstacleMinimumScore=3e5,t.obstacleMaximumNumber=0,t.regenNoMoreMove=!1,t.checkNoMoreMatch=!0,t.clickOnce=!0,t.createNewBlockWithClicked=!1,t.dropBlock=!0,t.onetimeGrow=!1,t.rotation=!0,t.disableChained=!0,t.fallingSpeed=0,t.fallingSpeedLimit=300,t.acceleration=100,t.transformDelay=.14,t.matchDelay=.2,t.feverGagePerBlock=[new Float32Array([0,0,0,6,8,12,18,26,36,100]),new Float32Array([0,0,0,4,5,8,12,17,24,100]),new Float32Array([0,0,0,3,4,6,9,13,18,100])],t.topMargin=.6,t.takeSnapshot=!0,t}function yp(){}function bp(e,t){return $p(e,t=t||Object.create(yp.prototype)),yp.call(t),t.transformDelay=.14,t.matchDelay=.2,t.scorePerBlock=new Int32Array([0,10,20,30,40,60,90,130,180,1e3]),t.topMargin=.65,t.boardSize=180,t.gaugeHeightRatio=.5,t}function Sp(){}function kp(e,t){return $p(e,t=t||Object.create(Sp.prototype)),Sp.call(t),t.modeString="Beginner6x6",t.localizedModeString=Zl("Beginner Mode 6x6"),t.needStar=0,t.needStarForContinue=20,t.explodeForContinue=12,t.comboMode=1,t.comboTimingLowest=1.5,t.kindOfNumber=5,t.minOfComplete=3,t.indexOfGroup=new Int32Array([0,0,0,0,0,-1]),t.startOfGroup=new Int32Array([0]),t.countOfGroup=new Int32Array([5]),t.obstacleRatio=6,t.obstacleMinimumScore=0,t.obstacleMaximumNumber=36,t.obstacleType=1,t.checkNoMoreMatch=!0,t.itemTable=new Int32Array([-1,-1,-1,-1,-1,-1,101,103,102,104,100]),t.alternativeItemForNirvana=102,t.reactivateDisabled=!1,t.reactivateAfter=2,t.resetInactiveWhenFever=!1,t.amountOfNirvana=10,t.transformDelay=.12,t.matchDelay=.12,t.scorePerBlock=new Int32Array([0,10,20,30,40,60,90,120,180]),t.feverGagePerBlock=[new Float32Array([0,0,0,3,4,6,9,13,18,18])],t.topMargin=.65,t.width=6,t.height=6,t.fallingSpeed=0,t.fallingSpeedLimit=300,t.acceleration=200,t.boardSize=270,t.gaugeHeightRatio=.5,t}function wp(){}function xp(){}function Cp(e,t){return gp(e,t=t||Object.create(xp.prototype)),xp.call(t),t.modeString="Timeless",t.localizedModeString=Zl("Timeless Mode"),t.blockDisablePeriodically=!0,t.blockDisableTime=.5,t.adjustTimeForBlockDisableTime=.01,t.timeForAdjustBlockDisableTime=1,t.minimumTimeForBlockDisableTime=.3,t.blockDisableCountAtOnce=1,t.limitGameTime=!1,t.obstacleRatio=15,t.obstacleMinimumScore=0,t.obstacleMaximumNumber=0,t.itemTable=new Int32Array([-1]),t.starPerFever=new Int32Array([0,1,1,1,2,3,4,5,6,7,8]),t.starForNirvanaPerFever=new Int32Array([50,50]),t.width=3,t.height=3,t.fallingSpeed=0,t.fallingSpeedLimit=300,t.acceleration=160,t.transformDelay=.12,t.matchDelay=.15,t}function zp(){}function Tp(){}function Gp(){}function Ap(e,t){return gp(e,t=t||Object.create(Gp.prototype)),Gp.call(t),t.modeString="Tutorial",t.limitGameTime=!1,t.regenNoMoreMove=!0,t.clickOnce=!0,t.blockDisablePeriodically=!1,t.itemTable=new Int32Array([-1]),t.width=3,t.height=3,t.fallingSpeed=0,t.fallingSpeedLimit=12,t.acceleration=100,t.dropAdjust=-5,t.amountOfNirvana=9,t.transformDelay=.2,t.matchDelay=0,t.comboMode=0,t.starPerFever=new Int32Array([0]),t.starForNirvanaPerFever=new Int32Array([0]),t.boardSize=180,t.topMargin=.5,t}function Ip(){this.transformCount=0,this.disabledMask=null;var t,e=In().value;e:do{if(null==e){t=0;break e}if(Ke.isNumber(e)){t=it(e);break e}if("string"==typeof e)try{t=Qe(e);break e}catch(e){if(Ke.isType(e,ta)){t=0;break e}throw e}t=0}while(0);this.disabledMaskZ=t,this.disabledDone=!0,this.effectSprite=null;var i,R,r,o=In().value;e:do{if(null==o){i=0;break e}if(Ke.isNumber(o)){i=it(o);break e}if("string"==typeof o)try{i=Qe(o);break e}catch(e){if(Ke.isType(e,ta)){i=0;break e}throw e}i=0}while(0);this.effectSpriteZ=i,this.connectionBitMask=0,this.connection=[null,null,null,null],this.onWait=(R=this,function(e){var t,i,r,o,n,a,s;if(he(e,"run"))!1===R.needCheck&&!1===R.goingToRemove&&R.attribute===pf()&&!1===R.disabledDone&&R.makeDisable();else if(he(e,"enter")){var l,u=R.game.gameValue.blockSet,h=R.value;e:do{if(Ke.isNumber(h)){l=h.toString();break e}if("string"==typeof h){l=h;break e}if("boolean"==typeof h){l=h.toString();break e}if(Ke.isChar(h)){l=h.toString();break e}l=""}while(0);var c=u+l+"_normal";if(R.isTransforming=!1,R.isDropping=!1,0<R.transformCount&&!0===R.game.gameConfigure.clickOnce&&(R.SetAttribute_c9f3gi$(pf()),!(R.disabledDone=!1)===R.game.gameConfigure.reactivateDisabled&&null!=(t=R.game.view.screen)&&t.actionDelay_ab0iom$(R.game.gameConfigure.reactivateAfter,void 0,(s=R,function(){return s.resetDisable_6taknv$(!0),Ze}))),null==R.sprite){var d,p=R,f=R.GetBoardX(),m=R.GetBoardY(),v=R.spriteZ,g=R.game.gameConfigure.tileWidth;e:do{if(null==g){d=0;break e}if(Ke.isNumber(g)){d=it(g);break e}if("string"==typeof g)try{var _=Qe(g);d=_;break e}catch(e){if(Ke.isType(e,ta)){d=0;break e}throw e}d=0}while(0);var $,y=d,b=R.game.gameConfigure.tileHeight;e:do{if(null==b){$=0;break e}if(Ke.isNumber(b)){$=it(b);break e}if("string"==typeof b)try{var S=Qe(b);$=S;break e}catch(e){if(Ke.isType(e,ta)){$=0;break e}throw e}$=0}while(0);p.sprite=la(f,m,v,c,y,$),null!=(i=R.sprite)&&i.SetHorizontalAlign_jdpdm8$(lo()),null!=(r=R.sprite)&&r.SetVerticalAlign_qn2em6$(ro()),R.game.view.GetMask().addChild_g5h3xp$(Je(R.sprite));var k,w=R,x=R.GetBoardX(),C=R.GetBoardY(),z=R.disabledMaskZ,T=R.game.gameValue.blockSet+"inactive_mask",G=R.game.gameConfigure.tileWidth;e:do{if(null==G){k=0;break e}if(Ke.isNumber(G)){k=it(G);break e}if("string"==typeof G)try{var A=Qe(G);k=A;break e}catch(e){if(Ke.isType(e,ta)){k=0;break e}throw e}k=0}while(0);var I,N=k,M=R.game.gameConfigure.tileHeight;e:do{if(null==M){I=0;break e}if(Ke.isNumber(M)){I=it(M);break e}if("string"==typeof M)try{var O=Qe(M);I=O;break e}catch(e){if(Ke.isType(e,ta)){I=0;break e}throw e}I=0}while(0);w.disabledMask=la(x,C,z,T,N,I),null!=(o=R.disabledMask)&&o.SetHorizontalAlign_jdpdm8$(lo()),null!=(n=R.disabledMask)&&n.SetVerticalAlign_qn2em6$(ro()),R.game.view.GetMask().addChild_g5h3xp$(Je(R.disabledMask)),Je(R.disabledMask).SetAlpha_8ca0d4$(0)}}else he(e,"leave")&&null!=(a=R.sprite)&&a.SetAnimation_pe1q5w$(null)}),this.onRollback=(r=this,function(e){he(e,"run")?r.animationState.SetNextState_9sobi5$("wait",.1):he(e,"enter")&&r.rollback()})}function Np(o,n,a,s){return function(e,t){var i,r;o.SetAlpha_8ca0d4$(e),!0===t&&(Je(n.sprite).SetAlpha_8ca0d4$(0),n.explodeEffect_24o109$(a,0),null!=(i=n.game.view.screen)&&i.actionDelay_ab0iom$(s,void 0,(r=n,function(){return r.remove(),Ze})),n.animationState.SetNextState_9sobi5$("remove"))}}function Mp(u,h,c,d){return function(){var e,i,r,o,n,a,t,s=Pi(Je(u.sprite).GetSize().width,Je(u.sprite).GetSize().height),l=new dn(u.game.gameConfigure.matchEffectSpeed,1,.5);return h.SetTimeToLive_mx4ult$(u.game.gameConfigure.matchEffectDuration),h.addUpdateCallback_sds54w$("BlockEntity Matched",void 0,void 0,void 0,void 0,void 0,(i={v:!1},r=u,o=l,n=h,a=s,function(e){if(0===e.elapsed)return!1===i.v&&r.animationState.SetNextState_9sobi5$("remove"),!1;e.age>r.game.gameConfigure.removeFireDelay&&!1===i.v&&(r.animationState.SetNextState_9sobi5$("remove"),i.v=!0),o.update_mx4ult$(e.elapsed);var t=o.GetPosition();return n.SetSize_dleff0$(a.width*(.5+t),a.height*(.5+t)),.3<e.age&&n.SetAlpha_8ca0d4$(1-5*(e.age-.3)),!0})),u.explodeEffect_24o109$(c,0),null!=(e=u.game.view.screen)&&e.actionDelay_ab0iom$(d,void 0,(t=u,function(){return t.remove(),Ze})),Ze}}function Op(u,h,c,d){return function(){var e,i,r,o,n,a,t,s=Pi(Je(u.sprite).GetSize().width,Je(u.sprite).GetSize().height),l=new dn(u.game.gameConfigure.matchEffectSpeed,1,.5);return h.SetTimeToLive_mx4ult$(u.game.gameConfigure.matchEffectDuration),h.addUpdateCallback_sds54w$("BlockEntity Matched",void 0,void 0,void 0,void 0,void 0,(i={v:!1},r=u,o=l,n=h,a=s,function(e){if(0===e.elapsed)return!1===i.v&&r.animationState.SetNextState_9sobi5$("remove"),!1;e.age>r.game.gameConfigure.removeFireDelay&&!1===i.v&&(r.animationState.SetNextState_9sobi5$("remove"),i.v=!0),o.update_mx4ult$(e.elapsed);var t=o.GetPosition();return n.SetSize_dleff0$(a.width*(.5+t),a.height*(.5+t)),n.SetAlpha_8ca0d4$(1-3*e.age),!0})),u.explodeEffect_24o109$(c,0),null!=(e=u.game.view.screen)&&e.actionDelay_ab0iom$(d,void 0,(t=u,function(){return t.remove(),Ze})),Ze}}function Rp(i,r,o){return function(){var e,t;return i.explodeEffect_24o109$(r,0),null!=(e=i.game.view.screen)&&e.actionDelay_ab0iom$(o,void 0,(t=i,function(){return t.remove(),Ze})),i.animationState.SetNextState_9sobi5$("remove"),Ze}}function jp(e,t,i,r,o){return gf(e,t,i,r,o=o||Object.create(Ip.prototype)),Ip.call(o),o.animationState.addOnUpdateCallback_bodv9c$("wait",o.onWait),o.animationState.addOnUpdateCallback_bodv9c$("transform",Pp),o.animationState.addOnUpdateCallback_bodv9c$("remove",Bp),o.animationState.addOnUpdateCallback_bodv9c$("rollback",o.onRollback),o.animationState.SetNextState_9sobi5$("wait"),o}function Pp(e){return Ze}function Bp(e){return Ze}function Ep(){}function Fp(){this.entityList=null}function Lp(e){return e=e||Object.create(Fp.prototype),Fp.call(e),e.entityList=Le(),e}function Dp(){this.lifetime=0,this.timeToLive_prt4ss$_0=0,this.game_7su03y$_0=this.game_7su03y$_0,this.value=0,this.text=null,this.entityState_e2ys3e$_0=null,this.order_ws1p7q$_0=null,this.internalX=null,this.internalY=null,this.nextX=null,this.nextY=null,this.preprocessed=!1,this.hasGoal=!1,this.moveToX=null,this.moveToY=null,this.speedX=null,this.speedY=null,this.accelX=null,this.accelY=null,this.speedXLimit=null,this.speedYLimit=null,this.checkCollide_22kq6u$_0=!0,this.needLanding_redr4d$_0=!1,this.prevLanding=new Fe(-1,-1)}function Vp(e,t){h.call(this),this.name$=e,this.ordinal$=t}function Up(){Up=function(){},fc=new Vp("alive",0),mc=new Vp("dead",1)}function qp(){return Up(),fc}function Hp(){return Up(),mc}function Wp(e,t){h.call(this),this.name$=e,this.ordinal$=t}function Yp(){Yp=function(){},vc=new Wp("bottom",0),gc=new Wp("middle",1),_c=new Wp("top",2)}function Xp(){return Yp(),vc}function Kp(){return Yp(),gc}function Zp(){return Yp(),_c}function Qp(e,t,i,r,o){return o=o||Object.create(Dp.prototype),Dp.call(o),o.lifetime=0,o.timeToLive_prt4ss$_0=0,o.game=e,o.value=t,o.text="",o.entityState_e2ys3e$_0=qp(),o.order_ws1p7q$_0=Kp(),o.internalX=Ke.Long.fromInt(1e3*i|0),o.internalY=Ke.Long.fromInt(1e3*r|0),o.nextX=o.internalX,o.nextY=o.internalY,o.preprocessed=!1,o.hasGoal=!1,o.moveToX=o.internalX,o.moveToY=o.internalY,o.speedX=Ke.Long.ZERO,o.speedY=Ke.Long.ZERO,o.accelX=Ke.Long.ZERO,o.accelY=Ke.Long.ZERO,o.speedXLimit=Ke.Long.ZERO,o.speedYLimit=Ke.Long.ZERO,o}function Jp(){this.subValue=0,this.used=!1,this.effectDelay=0}function ef(e,t,i,r,o,n){var a;if(gf(e,t,r,o,n=n||Object.create(Jp.prototype)),Jp.call(n),n.subValue=i,n.SetImage(),2<=Km().GetInteger_hh7mhe$(Ff(),void 0,1)){var s=vn(1);s.SetScale_mx4ult$(.05*e.gameConfigure.tileHeight),null!=(a=n.sprite)&&a.SetYMotion_vn0wwp$(s,!0)}return n}function tf(e,t,i,r,o){ef(e,t,i,r,o,this)}function rf(e,t,i,r,o){ef(e,t,i,r,o,this)}function of(e,t,i,r,o){ef(e,t,i,r,o,this)}function nf(e,t,i,r,o){ef(e,t,i,r,o,this)}function af(){this.matched=!1,this.isStone=!1}function sf(i,r,o){return function(){var e,t;return i._createExplosion_vl24u5$(r,9,"Resource/UI/Particle",8*i.game.gameConfigure.tileWidth),null!=(e=i.game.view.screen)&&e.actionDelay_ab0iom$(o,void 0,(t=i,function(){return t.remove(),Ze})),Ze}}function lf(e,t,i,r,o){var n,a,s,l;gf(e,t,i,r,o=o||Object.create(af.prototype)),af.call(o);var u,h="Ghost_"+(Ke.isType(n=e.gameValue.blockInfo,Sv)?n:Ee()).colorMap.get_za3lpa$(t%1e3),c=o.GetBoardX(),d=o.GetBoardY(),p=o.spriteZ,f=.7*e.gameConfigure.tileWidth;e:do{if(null==f){u=0;break e}if(Ke.isNumber(f)){u=it(f);break e}if("string"==typeof f)try{u=Qe(f);break e}catch(e){if(Ke.isType(e,ta)){u=0;break e}throw e}u=0}while(0);var m,v,g=u,_=.7*e.gameConfigure.tileHeight;e:do{if(null==_){m=0;break e}if(Ke.isNumber(_)){m=it(_);break e}if("string"==typeof _)try{m=Qe(_);break e}catch(e){if(Ke.isType(e,ta)){m=0;break e}throw e}m=0}while(0);return o.sprite=la(c,d,p,h,g,m),null!=(a=o.sprite)&&a.SetHorizontalAlign_jdpdm8$(lo()),null!=(s=o.sprite)&&s.SetVerticalAlign_qn2em6$(ro()),e.view.GetMask().addChild_g5h3xp$(Je(o.sprite)),2<=Km().GetInteger_hh7mhe$(Ff(),void 0,1)&&null!=(l=e.view.screen)&&l.actionFadeLoop_xukj3e$("blink",.6,.6,1,o.sprite,(v=o,function(e,t){var i,r;return!0===t?null!=(i=v.sprite)&&i.SetAlpha_8ca0d4$(1):null!=(r=v.sprite)&&r.SetAlpha_8ca0d4$(e),!0})),o}function uf(){this.attribute=df(),this.animationState=new Kd,this.bouncing=!1,this.needCheck=!1,this.needCheckReason=-1,this.isDropping=!1,this.isTransforming=!1,this.goingToRemove=!1,this.goingToRollback=!1,this.sprite=null,this.spriteZ=7,this.score=0}function hf(e,t){h.call(this),this.name$=e,this.ordinal$=t}function cf(){cf=function(){},$c=new hf("normal",0),yc=new hf("disabled",1),bc=new hf("hint",2),Sc=new hf("clear",3)}function df(){return cf(),$c}function pf(){return cf(),yc}function ff(){return cf(),bc}function mf(){return cf(),Sc}function vf(o,n,a,s){return function(e,t){var i,r;o.SetAlpha_8ca0d4$(e),!0===t&&(Je(n.sprite).SetAlpha_8ca0d4$(0),n.explodeEffect_24o109$(a,0),null!=(i=n.game.view.screen)&&i.actionDelay_ab0iom$(s,void 0,(r=n,function(){return r.remove(),Ze})),n.animationState.SetNextState_9sobi5$("remove"))}}function gf(e,t,i,r,o){return Qp(e,t,i,r,o=o||Object.create(uf.prototype)),uf.call(o),o}function _f(){this.user=null,this.achievementList=le(),this.achievementIdentifierList=S([Hf(),Wf(),Yf(),Xf(),Kf(),Zf(),om(),nm(),am(),sm(),Qf(),Jf(),em(),tm(),im(),rm(),lm(),um(),hm(),cm(),dm(),pm(),fm(),mm(),vm(),gm(),_m(),$m(),ym(),bm(),Sm(),km(),wm(),xm(),Cm(),zm(),Tm(),Gm(),Am(),Im(),Nm(),Mm(),Om(),Rm(),jm(),Pm(),Bm(),Em(),Fm(),Lm(),Dm()])}function $f(e,t){var i;for(t=t||Object.create(_f.prototype),_f.call(t),t.user=e,i=t.achievementIdentifierList.iterator();i.hasNext();){var r=i.next();t.AddAchievement_ze4fts$(r)}return t}function yf(){this.mode=null,this.user=null,this.highScore=0,this.maxCombo=0,this.maxFever=0,this.minInterval=.5,this.maxSPS=0}function bf(e,t,i){return void 0===t&&(t="local"),i=i||Object.create(yf.prototype),yf.call(i),i.mode=e,i.user=t,i}function Sf(e,t,i){h.call(this),this.value=i,this.name$=e,this.ordinal$=t}function kf(){kf=function(){},kc=new Sf("HIGH_SCORE",0,"HighScore"),wc=new Sf("MAX_COMBO",1,"MaxCombo"),xc=new Sf("MAX_FEVER",2,"MaxFever"),Cc=new Sf("MIN_INTERVAL",3,"MinInterval"),zc=new Sf("MAX_SPS",4,"MaxSPS"),Tc=new Sf("PLAY_COUNT",5,"PlayCount"),Gc=new Sf("GHOST_REMOVAL",6,"GhostRemoval"),Ac=new Sf("SOUND_ON",7,"Sound ON"),Ic=new Sf("MASTER_VOLUME",8,"Master Volume"),Nc=new Sf("BGM_VOLUME",9,"BGM Volume"),Mc=new Sf("EFFECT_VOLUME",10,"Effect Volume"),Oc=new Sf("LAST_PLAYED_MODE",11,"Last Played Mode"),Rc=new Sf("STAR_LAST_CHARGED_TIME",12,"Star Last Charged Time"),jc=new Sf("STAR_CHARGE_START",13,"Star Charge Start"),Pc=new Sf("CURRENT_BLOCK_SET",14,"Current Block Set"),Bc=new Sf("CURRENT_BOARD_TYPE",15,"Current Board Type"),Ec=new Sf("BATTERY_USAGE_MODE",16,"Battery Usage Mode"),Fc=new Sf("CURRENT_LOCALE",17,"Current Locale"),Lc=new Sf("COLOR_MODE",18,"Color Mode"),Dc=new Sf("TUTORIAL_COMPLETE",19,"Tutorial Complete"),Vc=new Sf("TUTORIAL_3_3_COMPLETE",20,"Tutorial 3x3 Complete"),Uc=new Sf("TUTORIAL_6_6_COMPLETE",21,"Tutorial 6x6 Complete"),qc=new Sf("BEGINNER_COMBOS_5",22,"Samsara_Beginner_Combos_5"),Hc=new Sf("BEGINNER_COMBOS_10",23,"Samsara_Beginner_Combos_10"),Wc=new Sf("BEGINNER_COMBOS_20",24,"Samsara_Beginner_Combos_20"),Yc=new Sf("BEGINNER_COMBOS_50",25,"Samsara_Beginner_Combos_50"),Xc=new Sf("BEGINNER_COMBOS_100",26,"Samsara_Beginner_Combos_100"),Kc=new Sf("BEGINNER_COMBOS_150",27,"Samsara_Beginner_Combos_150"),Zc=new Sf("BEGINNER_50K",28,"Samsara_Beginner_50K"),Qc=new Sf("BEGINNER_100K",29,"Samsara_Beginner_100K"),Jc=new Sf("BEGINNER_200K",30,"Samsara_Beginner_200K"),ed=new Sf("BEGINNER_1M",31,"Samsara_Beginner_1M"),td=new Sf("BEGINNER_2M",32,"Samsara_Beginner_2M"),id=new Sf("BEGINNER_3M",33,"Samsara_Beginner_3M"),rd=new Sf("BEGINNER_FEVER_1",34,"Samsara_Beginner_Fever_1"),od=new Sf("BEGINNER_FEVER_3",35,"Samsara_Beginner_Fever_3"),nd=new Sf("BEGINNER_FEVER_5",36,"Samsara_Beginner_Fever_5"),ad=new Sf("BEGINNER_FEVER_10",37,"Samsara_Beginner_Fever_10"),sd=new Sf("BEGINNER_CLEAR_9",38,"Samsara_Beginner_Clear_9"),ld=new Sf("CLASSIC_COMBOS_10",39,"Samsara_Classic_Combos_10"),ud=new Sf("CLASSIC_COMBOS_30",40,"Samsara_Classic_Combos_30"),hd=new Sf("CLASSIC_FEVER_1",41,"Samsara_Classic_Fever_1"),cd=new Sf("CLASSIC_FEVER_5",42,"Samsara_Classic_Fever_5"),dd=new Sf("CLASSIC_100K",43,"Samsara_Classic_100K"),pd=new Sf("CLASSIC_300K",44,"Samsara_Classic_300K"),fd=new Sf("CLASSIC_1500K",45,"Samsara_Classic_1500K"),md=new Sf("CLASSIC_CLEAR_9",46,"Samsara_Classic_Clear_9"),vd=new Sf("TIMELESS_MODE_OPEN",47,"Samsara_Timeless_Mode_Open"),gd=new Sf("TIMELESS_COMBOS_50",48,"Samsara_Timeless_Combos_50"),_d=new Sf("TIMELESS_COMBOS_80",49,"Samsara_Timeless_Combos_80"),$d=new Sf("TIMELESS_COMBOS_100",50,"Samsara_Timeless_Combos_100"),yd=new Sf("TIMELESS_FEVER_10",51,"Samsara_Timeless_Fever_10"),bd=new Sf("TIMELESS_1M",52,"Samsara_Timeless_1M"),Sd=new Sf("TIMELESS_2M",53,"Samsara_Timeless_2M"),kd=new Sf("HARDCORE_MODE_OPEN",54,"Samsara_Hardcore_Mode_Open"),wd=new Sf("HARDCORE_COMBOS_60",55,"Samsara_Hardcore_Combos_60"),xd=new Sf("HARDCORE_FEVER_10",56,"Samsara_Hardcore_Fever_10"),Cd=new Sf("HARDCORE_1M",57,"Samsara_Hardcore_1M"),zd=new Sf("GHOST_50",58,"Samsara_Ghost_50"),Td=new Sf("GHOST_100",59,"Samsara_Ghost_100"),Gd=new Sf("GHOST_150",60,"Samsara_Ghost_150"),Ad=new Sf("GHOST_200",61,"Samsara_Ghost_200"),Id=new Sf("BEGINNER6x6_COMBOS_30",62,"Samsara_Beginner6x6_Combos_30"),Nd=new Sf("BEGINNER6x6_COMBOS_50",63,"Samsara_Beginner6x6_Combos_50"),Md=new Sf("BEGINNER6x6_COMBOS_100",64,"Samsara_Beginner6x6_Combos_100"),Od=new Sf("BEGINNER6x6_500K",65,"Samsara_Beginner6x6_500K"),Rd=new Sf("BEGINNER6x6_1M",66,"Samsara_Beginner6x6_1M"),jd=new Sf("CLASSIC6x6_MODE_OPEN",67,"Samsara_Classic6x6_Mode_Open"),Pd=new Sf("CLASSIC6x6_COMBOS_50",68,"Samsara_Classic6x6_Combos_50"),Bd=new Sf("CLASSIC6x6_1M",69,"Samsara_Classic6x6_1M"),Ed=new Sf("TIMELESS6x6_MODE_OPEN",70,"Samsara_Timeless6x6_Mode_Open"),Fd=new Sf("TIMELESS6x6_COMBOS_100",71,"Samsara_Timeless6x6_Combos_100"),Ld=new Sf("TIMELESS6x6_2M",72,"Samsara_Timeless6x6_2M")}function wf(){return kf(),kc}function xf(){return kf(),wc}function Cf(){return kf(),xc}function zf(){return kf(),Cc}function Tf(){return kf(),zc}function Gf(){return kf(),Tc}function Af(){return kf(),Gc}function If(){return kf(),Ac}function Nf(){return kf(),Ic}function Mf(){return kf(),Nc}function Of(){return kf(),Mc}function Rf(){return kf(),Oc}function jf(){return kf(),Rc}function Pf(){return kf(),jc}function Bf(){return kf(),Pc}function Ef(){return kf(),Bc}function Ff(){return kf(),Ec}function Lf(){return kf(),Fc}function Df(){return kf(),Lc}function Vf(){return kf(),Dc}function Uf(){return kf(),Vc}function qf(){return kf(),Uc}function Hf(){return kf(),qc}function Wf(){return kf(),Hc}function Yf(){return kf(),Wc}function Xf(){return kf(),Yc}function Kf(){return kf(),Xc}function Zf(){return kf(),Kc}function Qf(){return kf(),Zc}function Jf(){return kf(),Qc}function em(){return kf(),Jc}function tm(){return kf(),ed}function im(){return kf(),td}function rm(){return kf(),id}function om(){return kf(),rd}function nm(){return kf(),od}function am(){return kf(),nd}function sm(){return kf(),ad}function lm(){return kf(),sd}function um(){return kf(),ld}function hm(){return kf(),ud}function cm(){return kf(),hd}function dm(){return kf(),cd}function pm(){return kf(),dd}function fm(){return kf(),pd}function mm(){return kf(),fd}function vm(){return kf(),md}function gm(){return kf(),vd}function _m(){return kf(),gd}function $m(){return kf(),_d}function ym(){return kf(),$d}function bm(){return kf(),yd}function Sm(){return kf(),bd}function km(){return kf(),Sd}function wm(){return kf(),kd}function xm(){return kf(),wd}function Cm(){return kf(),xd}function zm(){return kf(),Cd}function Tm(){return kf(),zd}function Gm(){return kf(),Td}function Am(){return kf(),Gd}function Im(){return kf(),Ad}function Nm(){return kf(),Id}function Mm(){return kf(),Nd}function Om(){return kf(),Md}function Rm(){return kf(),Od}function jm(){return kf(),Rd}function Pm(){return kf(),jd}function Bm(){return kf(),Pd}function Em(){return kf(),Bd}function Fm(){return kf(),Ed}function Lm(){return kf(),Fd}function Dm(){return kf(),Ld}function Vm(){Hm()}function Um(){qm=this}Vd.prototype.compare=function(e,t){return this.closure$comparison(e,t)},Vd.$metadata$={kind:o,interfaces:[Lu]},zh.prototype.resetDisabledBlock_wnu51o$=function(e,t,i,r){var o,n,a,s,l,u;void 0===e&&(e=0),void 0===t&&(t=2),void 0===i&&(i=!0);for(var h=this.gameConfigure.width-1|0,c=Le(),d={v:0},p=0;p<=h;p++){o=this.gameConfigure.height-1|0;for(var f=0;f<=o;f++){var m=this.map[p][f];Ke.isType(m,Ip)?m.GetAttribute()!==pf()&&0===m.transformCount||c.add_11rb$(m):Ke.isType(m,af)&&!0===r&&(c.add_11rb$(m),this.removeBlock_vux9f0$(p,f),d.v=d.v+1|0)}}if(0===c.size)return 0;if(!1===i){for(dh().shared().playEffect_bm4lxs$("feverPop5"),n=c.iterator();n.hasNext();){var v=n.next();Ke.isType(v,Ip)?(Ke.isType(a=v,Ip)?a:Ee()).resetDisable_6taknv$():Ke.isType(v,af)&&(Ke.isType(s=v,af)?s:Ee()).explode_nhq4am$()}return 0}var g,_=J(c,new Vd(Dd(nc))),$=.8*this.gameConfigure.tileWidth,y=this.boardRect.y,b=this.gameConfigure.tileHeight,S=this.gameConfigure.height;e:do{if(null==S){g=0;break e}if(Ke.isNumber(S)){g=it(S);break e}if("string"==typeof S)try{g=Qe(S);break e}catch(e){if(Ke.isType(e,ta)){g=0;break e}throw e}g=0}while(0);var k,w=y+b*g,x=_.size;e:do{if(null==x){k=0;break e}if(Ke.isNumber(x)){k=it(x);break e}if("string"==typeof x)try{k=Qe(x);break e}catch(e){if(Ke.isType(e,ta)){k=0;break e}throw e}k=0}while(0);for(var C=1/k,z=0,T=_.iterator();T.hasNext();++z){var G,A=T.next(),I=A.GetRealScreenX(),N=A.GetRealScreenY();if(null!=(G=this.view.screen)){var M;e:do{if(null==z){M=0;break e}if(Ke.isNumber(z)){M=it(z);break e}if("string"==typeof z)try{M=Qe(z);break e}catch(e){if(Ke.isType(e,ta)){M=0;break e}throw e}M=0}while(0);G.actionDelay_ab0iom$(M*C,void 0,sc(I,N,$,w,this,A,1))}}dh().shared().playEffect_bm4lxs$("angel"),this.shakeBoard_s2l86p$(void 0,void 0,-.5,2,2.5),null!=(l=this.view.screen)&&l.actionDelay_ab0iom$(1,void 0,lc),0<d.v&&this.increaseCombo();var O=this.calcScore_za3lpa$(d.v+1|0);null!=(u=this.view.screen)&&u.actionDelay_ab0iom$(1.5,void 0,uc(this,d,O));var R;e:do{if(Ke.isNumber(1.5)){R=it(1.5);break e}R=0}while(0);return R},zh.prototype.getRandomBlocks_za3lpa$=function(e){var t,i,r,o,n=Le(),a=new Int32Array(Ke.imul(this.gameConfigure.width,this.gameConfigure.height));o=a.length-1|0;for(var s=0;s<=o;s++)a[s]=0;var l=a;t=e-1|0;for(var u=0;u<=t;u++){for(var h=go().arc4random_uniform_za3lpa$(l.length)+1|0,c=0,d=0;0!==l[c]||(d=d+1|0)!==h;)(c=c+1|0)>=l.length&&(c=0);l[c]=1}i=l.length-1|0;for(var p=0;p<=i;p++)if(1===l[p]){var f=p%this.gameConfigure.width,m=p/this.gameConfigure.width|0,v=Ke.isType(r=this.map[f][m],uf)?r:null;null!=v&&n.add_11rb$(v)}return n},zh.prototype.getBottomBlocks_za3lpa$=function(e){for(var t,i,r=Le(),o=1;o<=e;o++){t=this.gameConfigure.width-1|0;for(var n=0;n<=t;n++){var a=Ke.isType(i=this.map[n][this.gameConfigure.height-o|0],uf)?i:null;null!=a&&r.add_11rb$(a)}}return r},zh.prototype.explodeBlocks_mti8id$=function(e,t){var i,r,o;if(0===e.size)return 0;for(i=e.iterator();i.hasNext();){var n=i.next(),a=Ke.isType(r=n,uf)?r:null;if(null!=a){var s=a.GetScreenX(),l=a.GetScreenY();this.removeBlock_vux9f0$(s,l)}}var u=e.size;return this.isPaused=!0,null!=(o=this.view.screen)&&o.actionDelay_ab0iom$(.5,void 0,qd(e,this,t,u)),0},zh.prototype.shakeBoard_s2l86p$=function(e,t,i,r,o){void 0===e&&(e=10),void 0===t&&(t=0),void 0===i&&(i=-1),void 0===r&&(r=1),void 0===o&&(o=2.5);var n,a,s,l=vn(e,t,void 0,i);l.SetScale_mx4ult$(this.view.sizeScale.xRatio*o),this.view.createAction_xcdeti$("shake",!1,void 0,void 0,void 0,void 0,void 0,(n=r,a=this,s=l,function(e){if(e.age>n)return a.view.SetPosition_dleff0$(0,0),!1;var t=s.update_mx4ult$(e.elapsed);return a.view.SetPosition_dleff0$(t,a.view.GetPosition().y),!0}))},zh.$metadata$={kind:o,simpleName:"Game",interfaces:[]},Kd.prototype.GetState=function(){return this.cur_0},Kd.prototype.SetNextState_9sobi5$=function(e,t){void 0===t&&(t=0);var i=this.onUpdateCallback.get_11rb$(this.cur_0);null!=i&&i("leave"),this.elapsed=0,this.delay=t,this.cur_0="_transform",this.next_0=e},Kd.prototype.GetNextState=function(){return this.next_0},Kd.prototype.update_mx4ult$=function(e){if(this.elapsed=this.elapsed+e,!he(this.cur_0,this.next_0)&&this.elapsed>=this.delay){this.cur_0=this.next_0;var t=this.onUpdateCallback.get_11rb$(this.cur_0);null!=t&&t("enter")}if(!he(this.cur_0,this.next_0))return!1;var i=this.onUpdateCallback.get_11rb$(this.cur_0);return null!=i&&i("run"),!0},Kd.prototype.addOnUpdateCallback_bodv9c$=function(e,t){he(e,"_init")||he(e,"_transform")||this.onUpdateCallback.put_xwzc9p$(e,t)},Kd.$metadata$={kind:o,simpleName:"GameState",interfaces:[]},Object.defineProperty(Zd.prototype,"blockInfo",{get:function(){return null==this.blockInfo_3jid96$_0?z("blockInfo"):this.blockInfo_3jid96$_0},set:function(e){this.blockInfo_3jid96$_0=e}}),Object.defineProperty(Zd.prototype,"mapForSharing",{get:function(){return null==this.mapForSharing_9nqlsq$_0?z("mapForSharing"):this.mapForSharing_9nqlsq$_0},set:function(e){this.mapForSharing_9nqlsq$_0=e}}),Zd.prototype.reset=function(){this.gameTime=this.gameTimeInitialValue,this.blockDisableTime=this.blockDisableTimeInitialValue,this.score=0,this.lastEarnedScore=0,this.combo=0,this.earnedStar=0,this.finalFlag=!1,this.maxComboOnGame=0,this.seq=0,this.seqMax=0,this.feverGage=0,this.feverLevel=0,this.perfectPlay=!0,this.hintFlag=!1,this.clickCount=0,this.clickAllCount=0;var e,t=new Int32Array(this.configure.kindOfNumber);e=t.length-1|0;for(var i=0;i<=e;i++)t[i]=0;this.clearBlockType=t;var r,o=new Int32Array(Ke.imul(this.configure.width,this.configure.height)+1|0);r=o.length-1|0;for(var n=0;n<=r;n++)o[n]=0;this.clearBlockCount=o,this.clearedObstacleSum=0;var a,s=new Int32Array(this.configure.kindOfNumber);a=s.length-1|0;for(var l=0;l<=a;l++)s[l]=0;this.clearedObstacleSumByType=s,this.mapForSharing=[],this.playingTime=0,this.addTimeEveryFeverAmount=0},Zd.prototype.addBlockType_za3lpa$=function(e){var t;(t=this.clearBlockType)[e]=t[e]+1|0},Zd.prototype.addBlockCount_za3lpa$=function(e){var t;(t=this.clearBlockCount)[e]=t[e]+1|0,this.clearBlockAmount=this.clearBlockAmount+e|0},Zd.prototype.addObstacleClear_za3lpa$=function(e){var t;this.clearedObstacleSum=this.clearedObstacleSum+1|0,(t=this.clearedObstacleSumByType)[e%1e3]=t[e%1e3]+1|0},Zd.$metadata$={kind:o,simpleName:"GameValue",interfaces:[]},Jd.$metadata$={kind:o,simpleName:"State",interfaces:[h]},Jd.values=function(){return[tp(),ip(),rp(),op()]},Jd.valueOf_61zpoe$=function(e){switch(e){case"ready":return tp();case"running":return ip();case"paused":return rp();case"stop":return op();default:c("No enum constant com.blindcatstudio.samsara.logic.ScheduledJob.State."+e)}},Object.defineProperty(Qd.prototype,"manager",{get:function(){return null==this.manager_punyzj$_0?z("manager"):this.manager_punyzj$_0},set:function(e){this.manager_punyzj$_0=e}}),Qd.prototype.SetUpdateCallback_d6xl6w$=function(e){this.onUpdateCallback=e},Qd.prototype.SetStartCallback_o14v8n$=function(e){this.onChangeCallback.put_xwzc9p$("start",e)},Qd.prototype.SetPauseCallback_o14v8n$=function(e){this.onChangeCallback.put_xwzc9p$("pause",e)},Qd.prototype.SetResumeCallback_o14v8n$=function(e){this.onChangeCallback.put_xwzc9p$("resume",e)},Qd.prototype.SetRestartCallback_o14v8n$=function(e){this.onChangeCallback.put_xwzc9p$("restart",e)},Qd.prototype.SetStopCallback_o14v8n$=function(e){this.onChangeCallback.put_xwzc9p$("stop",e)},Qd.prototype.SetRemoveCallback_o14v8n$=function(e){this.onChangeCallback.put_xwzc9p$("remove",e)},Qd.prototype.SetInterver_mx4ult$=function(e){this.interval=e},Qd.prototype.update_mx4ult$=function(e){var t;null!=(t=this.onUpdateCallback)&&t(e)},Qd.prototype.start=function(){var e;this.state===tp()&&(null!=(e=this.onChangeCallback.get_11rb$("start"))&&e(),this.lastExcuteTime=this.manager.currentTime,this.startTime=this.manager.currentTime+this.interval,this.state=ip())},Qd.prototype.pause=function(){var e;this.state===ip()&&(null!=(e=this.onChangeCallback.get_11rb$("pause"))&&e(),this.startTime=this.startTime-this.manager.currentTime,this.state=rp())},Qd.prototype.resume=function(){var e;this.state===rp()&&(null!=(e=this.onChangeCallback.get_11rb$("resume"))&&e(),this.lastExcuteTime=this.manager.currentTime,this.startTime+=this.manager.currentTime,this.state=ip())},Qd.prototype.restart=function(){var e;null!=(e=this.onChangeCallback.get_11rb$("restart"))&&e(),this.lastExcuteTime=this.manager.currentTime,this.startTime=this.manager.currentTime+this.interval,this.state=ip()},Qd.prototype.stop=function(){var e;this.state!==op()&&(null!=(e=this.onChangeCallback.get_11rb$("stop"))&&e(),this.state=op())},Qd.prototype.remove=function(){var e;null!=(e=this.onChangeCallback.get_11rb$("remove"))&&e(),this.onUpdateCallback=null,this.onChangeCallback.clear()},Qd.$metadata$={kind:o,simpleName:"ScheduledJob",interfaces:[]},np.prototype.addJob_5h0cc$=function(e){(e.manager=this).list.add_11rb$(e)},np.$metadata$={kind:o,simpleName:"ScheduledJobManager",interfaces:[]},ap.prototype.initGameVariables=function(){var e;zh.prototype.initGameVariables.call(this);var t=Ke.isType(e=Nv().shared().GetItemInfo_61zpoe$("BlocksetNumber"),Sv)?e:Ee();this.gameValue.blockInfo=t,this.gameValue.blockSet=t.resource;var i,r=new Float32Array(Ke.imul(this.gameConfigure.width,this.gameConfigure.height));i=r.length-1|0;for(var o=0;o<=i;o++)r[o]=0;this.markerScale=r},ap.prototype.initAdditional=function(){var e,t,i,r,o;this.view.SetChildHorizontalAlign_jdpdm8$(lo()),this.view.SetChildVerticalAlign_qn2em6$(ro());var n=Ke.isType(e=this.gameValue.blockInfo,Sv)?e:Ee();t=this.gameConfigure.height-1|0;for(var a=0;a<=t;a++){i=this.gameConfigure.width-1|0;for(var s=0;s<=i;s++){var l,u=this.boardRect.x;e:do{if(null==s){l=0;break e}if(Ke.isNumber(s)){l=it(s);break e}if("string"==typeof s)try{l=Qe(s);break e}catch(e){if(Ke.isType(e,ta)){l=0;break e}throw e}l=0}while(0);var h,c=u+l*this.gameConfigure.tileWidthResult+.5*this.gameConfigure.tileWidthGap,d=this.boardRect.y;e:do{if(null==a){h=0;break e}if(Ke.isNumber(a)){h=it(a);break e}if("string"==typeof a)try{h=Qe(a);break e}catch(e){if(Ke.isType(e,ta)){h=0;break e}throw e}h=0}while(0);var p,f=d+h*this.gameConfigure.tileHeightResult+.5*this.gameConfigure.tileHeightGap,m=Cn().value;e:do{if(null==m){p=0;break e}if(Ke.isNumber(m)){p=it(m);break e}if("string"==typeof m)try{p=Qe(m);break e}catch(e){if(Ke.isType(e,ta)){p=0;break e}throw e}p=0}while(0);var v=la(c,f,p,n.resource+"board_tile",this.gameConfigure.tileWidth,this.gameConfigure.tileHeight);v.SetBlendMode_ieo8yr$(ei()),v.SetBlendFactor_mx4ult$(1),v.SetColor_vnjrmz$(n.tileColor),this.view.addChild_g5h3xp$(v),this.boardList.add_11rb$(v);var g,_=this.boardRect.x;e:do{if(null==s){g=0;break e}if(Ke.isNumber(s)){g=it(s);break e}if("string"==typeof s)try{g=Qe(s);break e}catch(e){if(Ke.isType(e,ta)){g=0;break e}throw e}g=0}while(0);var $,y=_+g*this.gameConfigure.tileWidthResult,b=this.boardRect.y;e:do{if(null==a){$=0;break e}if(Ke.isNumber(a)){$=it(a);break e}if("string"==typeof a)try{$=Qe(a);break e}catch(e){if(Ke.isType(e,ta)){$=0;break e}throw e}$=0}while(0);var S,k=b+$*this.gameConfigure.tileHeightResult,w=Rn().value;e:do{if(null==w){S=0;break e}if(Ke.isNumber(w)){S=it(w);break e}if("string"==typeof w)try{S=Qe(w);break e}catch(e){if(Ke.isType(e,ta)){S=0;break e}throw e}S=0}while(0);var x=la(y,k,S,null,this.gameConfigure.tileWidthResult,this.gameConfigure.tileHeightResult);x.SetBlendMode_ieo8yr$(ei()),x.SetColor_vnjrmz$(hi().black_mx4ult$()),x.SetAlpha_8ca0d4$(0),x.SetShow_6taknv$(!0),this.view.addChild_g5h3xp$(x),this.inputMask.add_11rb$(x),this.inputEnable.add_11rb$(!0)}}for(var C=[Di(0,0,this.view.size.width,this.boardRect.y),Di(0,this.boardRect.y,this.boardRect.x,this.boardRect.height),Di(this.boardRect.x+this.boardRect.width,this.boardRect.y,this.view.size.width-(this.boardRect.x+this.boardRect.width),this.boardRect.height),Di(0,this.boardRect.y+this.boardRect.height,this.view.size.width,this.view.size.height-(this.boardRect.y+this.boardRect.height))],z=0;z<=3;z++){var T,G=C[z].x,A=C[z].y,I=Rn().value;e:do{if(null==I){T=0;break e}if(Ke.isNumber(I)){T=it(I);break e}if("string"==typeof I)try{T=Qe(I);break e}catch(e){if(Ke.isType(e,ta)){T=0;break e}throw e}T=0}while(0);var N=la(G,A,T,null,C[z].width,C[z].height);N.SetBlendMode_ieo8yr$(ei()),N.SetColor_vnjrmz$(hi().black_mx4ult$()),N.SetAlpha_8ca0d4$(0),N.SetShow_6taknv$(!0),this.view.addChild_g5h3xp$(N),this.inputMask.add_11rb$(N)}var M,O=this.boardRect.x,R=this.boardRect.y,j=Tn().value;e:do{if(null==j){M=0;break e}if(Ke.isNumber(j)){M=it(j);break e}if("string"==typeof j)try{M=Qe(j);break e}catch(e){if(Ke.isType(e,ta)){M=0;break e}throw e}M=0}while(0);var P=Kr(O,R,M,"Resource/UI/board_mask",this.boardRect.width,this.boardRect.height);P.SetVerticalAlign_qn2em6$(io()),P.SetHorizontalAlign_jdpdm8$(so()),this.view.addChild_g5h3xp$(P),this.view.mask=P,r=this.gameConfigure.height-1|0;for(var B=0;B<=r;B++){o=this.gameConfigure.width-1|0;for(var E=0;E<=o;E++){this.markerScale[E+Ke.imul(B,this.gameConfigure.width)|0]=0;var F,L=Pn().value;e:do{if(null==L){F=0;break e}if(Ke.isNumber(L)){F=it(L);break e}if("string"==typeof L)try{F=Qe(L);break e}catch(e){if(Ke.isType(e,ta)){F=0;break e}throw e}F=0}while(0);var D=la(0,0,F,"Resource/UI/IconMarker",this.gameConfigure.tileWidthResult,this.gameConfigure.tileHeightResult);D.SetVerticalAlign_qn2em6$(ro()),D.SetHorizontalAlign_jdpdm8$(lo());var V,U=E+Ke.imul(B,this.gameConfigure.width)|0;e:do{if(Ke.isNumber(U)){V=U.toString();break e}if("string"==typeof U){V=U;break e}if("boolean"==typeof U){V=U.toString();break e}if(Ke.isChar(U)){V=U.toString();break e}V=""}while(0);D.SetName_61zpoe$("Marker"+V),D.SetBlendMode_ieo8yr$(ti()),D.SetBlendFactor_mx4ult$(1),D.SetAlpha_8ca0d4$(0),this.view.addChild_g5h3xp$(D),D.SetShow_6taknv$(!1);var q,H=this.boardRect.x;e:do{if(null==E){q=0;break e}if(Ke.isNumber(E)){q=it(E);break e}if("string"==typeof E)try{q=Qe(E);break e}catch(e){if(Ke.isType(e,ta)){q=0;break e}throw e}q=0}while(0);var W,Y=H+q*this.gameConfigure.tileWidthResult+.5*this.gameConfigure.tileWidthResult,X=this.boardRect.y;e:do{if(null==B){W=0;break e}if(Ke.isNumber(B)){W=it(B);break e}if("string"==typeof B)try{W=Qe(B);break e}catch(e){if(Ke.isType(e,ta)){W=0;break e}throw e}W=0}while(0);D.SetPosition_dleff0$(Y,X+W*this.gameConfigure.tileHeightResult+.5*this.gameConfigure.tileHeightResult),D.addUpdateCallback_sds54w$("Marker",void 0,void 0,void 0,void 0,void 0,sp(this,E,B,D));var K,Z=Pn().value;e:do{if(null==Z){K=0;break e}if(Ke.isNumber(Z)){K=it(Z);break e}if("string"==typeof Z)try{K=Qe(Z);break e}catch(e){if(Ke.isType(e,ta)){K=0;break e}throw e}K=0}while(0);var Q=la(0,0,K,"Resource/UI/IconFinger_0",this.gameConfigure.tileWidthResult,this.gameConfigure.tileHeightResult),J=new Et(["Resource/UI/IconFinger_0","Resource/UI/IconFinger_1"],.5,-1,this.gameConfigure.tileWidthResult,this.gameConfigure.tileHeightResult,0,0);J.SetStartFrame_za3lpa$(0),J.SetEndFrame_za3lpa$(1),Q.SetAnimation_pe1q5w$(J),Q.SetVerticalAlign_qn2em6$(ro()),Q.SetHorizontalAlign_jdpdm8$(lo());var ee,te=E+Ke.imul(B,this.gameConfigure.width)|0;e:do{if(Ke.isNumber(te)){ee=te.toString();break e}if("string"==typeof te){ee=te;break e}if("boolean"==typeof te){ee=te.toString();break e}if(Ke.isChar(te)){ee=te.toString();break e}ee=""}while(0);Q.SetName_61zpoe$("Finger"+ee),this.view.addChild_g5h3xp$(Q),Q.SetShow_6taknv$(!1);var ie,re=this.boardRect.x;e:do{if(null==E){ie=0;break e}if(Ke.isNumber(E)){ie=it(E);break e}if("string"==typeof E)try{ie=Qe(E);break e}catch(e){if(Ke.isType(e,ta)){ie=0;break e}throw e}ie=0}while(0);var oe,ne=re+ie*this.gameConfigure.tileWidthResult+.5*this.gameConfigure.tileWidthResult,ae=this.boardRect.y;e:do{if(null==B){oe=0;break e}if(Ke.isNumber(B)){oe=it(B);break e}if("string"==typeof B)try{oe=Qe(B);break e}catch(e){if(Ke.isType(e,ta)){oe=0;break e}throw e}oe=0}while(0);Q.SetPosition_dleff0$(ne,ae+oe*this.gameConfigure.tileHeightResult+1*this.gameConfigure.tileHeightResult)}}},ap.prototype.deinitGameVariables=function(){var e,t;null!=(e=this.view.mask)&&e.removeFromParent();for(var i=this.boardList.size-1|0;0<=i;i--){this.boardList.removeAt_za3lpa$(i).removeFromParent(),this.inputMask.removeAt_za3lpa$(i).removeFromParent()}zh.prototype.deinitGameVariables.call(this),null!=(t=this.view.screen)&&t.removeTouchListener_61zpoe$("For Game")},ap.prototype.start=function(){var e;this.masterTimer.start(),null!=(e=this.gameLogicUpdater)&&e.start(),this.gameState.SetNextState_9sobi5$("ready"),this.cancelKeyInput_za3lpa$(),this.initializeDone=!0},ap.prototype.generateBoard=function(){this.regenAllBlock_za3lpa$(this.gameConfigure.dropAdjust)},ap.prototype.SetBoardIndex_3oypbd$=function(e,t,i,r,o,n){void 0===e&&(e=null),void 0===t&&(t=new Int32Array([])),void 0===i&&(i=new Int32Array([])),void 0===r&&(r=!1),void 0===o&&(o=!1),void 0===n&&(n=!1),this.boardGenerator=hp(this,void 0,e,t,r,o,n)},ap.prototype.addBlock_q5rwfd$=function(e){var t;(Ke.isType(t=this.boardGenerator,up)?t:Ee()).addBlock_q5rwfd$(e)},Object.defineProperty(ap.prototype,"onReady",{get:function(){return this.onReady_1hbg4m$_0}}),Object.defineProperty(ap.prototype,"onGameOver",{get:function(){return this.onGameOver_mfeufl$_0}}),Object.defineProperty(ap.prototype,"onWaitForStop",{get:function(){return this.onWaitForStop_7w6bbt$_0}}),ap.prototype.updateInfo=function(){},ap.prototype.processKeyInput=function(){var e,t,i,r,o,n,a,s;if(0!==this.availableInputCount){var l=this.GetClickedButton();if(-1!==l.first&&-1!==l.second){var u=l.first,h=l.second;if(!1===this.inputEnable.get_za3lpa$(u+Ke.imul(h,this.gameConfigure.width)|0))return void this.cancelKeyInput_za3lpa$();(e=this.gameValue).clickAllCount=e.clickAllCount+1|0;var c=Ke.isType(t=this.map[u][h],uf)?t:null;if(null!=c)if(Ke.isType(c,Ip)){var d=Ke.isType(i=c,Ip)?i:Ee();if(!1===this.isBlockClickable_nwthlc$(d))return void(d.GetAttribute()===pf()&&(dh().shared().playEffect_bm4lxs$("shake"),this.cancelKeyInput_za3lpa$(0),d.shake_7b5o5w$()));if(!1===this.preIncreaseChainedTile_qt1dr2$(u,h,d.value))return;dh().shared().playEffect_bm4lxs$("change"),this.boardGenerator.clearHint(),this.checkDelayedBlock(),this.increaseChainedTile_qt1dr2$(u,h,d.value),(r=this.gameValue).clickCount=r.clickCount+1|0,0<this.availableInputCount&&(this.availableInputCount=this.availableInputCount-1|0),null!=(o=this.blockDisableTimer)&&o.pause(),this.gameValue.seq=0,this.lastIncrease=new Fe(u,h)}else if(Ke.isType(c,Jp)){this.boardGenerator.clearHint(),this.checkDelayedBlock(),(Ke.isType(n=c,Jp)?n:Ee()).SetUsed_6taknv$(!0),(a=this.gameValue).clickCount=a.clickCount+1|0,0<this.availableInputCount&&(this.availableInputCount=this.availableInputCount-1|0),null!=(s=this.blockDisableTimer)&&s.pause(),this.gameValue.seq=0}else Ke.isType(c,af)&&(dh().shared().playEffect_bm4lxs$("shake"),c.shake_7b5o5w$());this.cancelKeyInput_za3lpa$(0)}}else this.cancelKeyInput_za3lpa$()},ap.prototype.checkJustDrop_za3lpa$=function(e){return this.justDropCount===e&&this.gameValue.clearBlockType[this.justDropType]===e},ap.prototype.createComboMark=function(){},ap.prototype.createScore_l4u1g4$=function(e,t){},ap.prototype.createFeverMark=function(){},ap.prototype.createItem_mbbjvw$$default=function(e,t,i,r,o,n){if(0<this.item.size){var a=this.item.removeAt_za3lpa$(0);return this.createItem_mbbjvw$(a%1e5,a/1e5|0,i,r,o,n,zh.prototype.createItem_mbbjvw$$default.bind(this))}return this.createItem_mbbjvw$(e,t,i,r,o,n,zh.prototype.createItem_mbbjvw$$default.bind(this))},ap.prototype.SetInputEnable_vux9f0$=function(e,t){var i=e+Ke.imul(t,this.gameConfigure.width)|0;this.inputEnable.set_wxm5ur$(i,!0)},ap.prototype.SetInputEnableAll=function(){var e;e=this.inputEnable.size-1|0;for(var t=0;t<=e;t++)this.inputEnable.set_wxm5ur$(t,!0)},ap.prototype.SetInputDisable_vux9f0$=function(e,t){var i=e+Ke.imul(t,this.gameConfigure.width)|0;this.inputEnable.set_wxm5ur$(i,!1)},ap.prototype.SetInputDisableAll_vux9f0$=function(e,t){var i;void 0===e&&(e=-1),void 0===t&&(t=-1),i=this.inputEnable.size-1|0;for(var r=0;r<=i;r++)(e+Ke.imul(t,this.gameConfigure.width)|0)===r?this.inputEnable.set_wxm5ur$(r,!0):this.inputEnable.set_wxm5ur$(r,!1)},ap.prototype.showInputMask=function(){var e,t,i;e=this.inputMask.size-1|0;for(var r=0;r<=e;r++)r>=this.inputEnable.size?null!=(t=this.view.screen)&&t.actionFadeIn_hkbjms$(this.inputMask.get_za3lpa$(r),void 0,.75,void 0,.5):!0!==this.inputEnable.get_za3lpa$(r)&&null!=(i=this.view.screen)&&i.actionFadeIn_hkbjms$(this.inputMask.get_za3lpa$(r),void 0,.75,void 0,.5)},ap.prototype.hideInputMask=function(){var e,t;e=this.inputMask.size-1|0;for(var i=0;i<=e;i++)null!=(t=this.view.screen)&&t.actionFadeOut_7vo5wp$(this.inputMask.get_za3lpa$(i),this.inputMask.get_za3lpa$(i).GetAlpha(),void 0,.5)},ap.prototype.SetAvailableInputCount_za3lpa$=function(e){void 0===e&&(e=-1),this.availableInputCount=e,0===this.availableInputCount&&this.cancelKeyInput_za3lpa$()},ap.prototype.showMarker_vux9f0$=function(e,t){var i,r=this.view,o=e+Ke.imul(t,this.gameConfigure.width)|0;e:do{if(Ke.isNumber(o)){i=o.toString();break e}if("string"==typeof o){i=o;break e}if("boolean"==typeof o){i=o.toString();break e}if(Ke.isChar(o)){i=o.toString();break e}i=""}while(0);var n=r.findChildByName_3m52m6$("Marker"+i);null!=n&&(this.markerScale[e+Ke.imul(t,this.gameConfigure.width)|0]=0,n.SetShow_6taknv$(!0))},ap.prototype.hideMarker=function(){var e,t;e=this.gameConfigure.width-1|0;for(var i=0;i<=e;i++){t=this.gameConfigure.height-1|0;for(var r=0;r<=t;r++){var o,n=this.view,a=i+Ke.imul(r,this.gameConfigure.width)|0;e:do{if(Ke.isNumber(a)){o=a.toString();break e}if("string"==typeof a){o=a;break e}if("boolean"==typeof a){o=a.toString();break e}if(Ke.isChar(a)){o=a.toString();break e}o=""}while(0);var s=n.findChildByName_3m52m6$("Marker"+o);null!=s&&s.SetShow_6taknv$(!1)}}},ap.prototype.showFinger_vux9f0$=function(e,t){var i,r=this.view,o=e+Ke.imul(t,this.gameConfigure.width)|0;e:do{if(Ke.isNumber(o)){i=o.toString();break e}if("string"==typeof o){i=o;break e}if("boolean"==typeof o){i=o.toString();break e}if(Ke.isChar(o)){i=o.toString();break e}i=""}while(0);var n=r.findChildByName_3m52m6$("Finger"+i);null!=n&&(n.SetShow_6taknv$(!0),n.SetAlpha_8ca0d4$(.8))},ap.prototype.hideFinger=function(){var e,t;e=this.gameConfigure.width-1|0;for(var i=0;i<=e;i++){t=this.gameConfigure.height-1|0;for(var r=0;r<=t;r++){var o,n=this.view,a=i+Ke.imul(r,this.gameConfigure.width)|0;e:do{if(Ke.isNumber(a)){o=a.toString();break e}if("string"==typeof a){o=a;break e}if("boolean"==typeof a){o=a.toString();break e}if(Ke.isChar(a)){o=a.toString();break e}o=""}while(0);var s=n.findChildByName_3m52m6$("Finger"+o);null!=s&&s.SetShow_6taknv$(!1)}}},ap.prototype.createFeverBackgroundEffect=function(){},ap.prototype.removeFeverBackgroundEffect=function(){},ap.prototype.SetTransformDelay_mx4ult$=function(e){void 0===e&&(e=.2),this.gameConfigure.transformDelay=e},ap.prototype.SetMatchDelay_mx4ult$=function(e){void 0===e&&(e=0),this.gameConfigure.matchDelay=e},ap.prototype.SetMatchEffectSpeed_mx4ult$=function(e){void 0===e&&(e=.8);var t=.8/e;this.gameConfigure.matchEffectSpeed=e,this.gameConfigure.matchEffectDuration=.5*t,this.gameConfigure.removeFireDelay=.4*t},ap.prototype.SetDropAdjust_za3lpa$=function(e){void 0===e&&(e=-1),this.gameConfigure.dropAdjust=e},ap.prototype.SetRegenNoMoreMove_6taknv$=function(e){this.gameConfigure.regenNoMoreMove=e},ap.prototype.SetJustDrop_vux9f0$=function(e,t){void 0===t&&(t=-1),this.justDropType=e,this.justDropCount=t},ap.$metadata$={kind:o,simpleName:"Tutorial",interfaces:[zh]},up.prototype.createNewBoard_s8cxhz$$default=function(e){var t;if(!0===this.reuseWhenNoMoreMove&&(this.blockIndex=0),!0===this.resetClearBlockCount){t=Je(this.game).gameValue.clearBlockType;for(var i=0;i!==t.length;++i)Je(this.game).gameValue.clearBlockType[i]=0}},up.prototype.GetAvailableBlock_vux9f0$=function(e,t){if(!0===this.stopCreateBlock)return-1;if(this.blockIndex<this.block.size){var i=this.block.get_za3lpa$(this.blockIndex);return this.blockIndex=this.blockIndex+1|0,i}if(!0===this.reuseBlock&&0<this.block.size){this.blockIndex=0;var r=this.block.get_za3lpa$(this.blockIndex);return this.blockIndex=this.blockIndex+1|0,r}var o,n=go().arc4random_uniform_za3lpa$(Je(this.game).gameConfigure.kindOfNumber);e:do{if(null==n){o=0;break e}if(Ke.isNumber(n)){o=et(n);break e}if("string"==typeof n)try{o=tt(n);break e}catch(e){if(Ke.isType(e,ta)){o=0;break e}throw e}o=0}while(0);return o},up.prototype.GetAvailableBlockOriginal_za3lpa$=function(e){return this.GetAvailableBlock_vux9f0$(e,0)},up.prototype.addBlock_q5rwfd$=function(e){this.block.addAll_brywnq$(ee(e))},up.$metadata$={kind:o,simpleName:"TutorialBoardGenerator",interfaces:[gh]},cp.$metadata$={kind:o,simpleName:"ClassicConfigureForWatch",interfaces:[vp]},pp.$metadata$={kind:o,simpleName:"ClassicConfigureForAndroid",interfaces:[cp]},mp.$metadata$={kind:o,simpleName:"ClassicConfigure6x6ForiOS",interfaces:[cp]},vp.prototype.GetStarPerFever_za3lpa$=function(e){var t=e;return t>=this.starPerFever.length&&(t=this.starPerFever.length-1|0),this.starPerFever[t]},vp.prototype.GetStarForNirvanaPerFever_za3lpa$=function(e){var t=e;return t>=this.starForNirvanaPerFever.length&&(t=this.starForNirvanaPerFever.length-1|0),this.starForNirvanaPerFever[t]},vp.prototype.adjustTileSize=function(){var e=this.screenSize.height*(this.boardSize/480),t=this.screenSize.width*(this.boardSize/320);t<e&&(e=t),e<t&&(t=e),this.tileWidthResult=t/this.width,this.tileHeightResult=e/this.height,this.tileWidthResult>this.tileHeightResult&&(this.tileWidthResult=this.tileHeightResult),this.tileHeightResult>this.tileWidthResult&&(this.tileHeightResult=this.tileWidthResult),this.tileWidthGap=this.tileWidthResult*this.tileWidthGapRatio,this.tileHeightGap=this.tileHeightResult*this.tileHeightGapRatio,this.tileWidth=this.tileWidthResult-this.tileWidthGap,this.tileHeight=this.tileHeightResult-this.tileHeightGap,this.topGaugeHeight=this.tileHeight*this.gaugeHeightRatio,this.bottomGaugeHeight=this.tileHeight*this.gaugeHeightRatio},vp.$metadata$={kind:o,simpleName:"GameConfigure",interfaces:[]},_p.$metadata$={kind:o,simpleName:"InfiniteConfigureForWatch",interfaces:[vp]},yp.$metadata$={kind:o,simpleName:"InfiniteConfigureForiOS",interfaces:[_p]},Sp.$metadata$={kind:o,simpleName:"InfiniteConfigure6x6ForiOS",interfaces:[_p]},wp.$metadata$={kind:o,simpleName:"PuzzleConfigure",interfaces:[vp]},xp.$metadata$={kind:o,simpleName:"TimelessConfigureForWatch",interfaces:[vp]},zp.$metadata$={kind:o,simpleName:"TimelessConfigureForiOS",interfaces:[xp]},Tp.$metadata$={kind:o,simpleName:"TimelessConfigure6x6ForiOS",interfaces:[xp]},Gp.$metadata$={kind:o,simpleName:"TutorialConfigure",interfaces:[vp]},Ip.prototype.remove=function(){var e;uf.prototype.remove.call(this),null!=this.disabledMask&&(Je(this.disabledMask).removeFromParent(),this.disabledMask=null),e=this.connection;for(var t=0;t!==e.length;++t){var i=e[t];null!=i&&(Je(i).removeFromParent(),this.connection[t]=null)}null!=this.effectSprite&&(Je(this.effectSprite).removeFromParent(),this.effectSprite=null)},Ip.prototype.GetAttribute=function(){return this.attribute},Ip.prototype.SetAttribute_c9f3gi$=function(e){this.attribute=e},Ip.prototype.GetBlockState=function(){return this.animationState.GetState()},Ip.prototype.SetDisabled=function(){this.transformCount=this.transformCount+1|0,this.SetAttribute_c9f3gi$(pf()),this.disabledDone=!1},Ip.prototype.transform_mx4ult$=function(e){var t;void 0===e&&(e=0),this.transformCount=this.transformCount+1|0,this.needCheck=!0,this.needCheckReason=0,this.isTransforming=!0,(this.value<0||this.value>=this.game.gameConfigure.indexOfGroup.length)&&(A("Abnormal BlockEntity Value : "+R(this.value)),this.value=0);var i,r=this.game.gameConfigure.indexOfGroup[this.value];this.value=this.value+1|0,this.game.gameConfigure.indexOfGroup[this.value]!==r&&(this.value=this.game.gameConfigure.startOfGroup[r]),null!=(t=this.game.view.screen)&&t.actionDelay_ab0iom$(e,void 0,(i=this,function(){return i.animationState.SetNextState_9sobi5$("transform"),i.transformMotion(),Ze})),this.removeConnection()},Ip.prototype.transformMotion=function(){var e,t,n,a,s,l,u,h,c,d,p;if(this.goingToRollback)this.animationState.SetNextState_9sobi5$("rollback",.5);else{if(0!==(null!=(e=this.disabledMask)?e.GetAlpha():null)){var i,r=this.game.gameValue.blockSet,o=this.value;e:do{if(Ke.isNumber(o)){i=o.toString();break e}if("string"==typeof o){i=o;break e}if("boolean"==typeof o){i=o.toString();break e}if(Ke.isChar(o)){i=o.toString();break e}i=""}while(0);t=r+i+"_normal"}else{var f,m=this.game.gameValue.blockSet,v=this.value;e:do{if(Ke.isNumber(v)){f=v.toString();break e}if("string"==typeof v){f=v;break e}if("boolean"==typeof v){f=v.toString();break e}if(Ke.isChar(v)){f=v.toString();break e}f=""}while(0);t=m+f+"_normal"}var g,_=this.GetBoardX(),$=this.GetBoardY(),y=this.spriteZ,b=t,S=this.game.gameConfigure.tileWidth;e:do{if(null==S){g=0;break e}if(Ke.isNumber(S)){g=it(S);break e}if("string"==typeof S)try{g=Qe(S);break e}catch(e){if(Ke.isType(e,ta)){g=0;break e}throw e}g=0}while(0);var k,w=g,x=this.game.gameConfigure.tileHeight;e:do{if(null==x){k=0;break e}if(Ke.isNumber(x)){k=it(x);break e}if("string"==typeof x)try{k=Qe(x);break e}catch(e){if(Ke.isType(e,ta)){k=0;break e}throw e}k=0}while(0);var C=la(_,$,y,b,w,k);C.SetHorizontalAlign_jdpdm8$(lo()),C.SetVerticalAlign_qn2em6$(ro());var z,T=Je(this.sprite).GetSize().width,G=Je(this.sprite).GetSize().height,A=.5*this.game.gameConfigure.transformDelay,I={v:$n(1/A)},N=I.v,M=this.game.gameConfigure.tileHeight/2;e:do{if(null==M){z=0;break e}if(Ke.isNumber(M)){z=it(M);break e}if("string"==typeof M)try{z=Qe(M);break e}catch(e){if(Ke.isType(e,ta)){z=0;break e}throw e}z=0}while(0);N.SetScale_mx4ult$(z);Je(this.sprite).addUpdateCallback_sds54w$(void 0,void 0,void 0,void 0,void 0,void 0,(n=I,a=A,s=this,l=T,u=G,h={v:!1},c=C,d={v:0},p={v:0},function(e){n.v.update_mx4ult$(e.elapsed);var t=n.v.GetPosition();if(e.age<a&&Je(s.sprite).SetSize_dleff0$(l-t,u-t),0===e.elapsed||e.age>2*a)return!1===h.v&&(Je(s.sprite).SetImage_9xt0da$(Je(c.GetImage()),l,u),c.removeFromParent()),Je(s.sprite).SetSize_dleff0$(l,u),s.animationState.SetNextState_9sobi5$("wait"),!1;if(e.age>=a&&e.age<=2*a)if(!1===h.v){d.v=Je(s.sprite).GetSize().width,p.v=Je(s.sprite).GetSize().height,Je(s.sprite).SetImage_9xt0da$(Je(c.GetImage()),d.v,p.v),n.v=$n(1/a);var i,r=n.v,o=s.game.gameConfigure.tileHeight/2;e:do{if(null==o){i=0;break e}if(Ke.isNumber(o)){i=it(o);break e}if("string"==typeof o)try{i=Qe(o);break e}catch(e){if(Ke.isType(e,ta)){i=0;break e}throw e}i=0}while(0);r.SetScale_mx4ult$(i),c.removeFromParent(),h.v=!0}else Je(s.sprite).SetSize_dleff0$(d.v+t,p.v+t);return!0}))}},Ip.prototype.rollback=function(){this.transformCount=this.transformCount-1|0;var e,t=this.game.gameValue.blockSet,i=this.value;e:do{if(Ke.isNumber(i)){e=i.toString();break e}if("string"==typeof i){e=i;break e}if("boolean"==typeof i){e=i.toString();break e}if(Ke.isChar(i)){e=i.toString();break e}e=""}while(0);var r=t+e+"_normal";if(null!=this.sprite){var o,n=Je(this.sprite),a=this.game.gameConfigure.tileWidth;e:do{if(null==a){o=0;break e}if(Ke.isNumber(a)){o=it(a);break e}if("string"==typeof a)try{o=Qe(a);break e}catch(e){if(Ke.isType(e,ta)){o=0;break e}throw e}o=0}while(0);var s,l=o,u=this.game.gameConfigure.tileHeight;e:do{if(null==u){s=0;break e}if(Ke.isNumber(u)){s=it(u);break e}if("string"==typeof u)try{s=Qe(u);break e}catch(e){if(Ke.isType(e,ta)){s=0;break e}throw e}s=0}while(0);n.SetImage_9xt0da$(r,l,s)}if(this.attribute!==pf()&&null!=this.disabledMask){var h,c=Je(this.disabledMask),d=this.game.gameValue.blockSet,p=this.value;e:do{if(Ke.isNumber(p)){h=p.toString();break e}if("string"==typeof p){h=p;break e}if("boolean"==typeof p){h=p.toString();break e}if(Ke.isChar(p)){h=p.toString();break e}h=""}while(0);var f,m=d+h+"_bg",v=this.game.gameConfigure.tileWidth;e:do{if(null==v){f=0;break e}if(Ke.isNumber(v)){f=it(v);break e}if("string"==typeof v)try{f=Qe(v);break e}catch(e){if(Ke.isType(e,ta)){f=0;break e}throw e}f=0}while(0);var g,_=f,$=this.game.gameConfigure.tileHeight;e:do{if(null==$){g=0;break e}if(Ke.isNumber($)){g=it($);break e}if("string"==typeof $)try{g=Qe($);break e}catch(e){if(Ke.isType(e,ta)){g=0;break e}throw e}g=0}while(0);c.SetImage_9xt0da$(m,_,g)}var y=this.game.gameConfigure.indexOfGroup[this.value];this.value=this.value-1|0,this.value<0&&(this.value=this.game.gameConfigure.countOfGroup[y]-1|0),this.game.gameConfigure.indexOfGroup[this.value]!==y&&(this.value=this.game.gameConfigure.startOfGroup[y]),this.animationState.SetNextState_9sobi5$("transform"),this.needCheck=!1,this.goingToRollback=!1,this.isTransforming=!0},Ip.prototype.explode_902hsc$=function(e,t,i,r){var o,n,a,s,l,u;if(void 0===e&&(e=3),void 0===t&&(t=0),void 0===i&&(i=0),void 0===r&&(r=0),this.goingToRemove=!0,null!=this.disabledMask&&Je(this.disabledMask).removeFromParent(),0===r){var h=la(0,0,void 0,Je(this.sprite).GetImage(),Je(this.sprite).GetSize().width,Je(this.sprite).GetSize().height);h.SetBlendMode_ieo8yr$(ti()),h.SetBlendFactor_mx4ult$(1),h.SetAlpha_8ca0d4$(0),Je(this.sprite).addChild_g5h3xp$(h),null!=(o=this.game.view.screen)&&o.actionFade_ntk7i0$(t+this.game.gameConfigure.removeFireDelay,0,1,null,Np(h,this,e,i))}else if(1===r){null!=(n=this.sprite)&&n.SetAlpha_8ca0d4$(0);var c,d=this.GetRealScreenX(),p=this.GetRealScreenY(),f=this.spriteZ,m=Je(this.sprite).GetImage(),v=this.game.gameConfigure.tileWidth;e:do{if(null==v){c=0;break e}if(Ke.isNumber(v)){c=it(v);break e}if("string"==typeof v)try{c=Qe(v);break e}catch(e){if(Ke.isType(e,ta)){c=0;break e}throw e}c=0}while(0);var g,_=c,$=this.game.gameConfigure.tileHeight;e:do{if(null==$){g=0;break e}if(Ke.isNumber($)){g=it($);break e}if("string"==typeof $)try{g=Qe($);break e}catch(e){if(Ke.isType(e,ta)){g=0;break e}throw e}g=0}while(0);var y=la(d,p,f,m,_,g);y.SetHorizontalAlign_jdpdm8$(lo()),y.SetVerticalAlign_qn2em6$(ro()),this.game.view.addChild_g5h3xp$(y),null!=(a=this.game.view.screen)&&a.actionDelay_ab0iom$(t,void 0,Mp(this,y,e,i))}else if(2===r){null!=(s=this.sprite)&&s.SetAlpha_8ca0d4$(0);var b,S=this.GetRealScreenX(),k=this.GetRealScreenY(),w=this.spriteZ,x=Je(this.sprite).GetImage(),C=this.game.gameConfigure.tileWidth;e:do{if(null==C){b=0;break e}if(Ke.isNumber(C)){b=it(C);break e}if("string"==typeof C)try{b=Qe(C);break e}catch(e){if(Ke.isType(e,ta)){b=0;break e}throw e}b=0}while(0);var z,T=b,G=this.game.gameConfigure.tileHeight;e:do{if(null==G){z=0;break e}if(Ke.isNumber(G)){z=it(G);break e}if("string"==typeof G)try{z=Qe(G);break e}catch(e){if(Ke.isType(e,ta)){z=0;break e}throw e}z=0}while(0);var A=la(S,k,w,x,T,z);A.SetHorizontalAlign_jdpdm8$(lo()),A.SetVerticalAlign_qn2em6$(ro()),A.SetBlendMode_ieo8yr$(ti()),A.SetColor_vnjrmz$(hi().white_mx4ult$()),this.game.view.addChild_g5h3xp$(A),null!=(l=this.game.view.screen)&&l.actionDelay_ab0iom$(t,void 0,Op(this,A,e,i))}else null!=(u=this.game.view.screen)&&u.actionDelay_ab0iom$(t+this.game.gameConfigure.removeFireDelay,void 0,Rp(this,e,i))},Ip.prototype.explode_nhq4am$$default=function(e,t,i){this.explode_902hsc$(e,t,i,0)},Ip.prototype.explodeEffect_24o109$=function(e,t){var i=this.game.view.findChildByName_3m52m6$("Fever Gauge Mask");null!=i&&this.createHoming_7thp2o$(e,Ai(i.GetPosition().x-.5*i.GetSize().width+this.game.gameValue.feverGage*i.GetSize().width/100,i.GetPosition().y-.5*i.GetSize().height)),this.createExplosion_za3lpa$(e)},Ip.prototype.fall_6taknv$=function(e){this.attribute===pf()&&!1===this.disabledDone&&this.makeDisable(),this.needCheck=!0,this.needCheckReason=1,(this.isDropping=!0)===e&&this.shake_7b5o5w$(5,0,0,this.game.gameConfigure.shakeDuration),this.connectionBitMask=0,this.removeConnection()},Ip.prototype.animate_mx4ult$=function(e){this.animationState.update_mx4ult$(e)},Ip.prototype.draw=function(){var e,t=this.GetBoardX(),i=this.GetBoardY();!1===this.isTransforming&&(null!=this.disabledMask&&Je(this.disabledMask).SetPosition_dleff0$(t,i),null!=(e=this.sprite)&&e.SetPosition_dleff0$(t,i)),null!=this.effectSprite&&Je(this.effectSprite).SetPosition_dleff0$(t,i)},Ip.prototype.onLanding_vux9f0$=function(e,t){if(uf.prototype.onLanding_vux9f0$.call(this,e,t),!0===this.game.gameConfigure.bounceOnLanding){if(null!=this.sprite){var i;this.bouncing=!0;e:do{if(null==t){i=0;break e}if(Ke.isNumber(t)){i=it(t);break e}if("string"==typeof t)try{i=Qe(t);break e}catch(e){if(Ke.isType(e,ta)){i=0;break e}throw e}i=0}while(0);this.spriteZ=7+.1*i;var r=Ai(this.GetBoardX(),this.GetBoardY()),o=new dn;o.SetTarget_nfvrp9$(-5,5,.15);var n,a=this.game.gameConfigure.tileHeight;e:do{if(null==a){n=0;break e}if(Ke.isNumber(a)){n=it(a);break e}if("string"==typeof a)try{n=Qe(a);break e}catch(e){if(Ke.isType(e,ta)){n=0;break e}throw e}n=0}while(0);o.SetScale_mx4ult$(n/50),Je(this.sprite).addUpdateCallback_sds54w$("BlockEntity Landing",void 0,void 0,void 0,void 0,void 0,(s=o,l=this,u=r,function(e){s.update_mx4ult$(e.elapsed);var t=s.GetPosition();if(0<=t)return l.needCheck=!0,l.needCheckReason=1,l.bouncing=!1;Je(l.sprite).SetPosition_dleff0$(u.x,u.y+t);var i=l.disabledMask;return null!=i&&i.SetPosition_dleff0$(u.x,u.y+t),!0}))}}else this.needCheck=!0,this.needCheckReason=1,this.bouncing=!1;var s,l,u},Ip.prototype.isMatchCheckable=function(){return!0!==this.isTransforming},Ip.prototype.makeDisableGray=function(){var e,T;null!=(e=this.sprite)&&e.addUpdateCallback_sds54w$(void 0,!1,void 0,void 0,.3,void 0,(T=this,function(e){var t,i,r,o;if(1===e.count){var n,a=T,s=T.GetBoardX(),l=T.GetBoardY(),u=T.disabledMaskZ,h=T.game.gameValue.blockSet,c=T.value;e:do{if(Ke.isNumber(c)){n=c.toString();break e}if("string"==typeof c){n=c;break e}if("boolean"==typeof c){n=c.toString();break e}if(Ke.isChar(c)){n=c.toString();break e}n=""}while(0);var d,p=h+n+"_gray",f=T.game.gameConfigure.tileWidth;e:do{if(null==f){d=0;break e}if(Ke.isNumber(f)){d=it(f);break e}if("string"==typeof f)try{d=Qe(f);break e}catch(e){if(Ke.isType(e,ta)){d=0;break e}throw e}d=0}while(0);var m,v=d,g=T.game.gameConfigure.tileHeight;e:do{if(null==g){m=0;break e}if(Ke.isNumber(g)){m=it(g);break e}if("string"==typeof g)try{m=Qe(g);break e}catch(e){if(Ke.isType(e,ta)){m=0;break e}throw e}m=0}while(0);return a.disabledMask=la(s,l,u,p,v,m),null!=(t=T.disabledMask)&&t.SetHorizontalAlign_jdpdm8$(lo()),null!=(i=T.disabledMask)&&i.SetVerticalAlign_qn2em6$(ro()),T.game.view.GetMask().addChild_g5h3xp$(Je(T.disabledMask)),Je(T.disabledMask).SetAlpha_8ca0d4$(0),!0}if(0===e.elapsed){var _,$=Je(T.sprite),y=T.game.gameValue.blockSet,b=T.value;e:do{if(Ke.isNumber(b)){_=b.toString();break e}if("string"==typeof b){_=b;break e}if("boolean"==typeof b){_=b.toString();break e}if(Ke.isChar(b)){_=b.toString();break e}_=""}while(0);var S,k=y+_+"_gray",w=T.game.gameConfigure.tileWidth;e:do{if(null==w){S=0;break e}if(Ke.isNumber(w)){S=it(w);break e}if("string"==typeof w)try{S=Qe(w);break e}catch(e){if(Ke.isType(e,ta)){S=0;break e}throw e}S=0}while(0);var x,C=S,z=T.game.gameConfigure.tileHeight;e:do{if(null==z){x=0;break e}if(Ke.isNumber(z)){x=it(z);break e}if("string"==typeof z)try{x=Qe(z);break e}catch(e){if(Ke.isType(e,ta)){x=0;break e}throw e}x=0}while(0);return $.SetImage_9xt0da$(k,C,x),Je(T.sprite).SetAlpha_8ca0d4$(1),null!=(r=T.disabledMask)&&r.removeFromParent(),!1===T.game.gameConfigure.clickOnce&&T.makeEnable(),!1}return null!=(o=T.disabledMask)&&o.SetAlpha_8ca0d4$(e.age*(1/.3)),!0})),Je(this.sprite).SetAnimation_pe1q5w$(null),this.disabledDone=!0},Ip.prototype.removeConnection=function(){this.connectionBitMask=0,null!=this.connection[0]&&(Je(this.connection[0]).removeFromParent(),this.connection[0]=null),null!=this.connection[1]&&(Je(this.connection[1]).removeFromParent(),this.connection[1]=null),null!=this.connection[2]&&(Je(this.connection[2]).removeFromParent(),this.connection[2]=null),null!=this.connection[3]&&(Je(this.connection[3]).removeFromParent(),this.connection[3]=null)},Ip.prototype.adjustConnection=function(){var e=this.connection[2];null!=e&&e.SetPosition_dleff0$(Je(this.sprite).GetPosition().x-.5*this.game.gameConfigure.tileWidth,e.GetPosition().y),null!=(e=this.connection[3])&&e.SetPosition_dleff0$(Je(this.sprite).GetPosition().x+.5*this.game.gameConfigure.tileWidth,e.GetPosition().y)},Ip.prototype.updateConnection=function(){var e,t,i,r,o,n,a,s,l,u,h,c,d,p,f,m,v,g,_,$,y,b,S,k,w,x,C,z;if(1==(1&this.connectionBitMask)){var T=this.game.gameValue.blockSet+"connect_0",G=this.connection[0];if(null!=G&&!he(Je(G).image,T)||null==G){var A,I=this.GetBoardX()-.5*this.game.gameConfigure.tileWidth,N=this.GetBoardY()-.5*this.game.gameConfigure.tileHeight,M=In().value;e:do{if(null==M){A=0;break e}if(Ke.isNumber(M)){A=it(M);break e}if("string"==typeof M)try{A=Qe(M);break e}catch(e){if(Ke.isType(e,ta)){A=0;break e}throw e}A=0}while(0);var O=la(I,N,A,T,this.game.gameConfigure.tileWidth,0),R=Ke.isType(e=this.game.gameValue.blockInfo,Sv)?e:null;if(null!=R){var j=ci(R.colorMap.get_za3lpa$(this.value+5|0));O.SetColor_vnjrmz$(j),O.SetBlendFactor_mx4ult$(1)}O.SetHorizontalAlign_jdpdm8$(so()),O.SetVerticalAlign_qn2em6$(oo()),this.game.view.GetMask().addChild_g5h3xp$(O),O.SetAlpha_8ca0d4$(1),null!=(t=this.game.view.screen)&&t.actionFade_ntk7i0$(.1,0,this.game.gameConfigure.tileHeightGap,void 0,(m=O,function(e,t){m.SetSize_dleff0$(m.GetSize().width,e)})),null!=G?null!=(i=this.game.view.screen)&&i.actionFadeOut_7vo5wp$(G,void 0,void 0,.2,void 0,void 0,void 0,(d=G,p=O,f=this,function(){return d.removeFromParent(),f.connection[0]=p,Ze})):this.connection[0]=O}}else null!=this.connection[0]&&(Je(this.connection[0]).removeFromParent(),this.connection[0]=null);if(2==(2&this.connectionBitMask)){var P=this.game.gameValue.blockSet+"connect_1",B=this.connection[1];if(null!=B&&!he(Je(B).image,P)||null==B){var E,F=this.GetBoardX()-.5*this.game.gameConfigure.tileWidth,L=this.GetBoardY()+.5*this.game.gameConfigure.tileHeight,D=In().value;e:do{if(null==D){E=0;break e}if(Ke.isNumber(D)){E=it(D);break e}if("string"==typeof D)try{E=Qe(D);break e}catch(e){if(Ke.isType(e,ta)){E=0;break e}throw e}E=0}while(0);var V=la(F,L,E,P,this.game.gameConfigure.tileWidth,0),U=Ke.isType(r=this.game.gameValue.blockInfo,Sv)?r:null;if(null!=U){var q=ci(U.colorMap.get_za3lpa$(this.value+10|0));V.SetColor_vnjrmz$(q),V.SetBlendFactor_mx4ult$(1)}this.game.view.GetMask().addChild_g5h3xp$(V),V.SetAlpha_8ca0d4$(1),null!=(o=this.game.view.screen)&&o.actionFade_ntk7i0$(.1,0,this.game.gameConfigure.tileHeightGap,void 0,($=V,function(e,t){$.SetSize_dleff0$($.GetSize().width,e)})),null!=B?null!=(n=this.game.view.screen)&&n.actionFadeOut_7vo5wp$(B,void 0,void 0,.2,void 0,void 0,void 0,(v=B,g=V,_=this,function(){return v.removeFromParent(),_.connection[1]=g,Ze})):this.connection[1]=V}}else null!=this.connection[1]&&(Je(this.connection[1]).removeFromParent(),this.connection[1]=null);if(4==(4&this.connectionBitMask)){var H=this.game.gameValue.blockSet+"connect_2",W=this.connection[2];if(null!=W&&!he(Je(W).image,H)||null==W){var Y,X=this.GetBoardX()-.5*this.game.gameConfigure.tileWidth,K=this.GetBoardY()-.5*this.game.gameConfigure.tileHeight,Z=In().value;e:do{if(null==Z){Y=0;break e}if(Ke.isNumber(Z)){Y=it(Z);break e}if("string"==typeof Z)try{Y=Qe(Z);break e}catch(e){if(Ke.isType(e,ta)){Y=0;break e}throw e}Y=0}while(0);var Q=la(X,K,Y,H,0,this.game.gameConfigure.tileHeight),J=Ke.isType(a=this.game.gameValue.blockInfo,Sv)?a:null;if(null!=J){var ee=ci(J.colorMap.get_za3lpa$(this.value+5|0));Q.SetColor_vnjrmz$(ee),Q.SetBlendFactor_mx4ult$(1)}Q.SetHorizontalAlign_jdpdm8$(uo()),Q.SetVerticalAlign_qn2em6$(io()),this.game.view.GetMask().addChild_g5h3xp$(Q),Q.SetAlpha_8ca0d4$(1),null!=(s=this.game.view.screen)&&s.actionFade_ntk7i0$(.1,0,this.game.gameConfigure.tileWidthGap,void 0,(k=Q,function(e,t){k.SetSize_dleff0$(e,k.GetSize().height)})),null!=W?null!=(l=this.game.view.screen)&&l.actionFadeOut_7vo5wp$(W,void 0,void 0,.2,void 0,void 0,void 0,(y=W,b=Q,S=this,function(){return y.removeFromParent(),S.connection[2]=b,Ze})):this.connection[2]=Q}}else null!=this.connection[2]&&(Je(this.connection[2]).removeFromParent(),this.connection[2]=null);if(8==(8&this.connectionBitMask)){var te=this.game.gameValue.blockSet+"connect_3",ie=this.connection[3];if(null!=ie&&!he(Je(ie).image,te)||null==ie){var re,oe=this.GetBoardX()+.5*this.game.gameConfigure.tileWidth,ne=this.GetBoardY()-.5*this.game.gameConfigure.tileHeight,ae=In().value;e:do{if(null==ae){re=0;break e}if(Ke.isNumber(ae)){re=it(ae);break e}if("string"==typeof ae)try{re=Qe(ae);break e}catch(e){if(Ke.isType(e,ta)){re=0;break e}throw e}re=0}while(0);var se=la(oe,ne,re,te,0,this.game.gameConfigure.tileHeight),le=Ke.isType(u=this.game.gameValue.blockInfo,Sv)?u:null;if(null!=le){var ue=ci(le.colorMap.get_za3lpa$(this.value+10|0));se.SetColor_vnjrmz$(ue),se.SetBlendFactor_mx4ult$(1)}this.game.view.GetMask().addChild_g5h3xp$(se),se.SetAlpha_8ca0d4$(1),null!=(h=this.game.view.screen)&&h.actionFade_ntk7i0$(.1,0,this.game.gameConfigure.tileWidthGap,void 0,(z=se,function(e,t){z.SetSize_dleff0$(e,z.GetSize().height)})),null!=ie?null!=(c=this.game.view.screen)&&c.actionFadeOut_7vo5wp$(ie,void 0,void 0,.2,void 0,void 0,void 0,(w=ie,x=se,C=this,function(){return w.removeFromParent(),C.connection[3]=x,Ze})):this.connection[3]=se}}else null!=this.connection[3]&&(Je(this.connection[3]).removeFromParent(),this.connection[3]=null)},Ip.prototype.makeDisable=function(){var e,i;null!=(e=this.disabledMask)&&e.addUpdateCallback_sds54w$("BlockEntity makeDisable",void 0,void 0,void 0,.3,void 0,(i=this,function(e){var t;return 0===e.elapsed?(Je(i.disabledMask).SetAlpha_8ca0d4$(1),!1===i.game.gameConfigure.clickOnce&&i.makeEnable(),!1):(null!=(t=i.disabledMask)&&t.SetAlpha_8ca0d4$(e.age*(1/.3)),!0)})),Je(this.sprite).SetAnimation_pe1q5w$(null),this.disabledDone=!0},Ip.prototype.resetDisable_6taknv$=function(e){var t,i;void 0===e&&(e=!0),null!=this.disabledMask&&(!0===e?(Je(this.disabledMask).removeUpdateCallback_9sobi5$("BlockEntity makeDisable"),Je(this.disabledMask).SetAlpha_8ca0d4$(0),null!=(t=this.game.view.screen)&&t.actionDelay_ab0iom$(0,void 0,(i=this,function(){return i.createExplosion_za3lpa$(3),Ze}))):(Je(this.disabledMask).removeUpdateCallback_9sobi5$("BlockEntity makeDisable"),Je(this.disabledMask).SetAlpha_8ca0d4$(0))),this.transformCount=0,this.needCheck=!0,this.disabledDone=!0,this.SetAttribute_c9f3gi$(df())},Ip.prototype.makeEnable=function(){var e,t;null!=(e=this.disabledMask)&&e.addUpdateCallback_sds54w$("BlockEntity makeEnable",void 0,void 0,void 0,1,void 0,(t=this,function(e){return 0===e.elapsed?(Je(t.disabledMask).SetAlpha_8ca0d4$(0),t.transformCount=0,t.SetAttribute_c9f3gi$(df()),!1):(.7<e.age&&Je(t.disabledMask).SetAlpha_8ca0d4$(1-(e.age-.7)*(1/.3)),!0)}))},Ip.prototype.shake_7b5o5w$$default=function(e,t,i,r){var o,n,a,s=vn(e,t,void 0,i);s.SetScale_mx4ult$(2*this.game.view.sizeScale.xRatio),Je(this.sprite).addUpdateCallback_sds54w$("shake",!1,void 0,void 0,void 0,void 0,(o=r,n=this,a=s,function(e){if(e.age>o)return n.adjustConnection(),!1;var t=a.update_mx4ult$(e.elapsed),i=Je(n.sprite);i.SetPosition_dleff0$(i.GetPosition().x+t,i.GetPosition().y),n.adjustConnection();var r=n.disabledMask;return null!=r&&r.SetPosition_dleff0$(r.GetPosition().x+t,r.GetPosition().y),!0}))},Ip.prototype.createHoming_7thp2o$=function(e,t){var i;if(void 0===e&&(e=1),!(this.game.quality<1)){var r,o=this.GetRealScreenX(),n=this.GetRealScreenY(),a=3,s=hi().white_mx4ult$();this.game.quality<2&&(a=1),r="Particle_"+(Ke.isType(i=this.game.gameValue.blockInfo,Sv)?i:Ee()).colorMap.get_za3lpa$(this.value);var l=7*this.game.gameConfigure.tileWidth,u=this.game.gameConfigure.tileWidth/2*10,h=Ai(o,n,0),c=Ai(this.game.gameConfigure.tileWidth/4,this.game.gameConfigure.tileWidth/4,-50),d=Ai(this.game.gameConfigure.tileWidth/2,this.game.gameConfigure.tileWidth/2,-50),p=!0;e===Ke.imul(this.game.gameConfigure.width,this.game.gameConfigure.height)&&(p=!0,h=Ai(o,n,0),c=Ai(this.game.gameConfigure.tileWidth/4,this.game.gameConfigure.tileWidth/4,-50),d=Ai(this.game.gameConfigure.tileWidth/2,this.game.gameConfigure.tileWidth/2,-50)),3<this.game.gameConfigure.width&&(l*=1.5,d.x=this.game.gameConfigure.tileWidth,d.y=this.game.gameConfigure.tileWidth);var f,m=this.game.particleManager,v=h,g=a,_=c,$=d,y=Ln().value;e:do{if(null==y){f=0;break e}if(Ke.isNumber(y)){f=it(y);break e}if("string"==typeof y)try{f=Qe(y);break e}catch(e){if(Ke.isType(e,ta)){f=0;break e}throw e}f=0}while(0);m.createHoming_nxmntm$(t,v,u,g,l,1.5,r,s,_,$,!0,f,p)}},Ip.$metadata$={kind:o,simpleName:"BlockEntity",interfaces:[uf]},Ep.prototype.remove=function(){uf.prototype.remove.call(this),null!=this.sprite&&(Je(this.sprite).removeFromParent(),this.sprite=null)},Ep.prototype.SetAttribute_c9f3gi$=function(e){},Ep.prototype.draw=function(){var e,t=this.GetRealScreenX(),i=this.GetRealScreenY();null!=(e=this.sprite)&&e.SetPosition_dleff0$(t,i)},Ep.$metadata$={kind:o,simpleName:"BlankEntity",interfaces:[uf]},Fp.prototype.removeAll=function(){var e;for(e=ge(this.entityList).iterator();e.hasNext();){e.next().remove()}this.flush()},Fp.prototype.GetList=function(){return Ih(this.entityList)},Fp.prototype.flush=function(){var e;for(e=ge(ve(this.entityList)).iterator();e.hasNext();){var t=e.next(),i=t.component1();t.component2().GetEntityState()===Hp()&&this.entityList.removeAt_za3lpa$(i)}this.printEntity()},Fp.prototype.addEntity_268i5w$=function(e){this.entityList.add_wxm5ur$(this.entityList.size,e),this.printEntity()},Fp.prototype.createBlock_mwco6a$=function(e,t,i,r,o){var n,a,s;if(void 0===i&&(i=0),100===t)s=new tf(e,t,i,r,o);else if(101===t)s=new rf(e,t,i,r,o);else if(102===t)s=new of(e,t,i,r,o);else if(103===t)s=new nf(e,t,i,r,o);else if(104===t)s=new nf(e,t,2,r,o);else if(1e4<=t){var l=t-1e4|0;1e3<=l?(s=lf(e,l,r,o),(Ke.isType(n=s,af)?n:Ee()).makeStone()):(s=jp(e,l,r,o),(Ke.isType(a=s,Ip)?a:Ee()).SetDisabled())}else if(1e3<=t)s=lf(e,t,r,o);else{var u=t;(u<0||u>=e.gameConfigure.kindOfNumber)&&(u=0),s=jp(e,u,r,o)}return this.addEntity_268i5w$(s),s},Fp.prototype.update_mx4ult$=function(e){var t,i,r,o;for(this.flush(),t=this.entityList.iterator();t.hasNext();){var n=t.next();n.GetOrder()===Xp()&&(n.preprocessMove_mx4ult$(e),n.update_mx4ult$(e),n.draw())}for(i=this.entityList.iterator();i.hasNext();){var a=i.next();a.GetOrder()===Kp()&&(a.preprocessMove_mx4ult$(e),a.update_mx4ult$(e),a.draw())}for(r=this.entityList.iterator();r.hasNext();){var s=r.next();s.GetOrder()===Zp()&&(s.preprocessMove_mx4ult$(e),s.update_mx4ult$(e),s.draw())}for(o=this.entityList.iterator();o.hasNext();){o.next().preprocessed=!1}},Fp.prototype.printEntity=function(){},Fp.$metadata$={kind:o,simpleName:"EntityManager",interfaces:[]},Vp.$metadata$={kind:o,simpleName:"EntityState",interfaces:[h]},Vp.values=function(){return[qp(),Hp()]},Vp.valueOf_61zpoe$=function(e){switch(e){case"alive":return qp();case"dead":return Hp();default:c("No enum constant com.blindcatstudio.samsara.logic.entity.GameEntity.EntityState."+e)}},Wp.$metadata$={kind:o,simpleName:"ZOrder",interfaces:[h]},Wp.values=function(){return[Xp(),Kp(),Zp()]},Wp.valueOf_61zpoe$=function(e){switch(e){case"bottom":return Xp();case"middle":return Kp();case"top":return Zp();default:c("No enum constant com.blindcatstudio.samsara.logic.entity.GameEntity.ZOrder."+e)}},Object.defineProperty(Dp.prototype,"game",{get:function(){return null==this.game_7su03y$_0?z("game"):this.game_7su03y$_0},set:function(e){this.game_7su03y$_0=e}}),Dp.prototype.SetTimeToLive_mx4ult$=function(e){this.timeToLive_prt4ss$_0=e},Dp.prototype.GetTimeToLive=function(){return this.timeToLive_prt4ss$_0},Dp.prototype.SetEntityState_b38ml0$=function(e){this.entityState_e2ys3e$_0=e},Dp.prototype.GetEntityState=function(){return this.entityState_e2ys3e$_0},Dp.prototype.SetOrder_mb3qz2$=function(e){this.order_ws1p7q$_0=e},Dp.prototype.GetOrder=function(){return this.order_ws1p7q$_0},Dp.prototype.SetScreenX_za3lpa$=function(e){this.internalX=Ke.Long.fromInt(1e3*e|0)},Dp.prototype.SetScreenY_za3lpa$=function(e){this.internalY=Ke.Long.fromInt(1e3*e|0)},Dp.prototype.GetScreenX=function(){var e=this.internalX.div(Ke.Long.fromInt(1e3)).toNumber();return et(Yt.floor(e))},Dp.prototype.GetScreenY=function(){var e=this.internalY.div(Ke.Long.fromInt(1e3)).toNumber();return et(Yt.floor(e))},Dp.prototype.GetRealScreenX=function(){return this.game.boardRect.x+this.internalX.toNumber()*this.game.gameConfigure.tileWidthResult/1e3+.5*this.game.gameConfigure.tileWidthResult},Dp.prototype.GetRealScreenY=function(){return this.game.boardRect.y+this.internalY.toNumber()*this.game.gameConfigure.tileHeightResult/1e3+.5*this.game.gameConfigure.tileHeightResult},Dp.prototype.GetBoardX=function(){return this.internalX.toNumber()*this.game.gameConfigure.tileWidthResult/1e3+.5*this.game.gameConfigure.tileWidthResult},Dp.prototype.GetBoardY=function(){return this.internalY.toNumber()*this.game.gameConfigure.tileHeightResult/1e3+.5*this.game.gameConfigure.tileHeightResult},Dp.prototype.SetCheckCollide_6taknv$=function(e){this.checkCollide_22kq6u$_0=e,this.SetNeedLanding_6taknv$(!1)},Dp.prototype.SetNeedLanding_6taknv$=function(e){this.needLanding_redr4d$_0=e},Dp.prototype.moveTo_mp7p4f$=function(e,t,i,r,o){void 0===i&&(i=0),this.moveToX=Ke.Long.fromInt(1e3*e|0),this.moveToY=Ke.Long.fromInt(1e3*t|0),this.speedX=Ke.Long.ZERO,this.speedY=Ke.Long.fromNumber(1e3*i),this.accelX=Ke.Long.ZERO,this.accelY=Ke.Long.fromNumber(1e3*o),this.speedXLimit=Ke.Long.ZERO,this.speedYLimit=Ke.Long.fromNumber(1e3*r),this.needLanding_redr4d$_0=!0},Dp.prototype.isArrived=function(){return!(!he(this.speedX,Ke.Long.ZERO)||!he(this.speedY,Ke.Long.ZERO))},Dp.prototype.update_mx4ult$=function(e){this.lifetime=this.lifetime+e,this.lifetime>=this.timeToLive_prt4ss$_0&&0!==this.timeToLive_prt4ss$_0?this.remove():this.doUpdate_mx4ult$(e)},Dp.prototype.doUpdate_mx4ult$=function(e){this.animate_mx4ult$(e),this.move_mx4ult$(e)},Dp.prototype.animate_mx4ult$=function(e){},Dp.prototype.onLanding_vux9f0$=function(e,t){(this.game.map[e][t]=this).prevLanding=new Fe(e,t),this.needLanding_redr4d$_0=!1,this.speedX=Ke.Long.ZERO,this.speedY=Ke.Long.ZERO,this.accelX=Ke.Long.ZERO,this.accelY=Ke.Long.ZERO},Dp.prototype.landing=function(){var e=this.GetScreenX(),t=this.GetScreenY();if(null==this.game.map[e][t]){if(this.prevLanding.first===e&&this.prevLanding.second===t)return;this.onLanding_vux9f0$(e,t)}},Dp.prototype.move_mx4ult$=function(e){this.internalX=this.nextX,this.internalY=this.nextY;var t=this.GetScreenX(),i=this.GetScreenY();!0===this.checkCollide_22kq6u$_0?i===(this.game.gameConfigure.height-1|0)?(this.SetScreenX_za3lpa$(t),this.SetScreenY_za3lpa$(i),!0===this.needLanding_redr4d$_0&&this.landing()):0<=i&&null!=this.game.map[t][i+1|0]&&(this.SetScreenX_za3lpa$(t),this.SetScreenY_za3lpa$(i),!0===this.needLanding_redr4d$_0&&this.landing()):i>=this.game.gameConfigure.height&&this.remove()},Dp.prototype.draw=function(){},Dp.prototype.remove=function(){this.entityState_e2ys3e$_0=Hp()},Dp.prototype.preprocessMove_mx4ult$=function(e){var t,i;if(!0!==this.preprocessed){var r=Ke.Long.fromNumber(1e3*e);this.speedX=this.speedX.add(this.accelX.multiply(r).div(Ke.Long.fromInt(1e3))),0<this.speedX.compareTo_11rb$(this.speedXLimit)&&(this.speedX=this.speedXLimit);var o=this.speedY;this.speedY=this.speedY.add(this.accelY.multiply(r).div(Ke.Long.fromInt(1e3))),0<this.speedY.compareTo_11rb$(this.speedYLimit)&&(this.speedY=this.speedYLimit);var n=this.internalY.add(o.multiply(r).div(Ke.Long.fromInt(1e3))).add(this.accelY.multiply(r).multiply(r).div(Ke.Long.fromInt(2)).div(Ke.Long.fromInt(1e6)));if(he(this.speedX,Ke.Long.ZERO)&&he(this.speedY,Ke.Long.ZERO))this.nextY=this.internalY;else{if(!0===this.checkCollide_22kq6u$_0){var a=null!=(t=this.game.entityManager)?t.GetList():null;if(null!=a)for(i=0;i!==a.length;++i){var s=a[i];if(Ke.isType(s,uf)&&s!==this){if(!he(s.internalX,this.internalX))continue;if(s.internalY.compareTo_11rb$(this.internalY)<=0)continue;s.preprocessMove_mx4ult$(e),!0===s.checkCollideNext_61feqd$(this.internalX,n,e)&&(n=s.nextY.subtract(Ke.Long.fromInt(1e3)),this.speedY=Ke.Long.ZERO)}}0<=n.compareTo_11rb$(Ke.Long.fromInt(1e3*(this.game.gameConfigure.height-1|0)|0))&&(n=Ke.Long.fromInt(1e3*(this.game.gameConfigure.height-1|0)|0))}this.nextY=n}this.preprocessed=!0}},Dp.prototype.checkCollide_61feqd$=function(e,t,i){if(!1===this.checkCollide_22kq6u$_0)return!1;var r=Ke.Long.fromNumber(1e3*i),o=this.speedX,n=this.speedY,a=this.internalX.add(o.multiply(r).div(Ke.Long.fromInt(1e3))).add(this.accelX.multiply(r).multiply(r).div(Ke.Long.fromInt(2)).div(Ke.Long.fromInt(1e6))),s=this.internalY.add(n.multiply(r).div(Ke.Long.fromInt(1e3))).add(this.accelY.multiply(r).multiply(r).div(Ke.Long.fromInt(2)).div(Ke.Long.fromInt(1e6)));return(0<=e.compareTo_11rb$(a)&&e.compareTo_11rb$(a.add(Ke.Long.fromInt(1e3)))<0||0<=e.add(Ke.Long.fromInt(1e3)).compareTo_11rb$(a)&&e.add(Ke.Long.fromInt(1e3)).compareTo_11rb$(a.add(Ke.Long.fromInt(1e3)))<0)&&(0<=t.compareTo_11rb$(s)&&t.compareTo_11rb$(s.add(Ke.Long.fromInt(1e3)))<0||0<=t.add(Ke.Long.fromInt(1e3)).compareTo_11rb$(s)&&t.add(Ke.Long.fromInt(1e3)).compareTo_11rb$(s.add(Ke.Long.fromInt(1e3)))<0)},Dp.prototype.checkCollideNext_61feqd$=function(e,t,i){if(!1===this.checkCollide_22kq6u$_0)return!1;var r=this.nextX,o=this.nextY;return(0<=e.compareTo_11rb$(r)&&e.compareTo_11rb$(r.add(Ke.Long.fromInt(1e3)))<0||0<=e.add(Ke.Long.fromInt(1e3)).compareTo_11rb$(r)&&e.add(Ke.Long.fromInt(1e3)).compareTo_11rb$(r.add(Ke.Long.fromInt(1e3)))<0)&&(0<=t.compareTo_11rb$(o)||0<=t.add(Ke.Long.fromInt(1e3)).compareTo_11rb$(o))},Dp.prototype.GetNextPosition_mx4ult$=function(e){return new Fe(this.nextX,this.nextY)},Dp.prototype.isMatchCheckable=function(){return!1},Dp.$metadata$={kind:o,simpleName:"GameEntity",interfaces:[]},Jp.prototype.SetImage=function(){},Jp.prototype.remove=function(){uf.prototype.remove.call(this),null!=this.sprite&&(Je(this.sprite).removeFromParent(),this.sprite=null)},Jp.prototype.SetAttribute_c9f3gi$=function(e){},Jp.prototype.draw=function(){var e,t=this.GetBoardX(),i=this.GetBoardY();null!=(e=this.sprite)&&e.SetPosition_dleff0$(t,i)},Jp.prototype.SetUsed_6taknv$=function(e){var t,i;if(!0===(this.used=e)){this.needCheck=!0,null!=(t=this.sprite)&&(t.yMotion=null);var r=vn(10,void 0,void 0,0);r.SetScale_mx4ult$(.06*this.game.gameConfigure.tileWidth),null!=(i=this.sprite)&&i.SetXMotion_vn0wwp$(r,!0)}else this.needCheck=!1},Jp.prototype.isUsed=function(){return this.used},Jp.$metadata$={kind:o,simpleName:"ItemEntity",interfaces:[uf]},tf.prototype.SetImage=function(){var e,t,i,r=this.GetBoardX(),o=this.GetBoardY(),n=this.spriteZ,a=.8*this.game.gameConfigure.tileWidth;e:do{if(null==a){i=0;break e}if(Ke.isNumber(a)){i=it(a);break e}if("string"==typeof a)try{i=Qe(a);break e}catch(e){if(Ke.isType(e,ta)){i=0;break e}throw e}i=0}while(0);var s,l=i,u=.8*this.game.gameConfigure.tileHeight;e:do{if(null==u){s=0;break e}if(Ke.isNumber(u)){s=it(u);break e}if("string"==typeof u)try{s=Qe(u);break e}catch(e){if(Ke.isType(e,ta)){s=0;break e}throw e}s=0}while(0);this.sprite=la(r,o,n,"Item_100",l,s),null!=(e=this.sprite)&&e.SetHorizontalAlign_jdpdm8$(lo()),null!=(t=this.sprite)&&t.SetVerticalAlign_qn2em6$(ro()),this.game.view.GetMask().addChild_g5h3xp$(Je(this.sprite))},tf.$metadata$={kind:o,simpleName:"ReactivateItemEntity",interfaces:[Jp]},rf.prototype.SetImage=function(){var e,t,i,r,o=(Ke.isType(e=this.game.gameValue.blockInfo,Sv)?e:Ee()).colorMap.get_za3lpa$(this.subValue);e:do{if(Ke.isNumber(o)){r=o.toString();break e}if("string"==typeof o){r=o;break e}if("boolean"==typeof o){r=o.toString();break e}if(Ke.isChar(o)){r=o.toString();break e}r=""}while(0);var n,a="Item_101_"+r,s=this.GetBoardX(),l=this.GetBoardY(),u=this.spriteZ,h=.8*this.game.gameConfigure.tileWidth;e:do{if(null==h){n=0;break e}if(Ke.isNumber(h)){n=it(h);break e}if("string"==typeof h)try{n=Qe(h);break e}catch(e){if(Ke.isType(e,ta)){n=0;break e}throw e}n=0}while(0);var c,d=n,p=.8*this.game.gameConfigure.tileHeight;e:do{if(null==p){c=0;break e}if(Ke.isNumber(p)){c=it(p);break e}if("string"==typeof p)try{c=Qe(p);break e}catch(e){if(Ke.isType(e,ta)){c=0;break e}throw e}c=0}while(0);this.sprite=la(s,l,u,a,d,c),null!=(t=this.sprite)&&t.SetHorizontalAlign_jdpdm8$(lo()),null!=(i=this.sprite)&&i.SetVerticalAlign_qn2em6$(ro()),this.game.view.GetMask().addChild_g5h3xp$(Je(this.sprite))},rf.$metadata$={kind:o,simpleName:"SameBombEntity",interfaces:[Jp]},of.prototype.SetImage=function(){var e,t,i,r=this.GetBoardX(),o=this.GetBoardY(),n=this.spriteZ,a=.8*this.game.gameConfigure.tileWidth;e:do{if(null==a){i=0;break e}if(Ke.isNumber(a)){i=it(a);break e}if("string"==typeof a)try{i=Qe(a);break e}catch(e){if(Ke.isType(e,ta)){i=0;break e}throw e}i=0}while(0);var s,l=i,u=.8*this.game.gameConfigure.tileHeight;e:do{if(null==u){s=0;break e}if(Ke.isNumber(u)){s=it(u);break e}if("string"==typeof u)try{s=Qe(u);break e}catch(e){if(Ke.isType(e,ta)){s=0;break e}throw e}s=0}while(0);this.sprite=la(r,o,n,"Item_102",l,s),null!=(e=this.sprite)&&e.SetHorizontalAlign_jdpdm8$(lo()),null!=(t=this.sprite)&&t.SetVerticalAlign_qn2em6$(ro()),this.game.view.GetMask().addChild_g5h3xp$(Je(this.sprite))},of.$metadata$={kind:o,simpleName:"NearBombEntity",interfaces:[Jp]},nf.prototype.SetImage=function(){var e,t,i="Item_103_h";104===this.value&&2===this.subValue?i="Item_104":(0===this.subValue&&(i="Item_103_h"),1===this.subValue&&(i="Item_103_v"));var r,o=this.GetBoardX(),n=this.GetBoardY(),a=this.spriteZ,s=i,l=.8*this.game.gameConfigure.tileWidth;e:do{if(null==l){r=0;break e}if(Ke.isNumber(l)){r=it(l);break e}if("string"==typeof l)try{r=Qe(l);break e}catch(e){if(Ke.isType(e,ta)){r=0;break e}throw e}r=0}while(0);var u,h=r,c=.8*this.game.gameConfigure.tileHeight;e:do{if(null==c){u=0;break e}if(Ke.isNumber(c)){u=it(c);break e}if("string"==typeof c)try{u=Qe(c);break e}catch(e){if(Ke.isType(e,ta)){u=0;break e}throw e}u=0}while(0);this.sprite=la(o,n,a,s,h,u),null!=(e=this.sprite)&&e.SetHorizontalAlign_jdpdm8$(lo()),null!=(t=this.sprite)&&t.SetVerticalAlign_qn2em6$(ro()),this.game.view.GetMask().addChild_g5h3xp$(Je(this.sprite))},nf.$metadata$={kind:o,simpleName:"LineBombEntity",interfaces:[Jp]},af.prototype.remove=function(){uf.prototype.remove.call(this),null!=this.sprite&&(Je(this.sprite).removeFromParent(),this.sprite=null)},af.prototype.SetAttribute_c9f3gi$=function(e){},af.prototype.draw=function(){var e,t=this.GetBoardX(),i=this.GetBoardY();null!=(e=this.sprite)&&e.SetPosition_dleff0$(t,i)},af.prototype.explode_nhq4am$$default=function(e,t,i){var r,o,n;if(null!=this.sprite){null!=(r=this.game.view.screen)&&r.removeAction_81ngrp$("blink",void 0,this.sprite),null!=(o=this.sprite)&&o.SetAlpha_8ca0d4$(0);var a,s=this.GetRealScreenX(),l=this.GetRealScreenY(),u=this.spriteZ,h=this.game.gameConfigure.tileWidth;e:do{if(null==h){a=0;break e}if(Ke.isNumber(h)){a=it(h);break e}if("string"==typeof h)try{a=Qe(h);break e}catch(e){if(Ke.isType(e,ta)){a=0;break e}throw e}a=0}while(0);var c,d=a,p=this.game.gameConfigure.tileHeight;e:do{if(null==p){c=0;break e}if(Ke.isNumber(p)){c=it(p);break e}if("string"==typeof p)try{c=Qe(p);break e}catch(e){if(Ke.isType(e,ta)){c=0;break e}throw e}c=0}while(0);var f=la(s,l,u,"Ghost_blank",d,c);f.SetHorizontalAlign_jdpdm8$(lo()),f.SetVerticalAlign_qn2em6$(ro());var m=Ke.isType(n=this.game.gameValue.blockInfo,Sv)?n:null;null!=m&&(f.SetBlendMode_ieo8yr$(m.blendMode),f.SetBlendFactor_mx4ult$(m.blendFactor),f.SetColor_vnjrmz$(m.color)),this.game.view.addChild_g5h3xp$(f);var v,g,_,$,y,b=Pi(Je(this.sprite).GetSize().width,Je(this.sprite).GetSize().height),S=new dn(this.game.gameConfigure.matchEffectSpeed,1,.5);f.SetTimeToLive_mx4ult$(this.game.gameConfigure.matchEffectDuration),f.addUpdateCallback_sds54w$("BlockEntity Matched",void 0,void 0,void 0,void 0,void 0,(v={v:!1},g=this,_=S,$=f,y=b,function(e){if(0===e.elapsed)return!1===v.v&&g.animationState.SetNextState_9sobi5$("remove"),!1;e.age>g.game.gameConfigure.removeFireDelay&&!1===v.v&&(g.animationState.SetNextState_9sobi5$("remove"),v.v=!0),_.update_mx4ult$(e.elapsed);var t=_.GetPosition();return $.SetSize_dleff0$(y.width*(.5+t),y.height*(.5+t)),.3<e.age&&$.SetAlpha_8ca0d4$(1-5*(e.age-.3)),!0})),dh().shared().playEffect_bm4lxs$("ghost"),this.explodeEffect_24o109$(e,i)}},af.prototype.explodeEffect_24o109$=function(e,t){var i,r;null!=(i=this.game.view.screen)&&i.actionDelay_ab0iom$(0,void 0,sf(this,e,t));var o,n=this.GetRealScreenX(),a=this.GetRealScreenY(),s=In().value;e:do{if(null==s){o=0;break e}if(Ke.isNumber(s)){o=it(s);break e}if("string"==typeof s)try{o=Qe(s);break e}catch(e){if(Ke.isType(e,ta)){o=0;break e}throw e}o=0}while(0);var l,u=o,h=1.2*this.game.gameConfigure.tileWidth;e:do{if(null==h){l=0;break e}if(Ke.isNumber(h)){l=it(h);break e}if("string"==typeof h)try{l=Qe(h);break e}catch(e){if(Ke.isType(e,ta)){l=0;break e}throw e}l=0}while(0);var c,d=l,p=1.2*this.game.gameConfigure.tileHeight;e:do{if(null==p){c=0;break e}if(Ke.isNumber(p)){c=it(p);break e}if("string"==typeof p)try{c=Qe(p);break e}catch(e){if(Ke.isType(e,ta)){c=0;break e}throw e}c=0}while(0);var f,m=la(n,a,u,"Ghost_white",d,c);m.SetVerticalAlign_qn2em6$(ro()),m.SetHorizontalAlign_jdpdm8$(lo()),this.game.view.addChild_g5h3xp$(m),null!=(r=this.game.view.screen)&&r.actionFadeOut_7vo5wp$(m,void 0,.5,.5,void 0,void 0,void 0,(f=m,function(){return f.SetTimeToLive_mx4ult$(0),Ze}));var v=vn(6,void 0,void 0,-3);v.SetAmplitude_mx4ult$(8),m.SetXMotion_vn0wwp$(v,!0);var g=new dn(void 0,void 0,0);g.SetTarget_nfvrp9$(-2.5*this.game.gameConfigure.tileHeight,30,1.5,void 0,0),m.SetYMotion_vn0wwp$(g,!0)},af.prototype.isPair_za3lpa$=function(e){return this.value%1e3===e},af.prototype.makeStone=function(){var e,t,i;this.isStone=!0,null!=(e=this.sprite)&&(e.xMotion=null),null!=(t=this.game.view.screen)&&t.removeAction_81ngrp$("blink",void 0,this.sprite);var r,o=.5*Je(this.sprite).GetSize().width,n=.5*Je(this.sprite).GetSize().height,a=this.game.gameConfigure.tileWidth;e:do{if(null==a){r=0;break e}if(Ke.isNumber(a)){r=it(a);break e}if("string"==typeof a)try{r=Qe(a);break e}catch(e){if(Ke.isType(e,ta)){r=0;break e}throw e}r=0}while(0);var s,l=r,u=this.game.gameConfigure.tileHeight;e:do{if(null==u){s=0;break e}if(Ke.isNumber(u)){s=it(u);break e}if("string"==typeof u)try{s=Qe(u);break e}catch(e){if(Ke.isType(e,ta)){s=0;break e}throw e}s=0}while(0);var h=la(o,n,void 0,"InactiveMaskForGhost",l,s);h.SetHorizontalAlign_jdpdm8$(lo()),h.SetVerticalAlign_qn2em6$(ro()),Je(this.sprite).addChild_g5h3xp$(h),h.SetAlpha_8ca0d4$(0),null!=(i=this.game.view.screen)&&i.actionFadeIn_hkbjms$(h,0,1,void 0,.5,void 0,void 0,this.sprite)},af.$metadata$={kind:o,simpleName:"ObstacleEntity",interfaces:[uf]},hf.$metadata$={kind:o,simpleName:"Attribute",interfaces:[h]},hf.values=function(){return[df(),pf(),ff(),mf()]},hf.valueOf_61zpoe$=function(e){switch(e){case"normal":return df();case"disabled":return pf();case"hint":return ff();case"clear":return mf();default:c("No enum constant com.blindcatstudio.samsara.logic.entity.TileEntity.Attribute."+e)}},uf.prototype.remove=function(){Dp.prototype.remove.call(this),null!=this.sprite&&(Je(this.sprite).removeFromParent(),this.sprite=null)},uf.prototype.GetAttribute=function(){return this.attribute},uf.prototype.SetAttribute_c9f3gi$=function(e){},uf.prototype.fall_6taknv$=function(e){!0===e&&this.shake_7b5o5w$(5,0,0,this.game.gameConfigure.shakeDuration)},uf.prototype.onLanding_vux9f0$=function(e,t){if(Dp.prototype.onLanding_vux9f0$.call(this,e,t),!0===this.game.gameConfigure.bounceOnLanding){if(null!=this.sprite){var i;this.bouncing=!0;e:do{if(null==t){i=0;break e}if(Ke.isNumber(t)){i=it(t);break e}if("string"==typeof t)try{i=Qe(t);break e}catch(e){if(Ke.isType(e,ta)){i=0;break e}throw e}i=0}while(0);this.spriteZ=7+.1*i;var r=Ai(this.GetBoardX(),this.GetBoardY()),o=new dn;o.SetTarget_nfvrp9$(-5,5,.15);var n,a=this.game.gameConfigure.tileHeight;e:do{if(null==a){n=0;break e}if(Ke.isNumber(a)){n=it(a);break e}if("string"==typeof a)try{n=Qe(a);break e}catch(e){if(Ke.isType(e,ta)){n=0;break e}throw e}n=0}while(0);o.SetScale_mx4ult$(n/50),Je(this.sprite).addUpdateCallback_sds54w$("BlockEntity Landing",void 0,void 0,void 0,void 0,void 0,(s=o,l=this,u=r,function(e){s.update_mx4ult$(e.elapsed);var t=s.GetPosition();return 0<=t?(l.needCheck=!0,l.needCheckReason=1,l.bouncing=!1):(Je(l.sprite).SetPosition_dleff0$(u.x,u.y+t),!0)}))}}else this.needCheck=!0,this.needCheckReason=1,this.bouncing=!1;var s,l,u},uf.prototype.shake_7b5o5w$$default=function(e,t,i,r){var o,n,a,s=vn(e,t,void 0,i);s.SetScale_mx4ult$(2*this.game.view.sizeScale.xRatio),Je(this.sprite).addUpdateCallback_sds54w$("shake",!1,void 0,void 0,void 0,void 0,(o=r,n=s,a=this,function(e){if(e.age>o)return!1;var t=n.update_mx4ult$(e.elapsed),i=Je(a.sprite);return i.SetPosition_dleff0$(i.GetPosition().x+t,i.GetPosition().y),!0}))},uf.prototype.shake_7b5o5w$=function(e,t,i,r,o){void 0===e&&(e=10),void 0===t&&(t=0),void 0===i&&(i=0),void 0===r&&(r=.5),o?o(e,t,i,r):this.shake_7b5o5w$$default(e,t,i,r)},uf.prototype.bounce=function(){Je(this.sprite).SetZPosition_8ca0d4$(this.spriteZ);var t,e=Ai(Je(this.sprite).GetPosition().x,Je(this.sprite).GetPosition().y),i=this.game.gameConfigure.tileHeight;e:do{if(null==i){t=0;break e}if(Ke.isNumber(i)){t=it(i);break e}if("string"==typeof i)try{t=Qe(i);break e}catch(e){if(Ke.isType(e,ta)){t=0;break e}throw e}t=0}while(0);var r,o,n,a=fn(0,10,-1*t*.6,0,.7);a.SetTimeMultiplier_mx4ult$(15),Je(this.sprite).addUpdateCallback_sds54w$("BlockEntity Bounce",!1,void 0,void 0,void 0,void 0,(r=a,o=this,n=e,function(e){if(4<r.GetBounceCount())return!1;var t=r.update_mx4ult$(e.elapsed);return 0<r.GetBounceCount()&&Je(o.sprite).SetPosition_dleff0$(n.x,n.y+t),!0}))},uf.prototype.removeBounce=function(){Je(this.sprite).removeUpdateCallback_9sobi5$("BlockEntity Bounce")},uf.prototype.explode_nhq4am$$default=function(e,t,i){var r,o=la(0,0,void 0,Je(this.sprite).GetImage(),Je(this.sprite).GetSize().width,Je(this.sprite).GetSize().height);o.SetBlendMode_ieo8yr$(ti()),o.SetBlendFactor_mx4ult$(1),o.SetAlpha_8ca0d4$(0),Je(this.sprite).addChild_g5h3xp$(o),null!=(r=this.game.view.screen)&&r.actionFade_ntk7i0$(t+this.game.gameConfigure.removeFireDelay,0,1,null,vf(o,this,e,i))},uf.prototype.explode_nhq4am$=function(e,t,i,r){void 0===e&&(e=3),void 0===t&&(t=0),void 0===i&&(i=0),r?r(e,t,i):this.explode_nhq4am$$default(e,t,i)},uf.prototype.explodeEffect_24o109$=function(e,t){this._createExplosion_vl24u5$(e,6,"Resource/UI/Particle",8*this.game.gameConfigure.tileWidth)},uf.prototype.createExplosion_za3lpa$=function(e){var t;if(!(this.game.quality<1)){var i="";if(e<=3)i="Resource/UI/Particle";else i="Particle_"+(Ke.isType(t=this.game.gameValue.blockInfo,Sv)?t:Ee()).colorMap.get_za3lpa$(this.value);var r=4*this.game.gameConfigure.tileWidth;3<this.game.gameConfigure.width&&(r*=2);var o,n=r,a=e-3|0;e:do{if(null==a){o=0;break e}if(Ke.isNumber(a)){o=it(a);break e}if("string"==typeof a)try{o=Qe(a);break e}catch(e){if(Ke.isType(e,ta)){o=0;break e}throw e}o=0}while(0);(r=n+o*this.game.gameConfigure.tileWidth)>8*this.game.gameConfigure.tileWidth&&(r=8*this.game.gameConfigure.tileWidth),this._createExplosion_vl24u5$(e,6,i,r)}},uf.prototype._createExplosion_vl24u5$=function(e,t,i,r){if(!(this.game.quality<1)){var o=this.GetRealScreenX(),n=this.GetRealScreenY(),a=t,s=hi().white_mx4ult$();this.game.quality<2&&(a=a/2|0);var l=Ai(this.game.gameConfigure.tileWidth/4,this.game.gameConfigure.tileWidth/4,-20),u=Ai(this.game.gameConfigure.tileWidth/2,this.game.gameConfigure.tileWidth/2,500),h=Ai(o,n,-50);e>=Ke.imul(this.game.gameConfigure.width,this.game.gameConfigure.height)&&(h=Ai(o,n,0),l=Ai(this.game.gameConfigure.tileWidth/4,this.game.gameConfigure.tileWidth/4,-30),u=Ai(this.game.gameConfigure.tileWidth/2,this.game.gameConfigure.tileWidth/2,-50));var c,d=this.game.gameConfigure.tileWidth/2*.8,p=this.game.particleManager,f=h,m=a,v=go().arc4random_uniform_za3lpa$(5);e:do{if(null==v){c=0;break e}if(Ke.isNumber(v)){c=it(v);break e}if("string"==typeof v)try{c=Qe(v);break e}catch(e){if(Ke.isType(e,ta)){c=0;break e}throw e}c=0}while(0);var g,_=1+c/10,$=l,y=u,b=Ln().value;e:do{if(null==b){g=0;break e}if(Ke.isNumber(b)){g=it(b);break e}if("string"==typeof b)try{g=Qe(b);break e}catch(e){if(Ke.isType(e,ta)){g=0;break e}throw e}g=0}while(0);p.createExplosion_3jyyep$(f,d,m,r,_,i,s,$,y,!0,g)}},uf.$metadata$={kind:o,simpleName:"TileEntity",interfaces:[Dp]},_f.prototype.GetList=function(){return this.achievementList},_f.prototype.AddAchievement_ze4fts$$default=function(e,t){this.AddAchievementString_io5o9c$(e.value,t)},_f.prototype.AddAchievementString_io5o9c$$default=function(e,t){var i=this.achievementList,r=Rv(e,t);i.put_xwzc9p$(e,r)},_f.prototype.UpdateAchievement_ze4fts$=function(e,t){this.UpdateAchievementString_io5o9c$(e.value,t)},_f.prototype.UpdateAchievementString_io5o9c$=function(e,t){var i=this.GetAchievementString_61zpoe$(e);null!=i&&(i.percentComplete=t,this.SaveAchievementString_61zpoe$(e))},_f.prototype.GetAchievement_chhr4e$=function(e){return this.GetAchievementString_61zpoe$(e.value)},_f.prototype.GetAchievementString_61zpoe$=function(e){return this.achievementList.get_11rb$(e)},_f.prototype.LoadAchievement=function(){var e;for(e=this.achievementIdentifierList.iterator();e.hasNext();){var t=e.next(),i=Km().GetDouble_yzmc4y$(t);this.AddAchievement_ze4fts$(t,i)}},_f.prototype.SaveAchievement_chhr4e$=function(e){this.SaveAchievementString_61zpoe$(e.value)},_f.prototype.SaveAchievementString_61zpoe$=function(e){var t=this.GetAchievementString_61zpoe$(e);null!=t&&Km().SetDouble_do2bxa$(e,void 0,t.percentComplete)},_f.prototype.SetPercentComplete_gspc9z$$default=function(e,t,i){this.SetPercentCompleteString_1truf$(e.value,t,i)},_f.prototype.SetPercentCompleteString_1truf$$default=function(e,t,i){var r=this.GetAchievementString_61zpoe$(e);null!=r?(r.percentComplete<t||!0===i)&&(za().shared().printLog_7z05hs$(e+" set "+t.toString()),r.percentComplete=t,this.SaveAchievementString_61zpoe$(e)):za().shared().printLog_7z05hs$(e+" NOT LOADED")},_f.prototype.GetPercentComplete_chhr4e$=function(e){return this.GetPercentCompleteString_61zpoe$(e.value)},_f.prototype.GetPercentCompleteString_61zpoe$=function(e){var t=this.GetAchievementString_61zpoe$(e);return null!=t?t.percentComplete:0},_f.$metadata$={kind:o,simpleName:"AndroidPlayerAchievement",interfaces:[jv]},yf.prototype.GetMode=function(){return this.mode},yf.prototype.SetHighScore_za3lpa$=function(e){this.highScore=e},yf.prototype.GetHighScore=function(){return this.highScore},yf.prototype.SaveHighScore_3uxocb$$default=function(e){Km().SetInteger_hh7mhe$(wf(),this.mode,this.GetHighScore()),null!=e&&e(!0)},yf.prototype.LoadHighScore_3uxocb$$default=function(e){var t=Km().GetInteger_hh7mhe$(wf(),this.mode,0);this.SetHighScore_za3lpa$(t),za().shared().printLog_7z05hs$(this.mode+" "+wf().value+" "+t.toString()),null!=e&&e(!0)},yf.prototype.SetMaxCombo_za3lpa$=function(e){this.maxCombo=e},yf.prototype.GetMaxCombo=function(){return this.maxCombo},yf.prototype.SaveMaxCombo_3uxocb$$default=function(e){Km().SetInteger_hh7mhe$(xf(),this.mode,this.GetMaxCombo()),null!=e&&e(!0)},yf.prototype.LoadMaxCombo_3uxocb$$default=function(e){var t=Km().GetInteger_hh7mhe$(xf(),this.mode,0);this.SetMaxCombo_za3lpa$(t),za().shared().printLog_7z05hs$(this.mode+" "+xf().value+" "+t.toString()),null!=e&&e(!0)},yf.prototype.SetMaxFever_za3lpa$=function(e){this.maxFever=e},yf.prototype.GetMaxFever=function(){return this.maxFever},yf.prototype.SaveMaxFever_3uxocb$$default=function(e){Km().SetInteger_hh7mhe$(Cf(),this.mode,this.GetMaxFever()),null!=e&&e(!0)},yf.prototype.LoadMaxFever_3uxocb$$default=function(e){var t=Km().GetInteger_hh7mhe$(Cf(),this.mode,0);this.SetMaxFever_za3lpa$(t),za().shared().printLog_7z05hs$(this.mode+" "+Cf().value+" "+t.toString()),null!=e&&e(!0)},yf.prototype.SetMinInterval_mx4ult$=function(e){this.minInterval=e},yf.prototype.GetMinInterval=function(){return this.minInterval},yf.prototype.SaveMinInterval_3uxocb$$default=function(e){Km().SetFloat_x7mx2d$(zf(),this.mode,this.GetMinInterval()),null!=e&&e(!0)},yf.prototype.LoadMinInterval_3uxocb$$default=function(e){var t=Km().GetFloat_x7mx2d$(zf(),this.mode,.4);this.SetMinInterval_mx4ult$(t),null!=e&&e(!0)},yf.prototype.SetMaxSPS_za3lpa$=function(e){this.maxSPS=e},yf.prototype.GetMaxSPS=function(){return this.maxSPS},yf.prototype.SaveMaxSPS_3uxocb$$default=function(e){Km().SetInteger_hh7mhe$(Tf(),this.mode,this.GetMaxSPS()),null!=e&&e(!0)},yf.prototype.LoadMaxSPS_3uxocb$$default=function(e){var t=Km().GetInteger_hh7mhe$(Tf(),this.mode,0);this.SetMaxSPS_za3lpa$(t),za().shared().printLog_7z05hs$(this.mode+" "+Tf().value+" "+t.toString()),null!=e&&e(!0)},yf.$metadata$={kind:o,simpleName:"AndroidPlayerRecord",interfaces:[Mv]},Sf.$metadata$={kind:o,simpleName:"DataKey",interfaces:[h]},Sf.values=function(){return[wf(),xf(),Cf(),zf(),Tf(),Gf(),Af(),If(),Nf(),Mf(),Of(),Rf(),jf(),Pf(),Bf(),Ef(),Ff(),Lf(),Df(),Vf(),Uf(),qf(),Hf(),Wf(),Yf(),Xf(),Kf(),Zf(),Qf(),Jf(),em(),tm(),im(),rm(),om(),nm(),am(),sm(),lm(),um(),hm(),cm(),dm(),pm(),fm(),mm(),vm(),gm(),_m(),$m(),ym(),bm(),Sm(),km(),wm(),xm(),Cm(),zm(),Tm(),Gm(),Am(),Im(),Nm(),Mm(),Om(),Rm(),jm(),Pm(),Bm(),Em(),Fm(),Lm(),Dm()]},Sf.valueOf_61zpoe$=function(e){switch(e){case"HIGH_SCORE":return wf();case"MAX_COMBO":return xf();case"MAX_FEVER":return Cf();case"MIN_INTERVAL":return zf();case"MAX_SPS":return Tf();case"PLAY_COUNT":return Gf();case"GHOST_REMOVAL":return Af();case"SOUND_ON":return If();case"MASTER_VOLUME":return Nf();case"BGM_VOLUME":return Mf();case"EFFECT_VOLUME":return Of();case"LAST_PLAYED_MODE":return Rf();case"STAR_LAST_CHARGED_TIME":return jf();case"STAR_CHARGE_START":return Pf();case"CURRENT_BLOCK_SET":return Bf();case"CURRENT_BOARD_TYPE":return Ef();case"BATTERY_USAGE_MODE":return Ff();case"CURRENT_LOCALE":return Lf();case"COLOR_MODE":return Df();case"TUTORIAL_COMPLETE":return Vf();case"TUTORIAL_3_3_COMPLETE":return Uf();case"TUTORIAL_6_6_COMPLETE":return qf();case"BEGINNER_COMBOS_5":return Hf();case"BEGINNER_COMBOS_10":return Wf();case"BEGINNER_COMBOS_20":return Yf();case"BEGINNER_COMBOS_50":return Xf();case"BEGINNER_COMBOS_100":return Kf();case"BEGINNER_COMBOS_150":return Zf();case"BEGINNER_50K":return Qf();case"BEGINNER_100K":return Jf();case"BEGINNER_200K":return em();case"BEGINNER_1M":return tm();case"BEGINNER_2M":return im();case"BEGINNER_3M":return rm();case"BEGINNER_FEVER_1":return om();case"BEGINNER_FEVER_3":return nm();case"BEGINNER_FEVER_5":return am();case"BEGINNER_FEVER_10":return sm();case"BEGINNER_CLEAR_9":return lm();case"CLASSIC_COMBOS_10":return um();case"CLASSIC_COMBOS_30":return hm();case"CLASSIC_FEVER_1":return cm();case"CLASSIC_FEVER_5":return dm();case"CLASSIC_100K":return pm();case"CLASSIC_300K":return fm();case"CLASSIC_1500K":return mm();case"CLASSIC_CLEAR_9":return vm();case"TIMELESS_MODE_OPEN":return gm();case"TIMELESS_COMBOS_50":return _m();case"TIMELESS_COMBOS_80":return $m();case"TIMELESS_COMBOS_100":return ym();case"TIMELESS_FEVER_10":return bm();case"TIMELESS_1M":return Sm();case"TIMELESS_2M":return km();case"HARDCORE_MODE_OPEN":return wm();case"HARDCORE_COMBOS_60":return xm();case"HARDCORE_FEVER_10":return Cm();case"HARDCORE_1M":return zm();case"GHOST_50":return Tm();case"GHOST_100":return Gm();case"GHOST_150":return Am();case"GHOST_200":return Im();case"BEGINNER6x6_COMBOS_30":return Nm();case"BEGINNER6x6_COMBOS_50":return Mm();case"BEGINNER6x6_COMBOS_100":return Om();case"BEGINNER6x6_500K":return Rm();case"BEGINNER6x6_1M":return jm();case"CLASSIC6x6_MODE_OPEN":return Pm();case"CLASSIC6x6_COMBOS_50":return Bm();case"CLASSIC6x6_1M":return Em();case"TIMELESS6x6_MODE_OPEN":return Fm();case"TIMELESS6x6_COMBOS_100":return Lm();case"TIMELESS6x6_2M":return Dm();default:c("No enum constant com.blindcatstudio.samsara.user.DataKey."+e)}},Um.prototype.obj_61zpoe$=function(e){return Su().string_61zpoe$(e)},Um.prototype.Set_hwpqgh$=function(e,t){return Su().Set_hwpqgh$(e,t),!0},Um.$metadata$={kind:u,simpleName:"standard",interfaces:[]};var qm=null;function Hm(){return null===qm&&new Um,qm}function Wm(){Km()}function Ym(){Xm=this}Vm.$metadata$={kind:o,simpleName:"KeychainWrapper",interfaces:[]},Ym.prototype.GetInteger_hh7mhe$=function(e,t,i){return void 0===t&&(t=""),void 0===i&&(i=0),this.GetInteger_rjan26$(e.value,t,i)},Ym.prototype.GetInteger_rjan26$=function(e,t,i){void 0===t&&(t=""),void 0===i&&(i=0);var r=Su().string_61zpoe$(e+t);if(null!=r&&!1===Kl(r)){var o=tt(r);if(null!=o)return o}return i},Ym.prototype.SetInteger_hh7mhe$=function(e,t,i){void 0===t&&(t=""),this.SetInteger_rjan26$(e.value,t,i)},Ym.prototype.SetInteger_rjan26$=function(e,t,i){void 0===t&&(t="");var r=Su(),o=i.toString();r.Set_hwpqgh$(o,e+t)},Ym.prototype.GetFloat_x7mx2d$=function(e,t,i){return void 0===t&&(t=""),void 0===i&&(i=0),this.GetFloat_whnl05$(e.value,t,i)},Ym.prototype.GetFloat_whnl05$=function(e,t,i){void 0===t&&(t=""),void 0===i&&(i=0);var r=Su().string_61zpoe$(e+t);if(null!=r&&!1===Kl(r)){var o=Qe(r);if(null!=o)return o}return i},Ym.prototype.SetFloat_x7mx2d$=function(e,t,i){void 0===t&&(t=""),this.SetFloat_whnl05$(e.value,t,i)},Ym.prototype.SetFloat_whnl05$=function(e,t,i){void 0===t&&(t="");var r=Su(),o=i.toString();r.Set_hwpqgh$(o,e+t)},Ym.prototype.GetDouble_yzmc4y$=function(e,t,i){return void 0===t&&(t=""),void 0===i&&(i=0),this.GetDouble_do2bxa$(e.value,t,i)},Ym.prototype.GetDouble_do2bxa$=function(e,t,i){void 0===t&&(t=""),void 0===i&&(i=0);var r=Su().string_61zpoe$(e+t);if(null!=r&&!1===Kl(r)){var o=Qe(r);if(null!=o)return o}return i},Ym.prototype.SetDouble_yzmc4y$=function(e,t,i){void 0===t&&(t=""),this.SetDouble_do2bxa$(e.value,t,i)},Ym.prototype.SetDouble_do2bxa$=function(e,t,i){void 0===t&&(t="");var r=Su(),o=i.toString();r.Set_hwpqgh$(o,e+t)},Ym.prototype.GetString_sv46oe$=function(e,t,i){return void 0===t&&(t=""),void 0===i&&(i=""),this.GetString_6hosri$(e.value,t,i)},Ym.prototype.GetString_6hosri$=function(e,t,i){void 0===t&&(t=""),void 0===i&&(i="");var r=Su().string_61zpoe$(e+t);return null!=r&&!1===Kl(r)?r:i},Ym.prototype.SetString_sv46oe$=function(e,t,i){void 0===t&&(t=""),this.SetString_6hosri$(e.value,t,i)},Ym.prototype.SetString_6hosri$=function(e,t,i){void 0===t&&(t=""),Su().Set_hwpqgh$(i,e+t)},Ym.prototype.GetIntegerPermanent_pngao4$=function(e,t,i){void 0===t&&(t=""),void 0===i&&(i=0);var r=Hm().obj_61zpoe$(e.value+t);if(null!=r){var o;e:do{if(null==r){o=0;break e}if(Ke.isNumber(r)){o=et(r);break e}if("string"==typeof r)try{o=tt(r);break e}catch(e){if(Ke.isType(e,ta)){o=0;break e}throw e}o=0}while(0);return o}return i},Ym.prototype.SetIntegerPermanent_pngao4$=function(e,t,i){return void 0===t&&(t=""),Hm().Set_hwpqgh$(i,e.value+t)},Ym.prototype.GetFloatFromKeychain_3a935d$=function(e,t,i){void 0===t&&(t=""),void 0===i&&(i=0);var r=Hm().obj_61zpoe$(e.value+t);if(null!=r){var o;e:do{if(null==r){o=0;break e}if(Ke.isNumber(r)){o=it(r);break e}if("string"==typeof r)try{o=Qe(r);break e}catch(e){if(Ke.isType(e,ta)){o=0;break e}throw e}o=0}while(0);return o}return i},Ym.prototype.SetFloatPermanent_3a935d$=function(e,t,i){return void 0===t&&(t=""),Hm().Set_hwpqgh$(i,e.value+t)},Ym.prototype.GetDoublePermanent_twdn6k$=function(e,t,i){void 0===t&&(t=""),void 0===i&&(i=0);var r=Hm().obj_61zpoe$(e.value+t);if(null!=r){var o;e:do{if(null==r){o=0;break e}if(Ke.isNumber(r)){o=it(r);break e}if("string"==typeof r)try{o=Qe(r);break e}catch(e){if(Ke.isType(e,ta)){o=0;break e}throw e}o=0}while(0);return o}return i},Ym.prototype.SetDoublePermanent_twdn6k$=function(e,t,i){return void 0===t&&(t=""),Hm().Set_hwpqgh$(i,e.value+t)},Ym.prototype.GetStringPermanent_xycvms$=function(e,t,i){void 0===t&&(t=""),void 0===i&&(i="");var r=Hm().obj_61zpoe$(e.value+t);if(null!=r){var o;e:do{if(Ke.isNumber(r)){o=r.toString();break e}if("string"==typeof r){o=r;break e}if("boolean"==typeof r){o=r.toString();break e}if(Ke.isChar(r)){o=r.toString();break e}o=""}while(0);return o}return i},Ym.prototype.SetStringPermanent_xycvms$=function(e,t,i){return void 0===t&&(t=""),Hm().Set_hwpqgh$(i,e.value+t)},Ym.$metadata$={kind:u,simpleName:"Companion",interfaces:[]};var Xm=null;function Km(){return null===Xm&&new Ym,Xm}function Zm(){uv(),this.gcScore=le()}function Qm(){(Jm=this).instance=null}Wm.$metadata$={kind:o,simpleName:"DataUtil",interfaces:[]},Qm.$metadata$={kind:u,simpleName:"Holder",interfaces:[]};var Jm=null;function ev(){return null===Jm&&new Qm,Jm}function tv(){(lv=this).initialized=!1}tv.prototype.shared=function(){return null==ev().instance&&(ev().instance=new Zm),Je(ev().instance)},tv.prototype.shutdown=function(){ev().instance=null},tv.$metadata$={kind:u,simpleName:"Companion",interfaces:[]};var iv,rv,ov,nv,av,sv,lv=null;function uv(){return null===lv&&new tv,lv}function hv(e,t,i){h.call(this),this.value=i,this.name$=e,this.ordinal$=t}function cv(){cv=function(){},iv=new hv("block",0,0),rv=new hv("mode",1,1),ov=new hv("gameItem",2,2),nv=new hv("avatar",3,3),av=new hv("board",4,4),sv=new hv("End",5,5)}function dv(){return cv(),iv}function pv(){return cv(),rv}function fv(){return cv(),ov}function mv(){return cv(),nv}function vv(){return cv(),av}function gv(){return cv(),sv}function _v(){}function $v(){this.category_6wuk60$_0=null,this.id_h9wys5$_0=null,this.name_jm2jcr$_0=null,this.isConsumable_letcrr$_0=!1,this.resource_5fbxi0$_0=null,this.description_lg38b6$_0="",this.amount=0,this.ability=null,this.price=null}Zm.prototype.submitScore_4ipezg$=function(e,t,i,r){void 0===i&&(i=""),void 0===r&&(r=null);var o=this.gcScore.get_11rb$(e);if(null!=o&&t.compareTo_11rb$(o)<0)return A("Score less than GC High Score. SubmitScore rejected."),void(null!=r&&r(!0));var n="SamsaraHighScore"+e;za().shared().submitScore_ds2soj$(n,t,i),null!=r&&r(!0)},Zm.prototype.submitSPS_4ipezg$=function(e,t,i,r){void 0===i&&(i=""),void 0===r&&(r=null);var o="SamsaraSPS"+e;za().shared().submitScore_ds2soj$(o,t,i),null!=r&&r(!0)},Zm.$metadata$={kind:o,simpleName:"GameCenterManager",interfaces:[]},hv.$metadata$={kind:o,simpleName:"ItemType",interfaces:[h]},hv.values=function(){return[dv(),pv(),fv(),mv(),vv(),gv()]},hv.valueOf_61zpoe$=function(e){switch(e){case"block":return dv();case"mode":return pv();case"gameItem":return fv();case"avatar":return mv();case"board":return vv();case"End":return gv();default:c("No enum constant com.blindcatstudio.samsara.user.ItemType."+e)}},_v.$metadata$={kind:l,simpleName:"Item",interfaces:[]},Object.defineProperty($v.prototype,"category",{get:function(){return this.category_6wuk60$_0},set:function(e){this.category_6wuk60$_0=e}}),Object.defineProperty($v.prototype,"id",{get:function(){return this.id_h9wys5$_0},set:function(e){this.id_h9wys5$_0=e}}),Object.defineProperty($v.prototype,"name",{get:function(){return this.name_jm2jcr$_0},set:function(e){this.name_jm2jcr$_0=e}}),Object.defineProperty($v.prototype,"isConsumable",{get:function(){return this.isConsumable_letcrr$_0},set:function(e){this.isConsumable_letcrr$_0=e}}),Object.defineProperty($v.prototype,"resource",{get:function(){return this.resource_5fbxi0$_0},set:function(e){this.resource_5fbxi0$_0=e}}),Object.defineProperty($v.prototype,"description",{get:function(){return this.description_lg38b6$_0},set:function(e){this.description_lg38b6$_0=e}}),$v.prototype.GetAmount=function(){return this.amount},$v.prototype.SetAmount_za3lpa$=function(e){this.amount=e},$v.prototype.AddAbility_6hosri$=function(e,t,i){var r=this.ability,o=new Fe(t,i);r.put_xwzc9p$(e,o)},$v.prototype.GetAbility_61zpoe$=function(e){return this.ability.get_11rb$(e)},$v.prototype.GetAbilityList=function(){return this.ability},$v.prototype.AddPrice_bm4lxs$=function(e,t){this.price.put_xwzc9p$(e,t)},$v.prototype.GetPrice_61zpoe$=function(e){var t=this.price.get_11rb$(e);return null!=t?t:0},$v.prototype.GetPriceList=function(){return this.price},$v.prototype.Copy=function(){return bv(this.category,this.id,this.name,this.resource,void 0,this.ability,this.price)},$v.$metadata$={kind:o,simpleName:"BasicItem",interfaces:[_v]};var yv=Ke.kotlin.collections.emptyMap_q3lmfv$;function bv(e,t,i,r,o,n,a,s){return void 0===o&&(o=""),void 0===n&&(n=yv()),void 0===a&&(a=yv()),s=s||Object.create($v.prototype),$v.call(s),s.category=e,s.id=t,s.name=i,s.resource=r,s.description=o,s.ability=re(n),s.price=re(a),s}function Sv(){this.blendMode=ei(),this.blendFactor=1,this.color=null,this.tileColor=null,this.colorMap=S(["red","yellow","green","blue","purple"])}function kv(e,t,i,r,o,n,a,s,l,u,h,c){return void 0===r&&(r=""),void 0===o&&(o=ei()),void 0===n&&(n=1),void 0===a&&(a=hi().white_mx4ult$()),void 0===s&&(s=hi().white_mx4ult$()),void 0===l&&(l=yv()),void 0===u&&(u=yv()),void 0===h&&(h=S(["red","yellow","green","blue","purple"])),c=c||Object.create(Sv.prototype),bv(dv(),e,t,i,r,l,u,c),Sv.call(c),c.blendMode=o,c.blendFactor=n,c.color=a,c.tileColor=s,c.colorMap=h,c}function wv(){this.width=0,this.height=0}function xv(e,t,i,r,o,n,a,s,l){return void 0===r&&(r=""),void 0===a&&(a=yv()),void 0===s&&(s=yv()),l=l||Object.create(wv.prototype),bv(vv(),e,t,i,r,a,s,l),wv.call(l),l.width=o,l.height=n,l}function Cv(){Nv(),this.itemTable=le();var e,t=_h(gv().value);e=t.length-1|0;for(var i=0;i<=e;i++){var r=Ke.kotlin.collections.ArrayList_init_ww73n8$;t[i]=r()}this.itemByCategory=t}function zv(){(Tv=this).instance=null}Sv.prototype.Copy=function(){return kv(this.id,this.name,this.resource,void 0,this.blendMode,this.blendFactor,hi().copy_3nzkge$(this.color),void 0,this.ability,this.price,this.colorMap)},Sv.$metadata$={kind:o,simpleName:"BlockItem",interfaces:[$v]},wv.prototype.Copy=function(){return xv(this.id,this.name,this.resource,void 0,this.width,this.height,this.ability,this.price)},wv.$metadata$={kind:o,simpleName:"BoardItem",interfaces:[$v]},zv.$metadata$={kind:u,simpleName:"Holder",interfaces:[]};var Tv=null;function Gv(){return null===Tv&&new zv,Tv}function Av(){(Iv=this).initialized=!1}Av.prototype.shared=function(){return null==Gv().instance&&(Gv().instance=new Cv),Je(Gv().instance)},Av.prototype.shutdown=function(){Gv().instance=null},Av.$metadata$={kind:u,simpleName:"Companion",interfaces:[]};var Iv=null;function Nv(){return null===Iv&&new Av,Iv}function Mv(){}function Ov(){this.identifier=null,this.percentComplete=0}function Rv(e,t,i){return void 0===t&&(t=0),i=i||Object.create(Ov.prototype),Ov.call(i),i.identifier=e,i.percentComplete=t,i}function jv(){}function Pv(){Hv(),this.userId="",this.recordList=le(),this.playerAchievement=null,this.loadComplete=!1,this.starAmount=0}function Bv(){(Ev=this).instance=null}Cv.prototype.initializeItemTable=function(){se(new Fe("",""));this.addItemInfo_su1nf8$(kv("BlocksetNumber","Number","Resource/BlockSet/Number/","MENU_37",void 0,void 0,void 0,void 0,se(new Fe("Basic Bonus",new Fe("1.0",""))),void 0,S(["red","yellow","green","blue","purple","EC4339","EFB920","7CB82F","00A0DC","8C68CB","EC4339","EFB920","7CB82F","00A0DC","8C68CB"])),1);var e=0;he(Ou().GetConfigure_jyasbz$("Demo"),"true")&&(e=1),this.addItemInfo_su1nf8$(kv("BlocksetDice","Dice","Resource/BlockSet/Dice/","MENU_38",void 0,void 0,void 0,void 0,se(new Fe("Basic Bonus",new Fe("1.10","MENU_39"))),se(new Fe("Star",100)),S(["blue","yellow","red","green","purple","00A0DC","EFB920","EC4339","7CB82F","8C68CB","00A0DC","EFB920","EC4339","7CB82F","8C68CB"])),e),this.addItemInfo_su1nf8$(kv("BlocksetBird","Bird","Resource/BlockSet/Bird/","MENU_42",void 0,void 0,void 0,void 0,se(new Fe("Basic Bonus",new Fe("1.20","MENU_43"))),se(new Fe("Star",1e3)),S(["green","yellow","red","purple","blue","7CB82F","EFB920","EC4339","8C68CB","00A0DC","7CB82F","EFB920","EC4339","8C68CB","00A0DC"])),e)},Cv.prototype.GetItemList=function(){return this.itemTable},Cv.prototype.addItemInfo_su1nf8$=function(e,t){void 0===t&&(t=0);var i=e;i.SetAmount_za3lpa$(t);var r=this.itemTable,o=i.id;r.put_xwzc9p$(o,i),this.itemByCategory[i.category.value].add_11rb$(i)},Cv.prototype.GetItemInfo_61zpoe$=function(e){return this.itemTable.get_11rb$(e)},Cv.prototype.GetItemListByCategory_lssvdg$=function(e){return this.itemByCategory[e.value]},Cv.prototype.GetItemOrderByCategory_99cvmi$=function(e,t){for(var i=0,r=this.itemByCategory[e.value].iterator();r.hasNext();++i){var o=r.next();if(he(o.id,t))return i}return 0},Cv.prototype.GetItemByCategory_1svh2y$=function(e,t){var i=t;return i>=this.itemByCategory[e.value].size&&(i=0),this.itemByCategory[e.value].get_za3lpa$(i)},Cv.prototype.GetNextItemByCategory_99cvmi$=function(e,t){var i=this.GetItemOrderByCategory_99cvmi$(e,t)+1|0;return i>=this.itemByCategory[e.value].size&&(i=0),this.itemByCategory[e.value].get_za3lpa$(i)},Cv.prototype.GetPrevItemByCategory_99cvmi$=function(e,t){var i=this.GetItemOrderByCategory_99cvmi$(e,t)-1|0;return i<0&&(i=this.itemByCategory[e.value].size-1|0),this.itemByCategory[e.value].get_za3lpa$(i)},Cv.prototype.createItem_bm4lxs$=function(e,t){var i=this.GetItemInfo_61zpoe$(e);if(null!=i){var r=i.Copy();return r.SetAmount_za3lpa$(t),r}return null},Cv.prototype.loadAllPlayerItem=function(){var e;for(e=this.itemTable.entries.iterator();e.hasNext();){var t=e.next();this.loadPlayerItem_61zpoe$(t.key)}},Cv.prototype.loadPlayerItem_61zpoe$=function(e){var t=this.GetItemInfo_61zpoe$(e);null!=t&&t.SetAmount_za3lpa$(Km().GetInteger_rjan26$(e,void 0,t.GetAmount()))},Cv.prototype.saveAllPlayerItem=function(){var e;for(e=this.itemTable.entries.iterator();e.hasNext();){var t=e.next();this.savePlayerItem_61zpoe$(t.key)}},Cv.prototype.savePlayerItem_61zpoe$=function(e){var t=this.GetItemInfo_61zpoe$(e);null!=t&&0<t.GetAmount()&&Km().SetInteger_rjan26$(e,void 0,t.GetAmount())},Cv.$metadata$={kind:o,simpleName:"ItemManager",interfaces:[]},Mv.prototype.SaveHighScore_3uxocb$=function(e,t){void 0===e&&(e=null),t?t(e):this.SaveHighScore_3uxocb$$default(e)},Mv.prototype.LoadHighScore_3uxocb$=function(e,t){void 0===e&&(e=null),t?t(e):this.LoadHighScore_3uxocb$$default(e)},Mv.prototype.SaveMaxCombo_3uxocb$=function(e,t){void 0===e&&(e=null),t?t(e):this.SaveMaxCombo_3uxocb$$default(e)},Mv.prototype.LoadMaxCombo_3uxocb$=function(e,t){void 0===e&&(e=null),t?t(e):this.LoadMaxCombo_3uxocb$$default(e)},Mv.prototype.SaveMaxFever_3uxocb$=function(e,t){void 0===e&&(e=null),t?t(e):this.SaveMaxFever_3uxocb$$default(e)},Mv.prototype.LoadMaxFever_3uxocb$=function(e,t){void 0===e&&(e=null),t?t(e):this.LoadMaxFever_3uxocb$$default(e)},Mv.prototype.SaveMinInterval_3uxocb$=function(e,t){void 0===e&&(e=null),t?t(e):this.SaveMinInterval_3uxocb$$default(e)},Mv.prototype.LoadMinInterval_3uxocb$=function(e,t){void 0===e&&(e=null),t?t(e):this.LoadMinInterval_3uxocb$$default(e)},Mv.prototype.SaveMaxSPS_3uxocb$=function(e,t){void 0===e&&(e=null),t?t(e):this.SaveMaxSPS_3uxocb$$default(e)},Mv.prototype.LoadMaxSPS_3uxocb$=function(e,t){void 0===e&&(e=null),t?t(e):this.LoadMaxSPS_3uxocb$$default(e)},Mv.$metadata$={kind:l,simpleName:"PlayerRecord",interfaces:[]},Ov.$metadata$={kind:o,simpleName:"Achievement",interfaces:[]},jv.prototype.AddAchievement_ze4fts$=function(e,t,i){void 0===t&&(t=0),i?i(e,t):this.AddAchievement_ze4fts$$default(e,t)},jv.prototype.AddAchievementString_io5o9c$=function(e,t,i){void 0===t&&(t=0),i?i(e,t):this.AddAchievementString_io5o9c$$default(e,t)},jv.prototype.SetPercentComplete_gspc9z$=function(e,t,i,r){void 0===i&&(i=!1),r?r(e,t,i):this.SetPercentComplete_gspc9z$$default(e,t,i)},jv.prototype.SetPercentCompleteString_1truf$=function(e,t,i,r){void 0===i&&(i=!1),r?r(e,t,i):this.SetPercentCompleteString_1truf$$default(e,t,i)},jv.$metadata$={kind:l,simpleName:"PlayerAchievement",interfaces:[]},Bv.$metadata$={kind:u,simpleName:"Holder",interfaces:[]};var Ev=null;function Fv(){return null===Ev&&new Bv,Ev}function Lv(){(qv=this).initialized=!1}Lv.prototype.shared=function(){return null==Fv().instance&&(Fv().instance=Wv()),Je(Fv().instance)},Lv.prototype.shutdown=function(){Fv().instance=null},Lv.$metadata$={kind:u,simpleName:"Companion",interfaces:[]};var Dv,Vv,Uv,qv=null;function Hv(){return null===qv&&new Lv,qv}function Wv(e){return e=e||Object.create(Pv.prototype),Pv.call(e),e}function Yv(e,t,i){h.call(this),this.value=i,this.name$=e,this.ordinal$=t}function Xv(){Xv=function(){},Dv=new Yv("EMPTY_KEY",0,""),Vv=new Yv("STAR_AMOUNT",1,"Star Amount"),Uv=new Yv("EXP",2,"EXP")}function Kv(){return Xv(),Dv}function Zv(){return Xv(),Vv}function Qv(){return Xv(),Uv}function Jv(){ug(),this.starAmount=0,this.exp=0}function eg(){(tg=this).instance=null}Pv.prototype.SetUserId_61zpoe$=function(e){this.userId=e},Pv.prototype.GetuserId=function(){return this.userId},Pv.prototype.SetLoadComplete=function(){this.loadComplete=!0},Pv.prototype.GetLoadComplete=function(){return this.loadComplete},Pv.prototype.addRecord_psi95l$=function(e,t){var i=t;this.recordList.put_xwzc9p$(e,i)},Pv.prototype.GetRecord_61zpoe$=function(e){var t=this.recordList.get_11rb$(e);return null!=t?t:null},Pv.prototype.SetPlayerAchievement_79oy9z$=function(e){this.playerAchievement=e},Pv.prototype.GetPlayerAchievement=function(){return this.playerAchievement},Pv.prototype.SetHighScore_bm4lxs$=function(e,t){var i;null!=(i=this.GetRecord_61zpoe$(e))&&i.SetHighScore_za3lpa$(t)},Pv.prototype.GetHighScore_61zpoe$=function(e){var t=this.GetRecord_61zpoe$(e);return null!=t?t.GetHighScore():0},Pv.prototype.saveHighScore_ae0sr1$=function(e,t){var i;void 0===t&&(t=null),null!=(i=this.GetRecord_61zpoe$(e))&&i.SaveHighScore_3uxocb$(t)},Pv.prototype.loadHighScore_ae0sr1$=function(e,t){var i;void 0===t&&(t=null),null!=(i=this.GetRecord_61zpoe$(e))&&i.LoadHighScore_3uxocb$(t)},Pv.prototype.SetMaxCombo_bm4lxs$=function(e,t){var i;null!=(i=this.GetRecord_61zpoe$(e))&&i.SetMaxCombo_za3lpa$(t)},Pv.prototype.GetMaxCombo_61zpoe$=function(e){var t=this.GetRecord_61zpoe$(e);return null!=t?t.GetMaxCombo():0},Pv.prototype.saveMaxCombo_ae0sr1$=function(e,t){var i;void 0===t&&(t=null),null!=(i=this.GetRecord_61zpoe$(e))&&i.SaveMaxCombo_3uxocb$(t)},Pv.prototype.loadMaxCombo_ae0sr1$=function(e,t){var i;void 0===t&&(t=null),null!=(i=this.GetRecord_61zpoe$(e))&&i.LoadMaxCombo_3uxocb$(t)},Pv.prototype.SetMaxFever_bm4lxs$=function(e,t){var i;null!=(i=this.GetRecord_61zpoe$(e))&&i.SetMaxFever_za3lpa$(t)},Pv.prototype.GetMaxFever_61zpoe$=function(e){var t=this.GetRecord_61zpoe$(e);return null!=t?t.GetMaxFever():0},Pv.prototype.saveMaxFever_ae0sr1$=function(e,t){var i;void 0===t&&(t=null),null!=(i=this.GetRecord_61zpoe$(e))&&i.SaveMaxFever_3uxocb$(t)},Pv.prototype.loadMaxFever_ae0sr1$=function(e,t){var i;void 0===t&&(t=null),null!=(i=this.GetRecord_61zpoe$(e))&&i.LoadMaxFever_3uxocb$(t)},Pv.prototype.saveMinInterval_ae0sr1$=function(e,t){var i;void 0===t&&(t=null),null!=(i=this.GetRecord_61zpoe$(e))&&i.SaveMinInterval_3uxocb$(t)},Pv.prototype.loadMinInterval_ae0sr1$=function(e,t){var i;void 0===t&&(t=null),null!=(i=this.GetRecord_61zpoe$(e))&&i.LoadMinInterval_3uxocb$(t)},Pv.prototype.SetMaxSPS_bm4lxs$=function(e,t){var i;null!=(i=this.GetRecord_61zpoe$(e))&&i.SetMaxSPS_za3lpa$(t)},Pv.prototype.GetMaxSPS_61zpoe$=function(e){var t=this.GetRecord_61zpoe$(e);return null!=t?t.GetMaxSPS():0},Pv.prototype.saveMaxSPS_ae0sr1$=function(e,t){var i;void 0===t&&(t=null),null!=(i=this.GetRecord_61zpoe$(e))&&i.SaveMaxSPS_3uxocb$(t)},Pv.prototype.loadMaxSPS_ae0sr1$=function(e,t){var i;void 0===t&&(t=null),null!=(i=this.GetRecord_61zpoe$(e))&&i.LoadMaxSPS_3uxocb$(t)},Pv.prototype.addAchievement_ze4fts$=function(e,t){void 0===t&&(t=0);var i=this.playerAchievement;null!=i&&i.AddAchievement_ze4fts$(e,t)},Pv.prototype.loadAchievement=function(){var e=this.playerAchievement;null!=e&&e.LoadAchievement()},Pv.prototype.saveAchievement_chhr4e$=function(e){var t=this.playerAchievement;null!=t&&t.SaveAchievement_chhr4e$(e)},Pv.prototype.SetPercentComplete_gspc9z$=function(e,t,i){void 0===i&&(i=!1),this.SetPercentComplete_1truf$(e.value,t,i)},Pv.prototype.SetPercentComplete_1truf$=function(e,t,i){void 0===i&&(i=!1);var r=this.playerAchievement;null!=r&&r.SetPercentCompleteString_1truf$(e,t,i)},Pv.prototype.GetPercentComplete_chhr4e$=function(e){var t=this.playerAchievement;return null!=t?t.GetPercentComplete_chhr4e$(e):0},Pv.prototype.GetPercentComplete_61zpoe$=function(e){var t=this.playerAchievement;return null!=t?t.GetPercentCompleteString_61zpoe$(e):0},Pv.$metadata$={kind:o,simpleName:"PlayerRecordManager",interfaces:[]},Yv.$metadata$={kind:o,simpleName:"PermanentKey",interfaces:[h]},Yv.values=function(){return[Kv(),Zv(),Qv()]},Yv.valueOf_61zpoe$=function(e){switch(e){case"EMPTY_KEY":return Kv();case"STAR_AMOUNT":return Zv();case"EXP":return Qv();default:c("No enum constant com.blindcatstudio.samsara.user.PermanentKey."+e)}},eg.$metadata$={kind:u,simpleName:"Holder",interfaces:[]};var tg=null;function ig(){return null===tg&&new eg,tg}function rg(){(lg=this).initialized=!1}rg.prototype.shared=function(){return null==ig().instance&&(ig().instance=new Jv),Je(ig().instance)},rg.prototype.shutdown=function(){ig().instance=null},rg.$metadata$={kind:u,simpleName:"Companion",interfaces:[]};var og,ng,ag,sg,lg=null;function ug(){return null===lg&&new rg,lg}function hg(){var r,p;ya(void 0,void 0,void 0,this),this.blockId=[null,null,null,null,null,null],this.menu_z3bng4$_0=this.menu_z3bng4$_0,this.notice_zgfnxv$_0=this.notice_zgfnxv$_0,this.particleManagerForFairy_bo91vu$_0=this.particleManagerForFairy_bo91vu$_0,this.menuBackCallback=(r=this,function(e,t,i){return r.menu.drop(),new Pg}),this.menuCallback=(p=this,function(e,t,i){if(null!=i){var r,o={v:0},n=Je(i);e:do{if(null==n){r=0;break e}if(Ke.isNumber(n)){r=et(n);break e}if("string"==typeof n)try{var a=tt(n);r=a;break e}catch(e){if(Ke.isType(e,ta)){r=0;break e}throw e}r=0}while(0);var s=r;if(null!=s){var l=p.blockId[s];if(null!=l){var u=Nv().shared().GetItemInfo_61zpoe$(l);null!=u&&(o.v=u.GetPrice_61zpoe$("Star"))}}return p.notice.SetShow_6taknv$(!0),p.notice.addText_r4v59z$(Zl("MENU_13")+"\n\n\n\n[Button Resource/UI/IconYes 50 ok]        [Button Resource/UI/IconNo 50 no]",.3),p.notice.SetMessageHandler_4mjqr2$((h=p,c=o,v=i,function(e){var t,d,p,f,m;return e.event!==Ar()||(null!=(t=h.screen)&&t.actionDelay_ab0iom$(0,void 0,(d=h,p=e,f=c,m=v,function(){var e,t,i,r;if(dh().shared().playEffect_bm4lxs$("click"),d.notice.SetShow_6taknv$(!1),d.notice.clearText_gam257$(),he(null!=(e=p.sender)?e.GetName():null,"ok")){null!=(t=d.screen)&&t.actionDelay_ab0iom$(.5,void 0,pg),ug().shared().decreaseStar_za3lpa$(f.v);var o=Ke.isType(i=d.findChildByName_3m52m6$("Star Amount"),ma)?i:null;null!=o&&o.clearText_gam257$(void 0,(r=o,function(){return r.addText_r4v59z$("[image Resource/UI/IconStar 20] "+Jl(ug().shared().GetStarAmount())),Ze}));var n,a=Je(m);e:do{if(null==a){n=0;break e}if(Ke.isNumber(a)){n=et(a);break e}if("string"==typeof a)try{var s=tt(a);n=s;break e}catch(e){if(Ke.isType(e,ta)){n=0;break e}throw e}n=0}while(0);var l=n;if(null!=l){var u=d.blockId[l];if(null!=u){var h=Nv().shared().GetItemInfo_61zpoe$(u);null!=h&&(h.SetAmount_za3lpa$(1),Nv().shared().savePlayerItem_61zpoe$(u))}}d.menu.SetEnable_fzusl$(l,!0),d.menu.SetCurrent_za3lpa$(l);var c=d.blockId[l];null!=c&&(za().shared().changeCurrentBlockSet_61zpoe$(c),za().shared().saveCurrentBlockSet())}return Ze})),!1)})),null}var h,c,v;if(!1===t)return null;var d=p.blockId[e];return null!=d&&(za().shared().changeCurrentBlockSet_61zpoe$(d),za().shared().saveCurrentBlockSet()),null})}function cg(i,a,s){return function(e){var r,o,n,t=ug().shared().GetStarAmount();return i.v!==t&&(i.v=t,a.clearText_gam257$(void 0,(r=a,o=s,n=t,function(){var e,t=r,i=o.v;e:do{if(Ke.isNumber(i)){e=i.toString();break e}if("string"==typeof i){e=i;break e}if("boolean"==typeof i){e=i.toString();break e}if(Ke.isChar(i)){e=i.toString();break e}e=""}while(0);return t.addText_r4v59z$("[image Resource/UI/IconStar "+e+"] "+Jl(n)),Ze}))),!0}}function dg(r){return function(e){var t,i;return(e===Bt().ESCAPE||e===Bt().BACK)&&(r.menu.drop(),null!=(t=r.screen)&&t.actionDelay_ab0iom$(0,void 0,(i=r,function(){var e;return null!=(e=i.screen)&&e.presentView_xl35ob$(new Pg),Ze})),!0)}}function pg(){return dh().shared().playEffect_bm4lxs$("buy"),Ze}function fg(){var m;this.game_lsce3y$_0=this.game_lsce3y$_0,this.menu=null,this.background=null,this.heightOffset1=40,this.bannerOffset=0,this.newRecord=!1,this.perfectPlay=!1,this.gameScore=0,this.bonusScore=0,this.scorePerSecond=0,this.particleManager_66rxx3$_0=this.particleManager_66rxx3$_0,this.cameraPreset=[ko(20,Ai(0,0,0),Ai(15,0,0),Ai(0,0,0),90,800,500,200),ko(20,Ai(0,0,-150),Ai(0,0,0),Ai(0,0,0),90,1600,200,100)],this.currentCamera_8wat6a$_0=this.currentCamera_8wat6a$_0,this.paperCount=0,this.fireworkManager_x19jg6$_0=this.fireworkManager_x19jg6$_0,this.step=0,this.menuItem=(m=this,function(e,t,i){var r,o,n,a,s;if(!1===t)return null;if(0===e){he(Ou().GetConfigure_jyasbz$("Demo"),"true")||ug().shared().decreaseStar_za3lpa$(m.game.gameConfigure.needStar);var l=m.screen;dh().shared().BGMFadeOut_o5txl1$(Je(l),"ResultBGM",0,.5),dh().shared().BGMFadeOut_o5txl1$(Je(l),"NewRecordBGM",0,.5);var u=Xd(m.game.gameConfigure),h=Mg(u);return m.game.stop(),m.game.deinitGame(),h}if(1===e){m.hideButton();var c=m.createSprite_591x4d$(160,400,0,"Resource/UI/Title",240,void 0,void 0,void 0,void 0,!1);c.SetHorizontalAlign_jdpdm8$(lo());var d=m.createSprite_9wuqyc$(160,455,void 0,"Resource/UI/SubTitle",240,void 0,void 0,m.sizeScale);d.SetVerticalAlign_qn2em6$(io()),d.SetHorizontalAlign_jdpdm8$(lo());var p=Di(0,0,m.GetSize().width,m.GetSize().height);null!=(r=m.screen)&&r.actionDelay_ab0iom$(1,void 0,(o=p,n=c,a=d,s=m,function(){var t,e=Ie().shared().GetScreenshot_3fx80m$(o);return n.removeFromParent(),a.removeFromParent(),Km().SetInteger_rjan26$("PreventAds",void 0,1),za().shared().shareSocial_3yj0dh$(Zl("Beat my score!"),e,null,(t=s,function(){var e;return t.showButton(),null!=(e=t.screen)&&e.actionDelay_ab0iom$(5,void 0,wg),Ze})),Ze}))}else if(2===e){var f=m.screen;return dh().shared().BGMFadeOut_o5txl1$(Je(f),"ResultBGM",0,.5),dh().shared().BGMFadeOut_o5txl1$(Je(f),"NewRecordBGM",0,.5),m.game.stop(),m.game.deinitGame(),new Pg}return null})}function mg(i,a,s){return function(e){var r,o,n,t=ug().shared().GetStarAmount();return i.v!==t&&(i.v=t,a.clearText_gam257$(void 0,(r=a,o=s,n=t,function(){var e,t=r,i=o.v;e:do{if(Ke.isNumber(i)){e=i.toString();break e}if("string"==typeof i){e=i;break e}if("boolean"==typeof i){e=i.toString();break e}if(Ke.isChar(i)){e=i.toString();break e}e=""}while(0);return t.addText_r4v59z$("[image Resource/UI/IconStar "+e+"] "+Jl(n)),Ze}))),!0}}function vg(e){return Ou().SetDouble_io5o9c$("PlayingTimeForAds",0),Ou().SetInteger_bm4lxs$("PlayingCountForAds",0),Ze}function gg(e){return e.event!==Ar()||(window.open("https://itunes.apple.com/app/samsara-stones-of-eternity/id1196258279","_blank"),!1)}function _g(e){return e.event!==Ar()||(window.open("https://play.google.com/store/apps/details?id=com.blindcatstudio.samsara","_blank"),!1)}function $g(j,P,B,E,F,L){return function(e){var t,i,r,o,n,a,s,l,u,h,c;if(1===e.count){var d=Jl(j.game.gameValue.score);if(5<d.length){var p,f=P,m=P.v*j.sizeScale.yRatio,v=d.length-5|0;e:do{if(null==v){p=0;break e}if(Ke.isNumber(v)){p=it(v);break e}if("string"==typeof v)try{p=Qe(v);break e}catch(e){if(Ke.isType(e,ta)){p=0;break e}throw e}p=0}while(0);var g,_=p;e:do{if(Ke.isNumber(25)){g=it(25);break e}g=0}while(0);f.v=m*(1-_/g)}else P.v=P.v*j.sizeScale.yRatio;return j.SetFontSize_mx4ult$(P.v),j.SetFontName_61zpoe$("BigScore/"),B.v=j.createLabel_17tgk7$(160,40+j.heightOffset1+j.bannerOffset,Rn(),"0",null,!1,null,null,!1),null!=(t=B.v)&&t.SetSize_dleff0$(-1,P.v),null!=(i=B.v)&&i.SetColor_vnjrmz$(hi().puzzleYellow_mx4ult$()),null!=(r=B.v)&&r.SetBlendFactor_mx4ult$(1),j.showRecord(),!0}if(E.v!==j.game.gameValue.score){E.v=j.game.gameValue.score;var $,y=F,b=L.v;e:do{if(null==b){$=0;break e}if(Ke.isNumber(b)){$=it(b);break e}if("string"==typeof b)try{$=Qe(b);break e}catch(e){if(Ke.isType(e,ta)){$=0;break e}throw e}$=0}while(0);y.reset_y2kzbl$(void 0,void 0,$);var S,k=F,w=E.v;e:do{if(null==w){S=0;break e}if(Ke.isNumber(w)){S=it(w);break e}if("string"==typeof w)try{S=Qe(w);break e}catch(e){if(Ke.isType(e,ta)){S=0;break e}throw e}S=0}while(0);k.SetTarget_nfvrp9$(S,-50,1,void 0,-1),0===j.step?dh().shared().playEffect_bm4lxs$("score"):dh().shared().playEffect_bm4lxs$("ghostscore")}if(L.v<E.v){var x,C=L,z=F.update_mx4ult$(e.elapsed);e:do{if(null==z){x=0;break e}if(Ke.isNumber(z)){x=et(z);break e}if("string"==typeof z)try{x=tt(z);break e}catch(e){if(Ke.isType(e,ta)){x=0;break e}throw e}x=0}while(0);C.v=x,L.v>E.v&&(L.v=E.v),null!=(o=B.v)&&o.SetText_61zpoe$(Jl(L.v)),null!=(n=B.v)&&n.SetSize_dleff0$(-1,P.v)}if(L.v===E.v)switch(j.step){case 0:0===j.game.gameConfigure.obstacleMaximumNumber?j.step=3:(j.step=1,null!=(a=j.screen)&&a.actionDelay_ab0iom$(.5,void 0,(c=j,function(){return c.processGhost(),Ze})));break;case 1:break;default:if(!0===j.game.gameConfigure.showSPS){var T,G=uv().shared(),A=j.game.gameConfigure.modeString,I=j.scorePerSecond;e:do{if(Ke.isNumber(I)){T=$h(I);break e}if("string"==typeof I){T=yh(I);break e}T=Ke.Long.ZERO}while(0);G.submitSPS_4ipezg$(A,T,"0")}var N,M=uv().shared(),O=j.game.gameConfigure.modeString,R=j.game.gameValue.score;e:do{if(Ke.isNumber(R)){N=$h(R);break e}if("string"==typeof R){N=yh(R);break e}N=Ke.Long.ZERO}while(0);return M.submitScore_4ipezg$(O,N,"0"),!0===j.newRecord?null!=(s=j.screen)&&s.actionDelay_ab0iom$(.5,void 0,(h=j,function(){var e;h.game.GetPlayerRecord().SetHighScore_za3lpa$(h.game.gameValue.score),h.game.GetPlayerRecord().SaveHighScore_3uxocb$(null);var t=145;!0===Ou().isWatchOS()&&(t=130),3===h.game.gameConfigure.width&&(t=105),h.SetFontName_61zpoe$("MENU_/");var i=h.createLabel_17tgk7$(160,t+h.heightOffset1+h.bannerOffset,void 0,Zl("MENU_53"));i.SetSize_dleff0$(240*h.sizeScale.xRatio,20*h.sizeScale.yRatio),i.SetHorizontalAlign_jdpdm8$(lo()),i.SetVerticalAlign_qn2em6$(ro()),i.SetColor_vnjrmz$(ci("F3C746")),i.SetBlendFactor_mx4ult$(1);var r=Ke.isType(e=h.findChildByName_3m52m6$("High Score Line"),ma)?e:null;return null!=r&&(r.clearText_gam257$(),r.addText_r4v59z$("[Color yellow][Font]"+Zl("MENU_30")+"[Color]: [Font Number/][Color yellow]"+Jl(h.game.gameValue.score))),h.fireworkEffect(),dh().shared().BGMFadeIn_o5txl1$(Je(h.screen),"NewRecordBGM",100,.5),h.showMenu(),Ze})):(j.createBackgroundEffect(),dh().shared().BGMFadeIn_o5txl1$(Je(j.screen),"ResultBGM",100,.5),j.showMenu()),j.checkAchievementComplete(),he(Ou().GetConfigure_jyasbz$("Auto Play"),"true")&&null!=(l=j.screen)&&l.actionDelay_ab0iom$(2,void 0,(u=j,function(){var e,t=u.menuItem(0,!0,null);return null!=(e=u.screen)&&e.presentView_xl35ob$(Je(t)),Ze})),!1}return!0}}function yg(r,o){return function(){var e,t,i;return null!=(e=r.screen)&&e.actionDelay_ab0iom$(.5,void 0,(t=r,i=o,function(){var e;return(e=t.game.gameValue).score=e.score+i|0,t.step=t.step+1|0,Ze})),Ze}}function bg(i){return function(){var e,t;return null!=(e=i.screen)&&e.actionDelay_ab0iom$(.5,void 0,(t=i,function(){return t.step=t.step+1|0,Ze})),Ze}}function Sg(e,t,i){return e.position.z>t.position.z+t.farMost}function kg(e,t,i){return e.position.z>t.position.z+t.farMost}function wg(){return Km().SetInteger_rjan26$("PreventAds",void 0,0),Ze}function xg(e,t){return ya(void 0,void 0,void 0,t=t||Object.create(fg.prototype)),fg.call(t),t.game=e,t}function Cg(){this.game=null,this.notice_ezkio8$_0=this.notice_ezkio8$_0,this.pause_fseh8y$_0=this.pause_fseh8y$_0,this.bottomHeight=0}function zg(e){return Ou().SetDouble_io5o9c$("PlayingTimeForAds",0),Ou().SetInteger_bm4lxs$("PlayingCountForAds",0),Ze}function Tg(r){return function(){var e,t,i;return dh().shared().playEffect_bm4lxs$("click"),r.notice.SetShow_6taknv$(!1),r.notice.clearText_gam257$(),r.game.initGame_g5c4ga$(r),r.game.start(),null!=(e=r.screen)&&e.actionDelay_ab0iom$(.5,void 0,(i=r,function(){return i.game.generateBoard(),Ze})),r.preparePauseMenu(),null!=(t=r.screen)&&t.removeKeydownListener_61zpoe$("Hint OK"),Ze}}function Gg(n,a){return function(){var e,t,i,r,o;return n.notice.addText_r4v59z$(a.v,.3),null!=(e=n.screen)&&e.actionDelay_ab0iom$(.5,void 0,(i=n,function(){return!0===Ou().isWatchOS()?i.notice.addText_r4v59z$("[button Resource/UI/IconPlay 80 ok]",.3):i.notice.addText_r4v59z$("[button Resource/UI/IconPlay 60 ok]",.3),Ze})),n.notice.SetMessageHandler_4mjqr2$((r=n,function(e){var t;return e.event!==Ar()||(null!=(t=r.screen)&&t.actionDelay_ab0iom$(0,void 0,Tg(r)),!1)})),null!=(t=n.screen)&&t.addKeydownListener_5ol7k9$("Hint OK",(o=n,function(e){var t;if(e===Bt().ENTER){var i=Ke.isType(t=o.notice.findChildByName_3m52m6$("ok"),Kt)?t:null;if(null!=i)return i.click(),!0}return!1})),Ze}}function Ag(n,a){return function(e){var t,i,r,o;return e.event!==Ar()||(null!=(t=n.screen)&&t.actionDelay_ab0iom$(0,void 0,(i=a,r=e,o=n,function(){var e;dh().shared().playEffect_bm4lxs$("click"),i.SetShow_6taknv$(!1),i.clearText_gam257$();var t=null!=(e=r.sender)?e.GetName():null;return null!=t&&he(t,"ok")&&(o.pause.SetShow_6taknv$(!1),o.game.isCanceled=!0,o.game.gameCancel()),Ze})),!1)}}function Ig(i){return function(e){var t,y,b;return e.event!==Ar()||(null!=(t=i.screen)&&t.actionDelay_ab0iom$(0,void 0,(y=e,b=i,function(){var e,t,i,r,o,n,a,s,l,u,h,c,d;dh().shared().playEffect_bm4lxs$("click");var p=null!=(e=y.sender)?e.GetName():null;if(null!=p)if(he(p,"ok"))b.pause.SetShow_6taknv$(!1),b.pause.clearText_gam257$(),b.pause.SetShow_6taknv$(!1),b.game.isCanceled=!0,b.game.gameCancel();else if(he(p,"no"))b.pause.SetShow_6taknv$(!1),b.pause.clearText_gam257$(),b.game.isPaused=!1,null!=(t=b.game.gameTimer)&&t.resume(),null!=(i=b.game.comboTimer)&&i.resume(),null!=(r=b.game.feverTimer)&&r.resume(),null!=(o=b.game.blockDisableTimer)&&o.resume(),b.game.cancelKeyInput_za3lpa$();else if(he(p,"home")){b.SetFontSize_mx4ult$(16),b.SetFontName_61zpoe$("MENU_/");var f=2;he(Zl("TUTORIAL_TEXT_WRAP_TYPE"),"CHARACTER")&&(f=1);var m=b.createTextArea_pvsv9g$(160,240,Pn(),240,480,0,.5,1,void 0,void 0,f);m.SetFadeMode_za3lpa$(1),m.SetTextVerticalAlign_qn2em6$(ro()),m.SetTextHorizontalAlign_jdpdm8$(lo()),m.SetModal_6taknv$(!0),m.SetShow_6taknv$(!0),b.SetChildVerticalAlign_qn2em6$(ro()),b.SetChildHorizontalAlign_jdpdm8$(lo()),m.addText_r4v59z$("[Scale 1.0]"+Zl("MENU_46")+"\n\n\n\n[Scale]"),m.addText_r4v59z$("[Button Resource/UI/IconYes 50 ok]          [Button Resource/UI/IconNo 50 no]\n",.3),m.SetMessageHandler_4mjqr2$(Ag(b,m))}else if(he(p,"sound"))if(0===dh().shared().GetBGMVolume()){Km().SetInteger_hh7mhe$(Mf(),void 0,100),dh().shared().SetBGMVolume_mx4ult$(100);var v=Ke.isType(n=y.sender,Kt)?n:null;null!=v&&v.SetImageFrame_a3w2ab$(["Resource/UI/IconSoundOn"]),za().shared().setAdsMute_6taknv$(!1)}else{Km().SetInteger_hh7mhe$(Mf(),void 0,0),dh().shared().SetBGMVolume_mx4ult$(0);var g=Ke.isType(a=y.sender,Kt)?a:null;null!=g&&g.SetImageFrame_a3w2ab$(["Resource/UI/IconSoundOff"]),za().shared().setAdsMute_6taknv$(!0)}else if(he(p,"sfx"))if(0===dh().shared().GetEffectVolume()){Km().SetInteger_hh7mhe$(Of(),void 0,100),dh().shared().SetEffectVolume_mx4ult$(100);var _=Ke.isType(s=y.sender,Kt)?s:null;null!=_&&_.SetImageFrame_a3w2ab$(["Resource/UI/IconSFXOn"])}else{Km().SetInteger_hh7mhe$(Of(),void 0,0),dh().shared().SetEffectVolume_mx4ult$(0);var $=Ke.isType(l=y.sender,Kt)?l:null;null!=$&&$.SetImageFrame_a3w2ab$(["Resource/UI/IconSFXOff"])}else he(p,"resume")&&(b.pause.SetShow_6taknv$(!1),b.pause.clearText_gam257$(),b.game.isPaused=!1,null!=(u=b.game.gameTimer)&&u.resume(),null!=(h=b.game.comboTimer)&&h.resume(),null!=(c=b.game.feverTimer)&&c.resume(),null!=(d=b.game.blockDisableTimer)&&d.resume(),b.game.cancelKeyInput_za3lpa$());return Ze})),!1)}}function Ng(i,r){return function(e){var t,a,s,l;return e.event!==Ar()||(null!=(t=i.screen)&&t.actionDelay_ab0iom$(0,void 0,(a=r,s=e,l=i,function(){var e,t,i,r,o;dh().shared().playEffect_bm4lxs$("click"),a.SetShow_6taknv$(!1),a.clearText_gam257$();var n=null!=(e=s.sender)?e.GetName():null;return null!=n&&(he(n,"ok")?(l.game.isCanceled=!0,l.game.gameCancel()):(l.game.isPaused=!1,null!=(t=l.game.gameTimer)&&t.resume(),null!=(i=l.game.comboTimer)&&i.resume(),null!=(r=l.game.feverTimer)&&r.resume(),null!=(o=l.game.blockDisableTimer)&&o.resume(),l.game.cancelKeyInput_za3lpa$())),Ze})),!1)}}function Mg(e,t){return ya(void 0,void 0,void 0,t=t||Object.create(Cg.prototype)),Cg.call(t),t.game=e,t}function Og(){ya(void 0,void 0,void 0,this)}function Rg(){var e=Km().GetString_sv46oe$(Bf(),void 0,"BlocksetNumber");return za().shared().changeCurrentBlockSet_61zpoe$(e),za().shared().saveCurrentBlockSet(),Ze}function jg(p,f,v,g,_){return function(e){var t,m,i,r;if(0<p.v.size){p.v.removeAt_za3lpa$(0)();var o,n=100*(1-p.v.size/f);e:do{if(null==n){o=0;break e}if(Ke.isNumber(n)){o=et(n);break e}if("string"==typeof n)try{o=tt(n);break e}catch(e){if(Ke.isType(e,ta)){o=0;break e}throw e}o=0}while(0);if(o!==v.v){var a,s=v;e:do{if(null==n){a=0;break e}if(Ke.isNumber(n)){a=et(n);break e}if("string"==typeof n)try{a=tt(n);break e}catch(e){if(Ke.isType(e,ta)){a=0;break e}throw e}a=0}while(0);s.v=a;var l,u=v.v;e:do{if(null==u){l=0;break e}if(Ke.isNumber(u)){l=et(u);break e}if("string"==typeof u)try{l=tt(u);break e}catch(e){if(Ke.isType(e,ta)){l=0;break e}throw e}l=0}while(0);var h,c=l;e:do{if(Ke.isNumber(c)){h=c.toString();break e}if("string"==typeof c){h=c;break e}if("boolean"==typeof c){h=c.toString();break e}if(Ke.isChar(c)){h=c.toString();break e}h=""}while(0);var d=h+"%";g.clearText_gam257$(void 0,(i=g,r=d,function(){return i.addText_r4v59z$("Loading... "+r),Ze}))}0===p.v.size&&null!=(t=_.screen)&&t.actionDelay_ab0iom$(.5,void 0,(m=_,function(){var e,t;if(1===Km().GetInteger_rjan26$("Snapshot")){var i=null;switch(Km().GetString_sv46oe$(Rf())){case"Beginner":var r,o=m.size.width;e:do{if(null==o){r=0;break e}if(Ke.isNumber(o)){r=it(o);break e}if("string"==typeof o)try{r=Qe(o);break e}catch(e){if(Ke.isType(e,ta)){r=0;break e}throw e}r=0}while(0);var n,a=r,s=m.size.height;e:do{if(null==s){n=0;break e}if(Ke.isNumber(s)){n=it(s);break e}if("string"==typeof s)try{n=Qe(s);break e}catch(e){if(Ke.isType(e,ta)){n=0;break e}throw e}n=0}while(0);i=bp(Di(0,0,a,n));break;case"Beginner6x6":var l,u=m.size.width;e:do{if(null==u){l=0;break e}if(Ke.isNumber(u)){l=it(u);break e}if("string"==typeof u)try{l=Qe(u);break e}catch(e){if(Ke.isType(e,ta)){l=0;break e}throw e}l=0}while(0);var h,c=l,d=m.size.height;e:do{if(null==d){h=0;break e}if(Ke.isNumber(d)){h=it(d);break e}if("string"==typeof d)try{h=Qe(d);break e}catch(e){if(Ke.isType(e,ta)){h=0;break e}throw e}h=0}while(0);i=kp(Di(0,0,c,h))}if(null!=i){Je(i).adjustTileSize();var p=Mg(Xd(Je(i)));null!=(e=m.screen)&&e.presentView_xl35ob$(p)}}else{var f=new Pg;null!=(t=m.screen)&&t.presentView_xl35ob$(f)}return Ze}))}}}function Pg(){var r,u;ya(void 0,void 0,void 0,this),this.particleManager=null,this.particleManagerForFairy=null,this.title=null,this.bg=null,this.notice=null,this.music_e6wunb$_0=this.music_e6wunb$_0,this.screenToggle_6i50om$_0=this.screenToggle_6i50om$_0,this.bottomMenuItem=(r=this,function(e,t,i){return!1===t?null:0===e?!0===za().shared().isDesktop()?(dh().shared().BGMFadeOut_o5txl1$(Je(r.screen),"MenuBGM",0,.5),z_(2)):(za().shared().showLeaderboard(),null):1===e?new hg:2===e?new n_:null}),this.menuCallback=(u=this,function(e,t,i){if(!1===t)return null;switch(e){case 0:if(!1===Ie().shared().GetDebug()&&0===Km().GetInteger_hh7mhe$(Vf(),void 0,0)&&0===Km().GetInteger_hh7mhe$(Uf(),void 0,0))return dh().shared().BGMFadeOut_o5txl1$(Je(u.screen),"MenuBGM",0,.5),z_(0);var r=bp(Di(0,0,u.size.width,u.size.height));Je(r).adjustTileSize();var o=Xd(r);return dh().shared().BGMFadeOut_o5txl1$(Je(u.screen),"MenuBGM",0,.5),Km().SetString_sv46oe$(Rf(),void 0,r.modeString),he(Ou().GetConfigure_jyasbz$("Demo"),"true")||ug().shared().decreaseStar_za3lpa$(r.needStar),Mg(o);case 1:if(!1===Ie().shared().GetDebug()&&0===Km().GetInteger_hh7mhe$(Vf(),void 0,0)&&0===Km().GetInteger_hh7mhe$(qf(),void 0,0))return dh().shared().BGMFadeOut_o5txl1$(Je(u.screen),"MenuBGM",0,.5),z_(1);var n=kp(Di(0,0,u.size.width,u.size.height));Je(n).adjustTileSize();var a=Xd(n);return dh().shared().BGMFadeOut_o5txl1$(Je(u.screen),"MenuBGM",0,.5),Km().SetString_sv46oe$(Rf(),void 0,n.modeString),he(Ou().GetConfigure_jyasbz$("Demo"),"true")||ug().shared().decreaseStar_za3lpa$(n.needStar),Mg(a);case 2:var s=fp(Di(0,0,u.size.width,u.size.height));Je(s).adjustTileSize();var l=Xd(s);return dh().shared().BGMFadeOut_o5txl1$(Je(u.screen),"MenuBGM",0,.5),Km().SetString_sv46oe$(Rf(),void 0,s.modeString),he(Ou().GetConfigure_jyasbz$("Demo"),"true")||ug().shared().decreaseStar_za3lpa$(s.needStar),Mg(l)}return null})}function Bg(){return za().shared().Shutdown(),Ze}function Eg(t,r){return function(e){return e===Bt().ESCAPE||e===Bt().BACK?(vh().showNotice_5m2ezf$(t,Zl("MENU_52")+"\n\n\n[Button Resource/UI/IconYes 50 ok]           [Button Resource/UI/IconNo 50 no]",void 0,void 0,void 0,(i=t,function(e){var t;vh().closeNotice(),he(e.GetName(),"ok")&&null!=(t=i.screen)&&t.actionDelay_ab0iom$(.5,void 0,Bg)})),!0):e===Bt().ENTER&&(r.click_za3lpa$(0),!0);var i}}function Fg(e){return e.event!==Ar()}function Lg(e){return e.event!==Ar()}function Dg(e,t,i){return e.position.z<t.position.z}function Vg(e,t,i){h.call(this),this.value=i,this.name$=e,this.ordinal$=t}function Ug(){Ug=function(){},og=new Vg("NORMAL",0,0),ng=new Vg("RADIO",1,1),ag=new Vg("SWITCH",2,2),sg=new Vg("TEXT",3,3)}function qg(){return Ug(),og}function Hg(){return Ug(),ng}function Wg(){return Ug(),ag}function Yg(){return Ug(),sg}function Xg(){this.enable=!0,this.onOff=ca(),this.image=[null,null,null,null],this.upperCaption="",this.title="",this.description=[],this.callback=null,this.button=null,this.type=null,this.group=0,this.fontName="Credits/",this.fadeTime=.2}function Kg(e,t,i,r,o,n,a,s){return void 0===t&&(t=""),void 0===i&&(i=["",""]),void 0===r&&(r=qg()),void 0===o&&(o=0),void 0===n&&(n=.15),s=s||Object.create(Xg.prototype),Xg.call(s),s.image[0]=e,s.title=t,s.description=i,s.type=r,s.group=o,s.fadeTime=n,s.callback=a,s}function Zg(e,t,i,r,o,n,a,s){return void 0===t&&(t=""),void 0===i&&(i=["",""]),void 0===r&&(r=qg()),void 0===o&&(o=0),void 0===n&&(n=.15),s=s||Object.create(Xg.prototype),Xg.call(s),s.image=e,s.title=t,s.description=i,s.type=r,s.group=0,s.fadeTime=n,s.callback=a,s}function Qg(){this.view=null,this.size=null,this.menuDimension=null,this.tileSize=0,this.tileWidthScale=0,this.boardTile=null,this.items=null,this.title=null,this.titleForWatch=null,this.textArea=null,this.inputEnable=!1,this.current=-1}function Jg(r,o,n){return function(){var e,t,i;return Ie().shared().SetInputPending_6taknv$(!1),null!=(e=r.textArea)&&e.SetMessageHandler_4mjqr2$((t=o,i=n,function(e){return e.event===Ar()?(dh().shared().playEffect_bm4lxs$("click"),t.callback(i,!0,Je(e.sender).GetName()),!1):(e.event===Ir()&&dh().shared().playEffect_bm4lxs$("shake"),!0)})),Ze}}function e_(t,i,r,o){return function(e){return e.event===Gr()||(e.event===Tr()?(t.type!==Wg()&&t.type!==Hg()||(i===r.current?o.reaction=!1:o.reaction=!0),!0):e.event===Ir()?(dh().shared().playEffect_bm4lxs$("shake"),r.click_za3lpa$(i),!0):e.event!==Ar()||(dh().shared().playEffect_bm4lxs$("click"),!0!==r.inputEnable||(r.click_za3lpa$(i),t.type!==Hg())))}}function t_(o,n,a,s){return function(){var e,t,i,r=fn(0,.3*o.tileSize,n.GetPosition().y,a.v,.3);return r.SetTimeMultiplier_mx4ult$(10),n.SetYMotion_vn0wwp$(r),null!=(e=o.view.screen)&&e.actionDelay_ab0iom$(.5,void 0,(t=s,i=o,function(){return t.v=t.v+1|0,t.v>=i.menuDimension.height*i.menuDimension.width&&(i.inputEnable=!0),Ze})),Ze}}function i_(){return Ie().shared().SetInputPending_6taknv$(!1),Ze}function r_(t,i){return function(){var e=new dn(void 0,1.2*t.tileSize,i.GetPosition().y);return e.SetTimeMultiplier_mx4ult$(5),i.SetYMotion_vn0wwp$(e),Ze}}function o_(e,t,i,r,o,n,a,s,l,u){void 0===o&&(o=1),void 0===a&&(a=null),void 0===s&&(s=""),void 0===l&&(l="Resource/UI/menu_tile"),u=u||Object.create(Qg.prototype),Qg.call(u),u.view=e,u.size=t,u.menuDimension=i;var h=e.sizeUniversalToDevice_1lj1ir$("Resource/UI/menu_selected_mask",r);return u.tileSize=h.width,u.tileWidthScale=o,u.items=n,u.title=a,u.titleForWatch=s,u.boardTile=l,u}function n_(){var r,S;ya(void 0,void 0,void 0,this),this.menu_zk9po$_0=this.menu_zk9po$_0,this.notice_6fo1qd$_0=this.notice_6fo1qd$_0,this.particleManagerForFairy_8rru26$_0=this.particleManagerForFairy_8rru26$_0,this.menuBackCallback=(r=this,function(e,t,i){return r.menu.drop(),new Pg}),this.menuCallback=(S=this,function(e,t,i){var r,o,n,a,s,l,u,h,c,d,p,f,m,v,g,_,$;if(!1===t)return null;switch(e){case 0:0===dh().shared().GetBGMVolume()?(Km().SetInteger_hh7mhe$(Mf(),void 0,100),dh().shared().SetBGMVolume_mx4ult$(100),za().shared().setAdsMute_6taknv$(!1)):(Km().SetInteger_hh7mhe$(Mf(),void 0,0),dh().shared().SetBGMVolume_mx4ult$(0),za().shared().setAdsMute_6taknv$(!0));break;case 1:0===dh().shared().GetEffectVolume()?(Km().SetInteger_hh7mhe$(Of(),void 0,100),dh().shared().SetEffectVolume_mx4ult$(100)):(Km().SetInteger_hh7mhe$(Of(),void 0,0),dh().shared().SetEffectVolume_mx4ult$(0));break;case 2:for(Km().SetString_sv46oe$(Df(),void 0,"Normal"),r=Nv().shared().GetItemListByCategory_lssvdg$(dv()).iterator();r.hasNext();){var y=r.next();gt().shared().addAlias_puj7f4$(y.resource+"inactive_mask",y.resource+"inactive_mask")}break;case 3:for(Km().SetString_sv46oe$(Df(),void 0,"Blind"),o=Nv().shared().GetItemListByCategory_lssvdg$(dv()).iterator();o.hasNext();){var b=o.next();gt().shared().addAlias_puj7f4$(b.resource+"inactive_mask_CB",b.resource+"inactive_mask")}break;case 4:Yl("kr"),Km().SetString_sv46oe$(Lf(),void 0,"kr"),null!=(a=Ke.isType(n=Ie().shared().GetGuestScreen(),eh)?n:null)&&a.hideAllLabel_1zqrcg$(),null!=(s=S.screen)&&s.actionDelay_ab0iom$(0,void 0,($=S,function(){var e;return za().shared().generateLocalFont_dleff0$($.size.width,$.size.height),null!=(e=$.screen)&&e.presentView_xl35ob$(new n_),Ze}));break;case 5:Yl("en"),Km().SetString_sv46oe$(Lf(),void 0,"en"),null!=(u=Ke.isType(l=Ie().shared().GetGuestScreen(),eh)?l:null)&&u.hideAllLabel_1zqrcg$(),null!=(h=S.screen)&&h.actionDelay_ab0iom$(0,void 0,(_=S,function(){var e;return za().shared().generateLocalFont_dleff0$(_.size.width,_.size.height),null!=(e=_.screen)&&e.presentView_xl35ob$(new n_),Ze}));break;case 6:return vh().showNotice_5m2ezf$(S,Zl("MENU_54"),void 0,void 0,void 0,(g=S,function(e){var t,i,r,o;he(e.GetName(),"3x3")?(dh().shared().BGMFadeOut_o5txl1$(Je(g.screen),"MenuBGM",0,.3),null!=(t=g.screen)&&t.actionDelay_ab0iom$(0,void 0,(o=g,function(){var e,t;return null!=(e=o.screen)&&e.actionDelay_ab0iom$(.3,void 0,s_),null!=(t=o.screen)&&t.presentView_xl35ob$(z_(2)),Ze}))):he(e.GetName(),"6x6")&&(dh().shared().BGMFadeOut_o5txl1$(Je(g.screen),"MenuBGM",0,.3),null!=(i=g.screen)&&i.actionDelay_ab0iom$(0,void 0,(r=g,function(){var e,t;return null!=(e=r.screen)&&e.actionDelay_ab0iom$(.3,void 0,l_),null!=(t=r.screen)&&t.presentView_xl35ob$(z_(3)),Ze})))})),null;case 7:window.open("https://www.blindcatstudio.com","_blank");break;case 8:Km().SetInteger_hh7mhe$(Ff(),void 0,0),null!=(c=S.screen)&&c.actionDelay_ab0iom$(0,void 0,(v=S,function(){var e;return null!=(e=v.screen)&&e.presentView_xl35ob$(new n_),Ze}));break;case 9:Km().SetInteger_hh7mhe$(Ff(),void 0,1),null!=(d=S.screen)&&d.actionDelay_ab0iom$(0,void 0,(m=S,function(){var e;return null!=(e=m.screen)&&e.presentView_xl35ob$(new n_),Ze}));break;case 10:Km().SetInteger_hh7mhe$(Ff(),void 0,2),null!=(p=S.screen)&&p.actionDelay_ab0iom$(0,void 0,(f=S,function(){var e;return null!=(e=f.screen)&&e.presentView_xl35ob$(new n_),Ze}))}return null})}function a_(r){return function(e){var t,i;return(e===Bt().ESCAPE||e===Bt().BACK)&&(r.menu.drop(),null!=(t=r.screen)&&t.actionDelay_ab0iom$(0,void 0,(i=r,function(){var e;return null!=(e=i.screen)&&e.presentView_xl35ob$(new Pg),Ze})),!0)}}function s_(){return vh().closeNotice(),Ze}function l_(){return vh().closeNotice(),Ze}function u_(){ya(void 0,void 0,void 0,this)}function h_(e,t,i,r){this.script=e,this.intParam=t,this.floatParam=i,this.param=r}function c_(){var r;this.gameView_pf9145$_0=this.gameView_pf9145$_0,this.game_d8z56e$_0=this.game_d8z56e$_0,this.enableCancel=!1,this.exit=!1,this.touched=!1,this.textArea=Le(),this.fadeDuration=.2,this.scriptList=Le(),this.scriptLabel=le(),this.scriptFire=!1,this.scriptCurrent=0,this.scriptIfBlock=!1,this.scriptIfCondition=!0,this.lastResult=0,this.lastIncrease=new Fe(-1,-1),this.imageList=Le(),this.mode=0,this.menuCallback=(r=this,function(e,t,i){return null!=r.game&&!1===Je(r.game).isIdle()?null:(r.removeAllAction_jldc6z$(void 0,!1),dh().shared().BGMFadeOut_o5txl1$(Je(r.screen),"TutorialBGM",0,.5),dh().shared().BGMFadeIn_o5txl1$(Je(r.screen),"MenuBGM",100,1),null!=r.game&&(r.game.stop(),r.game.deinitGame()),0===r.mode||1===r.mode?new Pg:new n_)})}function d_(r){return function(e){var t,i;return(e===Bt().ESCAPE||e===Bt().BACK)&&(null!=r.game&&!1===Je(r.game).isIdle()||null!=(t=r.screen)&&t.actionDelay_ab0iom$(0,void 0,(i=r,function(){var e,t;return i.removeAllAction_jldc6z$(void 0,!1),dh().shared().BGMFadeOut_o5txl1$(Je(i.screen),"TutorialBGM",0,.5),dh().shared().BGMFadeIn_o5txl1$(Je(i.screen),"MenuBGM",100,1),null!=i.game&&(i.game.stop(),i.game.deinitGame()),0===i.mode||1===i.mode?null!=(e=i.screen)&&e.presentView_xl35ob$(new Pg):null!=(t=i.screen)&&t.presentView_xl35ob$(new n_),Ze})),!0)}}function p_(i){return function(){var e,t,p;return null!=i.gameView&&(i.gameView.SetTimeToLive_mx4ult$(0),null!=(e=i.screen)&&e.removeTouchListenerAll(),i.game.deinitGame(),null!=(t=i.screen)&&t.actionDelay_ab0iom$(.5,void 0,(p=i,function(){var e,t;if(0===p.mode||2===p.mode){var i,r=p.size.width;e:do{if(null==r){i=0;break e}if(Ke.isNumber(r)){i=it(r);break e}if("string"==typeof r)try{i=Qe(r);break e}catch(e){if(Ke.isType(e,ta)){i=0;break e}throw e}i=0}while(0);var o,n=i,a=p.size.height;e:do{if(null==a){o=0;break e}if(Ke.isNumber(a)){o=it(a);break e}if("string"==typeof a)try{o=Qe(a);break e}catch(e){if(Ke.isType(e,ta)){o=0;break e}throw e}o=0}while(0);t=bp(Di(0,0,n,o))}else{var s,l=p.size.width;e:do{if(null==l){s=0;break e}if(Ke.isNumber(l)){s=it(l);break e}if("string"==typeof l)try{s=Qe(l);break e}catch(e){if(Ke.isType(e,ta)){s=0;break e}throw e}s=0}while(0);var u,h=s,c=p.size.height;e:do{if(null==c){u=0;break e}if(Ke.isNumber(c)){u=it(c);break e}if("string"==typeof c)try{u=Qe(c);break e}catch(e){if(Ke.isType(e,ta)){u=0;break e}throw e}u=0}while(0);t=kp(Di(0,0,h,u))}t.adjustTileSize();var d=Mg(Xd(t));return null!=(e=p.screen)&&e.presentView_xl35ob$(d),Km().SetString_sv46oe$(Rf(),void 0,t.modeString),ug().shared().decreaseStar_za3lpa$(t.needStar),Ze}))),Ze}}function f_(n){return function(e,t,i){var r,o,p;return!0===n.exit||(dh().shared().BGMFadeOut_o5txl1$(Je(n.screen),"TutorialBGM",0,.5),null!=n.game?(n.game.stop(),null!=(r=n.screen)&&r.actionFadeOut_7vo5wp$(n.gameView,void 0,void 0,1,void 0,!0,void 0,p_(n))):null!=(o=n.screen)&&o.actionDelay_ab0iom$(.5,void 0,(p=n,function(){var e,t;if(0===p.mode||2===p.mode){var i,r=p.size.width;e:do{if(null==r){i=0;break e}if(Ke.isNumber(r)){i=it(r);break e}if("string"==typeof r)try{i=Qe(r);break e}catch(e){if(Ke.isType(e,ta)){i=0;break e}throw e}i=0}while(0);var o,n=i,a=p.size.height;e:do{if(null==a){o=0;break e}if(Ke.isNumber(a)){o=it(a);break e}if("string"==typeof a)try{o=Qe(a);break e}catch(e){if(Ke.isType(e,ta)){o=0;break e}throw e}o=0}while(0);t=bp(Di(0,0,n,o))}else{var s,l=p.size.width;e:do{if(null==l){s=0;break e}if(Ke.isNumber(l)){s=it(l);break e}if("string"==typeof l)try{s=Qe(l);break e}catch(e){if(Ke.isType(e,ta)){s=0;break e}throw e}s=0}while(0);var u,h=s,c=p.size.height;e:do{if(null==c){u=0;break e}if(Ke.isNumber(c)){u=it(c);break e}if("string"==typeof c)try{u=Qe(c);break e}catch(e){if(Ke.isType(e,ta)){u=0;break e}throw e}u=0}while(0);t=kp(Di(0,0,h,u))}t.adjustTileSize();var d=Mg(Xd(t));return null!=(e=p.screen)&&e.presentView_xl35ob$(d),Km().SetString_sv46oe$(Rf(),void 0,t.modeString),ug().shared().decreaseStar_za3lpa$(t.needStar),Ze})),n.exit=!0),null}}function m_(t){return function(e){t.lastResult=e,t.scriptFire=!1}}function v_(s){return function(e,t,i,r,o){var n,a;return null!=(n=s.screen)&&n.actionOnce_ab0iom$(i,void 0,(a=o,function(){return a(0),Ze})),new Fe(!0,0)}}function g_(a,s,l){return function(e,t,i,r,o){var n;return a.textArea.get_za3lpa$(s).clearText_gam257$(l,(n=o,function(){return n(0),Ze})),new Fe(!0,0)}}function __(u){return function(e,t,i,r,o){var n,a,s,l;return null!=(n=u.game)&&n.stop(),null!=(a=u.screen)&&a.actionFadeOut_7vo5wp$(u.gameView,void 0,void 0,u.fadeDuration,void 0,!0,void 0,(s=u,l=o,function(){var e;return null!=s.gameView&&(s.gameView.SetTimeToLive_mx4ult$(0),null!=(e=s.screen)&&e.removeTouchListener_61zpoe$("For Game"),null!=s.game&&s.game.deinitGame(),l(0)),Ze})),new Fe(!0,0)}}function $_(u,h,c){return function(e,t,i,r,o){var n,a,s,l;return u.createAction_xcdeti$("Wait Touch",void 0,void 0,void 0,h,void 0,void 0,(n=u,a={v:0},s=o,l=c,function(e){return 1===e.count?(a.v=Je(n.game).gameValue.clickCount,Je(n.game).lastIncrease=new Fe(-1,-1),!0):0===e.elapsed?(s(Je(n.game).gameValue.clickCount-a.v|0),!1):!(Je(n.game).gameValue.clickCount>=(a.v+l|0)&&(s(Je(n.game).gameValue.clickCount-a.v|0),1))})),new Fe(!0,0)}}function y_(u,h,c){return function(e,t,i,r,o){var n,a,s,l;return u.createAction_xcdeti$("Wait Touch All",void 0,void 0,void 0,h,void 0,void 0,(n=u,a={v:0},s=o,l=c,function(e){return 1===e.count?(a.v=Je(n.game).gameValue.clickAllCount,Je(n.game).lastIncrease=new Fe(-1,-1),!0):0===e.elapsed?(s(Je(n.game).gameValue.clickAllCount-a.v|0),!1):!(Je(n.game).gameValue.clickAllCount>=(a.v+l|0)&&(s(Je(n.game).gameValue.clickAllCount-a.v|0),1))})),new Fe(!0,0)}}function b_(s){return function(e,t,i,r,o){var n,a;return s.createAction_xcdeti$("Wait For Idle",void 0,void 0,void 0,void 0,void 0,void 0,(n=s,a=o,function(e){return!0!==Je(n.game).isIdle()||(a(0),!1)})),new Fe(!0,0)}}function S_(l,u,h){return function(e,t,i,r,o){var n,a,s;return l.createAction_xcdeti$("Wait Crush With Type",void 0,void 0,void 0,u,void 0,void 0,(n=l,a=h,s=o,function(e){var t,i=0;t=Je(n.game).gameValue.clearBlockType;for(var r=0;r!==t.length;++r){var o=t[r];if(a[r]>o)break;i=i+1|0}return 0===e.elapsed?(s(i),!1):i!==a.length||(s(i),!1)})),new Fe(!0,0)}}function k_(l,u,h){return function(e,t,i,r,o){var n,a,s;return l.createAction_xcdeti$("Wait Crush With Type",void 0,void 0,void 0,u,void 0,void 0,(n=l,a=h,s=o,function(e){var t;t=Je(n.game).gameValue.clearBlockType;for(var i=0;i!==t.length;++i)if(t[i]>=a[i])return s(i),!1;return 0!==e.elapsed||(s(-1),!1)})),new Fe(!0,0)}}function w_(u,h,c){return function(e,t,i,r,o){var n,a,s,l;return u.createAction_xcdeti$("Wait Idle",void 0,void 0,void 0,void 0,void 0,void 0,(n=u,a=h,s=c,l=o,function(e){return!0!==Je(n.game).isIdle()||(a===Je(n.game).lastIncrease.first&&s===Je(n.game).lastIncrease.second?l(0):l(1),!1)})),new Fe(!0,0)}}function x_(s){return function(e,t,i,r,o){var n,a;return s.createAction_xcdeti$("Wait Idle",void 0,void 0,void 0,void 0,void 0,void 0,(n=o,a=s,function(e){return n(Je(a.game).gameValue.clearBlockAmount),!1})),new Fe(!0,0)}}function C_(s){return function(e,t,i,r,o){var n,a;return s.createAction_xcdeti$("Wait Idle",void 0,void 0,void 0,void 0,void 0,void 0,(n=s,a=o,function(e){return!0!==Je(n.game).isIdle()||(Je(n.game).gameValue.clearBlockAmount=0,a(0),!1)})),new Fe(!0,0)}}function z_(e,t){return ya(void 0,void 0,void 0,t=t||Object.create(c_.prototype)),c_.call(t),t.mode=e,t.SetName_61zpoe$("TutorialView"),t}Jv.prototype.prepareInAppPurchase_o14v8n$=function(e){},Jv.prototype.load=function(){this.loadStar(),this.loadExp()},Jv.prototype.loadStar=function(){he(Ou().GetConfigure_jyasbz$("Demo"),"true")?this.starAmount=1100:this.starAmount=Km().GetIntegerPermanent_pngao4$(Zv())},Jv.prototype.saveStar=function(){Km().SetIntegerPermanent_pngao4$(Zv(),void 0,this.starAmount)},Jv.prototype.GetStarAmount=function(){return this.starAmount},Jv.prototype.addStar_za3lpa$=function(e){this.starAmount=this.starAmount+e|0,this.starAmount<0&&(this.starAmount=0),this.saveStar()},Jv.prototype.decreaseStar_za3lpa$=function(e){this.starAmount=this.starAmount-e|0,this.starAmount<0&&(this.starAmount=0),this.saveStar()},Jv.prototype.loadExp=function(){this.exp=Km().GetIntegerPermanent_pngao4$(Qv())},Jv.prototype.saveExp=function(){Km().SetIntegerPermanent_pngao4$(Qv(),void 0,this.exp)},Jv.prototype.GetExp=function(){return this.exp},Jv.prototype.addExp_za3lpa$=function(e){this.exp=this.exp+e|0,this.exp<0&&(this.exp=0),this.saveExp()},Jv.$metadata$={kind:o,simpleName:"StoreManager",interfaces:[]},Object.defineProperty(hg.prototype,"menu",{get:function(){return null==this.menu_z3bng4$_0?z("menu"):this.menu_z3bng4$_0},set:function(e){this.menu_z3bng4$_0=e}}),Object.defineProperty(hg.prototype,"notice",{get:function(){return null==this.notice_zgfnxv$_0?z("notice"):this.notice_zgfnxv$_0},set:function(e){this.notice_zgfnxv$_0=e}}),Object.defineProperty(hg.prototype,"particleManagerForFairy",{get:function(){return null==this.particleManagerForFairy_bo91vu$_0?z("particleManagerForFairy"):this.particleManagerForFairy_bo91vu$_0},set:function(e){this.particleManagerForFairy_bo91vu$_0=e}}),hg.prototype.afterAttached=function(){var e,t,i;Ie().shared().SetBackgroundColor_qt1dr2$(28,28,28),null!=(e=this.screen)&&(e.isDrawTouchMark=!0),this.SetChildVerticalAlign_qn2em6$(ro()),this.SetChildHorizontalAlign_jdpdm8$(lo());var r,o=Sn().value;e:do{if(null==o){r=0;break e}if(Ke.isNumber(o)){r=it(o);break e}if("string"==typeof o)try{r=Qe(o);break e}catch(e){if(Ke.isType(e,ta)){r=0;break e}throw e}r=0}while(0);this.createSprite_591x4d$(160,240,r,"Resource/UI/Background",320,480,void 0,void 0,!1);var n,a=Nv().shared().GetItemListByCategory_lssvdg$(dv()),s=_h(2*a.size|0);n=s.length-1|0;for(var l=0;l<=n;l++)s[l]=null;for(var u=s,h=0,c=a.iterator();c.hasNext();++h){var d,p,f=c.next(),m=Ke.isType(d=f,Sv)?d:null;if(null!=m){var v,g="";for(p=m.GetAbilityList().entries.iterator();p.hasNext();){var _=p.next();_.key;g+=Zl(_.value.second)+"\n"}if(!0===Ou().isWatchOS())v=["[COLOR]"+Zl(m.description)+"[SCALE][COLOR]\n\n[COLOR yellow]"+g+"[COLOR]","[COLOR]"+Zl(m.description)+"[SCALE][COLOR]\n\n[COLOR yellow]"+g+"[COLOR]"];else{var $="";if(m.GetPrice_61zpoe$("Star")>ug().shared().GetStarAmount()){var y,b="[COLOR]"+Zl(m.description)+"[SCALE][COLOR]\n\n[COLOR yellow]"+g+"[COLOR]\n[image Resource/UI/IconStar 15] [Scale 0.5]X [SCALE 0.6]",S=m.GetPrice_61zpoe$("Star");e:do{if(Ke.isNumber(S)){y=S.toString();break e}if("string"==typeof S){y=S;break e}if("boolean"==typeof S){y=S.toString();break e}if(Ke.isChar(S)){y=S.toString();break e}y=""}while(0);var k,w=b+y+"\n[Button Resource/UI/IconLockDisabled 50 ";e:do{if(Ke.isNumber(h)){k=h.toString();break e}if("string"==typeof h){k=h;break e}if("boolean"==typeof h){k=h.toString();break e}if(Ke.isChar(h)){k=h.toString();break e}k=""}while(0);$=w+k+" false]"}else{var x,C="[COLOR]"+Zl(m.description)+"[SCALE][COLOR]\n\n[COLOR yellow]"+g+"[COLOR]\n[image Resource/UI/IconStar 15] [Scale 0.5]X [SCALE 0.6]",z=m.GetPrice_61zpoe$("Star");e:do{if(Ke.isNumber(z)){x=z.toString();break e}if("string"==typeof z){x=z;break e}if("boolean"==typeof z){x=z.toString();break e}if(Ke.isChar(z)){x=z.toString();break e}x=""}while(0);var T,G=C+x+"\n[Button Resource/UI/IconLock 50 ";e:do{if(Ke.isNumber(h)){T=h.toString();break e}if("string"==typeof h){T=h;break e}if("boolean"==typeof h){T=h.toString();break e}if(Ke.isChar(h)){T=h.toString();break e}T=""}while(0);$=G+T+"]"}v=["[COLOR]"+Zl(m.description)+"[SCALE][COLOR]\n\n[COLOR yellow]"+g+"[COLOR]",$]}var A=Kg(m.resource+"IconMenu",void 0,v,Hg(),void 0,void 0,this.menuCallback);A.enable=!0,0===m.amount&&(A.enable=!1),u[h]=A,this.blockId[h]=m.id}}var I=60,N=40,M=40;!0===Ou().isWatchOS()&&(I=100,N=90,M=20);var O,R=this.GetSize(),j=a.size;e:do{if(null==j){O=0;break e}if(Ke.isNumber(j)){O=it(j);break e}if("string"==typeof j)try{O=Qe(j);break e}catch(e){if(Ke.isType(e,ta)){O=0;break e}throw e}O=0}while(0);this.menu=o_(this,R,Pi(O,1),I,void 0,u,null,Zl("MENU_12")),this.menu.prepare_1isvtk$(M,10,20,void 0,20);var P=za().shared().GetCurrentBlockSetId();t=this.blockId;for(var B=0;B!==t.length;++B){var E=t[B];if(he(E,P)){this.menu.SetCurrent_za3lpa$(B);break}}var F={v:20},L=24;!0===Ou().isWatchOS()&&(F.v=40,L=32),this.SetFontName_61zpoe$("Number/"),this.SetFontSize_mx4ult$(L),this.SetChildVerticalAlign_qn2em6$(io()),this.SetChildHorizontalAlign_jdpdm8$(uo());var D=this.createTextArea_pvsv9g$(310,5,void 0,320,0,0,.5,1);D.SetTextHorizontalAlign_jdpdm8$(uo()),D.SetTextVerticalAlign_qn2em6$(io());var V,U=F.v;e:do{if(Ke.isNumber(U)){V=U.toString();break e}if("string"==typeof U){V=U;break e}if("boolean"==typeof U){V=U.toString();break e}if(Ke.isChar(U)){V=U.toString();break e}V=""}while(0);if(D.addText_r4v59z$("[image Resource/UI/IconStar "+V+"] "+Jl(ug().shared().GetStarAmount())),D.SetName_61zpoe$("Star Amount"),!0===Ou().isWatchOS()){var q={v:ug().shared().GetStarAmount()};this.createAction_xcdeti$("Sync Watchdog",void 0,void 0,void 0,void 0,.5,void 0,cg(q,D,F))}this.SetFontSize_mx4ult$(16),this.SetFontName_61zpoe$("MENU_/"),this.SetChildVerticalAlign_qn2em6$(ro()),this.SetChildHorizontalAlign_jdpdm8$(lo()),this.notice=this.createTextArea_pvsv9g$(160,240,Pn(),320,480,0,.5,1),this.notice.SetFadeMode_za3lpa$(1),this.notice.SetTextVerticalAlign_qn2em6$(ro()),this.notice.SetTextHorizontalAlign_jdpdm8$(lo()),this.notice.SetModal_6taknv$(!0),this.SetFontSize_mx4ult$();var H=o_(this,this.GetSize(),Pi(2,1),N,void 0,[Kg("Resource/UI/IconBack",void 0,void 0,void 0,void 0,void 0,this.menuBackCallback),null]);!0===Ou().isWatchOS()?H.prepare_1isvtk$(160,150):H.prepare_1isvtk$(200,150),this.particleManagerForFairy=cn(this),this.createBackgroundEffect_v32r7z$(this.particleManagerForFairy,Di(0,0,320,480)),null!=(i=this.screen)&&i.addKeydownListener_5ol7k9$("Back Key",dg(this))},hg.prototype.beforeDetached=function(){this.particleManagerForFairy.clearParticlePool()},hg.prototype.update_mx4ult$=function(e){null!=this.particleManagerForFairy&&(this.particleManagerForFairy.updateObject_mx4ult$(e),this.particleManagerForFairy.projection_1s1xds$(this.size,Ai(0,0*this.sizeScale.yRatio,1e3))),$a.prototype.update_mx4ult$.call(this,e)},hg.prototype.createBackgroundEffect_v32r7z$=function(e,t,i){var r;void 0===i&&(i=30);var o=Km().GetInteger_hh7mhe$(Ff(),void 0,1);if(!(o<1)){var n=ko(20,Ai(0,0,-100),Ai(0,0,0),Ai(0,0,0),90,1600,200,50);e.SetCamera_s6wt6e$(n);var a,s=200*Ou().GetPerformance();e:do{if(null==s){a=0;break e}if(Ke.isNumber(s)){a=et(s);break e}if("string"==typeof s)try{a=tt(s);break e}catch(e){if(Ke.isType(e,ta)){a=0;break e}throw e}a=0}while(0);e.SetMaxParticle_za3lpa$(a),n.projection=1,e.SetCamera_s6wt6e$(n);var N,M,O,R,k,w,l=.1;o<2&&(l=.2),this.createAction_xcdeti$("Background Effect",!0,!1,!0,void 0,l,void 0,(N=e,M=i,O=t,R=this,function(e){if(N.GetCurrentParticleCount()>M)return!0;var t,i=O.x,r=go(),o=O.width;e:do{if(null==o){t=0;break e}if(Ke.isNumber(o)){t=et(o);break e}if("string"==typeof o)try{t=tt(o);break e}catch(e){if(Ke.isType(e,ta)){t=0;break e}throw e}t=0}while(0);var n,a=r.arc4random_uniform_za3lpa$(t);e:do{if(null==a){n=0;break e}if(Ke.isNumber(a)){n=it(a);break e}if("string"==typeof a)try{n=Qe(a);break e}catch(e){if(Ke.isType(e,ta)){n=0;break e}throw e}n=0}while(0);var s,l=i+n,u=O.y,h=go(),c=O.height;e:do{if(null==c){s=0;break e}if(Ke.isNumber(c)){s=et(c);break e}if("string"==typeof c)try{s=tt(c);break e}catch(e){if(Ke.isType(e,ta)){s=0;break e}throw e}s=0}while(0);var d,p=h.arc4random_uniform_za3lpa$(s);e:do{if(null==p){d=0;break e}if(Ke.isNumber(p)){d=it(p);break e}if("string"==typeof p)try{d=Qe(p);break e}catch(e){if(Ke.isType(e,ta)){d=0;break e}throw e}d=0}while(0);var f=u+d,m=R.positionUniversalToDevice_xpb3zu$(l,f),v=!(m.z=100),g=hi().white_mx4ult$(1),_=go().arc4random_uniform_za3lpa$(100);_<70&&(v=!0),_<5?g=hi().puzzleYellow_mx4ult$(1):_<6?g=hi().puzzleBlue_mx4ult$(1):_<7?g=hi().puzzleRed_mx4ult$(1):_<8?g=hi().puzzlePurple_mx4ult$(1):_<10&&(g=hi().puzzleOrange_mx4ult$(1));var $,y=N,b=5*R.sizeScale.xRatio,S=200*R.sizeScale.xRatio,k=go().arc4random_uniform_za3lpa$(100);e:do{if(null==k){$=0;break e}if(Ke.isNumber(k)){$=it(k);break e}if("string"==typeof k)try{$=Qe(k);break e}catch(e){if(Ke.isType(e,ta)){$=0;break e}throw e}$=0}while(0);var w,x=3+$/100,C=g,z=Ai(5,5,-50),T=Ai(40*R.sizeScale.xRatio,40*R.sizeScale.xRatio,50),G=200*R.sizeScale.xRatio,A=v,I=wn().value;e:do{if(null==I){w=0;break e}if(Ke.isNumber(I)){w=it(I);break e}if("string"==typeof I)try{w=Qe(I);break e}catch(e){if(Ke.isType(e,ta)){w=0;break e}throw e}w=0}while(0);return y.createFairy2_emwd81$(m,b,S,x,"Resource/UI/ParticleFairy",C,z,T,G,!0,A,w,R),!0})),null!=(r=this.screen)&&r.addTouchListener_dal58m$(new Ct("Touch For Fairy",0,0,this.GetSize().width,this.GetSize().height,void 0,(k=e,w=this,function(e,t,i,r,o){var n,a;switch(r.name){case"began":for(n=k.GetObjectList().iterator();n.hasNext();){var s=n.next(),l=Ai(s.screenPosition.x-e.x,s.screenPosition.y-e.y),u=l.length2D();if(u<100*w.sizeScale.xRatio){var h=1e3*w.sizeScale.xRatio-2*u;l.normalize();var c=s.movement,d=s.movement.x;c.x=Yt.abs(d)*l.normalX;var p=s.movement,f=s.movement.y;p.y=Yt.abs(f)*l.normalY,s.accel.x=h*l.normalX,s.accel.y=h*l.normalY,s.accelRetain.x=.1,s.accelRetain.y=.1,s.drag.x=50*w.sizeScale.xRatio,s.drag.y=50*w.sizeScale.xRatio}}break;case"moved":for(a=k.GetObjectList().iterator();a.hasNext();){var m=a.next(),v=Ai(m.screenPosition.x-e.x,m.screenPosition.y-e.y),g=v.length2D();if(g<100*w.sizeScale.xRatio){var _=1e3*w.sizeScale.xRatio-2*g;v.normalize();var $=m.movement,y=m.movement.x;$.x=Yt.abs(y)*v.normalX;var b=m.movement,S=m.movement.y;b.y=Yt.abs(S)*v.normalY,m.accel.x=_*v.normalX,m.accel.y=_*v.normalY,m.accelRetain.x=.1,m.accelRetain.y=.1,m.drag.x=50*w.sizeScale.xRatio,m.drag.y=50*w.sizeScale.xRatio}}}})))}},hg.$metadata$={kind:o,simpleName:"BlockTypeView",interfaces:[$a]},Object.defineProperty(fg.prototype,"game",{get:function(){return null==this.game_lsce3y$_0?z("game"):this.game_lsce3y$_0},set:function(e){this.game_lsce3y$_0=e}}),Object.defineProperty(fg.prototype,"particleManager",{get:function(){return null==this.particleManager_66rxx3$_0?z("particleManager"):this.particleManager_66rxx3$_0},set:function(e){this.particleManager_66rxx3$_0=e}}),Object.defineProperty(fg.prototype,"currentCamera",{get:function(){return null==this.currentCamera_8wat6a$_0?z("currentCamera"):this.currentCamera_8wat6a$_0},set:function(e){this.currentCamera_8wat6a$_0=e}}),Object.defineProperty(fg.prototype,"fireworkManager",{get:function(){return null==this.fireworkManager_x19jg6$_0?z("fireworkManager"):this.fireworkManager_x19jg6$_0},set:function(e){this.fireworkManager_x19jg6$_0=e}}),fg.prototype.afterAttached=function(){if(this.particleManager=cn(this),he(Ou().GetConfigure_jyasbz$("AppLovin"),"true")){Ou().SetInteger_bm4lxs$("PreventAds",0);var t,e=Ou().GetDouble_io5o9c$("PlayingTimeForAds",0);e:do{if(null==e){t=0;break e}if(Ke.isNumber(e)){t=it(e);break e}if("string"==typeof e)try{t=Qe(e);break e}catch(e){if(Ke.isType(e,ta)){t=0;break e}throw e}t=0}while(0);var i=t+this.game.gameValue.playingTime;Ou().SetDouble_io5o9c$("PlayingTimeForAds",i);var r=Ou().GetInteger_bm4lxs$("PlayingCountForAds",0)+1|0;Ou().SetInteger_bm4lxs$("PlayingCountForAds",r);var o,n=!1;(4<=r||3<=r&&60<i||2<=r&&90<i)&&(n=!0),!0===n?(Ou().SetInteger_bm4lxs$("AdsShowing",1),!1===za().shared().showInterstitial_y8twos$((o=this,function(e){o.drawScreen()}))?this.drawScreen():(Ou().SetDouble_io5o9c$("PlayingTimeForAds",0),Ou().SetInteger_bm4lxs$("PlayingCountForAds",0))):this.drawScreen()}else this.drawScreen()},fg.prototype.drawScreen=function(){var e;this.bannerOffset=0,he(Ou().GetConfigure_jyasbz$("Demo"),"true")&&(this.bannerOffset=0),Ie().shared().SetTitle_61zpoe$(""),Ie().shared().changeFPS_za3lpa$(30),Ie().shared().SetBackgroundColor_qt1dr2$(28,28,28),null!=(e=this.screen)&&(e.isDrawTouchMark=!0),this.SetChildVerticalAlign_qn2em6$(ro()),this.SetChildHorizontalAlign_jdpdm8$(lo());var t,i=Sn().value;e:do{if(null==i){t=0;break e}if(Ke.isNumber(i)){t=it(i);break e}if("string"==typeof i)try{t=Qe(i);break e}catch(e){if(Ke.isType(e,ta)){t=0;break e}throw e}t=0}while(0);if(this.createSprite_591x4d$(160,240,t,"Resource/UI/Background",320,480,void 0,void 0,!1),this.currentCamera=bo().copy_s6wt6e$(this.cameraPreset[0]),this.gameScore=this.game.gameValue.score,this.game.gameValue.playingTime<this.game.gameConfigure.minimumSecondsForSPS&&(this.game.gameValue.playingTime=this.game.gameConfigure.minimumSecondsForSPS),0<this.game.gameValue.playingTime&&0<this.game.gameValue.score){var r,o=this.game.gameValue.score,n=this.game.gameValue.playingTime;e:do{if(null==n){r=0;break e}if(Ke.isNumber(n)){r=it(n);break e}if("string"==typeof n)try{r=Qe(n);break e}catch(e){if(Ke.isType(e,ta)){r=0;break e}throw e}r=0}while(0);var a,s=o/r;e:do{if(null==s){a=0;break e}if(Ke.isNumber(s)){a=et(s);break e}if("string"==typeof s)try{a=tt(s);break e}catch(e){if(Ke.isType(e,ta)){a=0;break e}throw e}a=0}while(0);this.scorePerSecond=a}else this.scorePerSecond=0;var l=5e3*this.game.gameValue.clearedObstacleSum|0;if(!0===this.game.gameConfigure.checkPerfectPlay&&!0===this.game.gameValue.perfectPlay){var u,h=this.gameScore;e:do{if(null==h){u=0;break e}if(Ke.isNumber(h)){u=it(h);break e}if("string"==typeof h)try{u=Qe(h);break e}catch(e){if(Ke.isType(e,ta)){u=0;break e}throw e}u=0}while(0);var c,d=.2*u;e:do{if(null==d){c=0;break e}if(Ke.isNumber(d)){c=et(d);break e}if("string"==typeof d)try{c=tt(d);break e}catch(e){if(Ke.isType(e,ta)){c=0;break e}throw e}c=0}while(0);this.bonusScore=c,this.game.gameValue.score=this.gameScore+this.bonusScore|0,this.perfectPlay=!0,this.currentCamera=bo().copy_s6wt6e$(this.cameraPreset[1])}else this.game.GetPlayerRecord().GetHighScore()<(this.game.gameValue.score+l|0)&&(this.newRecord=!0,this.currentCamera=bo().copy_s6wt6e$(this.cameraPreset[1]));this.createMainScore(),this.particleManager.SetCamera_s6wt6e$(this.currentCamera);var p,f=Ou().GetPerformance(),m=this.particleManager,v=200*f;e:do{if(null==v){p=0;break e}if(Ke.isNumber(v)){p=et(v);break e}if("string"==typeof v)try{p=tt(v);break e}catch(e){if(Ke.isType(e,ta)){p=0;break e}throw e}p=0}while(0);m.SetMaxParticle_za3lpa$(p),this.fireworkManager=du(this.particleManager),this.SetChildVerticalAlign_qn2em6$(ro());var g={v:20},_=24;!0===Ou().isWatchOS()&&(g.v=40,_=32),this.SetFontName_61zpoe$("Number/"),this.SetFontSize_mx4ult$(_),this.SetChildVerticalAlign_qn2em6$(io()),this.SetChildHorizontalAlign_jdpdm8$(uo());var $=this.createTextArea_pvsv9g$(310,5+this.bannerOffset,void 0,320,0,0,.5,1);$.SetTextHorizontalAlign_jdpdm8$(uo()),$.SetTextVerticalAlign_qn2em6$(io());var y,b=g.v;e:do{if(Ke.isNumber(b)){y=b.toString();break e}if("string"==typeof b){y=b;break e}if("boolean"==typeof b){y=b.toString();break e}if(Ke.isChar(b)){y=b.toString();break e}y=""}while(0);if($.addText_r4v59z$("[image Resource/UI/IconStar "+y+"] "+Jl(ug().shared().GetStarAmount())),!0===Ou().isWatchOS()){var S={v:ug().shared().GetStarAmount()};this.createAction_xcdeti$("Sync Watchdog",void 0,void 0,void 0,void 0,.5,void 0,mg(S,$,g))}switch(this.SetChildVerticalAlign_qn2em6$(io()),this.SetChildHorizontalAlign_jdpdm8$(so()),Km().GetString_sv46oe$(Rf(),void 0,"Beginner")){case"Beginner":this.createSprite_9wuqyc$(5,5+this.bannerOffset,void 0,"Resource/UI/IconBeginner",50);break;case"Classic":this.createSprite_9wuqyc$(5,5+this.bannerOffset,void 0,"Resource/UI/IconClassic",50);break;case"Timeless":this.createSprite_9wuqyc$(5,5+this.bannerOffset,void 0,"Resource/UI/IconInfection",50);break;case"Beginner6x6":this.createSprite_9wuqyc$(5,5+this.bannerOffset,void 0,"Resource/UI/IconBeginner6x6",50);break;case"Classic6x6":this.createSprite_9wuqyc$(5,5+this.bannerOffset,void 0,"Resource/UI/IconClassic6x6",50);break;case"Timeless6x6":this.createSprite_9wuqyc$(5,5+this.bannerOffset,void 0,"Resource/UI/IconInfection6x6",50)}!0===za().shared().isDesktop()&&this.showPromotionMenu();var k=Km().GetInteger_hh7mhe$(Gf(),void 0,0);Km().SetInteger_hh7mhe$(Gf(),void 0,k+1|0)},fg.prototype.beforeDetached=function(){var e;he(Ou().GetConfigure_jyasbz$("AppLovin"),"true")||za().shared().showAds_6taknv$(!1),null!=(e=this.screen)&&e.removeAction_81ngrp$("Firework Effect"),this.particleManager.clearParticlePool()},fg.prototype.update_mx4ult$=function(e){this.particleManager.updateObject_mx4ult$(e),this.particleManager.projection_1s1xds$(this.size,Ai(0,0*this.sizeScale.yRatio)),$a.prototype.update_mx4ult$.call(this,e)},fg.prototype.resume=function(){$a.prototype.resume.call(this),he(Ou().GetConfigure_jyasbz$("AppLovin"),"true")&&0===Ou().GetInteger_bm4lxs$("PreventAds",0)&&(0===Ou().GetInteger_bm4lxs$("AdsShowing")?(Ou().SetInteger_bm4lxs$("AdsShowing",1),za().shared().showInterstitial_y8twos$(vg)):Ou().SetInteger_bm4lxs$("AdsShowing",0))},fg.prototype.showPromotionMenu=function(){this.SetChildHorizontalAlign_jdpdm8$(so()),this.createButton_ix8ej2$(40,340,Ln().value,void 0,void 0,100,-1,void 0,["Resource/UI/AppStoreBadge"],void 0,void 0,void 0,!0,gg),this.SetChildHorizontalAlign_jdpdm8$(uo()),this.createButton_ix8ej2$(280,340,Ln().value,void 0,void 0,100,-1,void 0,["Resource/UI/google-play-badge"],void 0,void 0,void 0,!0,_g)},fg.prototype.createMainScore=function(){this.SetFontName_61zpoe$(),this.SetFontSize_mx4ult$(24),this.SetFontHorizontalAlign_jdpdm8$(lo()),this.SetFontVerticalAlign_qn2em6$(ro());var e=new dn;this.createAction_xcdeti$("Main Score",void 0,void 0,void 0,void 0,void 0,void 0,$g(this,{v:50},{v:null},{v:0},e,{v:0}))},fg.prototype.processGhost=function(){this.SetFontSize_mx4ult$(30),this.SetFontName_61zpoe$("Number/");var e=this.createTextArea_pvsv9g$(160,80+this.heightOffset1+this.bannerOffset,Ln(),0,0,void 0,.5);e.SetVerticalAlign_qn2em6$(ro()),e.SetHorizontalAlign_jdpdm8$(lo()),Km().GetInteger_hh7mhe$(Af())<this.game.gameValue.clearedObstacleSum&&Km().SetInteger_hh7mhe$(Af(),void 0,this.game.gameValue.clearedObstacleSum);var t=5e3*this.game.gameValue.clearedObstacleSum|0;e.addText_r4v59z$("[Image Ghost_white 55][Scale 0.6]X[Scale] [Color 35BEC1]"+Jl(this.game.gameValue.clearedObstacleSum)+"[Color] = [Color 35BEC1]"+Jl(t),void 0,yg(this,t)),e.SetTextHorizontalAlign_jdpdm8$(lo())},fg.prototype.processStar=function(){var e=30;!0===Ou().isWatchOS()&&(e=40),this.SetFontSize_mx4ult$(e),this.SetFontName_61zpoe$("Number/");var t,i=this.createTextArea_pvsv9g$(160,115+this.heightOffset1+this.bannerOffset,Ln(),0,0,void 0,.5),r=this.game.gameValue.earnedStar;e:do{if(Ke.isNumber(r)){t=r.toString();break e}if("string"==typeof r){t=r;break e}if("boolean"==typeof r){t=r.toString();break e}if(Ke.isChar(r)){t=r.toString();break e}t=""}while(0);i.addText_r4v59z$("[Image Resource/UI/IconStar 35] [Scale 0.6]X[Scale] "+t,.5,bg(this)),i.SetTextHorizontalAlign_jdpdm8$(lo())},fg.prototype.showRecord=function(){var e=15;!0===Ou().isWatchOS()?(this.SetFontSize_mx4ult$(40),e=30):this.SetFontSize_mx4ult$(16),this.SetChildVerticalAlign_qn2em6$(ro()),this.SetChildHorizontalAlign_jdpdm8$(lo()),this.SetFontName_61zpoe$("MENU_/");var t=this.createTextArea_pvsv9g$(160,160+this.heightOffset1+this.bannerOffset,Ln(),0,0);t.addText_r4v59z$("[Font]"+Zl("MENU_30")+": [Font Number/][Color yellow]"+Jl(this.game.GetPlayerRecord().GetHighScore())),t.SetTextHorizontalAlign_jdpdm8$(lo()),t.SetName_61zpoe$("High Score Line");var i=this.createTextArea_pvsv9g$(160,160+e+this.heightOffset1+this.bannerOffset,Ln(),0,0);this.game.GetPlayerRecord().GetMaxCombo()<this.game.gameValue.maxComboOnGame?(this.game.GetPlayerRecord().SetMaxCombo_za3lpa$(this.game.gameValue.maxComboOnGame),this.game.GetPlayerRecord().SaveMaxCombo_3uxocb$(null),i.addText_r4v59z$("[Font]"+Zl("MENU_31")+": [Font Number/][Color yellow]"+Jl(this.game.gameValue.maxComboOnGame)+" [Font]("+Zl("MENU_32")+")")):i.addText_r4v59z$("[Font]"+Zl("MENU_31")+": [Font Number/]"+Jl(this.game.gameValue.maxComboOnGame)+" [Font][Color yellow]("+Zl("MENU_33")+" [Font Number/]"+Jl(this.game.GetPlayerRecord().GetMaxCombo())+")"),i.SetTextHorizontalAlign_jdpdm8$(lo());var r=this.createTextArea_pvsv9g$(160,160+2*e+this.heightOffset1+this.bannerOffset,Ln(),0,0);if(this.game.GetPlayerRecord().GetMaxFever()<this.game.gameValue.maxFeverOnGame?(this.game.GetPlayerRecord().SetMaxFever_za3lpa$(this.game.gameValue.maxFeverOnGame),this.game.GetPlayerRecord().SaveMaxFever_3uxocb$(null),r.addText_r4v59z$("[Font]"+Zl("MENU_34")+": [Font Number/][Color yellow]"+Jl(this.game.gameValue.maxFeverOnGame)+" [Font]("+Zl("MENU_35")+")")):r.addText_r4v59z$("[Font]"+Zl("MENU_34")+": [Font Number/]"+Jl(this.game.gameValue.maxFeverOnGame)+" [Font][Color yellow]("+Zl("MENU_36")+" [Font Number/]"+Jl(this.game.GetPlayerRecord().GetMaxFever())+")"),r.SetTextHorizontalAlign_jdpdm8$(lo()),!0===this.game.gameConfigure.showSPS){var o=this.createTextArea_pvsv9g$(160,3*e+160+this.heightOffset1+this.bannerOffset,Ln(),0,0);this.game.GetPlayerRecord().GetMaxSPS()<this.scorePerSecond?(this.game.GetPlayerRecord().SetMaxSPS_za3lpa$(this.scorePerSecond),this.game.GetPlayerRecord().SaveMaxSPS_3uxocb$(null),o.addText_r4v59z$("[Font]"+Zl("MENU_23")+": [Font Number/][Color yellow]"+Jl(this.scorePerSecond)+" [Font]("+Zl("MENU_35")+")")):o.addText_r4v59z$("[Font]"+Zl("MENU_23")+": [Font Number/]"+Jl(this.scorePerSecond)+" [Font][Color yellow]("+Zl("MENU_36")+" [Font Number/]"+Jl(this.game.GetPlayerRecord().GetMaxSPS())+")"),o.SetTextHorizontalAlign_jdpdm8$(lo())}if(he(Ou().GetConfigure_jyasbz$("Demo"),"true")){var n=Km().GetInteger_hh7mhe$(Gf(),void 0,1),a=this.createTextArea_pvsv9g$(160,4*e+160+this.heightOffset1+this.bannerOffset,Ln(),0,0);a.addText_r4v59z$("[Font]Count: [Font Number/]"+Jl(n)),a.SetTextHorizontalAlign_jdpdm8$(lo())}var s,l=this.createTextArea_pvsv9g$(160,160+5*e+this.heightOffset1+this.bannerOffset,Ln(),0,0),u=this.game.gameValue.earnedStar;e:do{if(Ke.isNumber(u)){s=u.toString();break e}if("string"==typeof u){s=u;break e}if("boolean"==typeof u){s=u.toString();break e}if(Ke.isChar(u)){s=u.toString();break e}s=""}while(0);l.addText_r4v59z$("[Image Resource/UI/IconStar 25] X [Scale 1.5][Font Number/][Color 35BEC1]"+s),l.SetTextHorizontalAlign_jdpdm8$(lo())},fg.prototype.showMenu=function(){var e,t,r,i=50,o=180,n=40,a=Kg("Resource/UI/IconRestart",void 0,void 0,void 0,void 0,void 0,this.menuItem),s=Kg("Resource/UI/IconHome",void 0,void 0,void 0,void 0,void 0,this.menuItem),l=null,u=this.game.gameConfigure.needStar;0<u&&(a.title="[font Number/][Image Resource/UI/IconStar 12] [Scale 0.5]X[Scale 0.8] "+u.toString()),!0===Ou().isWatchOS()?(i=100,o=170,n=0):!1===za().shared().isDesktop()&&(l=Kg("Resource/UI/IconShare",void 0,void 0,void 0,void 0,void 0,this.menuItem)),this.menu=o_(this,this.GetSize(),Pi(3,1),i,void 0,[a,l,s]),null!=(e=this.menu)&&e.prepare_1isvtk$(o,n),this.SetPlayButton(),null!=(t=this.screen)&&t.addKeydownListener_5ol7k9$("Back Key",(r=this,function(e){var t,i;return e===Bt().ESCAPE||e===Bt().BACK?(null!=(t=r.menu)&&t.click_za3lpa$(2),!0):(e===Bt().ENTER&&null!=(i=r.menu)&&i.click_za3lpa$(0),!1)}))},fg.prototype.SetPlayButton=function(){var e,t;ug().shared().GetStarAmount()<this.game.gameConfigure.needStar?null!=(e=this.menu)&&e.SetEnable_fzusl$(0,!1):null!=(t=this.menu)&&t.SetEnable_fzusl$(0,!0)},fg.prototype.hideButton=function(){var e;null!=(e=this.menu)&&e.hide()},fg.prototype.showButton=function(){var e;null!=(e=this.menu)&&e.show()},fg.prototype.checkAchievementComplete=function(){50<=this.game.gameValue.clearedObstacleSum&&Hv().shared().SetPercentComplete_gspc9z$(Tm(),100),100<=this.game.gameValue.clearedObstacleSum&&Hv().shared().SetPercentComplete_gspc9z$(Gm(),100),150<=this.game.gameValue.clearedObstacleSum&&Hv().shared().SetPercentComplete_gspc9z$(Am(),100),200<=this.game.gameValue.clearedObstacleSum&&Hv().shared().SetPercentComplete_gspc9z$(Im(),100),he(this.game.gameConfigure.modeString,"Beginner")?(5<=this.game.gameValue.maxComboOnGame&&Hv().shared().SetPercentComplete_gspc9z$(Hf(),100),10<=this.game.gameValue.maxComboOnGame&&Hv().shared().SetPercentComplete_gspc9z$(Wf(),100),20<=this.game.gameValue.maxComboOnGame&&Hv().shared().SetPercentComplete_gspc9z$(Yf(),100),50<=this.game.gameValue.maxComboOnGame&&Hv().shared().SetPercentComplete_gspc9z$(Xf(),100),100<=this.game.gameValue.maxComboOnGame&&Hv().shared().SetPercentComplete_gspc9z$(Kf(),100),150<=this.game.gameValue.maxComboOnGame&&Hv().shared().SetPercentComplete_gspc9z$(Zf(),100),5e4<=this.game.gameValue.score&&Hv().shared().SetPercentComplete_gspc9z$(Qf(),100),1e5<=this.game.gameValue.score&&Hv().shared().SetPercentComplete_gspc9z$(Jf(),100),2e5<=this.game.gameValue.score&&Hv().shared().SetPercentComplete_gspc9z$(em(),100),1e6<=this.game.gameValue.score&&Hv().shared().SetPercentComplete_gspc9z$(tm(),100),2e6<=this.game.gameValue.score&&Hv().shared().SetPercentComplete_gspc9z$(im(),100),3e6<=this.game.gameValue.score&&Hv().shared().SetPercentComplete_gspc9z$(rm(),100),1<=this.game.gameValue.maxFeverOnGame&&Hv().shared().SetPercentComplete_gspc9z$(om(),100),3<=this.game.gameValue.maxFeverOnGame&&Hv().shared().SetPercentComplete_gspc9z$(nm(),100),5<=this.game.gameValue.maxFeverOnGame&&Hv().shared().SetPercentComplete_gspc9z$(am(),100),10<=this.game.gameValue.maxFeverOnGame&&Hv().shared().SetPercentComplete_gspc9z$(sm(),100),1<=this.game.gameValue.clearBlockCount[9]&&Hv().shared().SetPercentComplete_gspc9z$(lm(),100)):he(this.game.gameConfigure.modeString,"Classic")?(10<=this.game.gameValue.maxComboOnGame&&Hv().shared().SetPercentComplete_gspc9z$(um(),100),30<=this.game.gameValue.maxComboOnGame&&Hv().shared().SetPercentComplete_gspc9z$(hm(),100),1<=this.game.gameValue.maxFeverOnGame&&Hv().shared().SetPercentComplete_gspc9z$(cm(),100),5<=this.game.gameValue.maxFeverOnGame&&Hv().shared().SetPercentComplete_gspc9z$(dm(),100),1e5<=this.game.gameValue.score&&Hv().shared().SetPercentComplete_gspc9z$(pm(),100),3e5<=this.game.gameValue.score&&Hv().shared().SetPercentComplete_gspc9z$(fm(),100),15e5<=this.game.gameValue.score&&Hv().shared().SetPercentComplete_gspc9z$(mm(),100),1<=this.game.gameValue.clearBlockCount[9]&&Hv().shared().SetPercentComplete_gspc9z$(vm(),100)):he(this.game.gameConfigure.modeString,"Timeless")?(50<=this.game.gameValue.maxComboOnGame&&Hv().shared().SetPercentComplete_gspc9z$(_m(),100),80<=this.game.gameValue.maxComboOnGame&&Hv().shared().SetPercentComplete_gspc9z$($m(),100),100<=this.game.gameValue.maxComboOnGame&&Hv().shared().SetPercentComplete_gspc9z$(ym(),100),10<=this.game.gameValue.maxFeverOnGame&&Hv().shared().SetPercentComplete_gspc9z$(bm(),100),1e6<=this.game.gameValue.score&&Hv().shared().SetPercentComplete_gspc9z$(Sm(),100),2e6<=this.game.gameValue.score&&Hv().shared().SetPercentComplete_gspc9z$(km(),100)):he(this.game.gameConfigure.modeString,"Hardcore")?(60<=this.game.gameValue.maxComboOnGame&&Hv().shared().SetPercentComplete_gspc9z$(xm(),100),10<=this.game.gameValue.maxFeverOnGame&&Hv().shared().SetPercentComplete_gspc9z$(Cm(),100),1e6<=this.game.gameValue.score&&Hv().shared().SetPercentComplete_gspc9z$(zm(),100)):he(this.game.gameConfigure.modeString,"Beginner6x6")?(30<=this.game.gameValue.maxComboOnGame&&Hv().shared().SetPercentComplete_gspc9z$(Nm(),100),50<=this.game.gameValue.maxComboOnGame&&Hv().shared().SetPercentComplete_gspc9z$(Mm(),100),100<=this.game.gameValue.maxComboOnGame&&Hv().shared().SetPercentComplete_gspc9z$(Om(),100),5e5<=this.game.gameValue.score&&Hv().shared().SetPercentComplete_gspc9z$(Rm(),100),1e6<=this.game.gameValue.score&&Hv().shared().SetPercentComplete_gspc9z$(jm(),100)):he(this.game.gameConfigure.modeString,"Classic6x6")?(50<=this.game.gameValue.maxComboOnGame&&Hv().shared().SetPercentComplete_gspc9z$(Bm(),100),1e6<=this.game.gameValue.score&&Hv().shared().SetPercentComplete_gspc9z$(Em(),100)):he(this.game.gameConfigure.modeString,"Timeless6x6")&&(100<=this.game.gameValue.maxComboOnGame&&Hv().shared().SetPercentComplete_gspc9z$(Lm(),100),2e6<=this.game.gameValue.score&&Hv().shared().SetPercentComplete_gspc9z$(Dm(),100)),100!==Hv().shared().GetPercentComplete_chhr4e$(gm())&&100===Hv().shared().GetPercentComplete_chhr4e$(hm())&&100===Hv().shared().GetPercentComplete_chhr4e$(fm())&&Hv().shared().SetPercentComplete_gspc9z$(gm(),100),100!==Hv().shared().GetPercentComplete_chhr4e$(Pm())&&100===Hv().shared().GetPercentComplete_chhr4e$(Tm())&&100===Hv().shared().GetPercentComplete_chhr4e$(Nm())&&Hv().shared().SetPercentComplete_gspc9z$(Pm(),100),100!==Hv().shared().GetPercentComplete_chhr4e$(Fm())&&100===Hv().shared().GetPercentComplete_chhr4e$(Gm())&&100===Hv().shared().GetPercentComplete_chhr4e$(Bm())&&Hv().shared().SetPercentComplete_gspc9z$(Fm(),100)},fg.prototype.createBackgroundEffect=function(){var e,t,i;if(!(this.game.quality<1)){null==this.background&&(this.background=Ke.isType(e=this.findChildByName_3m52m6$("Background"),sa)?e:null);var r=[[hi().customDeepSpace4_mx4ult$(),hi().customDeepSpace5_mx4ult$()]],o={v:1},n={v:null},a={v:null},s={v:null},l={v:null};n.v=hi().copy_3nzkge$(r[0][0]),s.v=r[0][0],a.v=hi().copy_3nzkge$(n.v),l.v=r[0][o.v],null!=(t=this.background)&&t.SetBlendFactor_mx4ult$(1),null!=(i=this.background)&&i.SetColor_vnjrmz$(s.v);var u,h,c,d,p,f,m,v,g,_;this.createAction_xcdeti$("Background Effect",!0,!1,!0,void 0,void 0,void 0,(u=this,h=n,c={v:0},d=a,p=l,f=s,m=o,v=r,_={v:g=0},function(e){var t,i,r,o;if(0===e.elapsed)return null!=(t=u.background)&&t.SetColor_vnjrmz$(h.v),null!=(i=u.background)&&i.SetBlendFactor_mx4ult$(0),!1;if(-1!==e.timeToLive&&e.age+1>e.timeToLive)return null!=(r=u.background)&&r.SetBlendFactor_mx4ult$(Je(u.background).GetBlendFactor()-e.elapsed),!0;if(c.v+=.1*e.elapsed,f.v=hi().morphColor_u1nt5b$(d.v,p.v,c.v),!0===f.v.compare_3nzkge$(p.v)&&(m.v=m.v+1|0,m.v>=v[g].length&&(m.v=0),d.v=hi().copy_3nzkge$(p.v),p.v=v[g][m.v],c.v=0),null!=(o=u.background)&&o.SetColor_vnjrmz$(f.v),!1===u.newRecord&&!1===u.perfectPlay){var n=.25;u.game.quality<2&&(n=.5),e.age>_.v+n&&u.particleManager.GetTotalParticleCount()<60&&(u.createStar(),_.v=e.age)}return!0}))}},fg.prototype.createStarOld=function(){var e,t;switch(go().arc4random_uniform_za3lpa$(4)){case 0:t=hi().yellow_mx4ult$();break;case 1:t=hi().strawberry_mx4ult$();break;case 2:t=hi().sky_mx4ult$();break;default:t=hi().white_mx4ult$()}var i,r=this.particleManager,o=go().arc4random_uniform_za3lpa$(320);e:do{if(null==o){i=0;break e}if(Ke.isNumber(o)){i=it(o);break e}if("string"==typeof o)try{i=Qe(o);break e}catch(e){if(Ke.isType(e,ta)){i=0;break e}throw e}i=0}while(0);var n,a=i-160,s=go().arc4random_uniform_za3lpa$(480);e:do{if(null==s){n=0;break e}if(Ke.isNumber(s)){n=it(s);break e}if("string"==typeof s)try{n=Qe(s);break e}catch(e){if(Ke.isType(e,ta)){n=0;break e}throw e}n=0}while(0);var l,u=n-240,h=go().arc4random_uniform_za3lpa$(10);e:do{if(null==h){l=0;break e}if(Ke.isNumber(h)){l=it(h);break e}if("string"==typeof h)try{l=Qe(h);break e}catch(e){if(Ke.isType(e,ta)){l=0;break e}throw e}l=0}while(0);var c=r.createStar_2a19qk$(a,u,0,l+30,"Resource/UI/particle_circle",t);if(null!=(e=null!=c?c.movement:null)){var d,p=go().arc4random_uniform_za3lpa$(50);e:do{if(null==p){d=0;break e}if(Ke.isNumber(p)){d=it(p);break e}if("string"==typeof p)try{d=Qe(p);break e}catch(e){if(Ke.isType(e,ta)){d=0;break e}throw e}d=0}while(0);e.z=100+d}null!=c&&c.SetOriginalAlpha_mx4ult$(1),null!=c&&(c.keepDirection=!0),null!=c&&c.SetCallback_lnidq9$(Sg)},fg.prototype.createStar=function(){var e,t,i=go().arc4random_uniform_za3lpa$(10);if(4<=i)this.createStarOld();else{var r,o=this.particleManager,n=go().arc4random_uniform_za3lpa$(320);e:do{if(null==n){r=0;break e}if(Ke.isNumber(n)){r=it(n);break e}if("string"==typeof n)try{r=Qe(n);break e}catch(e){if(Ke.isType(e,ta)){r=0;break e}throw e}r=0}while(0);var a,s=r-160,l=go().arc4random_uniform_za3lpa$(480);e:do{if(null==l){a=0;break e}if(Ke.isNumber(l)){a=it(l);break e}if("string"==typeof l)try{a=Qe(l);break e}catch(e){if(Ke.isType(e,ta)){a=0;break e}throw e}a=0}while(0);var u,h=a-240,c=go().arc4random_uniform_za3lpa$(10);e:do{if(null==c){u=0;break e}if(Ke.isNumber(c)){u=it(c);break e}if("string"==typeof c)try{u=Qe(c);break e}catch(e){if(Ke.isType(e,ta)){u=0;break e}throw e}u=0}while(0);var d,p=u+40,f=za().shared().GetCurrentBlockSetResource();e:do{if(Ke.isNumber(i)){d=i.toString();break e}if("string"==typeof i){d=i;break e}if("boolean"==typeof i){d=i.toString();break e}if(Ke.isChar(i)){d=i.toString();break e}d=""}while(0);var m=o.createStar_2a19qk$(s,h,0,p,f+d+"_normal");if(null!=(e=null!=m?m.movement:null)){var v,g=go().arc4random_uniform_za3lpa$(50);e:do{if(null==g){v=0;break e}if(Ke.isNumber(g)){v=it(g);break e}if("string"==typeof g)try{v=Qe(g);break e}catch(e){if(Ke.isType(e,ta)){v=0;break e}throw e}v=0}while(0);e.z=100+v}if(null!=(t=null!=m?m.rotation:null)){var _,$=go().arc4random_uniform_za3lpa$(360);e:do{if(null==$){_=0;break e}if(Ke.isNumber($)){_=it($);break e}if("string"==typeof $)try{_=Qe($);break e}catch(e){if(Ke.isType(e,ta)){_=0;break e}throw e}_=0}while(0);t.z=_-160}null!=m&&m.SetOriginalAlpha_mx4ult$(1),null!=m&&(m.keepDirection=!0),null!=m&&m.SetCallback_lnidq9$(kg)}},fg.prototype.fireworkEffect=function(){var e;if(!(this.game.quality<1)){var k,t=ko(20,Ai(0,0,-300),Ai(0,0,0),Ai(0,0,0),90,1600,200,100);this.particleManager.SetCamera_s6wt6e$(t),null!=(e=this.screen)&&e.createAction_xcdeti$("Firework Effect",void 0,void 0,void 0,void 0,1.8,void 0,(k=this,function(e){if(0===e.elapsed)return!1;var t,i=k.particleManager,r=go().arc4random_uniform_za3lpa$(300);e:do{if(null==r){t=0;break e}if(Ke.isNumber(r)){t=et(r);break e}if("string"==typeof r)try{t=tt(r);break e}catch(e){if(Ke.isType(e,ta)){t=0;break e}throw e}t=0}while(0);var o,n=t-150|0;e:do{if(null==n){o=0;break e}if(Ke.isNumber(n)){o=it(n);break e}if("string"==typeof n)try{o=Qe(n);break e}catch(e){if(Ke.isType(e,ta)){o=0;break e}throw e}o=0}while(0);var a,s=o,l=go().arc4random_uniform_za3lpa$(300);e:do{if(null==l){a=0;break e}if(Ke.isNumber(l)){a=et(l);break e}if("string"==typeof l)try{a=tt(l);break e}catch(e){if(Ke.isType(e,ta)){a=0;break e}throw e}a=0}while(0);var u,h=a-150|0;e:do{if(null==h){u=0;break e}if(Ke.isNumber(h)){u=it(h);break e}if("string"==typeof h)try{u=Qe(h);break e}catch(e){if(Ke.isType(e,ta)){u=0;break e}throw e}u=0}while(0);var c,d=u,p=go().arc4random_uniform_za3lpa$(50);e:do{if(null==p){c=0;break e}if(Ke.isNumber(p)){c=et(p);break e}if("string"==typeof p)try{c=tt(p);break e}catch(e){if(Ke.isType(e,ta)){c=0;break e}throw e}c=0}while(0);var f,m=c+50|0;e:do{if(null==m){f=0;break e}if(Ke.isNumber(m)){f=it(m);break e}if("string"==typeof m)try{f=Qe(m);break e}catch(e){if(Ke.isType(e,ta)){f=0;break e}throw e}f=0}while(0);var v=i.createStar_2a19qk$(s,d,f,50,"Particle_white",void 0,void 0,void 0,!0);if(null!=v){v.timeToLive=0;var g,_=Ou().GetPerformance();e:do{if(Ke.isNumber(30)){g=it(30);break e}g=0}while(0);var $,y=_*g;e:do{if(null==y){$=0;break e}if(Ke.isNumber(y)){$=et(y);break e}if("string"==typeof y)try{$=tt(y);break e}catch(e){if(Ke.isType(e,ta)){$=0;break e}throw e}$=0}while(0);var b=$;100<b&&(b=100);var S=k.fireworkManager.createFirework_uq37hz$(void 0,b,0,400,1,1.5,100,1,2,0,1.5,void 0,void 0,0);v.addLocalVariables_bm4g0d$("Fireball",S),k.fireworkManager.explosion_xovnep$(v),k.particleManager.removeObject_xovnep$(v)}return!0}))}},fg.prototype.runCameraAngleX_gsqsg5$=function(e,t,i,r){void 0===t&&(t=.5),void 0===i&&(i=-3),void 0===r&&(r=null);var o={v:0},n=this.currentCamera.direction.x;o.v=e-this.currentCamera.direction.x;var a,s,l,u,h,c,d,p=gn(90,1/t/2);this.createAction_xcdeti$("Run Camera Angle X",!0,void 0,!0,void 0,void 0,void 0,(a=t,s=e,l=this,u=r,h=p,c=n,d=o,function(e){if(1===e.count)return!0;if(e.age>=a){var t=s-l.currentCamera.direction.x;return l.currentCamera.rotateX_8ca0d4$(t,!0),null!=u&&Je(u)(),!1}var i=h.update_mx4ult$(e.elapsed);i*=-.5,i+=.5;var r=c+d.v*i;return l.currentCamera.rotateX_8ca0d4$(r-l.currentCamera.direction.x,!0),!0}))},fg.$metadata$={kind:o,simpleName:"GameOverView",interfaces:[$a]},Object.defineProperty(Cg.prototype,"notice",{get:function(){return null==this.notice_ezkio8$_0?z("notice"):this.notice_ezkio8$_0},set:function(e){this.notice_ezkio8$_0=e}}),Object.defineProperty(Cg.prototype,"pause",{get:function(){return null==this.pause_fseh8y$_0?z("pause"):this.pause_fseh8y$_0},set:function(e){this.pause_fseh8y$_0=e}}),Cg.prototype.moveToBackground=function(){!1===this.game.initializeDone||he(this.game.gameState.GetState(),"_init")||he(this.game.gameState.GetState(),"ready")||!0===this.game.gameConfigure.takeSnapshot&&!0===this.game.saveSnapshot()&&(Km().SetInteger_rjan26$("Snapshot",void 0,1),Km().SetString_6hosri$("Snapshot_mode",void 0,this.game.gameConfigure.modeString))},Cg.prototype.resume=function(){!1===this.game.initializeDone||he(this.game.gameState.GetState(),"_init")||he(this.game.gameState.GetState(),"ready")||(Km().SetInteger_rjan26$("Snapshot",void 0,0),he(Ou().GetConfigure_jyasbz$("AppLovin"),"true")&&(0===Ou().GetInteger_bm4lxs$("AdsShowing")?(Ou().SetInteger_bm4lxs$("AdsShowing",1),za().shared().showInterstitial_y8twos$(zg)):Ou().SetInteger_bm4lxs$("AdsShowing",0)))},Cg.prototype.afterAttached=function(){var e,t,i;switch(this.bottomHeight=0,he(Ou().GetConfigure_jyasbz$("Demo"),"true")||he(Ou().GetConfigure_jyasbz$("AppLovin"),"true")&&!0===za().shared().isBannerReady()&&(za().shared().showAds_6taknv$(!0),this.bottomHeight=za().shared().getAdsHeight()/this.sizeScale.yRatio),this.game.bannerOffset=0,this.game.bottomHeight=this.bottomHeight,this.SetName_61zpoe$("GameView"),Ie().shared().SetTitle_61zpoe$(""),Ie().shared().SetInputMode_za3lpa$(1),Ie().shared().SetBackgroundColor_qt1dr2$(28,28,28),he(Ou().GetConfigure_jyasbz$("Record"),"true")?null!=(e=this.screen)&&(e.isDrawTouchMark=!0):null!=(t=this.screen)&&(t.isDrawTouchMark=!1),this.SetChildVerticalAlign_qn2em6$(ro()),this.SetChildHorizontalAlign_jdpdm8$(lo()),this.createSprite_591x4d$(160,240,Sn().value,"Resource/UI/Background",320,480,void 0,void 0,!1),dh().shared().BGMFadeIn_o5txl1$(Je(this.screen),"MainBGM",100,.3),this.game.quality=Km().GetInteger_hh7mhe$(Ff(),void 0,1),A("Game Quality : "+this.game.quality.toString()),this.game.quality){case 0:Ie().shared().changeFPS_za3lpa$(10);break;case 1:Ie().shared().changeFPS_za3lpa$(20);break;default:Ie().shared().changeFPS_za3lpa$(30)}if(!1===Ou().isWatchOS()){this.SetFontName_61zpoe$("Number/"),this.SetFontSize_mx4ult$(24),this.SetChildVerticalAlign_qn2em6$(io()),this.SetChildHorizontalAlign_jdpdm8$(uo());var r=this.createTextArea_pvsv9g$(310,5+0/this.sizeScale.yRatio,void 0,320,0,0,.5,1);if(r.SetTextHorizontalAlign_jdpdm8$(uo()),r.SetTextVerticalAlign_qn2em6$(io()),r.addText_r4v59z$("[image Resource/UI/IconStar 20] "+Jl(ug().shared().GetStarAmount())),r.SetName_61zpoe$("Star Amount"),0<this.game.gameConfigure.obstacleMaximumNumber){this.SetChildVerticalAlign_qn2em6$(io()),this.SetChildHorizontalAlign_jdpdm8$(so());var o=this.createTextArea_pvsv9g$(5,5+0/this.sizeScale.yRatio,void 0,320,0,0,.5,1);o.SetTextHorizontalAlign_jdpdm8$(so()),o.SetTextVerticalAlign_qn2em6$(io()),o.addText_r4v59z$("[Image Ghost_white 35][Scale 0.6]X[Scale] [Color 35BEC1]0"),o.SetName_61zpoe$("Ghost Amount")}}var n,a={v:""};if(!1===Ou().isWatchOS()){var s=this.game.gameConfigure.modeString;if(he(s,"Beginner")){var l,u=Km().GetInteger_rjan26$(s+"GameHint",void 0,0),h=Zl("BEGINNER_TIP_COUNT");e:do{if(null==h){l=0;break e}if(Ke.isNumber(h)){l=et(h);break e}if("string"==typeof h)try{l=tt(h);break e}catch(e){if(Ke.isType(e,ta)){l=0;break e}throw e}l=0}while(0);if(null!=l&&u<l){this.SetFontName_61zpoe$("BEGINNER_TIP_/");var c,d=u;e:do{if(Ke.isNumber(d)){c=d.toString();break e}if("string"==typeof d){c=d;break e}if("boolean"==typeof d){c=d.toString();break e}if(Ke.isChar(d)){c=d.toString();break e}c=""}while(0);a.v=Zl("BEGINNER_TIP_"+c),u=u+1|0,Km().SetInteger_rjan26$(s+"GameHint",void 0,u)}}else if(he(s,"Beginner6x6")){var p,f=Km().GetInteger_rjan26$(s+"GameHint",void 0,0),m=Zl("BEGINNER6x6_TIP_COUNT");e:do{if(null==m){p=0;break e}if(Ke.isNumber(m)){p=et(m);break e}if("string"==typeof m)try{p=tt(m);break e}catch(e){if(Ke.isType(e,ta)){p=0;break e}throw e}p=0}while(0);if(null!=p&&f<p){this.SetFontName_61zpoe$("BEGINNER6x6_TIP_/");var v,g=f;e:do{if(Ke.isNumber(g)){v=g.toString();break e}if("string"==typeof g){v=g;break e}if("boolean"==typeof g){v=g.toString();break e}if(Ke.isChar(g)){v=g.toString();break e}v=""}while(0);a.v=Zl("BEGINNER6x6_TIP_"+v),f=f+1|0,Km().SetInteger_rjan26$(s+"GameHint",void 0,f)}}else if(he(s,"Classic")){var _,$=Km().GetInteger_rjan26$(s+"GameHint",void 0,0),y=Zl(s+"_TIP_COUNT");e:do{if(null==y){_=0;break e}if(Ke.isNumber(y)){_=et(y);break e}if("string"==typeof y)try{_=tt(y);break e}catch(e){if(Ke.isType(e,ta)){_=0;break e}throw e}_=0}while(0);if(null!=_&&$<_){this.SetFontName_61zpoe$(s+"_TIP_/");var b,S=s+"_TIP_",k=$;e:do{if(Ke.isNumber(k)){b=k.toString();break e}if("string"==typeof k){b=k;break e}if("boolean"==typeof k){b=k.toString();break e}if(Ke.isChar(k)){b=k.toString();break e}b=""}while(0);a.v=Zl(S+b),$=$+1|0,Km().SetInteger_rjan26$(s+"GameHint",void 0,$)}}}else{var w,x=Km().GetInteger_rjan26$("AppleWatchGameHint",void 0,0),C=Zl("APPLE_WATCH_TIP_COUNT");e:do{if(null==C){w=0;break e}if(Ke.isNumber(C)){w=et(C);break e}if("string"==typeof C)try{w=tt(C);break e}catch(e){if(Ke.isType(e,ta)){w=0;break e}throw e}w=0}while(0);if(null!=w&&x<w){var z,T=x;e:do{if(Ke.isNumber(T)){z=T.toString();break e}if("string"==typeof T){z=T;break e}if("boolean"==typeof T){z=T.toString();break e}if(Ke.isChar(T)){z=T.toString();break e}z=""}while(0);a.v=Zl("APPLE_WATCH_TIP_"+z),x=x+1|0,Km().SetInteger_rjan26$("AppleWatchGameHint",void 0,x)}}if(!1===Kl(a.v)){this.SetFontSize_mx4ult$(24),this.SetChildVerticalAlign_qn2em6$(ro()),this.SetChildHorizontalAlign_jdpdm8$(lo());var G=2;return he(Zl("TUTORIAL_TEXT_WRAP_TYPE"),"CHARACTER")&&(G=1),this.notice=this.createTextArea_pvsv9g$(160,240,Pn(),240,480,0,.5,1,void 0,void 0,G),this.notice.SetFadeMode_za3lpa$(1),this.notice.SetTextVerticalAlign_qn2em6$(ro()),this.notice.SetTextHorizontalAlign_jdpdm8$(lo()),this.notice.SetModal_6taknv$(!0),this.SetFontSize_mx4ult$(),this.notice.SetShow_6taknv$(!0),void this.notice.clearText_gam257$(void 0,Gg(this,a))}this.game.initGame_g5c4ga$(this),this.game.start(),null!=(i=this.screen)&&i.actionDelay_ab0iom$(.5,void 0,(n=this,function(){return n.game.generateBoard(),Ze})),this.preparePauseMenu()},Cg.prototype.beforeDetached=function(){var e;he(Ou().GetConfigure_jyasbz$("AppLovin"),"true")&&za().shared().showAds_6taknv$(!1),null!=(e=this.screen)&&e.removeScrollListener()},Cg.prototype.preparePauseMenu=function(){var e,t;this.SetChildVerticalAlign_qn2em6$(ro()),this.SetChildHorizontalAlign_jdpdm8$(lo()),this.SetFontSize_mx4ult$(16),this.SetFontName_61zpoe$("MENU_/");var i=2;he(Zl("TUTORIAL_TEXT_WRAP_TYPE"),"CHARACTER")&&(i=1),this.pause=this.createTextArea_pvsv9g$(160,240,Pn(),320,480,0,.5,1,void 0,void 0,i),this.pause.SetFadeMode_za3lpa$(1),this.pause.SetTextVerticalAlign_qn2em6$(ro()),this.pause.SetTextHorizontalAlign_jdpdm8$(lo()),this.pause.SetShow_6taknv$(!1),this.pause.SetModal_6taknv$(!0),null!=(e=this.screen)&&e.SetModalAlpha_mx4ult$(.9),this.pause.SetMessageHandler_4mjqr2$(Ig(this));var r=470-this.bottomHeight;!0===Ou().isWatchOS()&&(r=600),this.SetChildVerticalAlign_qn2em6$(oo()),this.SetChildHorizontalAlign_jdpdm8$(so());var o,n=this.createImageButton_uax0jn$(10,r,void 0,void 0,40,40,void 0,void 0,["Resource/UI/IconAbandon","Resource/UI/IconAbandonDisabled",null,null]);this.SetChildVerticalAlign_qn2em6$(ro()),this.SetChildHorizontalAlign_jdpdm8$(lo()),n.SetName_61zpoe$("Abandon Button"),n.SetEnable_6taknv$(!1),n.SetMessageHandler_4mjqr2$((o=this,function(e){if(e.event===Ar()){if(!he(o.game.gameState.GetState(),"running"))return!1;dh().shared().playEffect_bm4lxs$("click"),o.showExitPopup()}return!0}));this.SetChildVerticalAlign_qn2em6$(oo()),this.SetChildHorizontalAlign_jdpdm8$(uo());var s,a,l=this.createImageButton_uax0jn$(310,r,void 0,void 0,40,40,void 0,void 0,["Resource/UI/IconPause","Resource/UI/IconPauseDisabled",null,null]);this.SetChildVerticalAlign_qn2em6$(ro()),this.SetChildHorizontalAlign_jdpdm8$(lo()),l.SetName_61zpoe$("Pause Switch"),l.SetEnable_6taknv$(!1),l.SetMessageHandler_4mjqr2$((s=this,function(e){var t,i,r,o;if(e.event===Ar()){if(!he(s.game.gameState.GetState(),"running"))return!1;if(!0===s.pause.GetShow())return!1;dh().shared().playEffect_bm4lxs$("click"),s.pause.SetShow_6taknv$(!0);var n="IconSoundOn";0===dh().shared().GetBGMVolume()&&(n="IconSoundOff");var a="IconSFXOn";0===dh().shared().GetEffectVolume()&&(a="IconSFXOff"),!1===Ou().isWatchOS()?s.pause.addText_r4v59z$("[Button Resource/UI/"+n+" 60 sound]        [Button Resource/UI/"+a+" 60 sfx]\n\n\n\n[Button Resource/UI/IconPlay 50 resume]\n",.5):(s.pause.addText_r4v59z$(Zl("MENU_46")+"\n\n\n\n[Scale]",.5),s.pause.addText_r4v59z$("[Button Resource/UI/IconYes 100 ok]                [Button Resource/UI/IconNo 100 no]\n",.5)),s.game.isPaused=!0,null!=(t=s.game.gameTimer)&&t.pause(),null!=(i=s.game.comboTimer)&&i.pause(),null!=(r=s.game.feverTimer)&&r.pause(),null!=(o=s.game.blockDisableTimer)&&o.pause()}return!0})),null!=(t=this.screen)&&t.addScrollListener_d6xl6w$((a=this,function(e){var t,i=Ke.isType(t=a.findChildByName_3m52m6$("Pause Switch"),Kt)?t:null;if(null!=i){var r=Ie().shared().convertCoordinate_dleff0$(i.GetPosition().x,i.GetPosition().y);Ie().shared().addInputQueue_o3bepn$(r.x,r.y,Gt()),Ie().shared().addInputQueue_o3bepn$(r.x,r.y,It())}}))},Cg.prototype.showExitPopup=function(){var e,t,i,r,o;this.game.isPaused=!0,null!=(e=this.game.gameTimer)&&e.pause(),null!=(t=this.game.comboTimer)&&t.pause(),null!=(i=this.game.feverTimer)&&i.pause(),null!=(r=this.game.blockDisableTimer)&&r.pause(),this.SetFontSize_mx4ult$(16),this.SetFontName_61zpoe$("MENU_/");var n=2;he(Zl("TUTORIAL_TEXT_WRAP_TYPE"),"CHARACTER")&&(n=1),this.SetChildVerticalAlign_qn2em6$(ro()),this.SetChildHorizontalAlign_jdpdm8$(lo());var a,s=this.createTextArea_pvsv9g$(160,240,Pn(),240,480,0,.5,1,void 0,void 0,n);s.SetFadeMode_za3lpa$(1),s.SetTextVerticalAlign_qn2em6$(ro()),s.SetTextHorizontalAlign_jdpdm8$(lo()),s.SetModal_6taknv$(!0),s.SetShow_6taknv$(!0),s.addText_r4v59z$("[Scale 1.0]"+Zl("MENU_46")+"\n\n\n\n[Scale]",.5),s.addText_r4v59z$("[Button Resource/UI/IconYes 50 ok]          [Button Resource/UI/IconNo 50 no]\n",.5),s.SetMessageHandler_4mjqr2$(Ng(this,s)),null!=(o=this.screen)&&o.addKeydownListener_5ol7k9$("Confirm Key",(a=s,function(e){var t,i;if(!1===a.GetShow())return!1;if(e===Bt().ESCAPE||e===Bt().BACK){var r=Ke.isType(t=a.findChildByName_3m52m6$("no"),Kt)?t:null;return null!=r&&r.click(),!0}if(e===Bt().ENTER){var o=Ke.isType(i=a.findChildByName_3m52m6$("ok"),Kt)?i:null;return null!=o&&o.click(),!0}return!1}))},Cg.$metadata$={kind:o,simpleName:"GameView",interfaces:[$a]},Og.prototype.afterAttached=function(){var e,t,i;this.SetChildVerticalAlign_qn2em6$(oo()),this.SetChildHorizontalAlign_jdpdm8$(so()),this.createSprite_9wuqyc$(0,480,void 0,"Resource/UI/Loading1",300);var r,o=this.createSprite_9wuqyc$(0,480,void 0,"Resource/UI/Loading2",300);o.SetAlpha_8ca0d4$(0),null!=(e=this.screen)&&e.actionFadeLoop_xukj3e$("",1,0,1,void 0,(r=o,function(e,t){return r.SetAlpha_8ca0d4$(e),!0}));for(t=oe("abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789_-,.!()[]%+?:>/'č→");t.hasNext();){var n,a=ne(t.next()),s=x(a);e:do{if(Ke.isNumber(s)){n=s.toString();break e}if("string"==typeof s){n=s;break e}if("boolean"==typeof s){n=s.toString();break e}if(Ke.isChar(s)){n=s.toString();break e}n=""}while(0);var l=n;qe().shared().createStringTexture_49g1x9$(l," ",96*this.sizeScale.xRatio,hi().white_mx4ult$(),hi().white_mx4ult$(),0,void 0,void 0,"Main/"+l)}this.SetChildHorizontalAlign_jdpdm8$(uo()),this.SetChildVerticalAlign_qn2em6$(oo());var u=this.createTextArea_pvsv9g$(300,480,void 0,120,20);u.addText_r4v59z$(""),u.SetTextHorizontalAlign_jdpdm8$(so()),u.SetTextVerticalAlign_qn2em6$(io());var h={v:Le()};h.v.addAll_brywnq$(za().shared().loadSoundResource());var c,d=h.v,p=za().shared(),f=Je(this.screen).GetSize().width;e:do{if(null==f){c=0;break e}if(Ke.isNumber(f)){c=it(f);break e}if("string"==typeof f)try{c=Qe(f);break e}catch(e){if(Ke.isType(e,ta)){c=0;break e}throw e}c=0}while(0);var m,v=c,g=Je(this.screen).GetSize().height;e:do{if(null==g){m=0;break e}if(Ke.isNumber(g)){m=it(g);break e}if("string"==typeof g)try{m=Qe(g);break e}catch(e){if(Ke.isType(e,ta)){m=0;break e}throw e}m=0}while(0);d.addAll_brywnq$(p.loadDefaultResource_dleff0$(v,m)),h.v.add_11rb$(Rg);var _=h.v.size;null!=(i=this.screen)&&i.actionInstant_cinp1s$(void 0,void 0,void 0,void 0,jg(h,_,{v:-1},u,this))},Og.prototype.beforeDetached=function(){he(Ou().GetConfigure_jyasbz$("Login GameCenter"),"true")&&!1===za().shared().isLogin()&&0===Km().GetInteger_rjan26$("Login",void 0,0)&&(Km().SetInteger_rjan26$("Login",void 0,1),za().shared().loginIntent())},Og.prototype.update_mx4ult$=function(e){$a.prototype.update_mx4ult$.call(this,e)},Og.prototype.loading_o14v8n$=function(e){var t,i=za().shared(),r=Je(this.screen).GetSize().width;e:do{if(null==r){t=0;break e}if(Ke.isNumber(r)){t=it(r);break e}if("string"==typeof r)try{t=Qe(r);break e}catch(e){if(Ke.isType(e,ta)){t=0;break e}throw e}t=0}while(0);var o,n=t,a=Je(this.screen).GetSize().height;e:do{if(null==a){o=0;break e}if(Ke.isNumber(a)){o=it(a);break e}if("string"==typeof a)try{o=Qe(a);break e}catch(e){if(Ke.isType(e,ta)){o=0;break e}throw e}o=0}while(0);i.loadDefaultResource_dleff0$(n,o);var s=Km().GetString_sv46oe$(Bf(),void 0,"BlocksetNumber");za().shared().changeCurrentBlockSet_61zpoe$(s),za().shared().saveCurrentBlockSet(),e()},Og.$metadata$={kind:o,simpleName:"LoadingView",interfaces:[$a]},Object.defineProperty(Pg.prototype,"music",{get:function(){return null==this.music_e6wunb$_0?z("music"):this.music_e6wunb$_0},set:function(e){this.music_e6wunb$_0=e}}),Object.defineProperty(Pg.prototype,"screenToggle",{get:function(){return null==this.screenToggle_6i50om$_0?z("screenToggle"):this.screenToggle_6i50om$_0},set:function(e){this.screenToggle_6i50om$_0=e}}),Pg.prototype.afterAttached=function(){var e,t,i,r;Ie().shared().SetBackgroundColor_qt1dr2$(28,28,28),null!=(e=this.screen)&&(e.isDrawTouchMark=!0),this.SetChildVerticalAlign_qn2em6$(ro()),this.SetChildHorizontalAlign_jdpdm8$(lo()),this.bg=this.createSprite_591x4d$(160,240,Sn().value,"Resource/UI/Background",320,480,void 0,void 0,!1),Je(this.bg).SetName_61zpoe$("Background"),dh().shared().BGMFadeIn_o5txl1$(Je(this.screen),"MenuBGM",100,1),he(Ou().GetConfigure_jyasbz$("RecordForTitle"),"true")?this.createTitleEffectForRecord():this.createTitleEffect();var o,n=Le();n.add_11rb$(bp(Di(0,0,0,0)).needStar),n.add_11rb$(kp(Di(0,0,0,0)).needStar),n.add_11rb$(fp(Di(0,0,0,0)).needStar);for(var a=[Kg("Resource/UI/IconBeginner",void 0,void 0,void 0,void 0,.3,this.menuCallback),Kg("Resource/UI/IconBeginner6x6",void 0,void 0,void 0,void 0,.3,this.menuCallback),Kg("Resource/UI/IconClassic",void 0,void 0,void 0,void 0,.3,this.menuCallback)],s=["Beginner","Beginner6x6","Classic"],l=0;l!==a.length;++l){var u=a[l];if(null!=u){var h=Hv().shared().GetHighScore_61zpoe$(s[l]);0<h&&(u.title="[Color white][font Number/][Scale 0.5] "+Jl(h)),0<n.get_za3lpa$(l)&&(u.upperCaption="[font Number/][Image Resource/UI/IconStar 15] [Scale 0.5]X[Scale 0.8] "+n.get_za3lpa$(l).toString(),ug().shared().GetStarAmount()<n.get_za3lpa$(l)&&(u.enable=!1))}}0===Km().GetInteger_hh7mhe$(Vf(),void 0,0)&&0===Km().GetInteger_hh7mhe$(Uf(),void 0,0)&&(null!=(t=a[1])&&(t.enable=!1),null!=(i=a[2])&&(i.enable=!1));za().shared().GetCurrentBlockSetResource();var c=60,d=0;!0===Ou().isWatchOS()&&(c=110,d=75),(o=o_(this,this.GetSize(),Pi(3,1),c,void 0,a)).prepare_1isvtk$(d,40,10);var p=20,f=24;!0===Ou().isWatchOS()&&(p=40,f=32),this.SetFontName_61zpoe$("Number/"),this.SetFontSize_mx4ult$(f),this.SetChildVerticalAlign_qn2em6$(io()),this.SetChildHorizontalAlign_jdpdm8$(uo());var m=this.createTextArea_pvsv9g$(310,5,void 0,320,0,0,.5,1);m.SetName_61zpoe$("Star Amount"),m.SetTextVerticalAlign_qn2em6$(io()),m.SetTextHorizontalAlign_jdpdm8$(uo()),m.addText_r4v59z$("[image Resource/UI/IconStar "+p.toString()+"] "+Jl(ug().shared().GetStarAmount())),this.showBottomMenu(),this.particleManagerForFairy=cn(this),this.createBackgroundEffect_v32r7z$(Je(this.particleManagerForFairy),Di(0,160,320,320)),null!=(r=this.screen)&&r.addKeydownListener_5ol7k9$("Back Key",Eg(this,o)),v.game.scale.isFullScreen?this.screenToggle=v.game.add.button(10,10,"window",B("screenToggleButton",function(e){return e.screenToggleButton(),Ze}.bind(null,this)),this,0,0,0):this.screenToggle=v.game.add.button(10,10,"fullscreen",B("screenToggleButton",function(e){return e.screenToggleButton(),Ze}.bind(null,this)),this,0,0,0),this.screenToggle.width=60,this.screenToggle.height=60,v.game.scale.onFullScreenChange.add(B("onChangeFullScreen",function(e,t){return e.onChangeFullScreen_nwh8sm$(t),Ze}.bind(null,this)),this)},Pg.prototype.screenToggleButton=function(){var e;v.game.scale.isFullScreen?v.game.scale.stopFullScreen():(v.game.scale.startFullScreen(),(Ke.isType(e=v.game.canvas.parentElement,HTMLElement)?e:Ee()).style.backgroundColor="#2D2535")},Pg.prototype.onChangeFullScreen_nwh8sm$=function(e){v.game.scale.isFullScreen?(this.screenToggle.destroy(),this.screenToggle=v.game.add.button(10,10,"window",B("screenToggleButton",function(e){return e.screenToggleButton(),Ze}.bind(null,this)),this,0,0,0)):(this.screenToggle.destroy(),this.screenToggle=v.game.add.button(10,10,"fullscreen",B("screenToggleButton",function(e){return e.screenToggleButton(),Ze}.bind(null,this)),this,0,0,0)),this.screenToggle.width=60,this.screenToggle.height=60},Pg.prototype.showBlockMenU=function(){var e=Kg("Resource/UI/IconTutorial",void 0,void 0,void 0,void 0,void 0,this.bottomMenuItem),t=Kg("Resource/UI/IconOption",void 0,void 0,void 0,void 0,void 0,this.bottomMenuItem);o_(this,this.GetSize(),Pi(2,1),40,void 0,[e,t]).prepare_1isvtk$(210,200)},Pg.prototype.showPromotionMenu=function(){this.SetChildHorizontalAlign_jdpdm8$(so()),this.createButton_ix8ej2$(40,340,Ln().value,void 0,void 0,100,-1,void 0,["Resource/UI/AppStoreBadge"],void 0,void 0,void 0,!0,Fg),this.SetChildHorizontalAlign_jdpdm8$(uo()),this.createButton_ix8ej2$(280,340,Ln().value,void 0,void 0,100,-1,void 0,["Resource/UI/google-play-badge"],void 0,void 0,void 0,!0,Lg)},Pg.prototype.showBottomMenu=function(){var e;e=!0===za().shared().isDesktop()?Kg("Resource/UI/IconTutorial",void 0,void 0,void 0,void 0,void 0,this.bottomMenuItem):Kg("Resource/UI/IconGameCenter",void 0,void 0,void 0,void 0,void 0,this.bottomMenuItem);var t=Kg(za().shared().GetCurrentBlockSetResource()+"IconMenu",void 0,void 0,void 0,void 0,void 0,this.bottomMenuItem),i=Kg("Resource/UI/IconOption",void 0,void 0,void 0,void 0,void 0,this.bottomMenuItem);o_(this,this.GetSize(),Pi(3,1),40,void 0,[e,t,i]).prepare_1isvtk$(210,90)},Pg.prototype.beforeDetached=function(){var e,t;this.screenToggle.destroy(),v.game.scale.onFullScreenChange.removeAll(this),this.removeAction_sbe383$("Title Effect"),null!=(e=this.particleManager)&&e.clearParticlePool(),(this.particleManager=null)!=(t=this.particleManagerForFairy)&&t.clearParticlePool(),this.particleManagerForFairy=null},Pg.prototype.update_mx4ult$=function(e){null!=this.particleManager&&(Je(this.particleManager).updateObject_mx4ult$(e),Je(this.particleManager).projection_1s1xds$(this.size,Ai(0,0*this.sizeScale.yRatio,1e3))),null!=this.particleManagerForFairy&&(Je(this.particleManagerForFairy).updateObject_mx4ult$(e),Je(this.particleManagerForFairy).projection_1s1xds$(this.size,Ai(0,0*this.sizeScale.yRatio,1e3))),$a.prototype.update_mx4ult$.call(this,e)},Pg.prototype.createTitleEffect=function(){var e,t,i,r,o=this.createSprite_9wuqyc$(160,70,void 0,"Resource/UI/Title",280,void 0,void 0,this.sizeScale);o.SetBlendMode_ieo8yr$(ti()),o.SetVerticalAlign_qn2em6$(io()),o.SetHorizontalAlign_jdpdm8$(lo()),o.SetAlpha_8ca0d4$(0),null!=(e=this.screen)&&e.actionFadeIn_hkbjms$(o,void 0,1,void 0,3);var n;Je(o).GetSize().width,Je(o).GetSize().height,o.GetPosition().x,o.GetSize().width,this.sizeScale.yRatio;(n=this.createLabel_17tgk7$(160,125,void 0,"Stones of Eternity")).SetSize_dleff0$(200*this.sizeScale.yRatio,-1),n.SetVerticalAlign_qn2em6$(io()),n.SetHorizontalAlign_jdpdm8$(lo()),n.SetAlpha_8ca0d4$(0),null!=(t=this.screen)&&t.actionFadeIn_hkbjms$(n,void 0,1,2,3),this.particleManager=cn(this);var a=Ou().GetPerformance();if(null!=(i=this.particleManager)){var s,l=200*a;e:do{if(null==l){s=0;break e}if(Ke.isNumber(l)){s=et(l);break e}if("string"==typeof l)try{s=tt(l);break e}catch(e){if(Ke.isType(e,ta)){s=0;break e}throw e}s=0}while(0);i.SetMaxParticle_za3lpa$(s)}var u=ko(20,Ai(0,0,-150),Ai(0,0,0),Ai(0,0,0),90,1600,200,50);u.projection=1,null!=(r=this.particleManager)&&r.SetCamera_s6wt6e$(u)},Pg.prototype.createTitleEffectForRecord=function(){var e,t,i,r,o,n;this.title=this.createMask_jga54f$(160,200,0,"Resource/UI/Title",280),null!=(e=this.title)&&e.SetVerticalAlign_qn2em6$(io()),null!=(t=this.title)&&t.SetHorizontalAlign_jdpdm8$(lo());var a=Je(this.title).GetSize().width,s=Je(this.title).GetSize().height,l=Je(this.title).GetPosition().x-Je(this.title).GetSize().width/2,u=Je(this.title).GetPosition().y,h=this.createSprite_9wuqyc$(160,200,void 0,"Resource/UI/TitleOutline",280,void 0,void 0,this.sizeScale);h.SetBlendMode_ieo8yr$(ti()),h.SetVerticalAlign_qn2em6$(io()),h.SetHorizontalAlign_jdpdm8$(lo()),h.SetAlpha_8ca0d4$(0),null!=(i=this.screen)&&i.actionFadeIn_hkbjms$(h,void 0,.8,void 0,6);var c=this.createSprite_9wuqyc$(160,255,void 0,"Resource/UI/SubTitle",240,void 0,void 0,this.sizeScale);c.SetVerticalAlign_qn2em6$(io()),c.SetHorizontalAlign_jdpdm8$(lo()),c.SetAlpha_8ca0d4$(0),null!=(r=this.screen)&&r.actionFadeIn_hkbjms$(c,void 0,1,2,3.5),this.particleManager=cn(this);var d=Ou().GetPerformance();if(null!=(o=this.particleManager)){var p,f=200*d;e:do{if(null==f){p=0;break e}if(Ke.isNumber(f)){p=et(f);break e}if("string"==typeof f)try{p=tt(f);break e}catch(e){if(Ke.isType(e,ta)){p=0;break e}throw e}p=0}while(0);o.SetMaxParticle_za3lpa$(p)}var m,v,g,_,$,y=ko(20,Ai(0,0,-150),Ai(0,0,0),Ai(0,0,0),90,1600,200,50);y.projection=1,null!=(n=this.particleManager)&&n.SetCamera_s6wt6e$(y),this.createAction_xcdeti$("Title Effect",!0,!1,!0,void 0,.1,void 0,(m=l,v=a,g=u,_=s,$=this,function(e){var t,i=m+go().arc4random_uniform_za3lpa$(et(v)),r=g+go().arc4random_uniform_za3lpa$(et(_)),o=hi().white_mx4ult$();return go().arc4random_uniform_za3lpa$(100)<40&&(o=hi().puzzleYellow_mx4ult$(.8)),null!=(t=$.particleManager)&&t.createFairy_hcj0m5$(Ai(i,r,-50),15*$.sizeScale.xRatio,10,1050*$.sizeScale.xRatio,2+go().arc4random_uniform_za3lpa$(100)/100,"Resource/UI/Particle",o,Ai(0,0,-20),Ai(10*$.sizeScale.xRatio,10*$.sizeScale.xRatio,500),void 0,void 0,void 0,void 0,$.title),!0}))},Pg.prototype.createBackgroundEffect_v32r7z$=function(e,t,i){var r;void 0===i&&(i=30);var o=Km().GetInteger_hh7mhe$(Ff(),void 0,1);if(!(o<1)){var n=ko(20,Ai(0,0,-100),Ai(0,0,0),Ai(0,0,0),90,1600,200,50);e.SetCamera_s6wt6e$(n);var a=Ou().GetPerformance();e.SetMaxParticle_za3lpa$(et(200*a)),n.projection=1,e.SetCamera_s6wt6e$(n);var s,l,u,h,k,w,c=.1;o<2&&(c=.2),this.createAction_xcdeti$("Background Effect",!0,!1,!0,void 0,c,void 0,(s=e,l=i,u=t,h=this,function(e){if(s.GetCurrentParticleCount()>l)return!0;var t=u.x+go().arc4random_uniform_za3lpa$(et(u.width)),i=u.y+go().arc4random_uniform_za3lpa$(et(u.height)),r=h.positionUniversalToDevice_xpb3zu$(t,i),o=!(r.z=100),n=hi().white_mx4ult$(1),a=go().arc4random_uniform_za3lpa$(100);return a<70&&(o=!0),a<5?n=hi().puzzleYellow_mx4ult$(1):a<6?n=hi().puzzleBlue_mx4ult$(1):a<7?n=hi().puzzleRed_mx4ult$(1):a<8?n=hi().puzzlePurple_mx4ult$(1):a<10&&(n=hi().puzzleOrange_mx4ult$(1)),s.createFairy2_emwd81$(r,5*h.sizeScale.xRatio,200*h.sizeScale.xRatio,3+go().arc4random_uniform_za3lpa$(100)/100,"Resource/UI/ParticleFairy",n,Ai(5,5,-50),Ai(40*h.sizeScale.xRatio,40*h.sizeScale.xRatio,50),200*h.sizeScale.xRatio,!0,o,wn().value,h),!0})),null!=(r=this.screen)&&r.addTouchListener_dal58m$(new Ct("Touch For Fairy",0,0,this.GetSize().width,this.GetSize().height,void 0,(k=e,w=this,function(e,t,i,r,o){var n,a;switch(r.name){case"began":for(n=k.GetObjectList().iterator();n.hasNext();){var s=n.next(),l=Ai(s.screenPosition.x-e.x,s.screenPosition.y-e.y),u=l.length2D();if(u<100*w.sizeScale.xRatio){var h=1e3*w.sizeScale.xRatio-2*u;l.normalize();var c=s.movement,d=s.movement.x;c.x=Yt.abs(d)*l.normalX;var p=s.movement,f=s.movement.y;p.y=Yt.abs(f)*l.normalY,s.accel.x=h*l.normalX,s.accel.y=h*l.normalY,s.accelRetain.x=.1,s.accelRetain.y=.1,s.drag.x=50*w.sizeScale.xRatio,s.drag.y=50*w.sizeScale.xRatio}}break;case"moved":for(a=k.GetObjectList().iterator();a.hasNext();){var m=a.next(),v=Ai(m.screenPosition.x-e.x,m.screenPosition.y-e.y),g=v.length2D();if(g<100*w.sizeScale.xRatio){var _=1e3*w.sizeScale.xRatio-2*g;v.normalize();var $=m.movement,y=m.movement.x;$.x=Yt.abs(y)*v.normalX;var b=m.movement,S=m.movement.y;b.y=Yt.abs(S)*v.normalY,m.accel.x=_*v.normalX,m.accel.y=_*v.normalY,m.accelRetain.x=.1,m.accelRetain.y=.1,m.drag.x=50*w.sizeScale.xRatio,m.drag.y=50*w.sizeScale.xRatio}}}})))}},Pg.prototype.createStarOld_iwp3ca$=function(e){var t,i=hi().white_mx4ult$(),r=go().arc4random_uniform_za3lpa$(100);r<=5?i=hi().puzzleBlue_mx4ult$(.6):r<=10&&(i=hi().puzzleYellow_mx4ult$(.8));var o=Ai(160,0,0);o.rotateZ_mx4ult$(go().arc4random_uniform_za3lpa$(360));var n=e.createStar_2a19qk$(o.x,o.y,800,10,"ParticleDot",i);null!=(t=null!=n?n.movement:null)&&(t.z=-1*(200+go().arc4random_uniform_za3lpa$(100)|0)),null!=n&&n.SetOriginalAlpha_mx4ult$(1),null!=n&&(n.keepDirection=!0),null!=n&&n.SetCallback_lnidq9$(Dg)},Pg.$metadata$={kind:o,simpleName:"MainMenuView",interfaces:[$a]},Vg.$metadata$={kind:o,simpleName:"MenuItemType",interfaces:[h]},Vg.values=function(){return[qg(),Hg(),Wg(),Yg()]},Vg.valueOf_61zpoe$=function(e){switch(e){case"NORMAL":return qg();case"RADIO":return Hg();case"SWITCH":return Wg();case"TEXT":return Yg();default:c("No enum constant com.blindcatstudio.samsara.view.MenuItemType."+e)}},Xg.$metadata$={kind:o,simpleName:"MenuItem",interfaces:[]},Qg.prototype.SetDescription_xobbru$=function(e,t){var i=this.items[e];null!=i&&(i.description=t)},Qg.prototype.SetCurrent_za3lpa$=function(e){var t,i,r,o;if(!(e>=this.menuDimension.width*this.menuDimension.height)){var n,a,s,l=this.items[e];if(null!=l){if(l.type!==Hg())return;l.onOff=ca();var u=Ke.isType(t=l.button,pa)?t:null;if(null!=u){var h=Ke.isType(i=u.findChildByName_3m52m6$("Selected Mask"),sa)?i:null;null!=h&&null!=(r=this.view.screen)&&r.actionFadeIn_hkbjms$(h,void 0,void 0,void 0,.1),Ie().shared().SetInputPending_6taknv$(!0),null!=(o=this.textArea)&&o.clearText_gam257$(.1,(n=this,a=l,s=e,function(){var e;return null!=(e=n.textArea)&&e.addText_r4v59z$(a.description[!0===a.enable?0:1],.3,Jg(n,a,s)),Ze}))}this.current=e}}},Qg.prototype.GetCurrent=function(){return this.current},Qg.prototype.SetEnable_fzusl$=function(e,t){var i,r,o,n,a;if(!(e>=this.menuDimension.width*this.menuDimension.height))if(null!=(i=this.items[e])&&(i.enable=t),!1===t){var s=null!=(r=this.items[e])?r.button:null;if(null!=s){s.SetEnable_6taknv$(t);var l=Ke.isType(o=s.findChildByName_3m52m6$("Disabled Mask"),sa)?o:null;null!=l&&l.SetAlpha_8ca0d4$(1)}}else{var u=null!=(n=this.items[e])?n.button:null;if(null!=u){u.SetEnable_6taknv$(t);var h=Ke.isType(a=u.findChildByName_3m52m6$("Disabled Mask"),sa)?a:null;null!=h&&h.SetAlpha_8ca0d4$(0)}}},Qg.prototype.SetEnable_9klhxs$=function(e){for(var t=0,i=e.iterator();i.hasNext();++t){var r=i.next();this.SetEnable_fzusl$(t,r)}},Qg.prototype.GetEnable_za3lpa$=function(e){var t,i=null!=(t=this.items[e])?t.enable:null;return null!=i&&i},Qg.prototype.hide=function(){var e;null!=(e=this.view.mask)&&e.SetShow_6taknv$(!1)},Qg.prototype.show=function(){var e;null!=(e=this.view.mask)&&e.SetShow_6taknv$(!0)},Qg.prototype.prepare_1isvtk$=function(e,t,i,r,o,n){var a,s,l,u,h,c,d,p;void 0===t&&(t=0),void 0===i&&(i=0),void 0===r&&(r=0),void 0===o&&(o=30),void 0===n&&(n=!1);var f=e*this.view.sizeScale.yRatio,m=i*this.view.sizeScale.yRatio,v=t*this.view.sizeScale.xRatio,g=r*this.view.sizeScale.yRatio,_=Di((this.size.width-(this.menuDimension.width*(this.tileSize+v)-v))/2,(this.size.height-(this.menuDimension.height*(this.tileSize+m)-m))/2+f,this.menuDimension.width*(this.tileSize*this.tileWidthScale+v)-v,this.menuDimension.height*(this.tileSize+m)-m+g),$=Kr(0,_.y-.5*this.tileSize,Tn().value,"Resource/UI/board_mask",this.view.GetSize().width,this.view.GetSize().height);$.SetVerticalAlign_qn2em6$(io()),$.SetHorizontalAlign_jdpdm8$(so()),this.view.addChild_g5h3xp$($),this.view.mask=$;var y=o;if(null!=this.title)if(!0===Ou().isWatchOS())Ie().shared().SetTitle_61zpoe$(this.titleForWatch);else{this.view.SetFontSize_mx4ult$(28);var b=this.view.createTextArea_pvsv9g$(160,y,void 0,80,40,0,.5,1);b.addText_r4v59z$(Je(this.title)),b.SetVerticalAlign_qn2em6$(io()),b.SetHorizontalAlign_jdpdm8$(lo()),b.SetTextVerticalAlign_qn2em6$(ro()),b.SetTextHorizontalAlign_jdpdm8$(lo()),b.SetFadeMode_za3lpa$(1),this.view.SetFontSize_mx4ult$(),y+=50}else y+=50;!0===Ou().isWatchOS()?this.view.SetFontSize_mx4ult$(40):this.view.SetFontSize_mx4ult$(20),this.view.SetFontName_61zpoe$("MENU_/"),this.textArea=this.view.createTextArea_pvsv9g$(160,y,void 0,80,40,0,.5,1),null!=(a=this.textArea)&&a.SetHorizontalAlign_jdpdm8$(lo()),null!=(s=this.textArea)&&s.SetTextHorizontalAlign_jdpdm8$(lo()),null!=(l=this.textArea)&&l.SetFadeMode_za3lpa$(1),this.view.SetFontSize_mx4ult$();var S=-1,k={v:0};u=et(this.menuDimension.height)-1|0;for(var w=0;w<=u;w++){h=et(this.menuDimension.width)-1|0;for(var x=0;x<=h;x++){var C=x+Ke.imul(w,et(this.menuDimension.width))|0,z=this.items[C];if(null!=z){if(0===z.image.length)continue;var T,G=.5*this.tileSize+w*(this.tileSize+m);if(w===et(this.menuDimension.height-1)&&(G+=g),0===this.boardTile.length==!1){var A=la(_.x+x*(this.tileSize*this.tileWidthScale+v),G,jn().value,this.boardTile,this.tileSize*this.tileWidthScale,this.tileSize);A.SetVerticalAlign_qn2em6$(io()),A.SetHorizontalAlign_jdpdm8$(so()),A.SetBlendMode_ieo8yr$(ei()),A.SetBlendFactor_mx4ult$(1),A.SetAlpha_8ca0d4$(0),this.view.GetMask().addChild_g5h3xp$(A),null!=(c=this.view.screen)&&c.actionFadeIn_hkbjms$(A,void 0,void 0,void 0,.5)}S=S+1|0;var I=.5*this.tileSize+(w-this.menuDimension.height)*(this.tileSize+m)-g-this.tileSize;if(z.type===qg())T=Zt(_.x+x*(this.tileSize*this.tileWidthScale+v),I,Pn().value,z.image);else if(z.type===Wg()||z.type===Hg()){var N=fa(_.x+x*(this.tileSize*this.tileWidthScale+v),I,Pn().value,z.image);N.SetOnOff_abhado$(z.onOff),T=N}else T=Zt(_.x+x*(this.tileSize*this.tileWidthScale+v),I,Pn().value,null,Je(z.image[0]),z.fontName,void 0,20*this.view.sizeScale.yRatio);T.SetSize_dleff0$(this.tileSize*this.tileWidthScale,this.tileSize);var M=la(0,0,void 0,"Resource/UI/menu_disabled_mask",this.tileSize*this.tileWidthScale,this.tileSize);M.SetName_61zpoe$("Disabled Mask"),M.SetAlpha_8ca0d4$(0),T.addChild_g5h3xp$(M);var O=.4*this.tileSize,R=Yt.floor(O),j=.4*this.tileSize,P=la(0,0,void 0,"Resource/UI/menu_selected_mask",R,Yt.floor(j));if(P.SetName_61zpoe$("Selected Mask"),P.SetVerticalAlign_qn2em6$(ro()),P.SetHorizontalAlign_jdpdm8$(lo()),P.SetAlpha_8ca0d4$(0),T.addChild_g5h3xp$(P),T.SetMessageHandler_4mjqr2$(e_(z,C,this,T)),this.view.GetMask().addChild_g5h3xp$(T),0===z.upperCaption.length==!1){var B=20;Ou().isWatchOS(),B*=this.view.sizeScale.yRatio;var E=_a(.5*T.GetSize().width,-1*T.GetSize().height*.3,void 0,T.GetSize().width,.2*T.GetSize().height,"Number/",B,0,.5,1);T.addChild_g5h3xp$(E),E.SetShow_6taknv$(!0),E.SetHorizontalAlign_jdpdm8$(lo()),E.SetVerticalAlign_qn2em6$(ro()),E.SetTextHorizontalAlign_jdpdm8$(lo()),E.SetTextVerticalAlign_qn2em6$(io()),E.addText_r4v59z$(z.upperCaption)}if(0===z.title.length==!1){var F=20;Ou().isWatchOS(),F*=this.view.sizeScale.yRatio;var L=_a(.5*T.GetSize().width,1.2*T.GetSize().height,void 0,T.GetSize().width,.2*T.GetSize().height,"Number/",F,0,.5,1);T.addChild_g5h3xp$(L),L.SetShow_6taknv$(!0),L.SetHorizontalAlign_jdpdm8$(lo()),L.SetVerticalAlign_qn2em6$(ro()),L.SetTextHorizontalAlign_jdpdm8$(lo()),L.SetTextVerticalAlign_qn2em6$(io()),L.addText_r4v59z$(z.title)}T.SetVerticalAlign_qn2em6$(io()),T.SetHorizontalAlign_jdpdm8$(so()),z.button=T,this.SetEnable_fzusl$(C,z.enable);var D={v:.5*this.tileSize+w*(this.tileSize+m)};w===(et(this.menuDimension.height)-1|0)&&(D.v+=g),null!=(d=this.view.screen)&&d.actionDelay_ab0iom$(.1*this.items.length-.05*S,void 0,t_(this,T,D,k))}else if(k.v=k.v+1|0,!0===n){var V=.5*this.tileSize+w*(this.tileSize+m);if(w===(et(this.menuDimension.height)-1|0)&&(V+=g),0===this.boardTile.length==!1){var U=la(_.x+x*(this.tileSize*this.tileWidthScale+v),V,jn().value,this.boardTile,this.tileSize*this.tileWidthScale,this.tileSize);U.SetBlendMode_ieo8yr$(ei()),U.SetBlendFactor_mx4ult$(1),U.SetAlpha_8ca0d4$(0),this.view.GetMask().addChild_g5h3xp$(U),null!=(p=this.view.screen)&&p.actionFadeIn_hkbjms$(U,void 0,void 0,void 0,.5)}}}}},Qg.prototype.click_za3lpa$=function(e){var t,i,r,o,n=this.items[e];if(null!=n)if(n.type===qg()||n.type===Yg())if(!0===n.enable){var a=n.callback(e,!0,null);null!=a&&(this.inputEnable=!1,Ie().shared().SetInputPending_6taknv$(!0),this.drop(),null!=(t=this.view.screen)&&t.presentView_xl35ob$(a,n.fadeTime))}else n.callback(e,!1,null);else n.type===Hg()?e!==this.current&&(this.toggle_za3lpa$(e),n.callback(e,n.enable,null)):n.type===Wg()&&!0===n.enable&&(n.callback(e,n.enable,null),n.onOff=n.onOff===ca()?da():ca(),Ke.isType(n.button,pa)&&(Ie().shared().SetInputPending_6taknv$(!0),null!=(i=this.textArea)&&i.clearText_gam257$(.1,(r=this,o=n,function(){var e;return null!=(e=r.textArea)&&e.addText_r4v59z$(o.description[o.onOff===ca()?0:1],.3,i_),Ze}))))},Qg.prototype.toggle_za3lpa$=function(e){var t,i,r,o,n,a,s;t=et(this.menuDimension.width)-1|0;for(var l=0;l<=t;l++){i=et(this.menuDimension.height)-1|0;for(var u=0;u<=i;u++){var h=l+Ke.imul(u,et(this.menuDimension.width))|0,c=this.items[h];if(null!=c){if(c.type!==Hg())continue;if(c.group!==(null!=(r=this.items[e])?r.group:null))continue;var d=Ke.isType(n=null!=(o=this.items[h])?o.button:null,pa)?n:null;if(null!=d)if(h===e)this.SetCurrent_za3lpa$(h);else{d.SetOnOff_abhado$(da());var p=Ke.isType(a=d.findChildByName_3m52m6$("Selected Mask"),sa)?a:null;null!=p&&0<p.GetAlpha()&&null!=(s=this.view.screen)&&s.actionFadeOut_7vo5wp$(p,void 0,void 0,.2)}}}}},Qg.prototype.drop=function(){for(var e,t,i,r=-1,o=et(this.menuDimension.height)-1|0;0<=o;o--){e=et(this.menuDimension.width)-1|0;for(var n=0;n<=e;n++){var a=n+Ke.imul(o,et(this.menuDimension.width))|0,s=null!=(t=this.items[a])?t.button:null;null!=s&&(r=r+1|0,null!=(i=this.view.screen)&&i.actionDelay_ab0iom$(.02*r,void 0,r_(this,s)))}}},Qg.$metadata$={kind:o,simpleName:"Menu",interfaces:[]},Object.defineProperty(n_.prototype,"menu",{get:function(){return null==this.menu_zk9po$_0?z("menu"):this.menu_zk9po$_0},set:function(e){this.menu_zk9po$_0=e}}),Object.defineProperty(n_.prototype,"notice",{get:function(){return null==this.notice_6fo1qd$_0?z("notice"):this.notice_6fo1qd$_0},set:function(e){this.notice_6fo1qd$_0=e}}),Object.defineProperty(n_.prototype,"particleManagerForFairy",{get:function(){return null==this.particleManagerForFairy_8rru26$_0?z("particleManagerForFairy"):this.particleManagerForFairy_8rru26$_0},set:function(e){this.particleManagerForFairy_8rru26$_0=e}}),n_.prototype.afterAttached=function(){if(this.particleManagerForFairy=cn(this),he(Ou().GetConfigure_jyasbz$("AppLovin"),"true")){var e=Ou().GetInteger_bm4lxs$("OptionClickCount",0)+1|0;Ou().SetInteger_bm4lxs$("OptionClickCount",e);var t,i=!1;3<=e&&(i=!0),!0===i?!1===za().shared().showInterstitial_y8twos$((t=this,function(e){t.drawScreen()}))?this.drawScreen():(Ou().SetInteger_bm4lxs$("OptionClickCount",0),Ou().SetDouble_io5o9c$("PlayingTimeForAds",0),Ou().SetInteger_bm4lxs$("PlayingCountForAds",0)):this.drawScreen()}else this.drawScreen()},n_.prototype.drawScreen=function(){var e,t;$a.prototype.afterAttached.call(this),Ie().shared().SetBackgroundColor_qt1dr2$(28,28,28),null!=(e=this.screen)&&(e.isDrawTouchMark=!0),this.SetChildVerticalAlign_qn2em6$(ro()),this.SetChildHorizontalAlign_jdpdm8$(lo());var i,r=Sn().value;e:do{if(null==r){i=0;break e}if(Ke.isNumber(r)){i=it(r);break e}if("string"==typeof r)try{i=Qe(r);break e}catch(e){if(Ke.isType(e,ta)){i=0;break e}throw e}i=0}while(0);this.createSprite_591x4d$(160,240,i,"Resource/UI/Background",320,480,void 0,void 0,!1);var o=Le(),n=Km().GetInteger_hh7mhe$(Mf(),void 0,100),a=Zg(["Resource/UI/IconSoundOn","Resource/UI/IconSoundOff"],void 0,[Zl("MENU_1"),Zl("MENU_2")],Wg(),void 0,void 0,this.menuCallback);a.onOff=0===n?da():ca(),o.add_11rb$(a);var s=Km().GetInteger_hh7mhe$(Of(),void 0,100);(a=Zg(["Resource/UI/IconSFXOn","Resource/UI/IconSFXOff"],void 0,[Zl("MENU_3"),Zl("MENU_4")],Wg(),void 0,void 0,this.menuCallback)).onOff=0===s?da():ca(),o.add_11rb$(a),o.add_11rb$(Kg("Resource/UI/IconColorNormal",void 0,void 0,Hg(),1,void 0,this.menuCallback)),o.add_11rb$(Kg("Resource/UI/IconColorBlind",void 0,void 0,Hg(),1,void 0,this.menuCallback)),o.add_11rb$(Kg("Resource/UI/IconKorean",void 0,void 0,Hg(),0,void 0,this.menuCallback)),o.add_11rb$(Kg("Resource/UI/IconEnglish",void 0,void 0,Hg(),0,void 0,this.menuCallback)),a=Kg("Resource/UI/IconTutorial",void 0,void 0,void 0,void 0,void 0,this.menuCallback),0===Km().GetInteger_hh7mhe$(Vf(),void 0,0)&&(a.enable=!1),o.add_11rb$(a),o.add_11rb$(Kg("Resource/UI/IconBlindcat",void 0,void 0,void 0,void 0,void 0,this.menuCallback)),o.add_11rb$(Kg("Resource/UI/IconBatteryLow","[Color white][font MENU_/][Scale 0.5] "+Zl("MENU_55"),void 0,Hg(),2,void 0,this.menuCallback)),o.add_11rb$(Kg("Resource/UI/IconBatteryMedium","[Color white][font MENU_/][Scale 0.5] "+Zl("MENU_56"),void 0,Hg(),2,void 0,this.menuCallback)),o.add_11rb$(Kg("Resource/UI/IconBatteryHigh","[Color white][font MENU_/][Scale 0.5] "+Zl("MENU_57"),void 0,Hg(),2,void 0,this.menuCallback)),o.add_11rb$(null);switch(this.menu=o_(this,this.GetSize(),Pi(4,3),50,void 0,Ih(o),Zl("MENU_5")),this.menu.prepare_1isvtk$(0,20,20),Km().GetString_sv46oe$(Df(),void 0,"Normal")){case"Normal":this.menu.SetCurrent_za3lpa$(2);break;case"Blind":this.menu.SetCurrent_za3lpa$(3)}var l=Xl();switch(he(l,"kr")?this.menu.SetCurrent_za3lpa$(4):this.menu.SetCurrent_za3lpa$(5),Km().GetInteger_hh7mhe$(Ff(),void 0,1)){case 0:this.menu.SetCurrent_za3lpa$(8);break;case 1:this.menu.SetCurrent_za3lpa$(9);break;case 2:this.menu.SetCurrent_za3lpa$(10)}var u=za().shared().getVersionName();null!=u&&(this.SetFontHorizontalAlign_jdpdm8$(uo()),this.SetFontVerticalAlign_qn2em6$(oo()),this.SetFontSize_mx4ult$(12),this.SetFontName_61zpoe$("Main/"),this.createLabel_17tgk7$(310,470,void 0,"Version "+u).SetSize_dleff0$(-1,20*this.sizeScale.yRatio));this.SetFontName_61zpoe$("Number/"),this.SetFontSize_mx4ult$(24),this.SetChildVerticalAlign_qn2em6$(io()),this.SetChildHorizontalAlign_jdpdm8$(uo());var h,c=this.createTextArea_pvsv9g$(310,5,void 0,320,0,0,.5,1);c.SetTextHorizontalAlign_jdpdm8$(uo()),c.SetTextVerticalAlign_qn2em6$(io());e:do{if(Ke.isNumber(20)){h=20..toString();break e}if(Ke.isChar(20)){h=20..toString();break e}h=""}while(0);c.addText_r4v59z$("[image Resource/UI/IconStar "+h+"] "+Jl(ug().shared().GetStarAmount())),c.SetName_61zpoe$("Star Amount"),this.SetFontSize_mx4ult$(24),this.SetFontName_61zpoe$("Main/"),this.SetChildVerticalAlign_qn2em6$(ro()),this.SetChildHorizontalAlign_jdpdm8$(lo()),this.notice=this.createTextArea_pvsv9g$(160,240,Pn(),240,480,0,.5,1),this.notice.SetFadeMode_za3lpa$(1),this.notice.SetTextVerticalAlign_qn2em6$(ro()),this.notice.SetTextHorizontalAlign_jdpdm8$(lo()),this.notice.SetModal_6taknv$(!0),this.SetFontSize_mx4ult$(),o_(this,this.GetSize(),Pi(2,1),40,void 0,[Kg("Resource/UI/IconBack",void 0,void 0,void 0,void 0,void 0,this.menuBackCallback),null]).prepare_1isvtk$(200,150),this.createBackgroundEffect_v32r7z$(this.particleManagerForFairy,Di(0,0,320,480)),null!=(t=this.screen)&&t.addKeydownListener_5ol7k9$("Back Key",a_(this))},n_.prototype.beforeDetached=function(){this.particleManagerForFairy.clearParticlePool()},n_.prototype.update_mx4ult$=function(e){null!=this.particleManagerForFairy&&(this.particleManagerForFairy.updateObject_mx4ult$(e),this.particleManagerForFairy.projection_1s1xds$(this.size,Ai(0,0*this.sizeScale.yRatio,1e3))),$a.prototype.update_mx4ult$.call(this,e)},n_.prototype.createBackgroundEffect_v32r7z$=function(e,t,i){var r;void 0===i&&(i=30);var o=Km().GetInteger_hh7mhe$(Ff(),void 0,1);if(!(o<1)){var n=ko(20,Ai(0,0,-100),Ai(0,0,0),Ai(0,0,0),90,1600,200,50);e.SetCamera_s6wt6e$(n);var a=Ou().GetPerformance();e.SetMaxParticle_za3lpa$(et(200*a)),n.projection=1,e.SetCamera_s6wt6e$(n);var s,l,u,h,k,w,c=.1;o<2&&(c=.2),this.createAction_xcdeti$("Background Effect",!0,!1,!0,void 0,c,void 0,(s=e,l=i,u=t,h=this,function(e){if(s.GetCurrentParticleCount()>l)return!0;var t=u.x+go().arc4random_uniform_za3lpa$(et(u.width)),i=u.y+go().arc4random_uniform_za3lpa$(et(u.height)),r=h.positionUniversalToDevice_xpb3zu$(t,i),o=!(r.z=100),n=hi().white_mx4ult$(1),a=go().arc4random_uniform_za3lpa$(100);return a<70&&(o=!0),a<5?n=hi().puzzleYellow_mx4ult$(1):a<6?n=hi().puzzleBlue_mx4ult$(1):a<7?n=hi().puzzleRed_mx4ult$(1):a<8?n=hi().puzzlePurple_mx4ult$(1):a<10&&(n=hi().puzzleOrange_mx4ult$(1)),s.createFairy2_emwd81$(r,5*h.sizeScale.xRatio,200*h.sizeScale.xRatio,3+go().arc4random_uniform_za3lpa$(100)/100,"Resource/UI/ParticleFairy",n,Ai(5,5,-50),Ai(40*h.sizeScale.xRatio,40*h.sizeScale.xRatio,50),200*h.sizeScale.xRatio,!0,o,wn().value,h),!0})),null!=(r=this.screen)&&r.addTouchListener_dal58m$(new Ct("Touch For Fairy",0,0,this.GetSize().width,this.GetSize().height,void 0,(k=e,w=this,function(e,t,i,r,o){var n,a;switch(r.name){case"began":for(n=k.GetObjectList().iterator();n.hasNext();){var s=n.next(),l=Ai(s.screenPosition.x-e.x,s.screenPosition.y-e.y),u=l.length2D();if(u<100*w.sizeScale.xRatio){var h=1e3*w.sizeScale.xRatio-2*u;l.normalize();var c=s.movement,d=s.movement.x;c.x=Yt.abs(d)*l.normalX;var p=s.movement,f=s.movement.y;p.y=Yt.abs(f)*l.normalY,s.accel.x=h*l.normalX,s.accel.y=h*l.normalY,s.accelRetain.x=.1,s.accelRetain.y=.1,s.drag.x=50*w.sizeScale.xRatio,s.drag.y=50*w.sizeScale.xRatio}}break;case"moved":for(a=k.GetObjectList().iterator();a.hasNext();){var m=a.next(),v=Ai(m.screenPosition.x-e.x,m.screenPosition.y-e.y),g=v.length2D();if(g<100*w.sizeScale.xRatio){var _=1e3*w.sizeScale.xRatio-2*g;v.normalize();var $=m.movement,y=m.movement.x;$.x=Yt.abs(y)*v.normalX;var b=m.movement,S=m.movement.y;b.y=Yt.abs(S)*v.normalY,m.accel.x=_*v.normalX,m.accel.y=_*v.normalY,m.accelRetain.x=.1,m.accelRetain.y=.1,m.drag.x=50*w.sizeScale.xRatio,m.drag.y=50*w.sizeScale.xRatio}}}})))}},n_.$metadata$={kind:o,simpleName:"OptionView",interfaces:[$a]},u_.prototype.afterAttached=function(){var e,t,i,r;null!=(e=this.screen)&&(e.isDrawTouchMark=!0),this.SetChildVerticalAlign_qn2em6$(ro()),this.SetChildHorizontalAlign_jdpdm8$(lo()),(i=this.createLabel_17tgk7$(0,0,void 0,"100")).SetSize_dleff0$(200,-1),i.SetVerticalAlign_qn2em6$(io()),i.SetHorizontalAlign_jdpdm8$(so()),i.SetAlpha_8ca0d4$(1),null!=(t=this.screen)&&t.actionDelay_ab0iom$(2,void 0,(r=i,function(){return r.SetText_61zpoe$("200"),r.SetSize_dleff0$(200,-1),Ze})),this.SetFontName_61zpoe$("Number/"),this.SetFontSize_mx4ult$(this.fontSize)},u_.prototype.update_mx4ult$=function(e){$a.prototype.update_mx4ult$.call(this,e)},u_.$metadata$={kind:o,simpleName:"TestView",interfaces:[$a]},h_.$metadata$={kind:o,simpleName:"ScriptInfo",interfaces:[]},h_.prototype.component1=function(){return this.script},h_.prototype.component2=function(){return this.intParam},h_.prototype.component3=function(){return this.floatParam},h_.prototype.component4=function(){return this.param},h_.prototype.copy_1f5klv$=function(e,t,i,r){return new h_(void 0===e?this.script:e,void 0===t?this.intParam:t,void 0===i?this.floatParam:i,void 0===r?this.param:r)},h_.prototype.toString=function(){return"ScriptInfo(script="+Ke.toString(this.script)+", intParam="+Ke.toString(this.intParam)+", floatParam="+Ke.toString(this.floatParam)+", param="+Ke.toString(this.param)+")"},h_.prototype.hashCode=function(){var e=0;return e=31*(e=31*(e=31*(e=31*e+Ke.hashCode(this.script)|0)+Ke.hashCode(this.intParam)|0)+Ke.hashCode(this.floatParam)|0)+Ke.hashCode(this.param)|0},h_.prototype.equals=function(e){return this===e||null!==e&&"object"==typeof e&&Object.getPrototypeOf(this)===Object.getPrototypeOf(e)&&Ke.equals(this.script,e.script)&&Ke.equals(this.intParam,e.intParam)&&Ke.equals(this.floatParam,e.floatParam)&&Ke.equals(this.param,e.param)},Object.defineProperty(c_.prototype,"gameView",{get:function(){return null==this.gameView_pf9145$_0?z("gameView"):this.gameView_pf9145$_0},set:function(e){this.gameView_pf9145$_0=e}}),Object.defineProperty(c_.prototype,"game",{get:function(){return null==this.game_d8z56e$_0?z("game"):this.game_d8z56e$_0},set:function(e){this.game_d8z56e$_0=e}}),c_.prototype.afterAttached=function(){var e,t,i;Ie().shared().SetTitle_61zpoe$(""),Ie().shared().SetInputMode_za3lpa$(1),Ie().shared().SetBackgroundColor_qt1dr2$(28,28,28),null!=(e=this.screen)&&(e.isDrawTouchMark=!1),this.SetChildVerticalAlign_qn2em6$(ro()),this.SetChildHorizontalAlign_jdpdm8$(lo());var r,o=Sn().value;e:do{if(null==o){r=0;break e}if(Ke.isNumber(o)){r=it(o);break e}if("string"==typeof o)try{r=Qe(o);break e}catch(e){if(Ke.isType(e,ta)){r=0;break e}throw e}r=0}while(0);this.createSprite_591x4d$(160,240,r,"Resource/UI/Background",320,480,void 0,void 0,!1),dh().shared().BGMFadeIn_o5txl1$(Je(this.screen),"TutorialBGM",100,1),Ie().shared().changeFPS_za3lpa$(30);var n,a=Km().GetString_sv46oe$(Bf(),void 0,"BlocksetNumber");(za().shared().changeCurrentBlockSet_61zpoe$(a),this.createScriptExecutor(),this.createDialog(),null!=(t=this.screen)&&t.addTouchListener_dal58m$(new Ct("For Dialog",0,0,this.GetSize().width,this.GetSize().height,void 0,(n=this,function(e,t,i,r,o){he(r,Gt())&&(n.touched=!0)}))),0===this.mode||2===this.mode?this.TutorialSample3x3():1!==this.mode&&3!==this.mode||this.TutorialSample6x6Item(),he(Ou().GetConfigure_jyasbz$("RecordForTutorial"),"true"))||(2!==this.mode&&3!==this.mode||0===Km().GetInteger_hh7mhe$(Vf(),void 0,0)||(this.enableCancel=!0),!0===this.enableCancel&&o_(this,this.GetSize(),Pi(2,1),40,void 0,[Kg("Resource/UI/IconBack",void 0,void 0,void 0,void 0,void 0,this.menuCallback),null]).prepare_1isvtk$(200,150));null!=(i=this.screen)&&i.addKeydownListener_5ol7k9$("Back Key",d_(this))},c_.prototype.beforeDetached=function(){},c_.prototype.TutorialSample3x3=function(){this._PrepareGame_1zr7xk$(3,3,void 0,void 0,void 0,[new Int32Array([1,2,3]),new Int32Array([2,3,0]),new Int32Array([0,1,1])],new Int32Array([1,1,2,2,2,0,2,2,2,3,3,1,1,1,1,1,2,2,2,0,1,2,1,2,3,2,3,0]),void 0,!1,!1,!0),this._SetAvailableInputCount_za3lpa$(0),this._SetRegenNoMoreMove_6taknv$(!1),this._SetTransformDelay_mx4ult$(.4),this._SetMatchDelay_mx4ult$(.8),this._StartGame(),this._SetInputDisableAll_vux9f0$(),this._Dialog_g6n5q4$(Zl("TUTORIAL_1"),0),this._SetInputEnableList_t8430p$([new Fe(0,2)]),this._ShowInputMask(),this._ShowMarkerList_t8430p$([new Fe(0,2)]),this._ShowFinger_vux9f0$(0,2),this._Dialog_g6n5q4$(Zl("TUTORIAL_2"),1),this._Delay_mx4ult$(1),this._WaitIdle(),this._SetAvailableInputCount_za3lpa$(1),this._WaitTouch_24o109$(1),this._HideAll(),this._DialogClear_24o109$(0),this._DialogClear_24o109$(1),this._Delay_mx4ult$(1),this._Dialog_g6n5q4$(Zl("TUTORIAL_3"),0),this._SetInputDisableAll_vux9f0$(),this._SetInputEnableList_t8430p$([new Fe(0,0),new Fe(0,1),new Fe(1,0)]),this._ShowInputMask(),this._ShowMarkerList_t8430p$([new Fe(0,0),new Fe(1,0),new Fe(0,1)]),this._ShowFinger_vux9f0$(0,1),this._Dialog_g6n5q4$(Zl("TUTORIAL_4"),1),this._WaitIdle(),this._SetAvailableInputCount_za3lpa$(1),this._WaitTouch_24o109$(1),this._HideAll(),this._DialogClear_24o109$(0),this._DialogClear_24o109$(1),this._Delay_mx4ult$(1),this._Dialog_g6n5q4$(Zl("TUTORIAL_5"),0),this._SetInputDisableAll_vux9f0$(),this._SetInputEnableList_t8430p$([new Fe(1,0),new Fe(2,0),new Fe(0,1),new Fe(1,1),new Fe(0,2)]),this._ShowInputMask(),this._ShowMarkerList_t8430p$([new Fe(1,0),new Fe(2,0),new Fe(0,1),new Fe(1,1),new Fe(0,2)]),this._ShowFinger_vux9f0$(0,2),this._Dialog_g6n5q4$(Zl("TUTORIAL_6"),1),this._WaitIdle(),this._SetAvailableInputCount_za3lpa$(1),this._WaitTouch_24o109$(1),this._HideAll(),this._DialogClear_24o109$(0),this._DialogClear_24o109$(1),this._Delay_mx4ult$(1),this._Dialog_g6n5q4$(Zl("TUTORIAL_15"),0),this._SetInputDisableAll_vux9f0$(),this._SetInputEnableList_t8430p$([new Fe(2,1),new Fe(0,2)]),this._ShowInputMask(),this._ShowMarkerList_t8430p$([new Fe(2,1),new Fe(0,2)]),this._ShowFinger_vux9f0$(2,1),this._Dialog_g6n5q4$(Zl("TUTORIAL_16"),1),this._WaitIdle(),this._SetAvailableInputCount_za3lpa$(1),this._WaitTouchAll_24o109$(1),this._SetAvailableInputCount_za3lpa$(0),this._HideAll(),this._DialogClear_24o109$(0),this._DialogClear_24o109$(1),this._Delay_mx4ult$(1),this._Dialog_g6n5q4$(Zl("TUTORIAL_7"),0),this._SetInputDisableAll_vux9f0$(),this._SetInputEnableList_t8430p$([new Fe(0,2),new Fe(1,1),new Fe(1,2),new Fe(2,1)]),this._ShowInputMask(),this._ShowMarkerList_t8430p$([new Fe(1,1),new Fe(1,2)]),this._ShowFinger_vux9f0$(1,1),this._Dialog_g6n5q4$(Zl("TUTORIAL_8"),1),this._WaitIdle(),this._SetAvailableInputCount_za3lpa$(1),this._WaitTouch_24o109$(1),this._HideAll(),this._DialogClear_24o109$(0),this._DialogClear_24o109$(1),this._Delay_mx4ult$(1),this._DialogClear_24o109$(0),this._DialogClear_24o109$(1),this._Dialog_g6n5q4$(Zl("TUTORIAL_11"),0),this._SetInputDisableAll_vux9f0$(),this._SetInputEnableList_t8430p$([new Fe(0,0),new Fe(0,1),new Fe(1,1),new Fe(1,2),new Fe(2,2)]),this._ShowInputMask(),this._ShowMarkerList_t8430p$([new Fe(0,0),new Fe(0,1),new Fe(1,1),new Fe(1,2),new Fe(2,2)]),this._ShowFinger_vux9f0$(1,1),this._Dialog_g6n5q4$(Zl("TUTORIAL_12"),1),this._WaitIdle(),this._SetAvailableInputCount_za3lpa$(1),this._WaitTouch_24o109$(1),this._HideAll(),this._Delay_mx4ult$(3),this._DialogClear_24o109$(0,.5),this._DialogClear_24o109$(1,.5),this._SetFadeDuration_mx4ult$(1),this._RemoveGame(),this._Dialog_g6n5q4$(Zl("TUTORIAL_13"),void 0,.5),this._Delay_mx4ult$(1),this._ExitTutorial(),this._Delay_mx4ult$(.5),this._Dialog_g6n5q4$(Zl("TUTORIAL_14"),1)},c_.prototype.TutorialSample6x6Item=function(){this._PrepareGame_1zr7xk$(4,4,5,void 0,!0,[new Int32Array([3,1001,2,0]),new Int32Array([0,0,1,1]),new Int32Array([4,0,0,4]),new Int32Array([4,2,4,4])],void 0,new Int32Array([101,103,102]),!1,!1,!0),this._SetAvailableInputCount_za3lpa$(0),this._SetRegenNoMoreMove_6taknv$(!1),this._SetTransformDelay_mx4ult$(.4),this._SetMatchDelay_mx4ult$(.8),this._StartGame(),this._SetInputDisableAll_vux9f0$(),this._Delay_mx4ult$(1),this._Dialog_g6n5q4$(Zl("TUTORIAL_17"),0),this._SetInputDisableAll_vux9f0$(),this._SetInputEnableList_t8430p$([new Fe(1,0)]),this._ShowInputMask(),this._ShowMarkerList_t8430p$([new Fe(1,0)]),this._ShowFinger_vux9f0$(1,0),this._Dialog_g6n5q4$(Zl("TUTORIAL_18"),1),this._WaitIdle(),this._SetAvailableInputCount_za3lpa$(1),this._WaitTouchAll_24o109$(1),this._SetAvailableInputCount_za3lpa$(0),this._HideAll(),this._DialogClear_24o109$(0),this._DialogClear_24o109$(1),this._Delay_mx4ult$(1),this._Dialog_g6n5q4$(Zl("TUTORIAL_9"),0),this._SetInputDisableAll_vux9f0$(),this._SetInputEnableList_t8430p$([new Fe(0,1),new Fe(1,1),new Fe(1,2),new Fe(2,2)]),this._ShowInputMask(),this._ShowMarkerList_t8430p$([new Fe(0,1),new Fe(1,1),new Fe(1,2),new Fe(2,2)]),this._ShowFinger_vux9f0$(2,2),this._Dialog_g6n5q4$(Zl("TUTORIAL_10"),1),this._AddBlock_q5rwfd$(new Int32Array([3,1004,1,3,0])),this._WaitIdle(),this._SetAvailableInputCount_za3lpa$(1),this._WaitTouch_24o109$(1),this._HideAll(),this._Delay_mx4ult$(1),this._SetInputDisableAll_vux9f0$(),this._SetInputEnableList_t8430p$([new Fe(0,0),new Fe(0,1),new Fe(1,1)]),this._Delay_mx4ult$(1),this._ShowInputMask(),this._ShowMarkerList_t8430p$([new Fe(0,0),new Fe(0,1)]),this._ShowFinger_vux9f0$(0,1),this._Delay_mx4ult$(1),this._WaitIdle(),this._SetAvailableInputCount_za3lpa$(1),this._AddBlock_q5rwfd$(new Int32Array([3,1002,1,3,1002])),this._WaitTouch_24o109$(1),this._HideAll(),this._Delay_mx4ult$(1),this._SetInputDisableAll_vux9f0$(),this._SetInputEnableList_t8430p$([new Fe(0,1),new Fe(1,1),new Fe(1,2),new Fe(2,2)]),this._Delay_mx4ult$(1),this._ShowInputMask(),this._ShowMarkerList_t8430p$([new Fe(0,1),new Fe(1,1),new Fe(1,2),new Fe(2,2)]),this._ShowFinger_vux9f0$(1,1),this._Delay_mx4ult$(1),this._WaitIdle(),this._SetAvailableInputCount_za3lpa$(1),this._AddBlock_q5rwfd$(new Int32Array([0,0,0,1003,2,3,2])),this._WaitTouch_24o109$(1),this._HideAll(),this._DialogClear_24o109$(0),this._DialogClear_24o109$(1),this._Delay_mx4ult$(1),this._Dialog_g6n5q4$(Zl("TUTORIAL_21"),0),this._Dialog_g6n5q4$(Zl("TUTORIAL_29"),1),this._SetInputDisableAll_vux9f0$(),this._SetInputEnableList_t8430p$([new Fe(2,3),new Fe(3,2),new Fe(3,3)]),this._Delay_mx4ult$(1),this._ShowInputMask(),this._ShowMarkerList_t8430p$([new Fe(2,3),new Fe(3,2),new Fe(3,3)]),this._ShowFinger_vux9f0$(3,3),this._Delay_mx4ult$(1),this._WaitIdle(),this._SetAvailableInputCount_za3lpa$(1),this._AddBlock_q5rwfd$(new Int32Array([2,0,1,0,1001])),this._WaitTouch_24o109$(1),this._HideAll(),this._DialogClear_24o109$(0),this._DialogClear_24o109$(1),this._Delay_mx4ult$(1),this._Dialog_g6n5q4$(Zl("TUTORIAL_22"),0),this._SetInputDisableAll_vux9f0$(),this._SetInputEnableList_t8430p$([new Fe(3,3)]),this._Delay_mx4ult$(1),this._ShowInputMask(),this._ShowMarkerList_t8430p$([new Fe(3,3)]),this._ShowFinger_vux9f0$(3,3),this._Delay_mx4ult$(1),this._WaitIdle(),this._SetAvailableInputCount_za3lpa$(1),this._AddBlock_q5rwfd$(new Int32Array([2,2,3,3,3])),this._WaitTouch_24o109$(1),this._HideAll(),this._DialogClear_24o109$(0),this._Delay_mx4ult$(1),this._Dialog_g6n5q4$(Zl("TUTORIAL_23"),0),this._Dialog_g6n5q4$(Zl("TUTORIAL_30"),1),this._SetInputDisableAll_vux9f0$(),this._SetInputEnableList_t8430p$([new Fe(0,0),new Fe(0,1),new Fe(1,0)]),this._Delay_mx4ult$(1),this._ShowInputMask(),this._ShowMarkerList_t8430p$([new Fe(0,0),new Fe(0,1),new Fe(1,0)]),this._ShowFinger_vux9f0$(0,1),this._Delay_mx4ult$(1),this._WaitIdle(),this._SetAvailableInputCount_za3lpa$(1),this._AddBlock_q5rwfd$(new Int32Array([1,0,0,3,2,3])),this._WaitTouch_24o109$(1),this._HideAll(),this._DialogClear_24o109$(0),this._DialogClear_24o109$(1),this._Delay_mx4ult$(1),this._Dialog_g6n5q4$(Zl("TUTORIAL_24"),0),this._SetInputDisableAll_vux9f0$(),this._SetInputEnableList_t8430p$([new Fe(0,3)]),this._Delay_mx4ult$(1),this._ShowInputMask(),this._ShowMarkerList_t8430p$([new Fe(0,3)]),this._ShowFinger_vux9f0$(0,3),this._Delay_mx4ult$(1),this._WaitIdle(),this._SetAvailableInputCount_za3lpa$(1),this._AddBlock_q5rwfd$(new Int32Array([1,3,2])),this._WaitTouch_24o109$(1),this._HideAll(),this._DialogClear_24o109$(0),this._Delay_mx4ult$(1),this._Dialog_g6n5q4$(Zl("TUTORIAL_25"),0),this._Dialog_g6n5q4$(Zl("TUTORIAL_31"),1),this._SetInputDisableAll_vux9f0$(),this._SetInputEnableList_t8430p$([new Fe(1,2)]),this._Delay_mx4ult$(1),this._ShowInputMask(),this._ShowMarkerList_t8430p$([new Fe(1,2)]),this._ShowFinger_vux9f0$(1,2),this._Delay_mx4ult$(1),this._WaitIdle(),this._SetAvailableInputCount_za3lpa$(1),this._AddBlock_q5rwfd$(new Int32Array([2,1e3,1,2,3,2,2,1])),this._WaitTouch_24o109$(1),this._HideAll(),this._DialogClear_24o109$(0),this._DialogClear_24o109$(1),this._Delay_mx4ult$(1),this._Dialog_g6n5q4$(Zl("TUTORIAL_26"),0),this._SetInputDisableAll_vux9f0$(),this._SetInputEnableList_t8430p$([new Fe(1,2)]),this._Delay_mx4ult$(1),this._ShowInputMask(),this._ShowMarkerList_t8430p$([new Fe(1,2)]),this._ShowFinger_vux9f0$(1,2),this._Delay_mx4ult$(1),this._WaitIdle(),this._SetAvailableInputCount_za3lpa$(1),this._AddBlock_q5rwfd$(new Int32Array([1,3,3,1,1,0,2,1,1])),this._WaitTouch_24o109$(1),this._HideAll(),this._DialogClear_24o109$(0),this._Delay_mx4ult$(1),this._Dialog_g6n5q4$(Zl("TUTORIAL_27"),0),this._Dialog_g6n5q4$(Zl("TUTORIAL_32"),1),this._SetInputDisableAll_vux9f0$(),this._SetInputEnableList_t8430p$([new Fe(2,1)]),this._Delay_mx4ult$(1),this._ShowInputMask(),this._ShowMarkerList_t8430p$([new Fe(2,1)]),this._ShowFinger_vux9f0$(2,1),this._Delay_mx4ult$(1),this._WaitIdle(),this._SetAvailableInputCount_za3lpa$(1),this._AddBlock_q5rwfd$(new Int32Array([1003,1001,1002,2,1003,1,1e3,0,1002,1])),this._WaitTouch_24o109$(1),this._HideAll(),this._DialogClear_24o109$(0),this._DialogClear_24o109$(1),this._Delay_mx4ult$(1),this._Dialog_g6n5q4$(Zl("TUTORIAL_28"),0),this._SetInputDisableAll_vux9f0$(),this._SetInputEnableList_t8430p$([new Fe(2,3)]),this._Delay_mx4ult$(1),this._ShowInputMask(),this._ShowMarkerList_t8430p$([new Fe(2,3)]),this._ShowFinger_vux9f0$(2,3),this._Delay_mx4ult$(1),this._WaitIdle(),this._SetAvailableInputCount_za3lpa$(1),this._AddBlock_q5rwfd$(new Int32Array([3,1,2,2,3,1,0,3,2])),this._WaitTouch_24o109$(1),this._HideAll(),this._DialogClear_24o109$(0),this._Delay_mx4ult$(3),this._DialogClear_24o109$(0,.5),this._DialogClear_24o109$(1,.5),this._SetFadeDuration_mx4ult$(1),this._RemoveGame(),this._Dialog_g6n5q4$(Zl("TUTORIAL_20"),void 0,.5),this._Delay_mx4ult$(1),this._Exit6x6Tutorial(),this._Delay_mx4ult$(.5),this._Dialog_g6n5q4$(Zl("TUTORIAL_14"),1)},c_.prototype.showExitButton=function(){var e,t,i=Kg("Resource/UI/IconPlay",void 0,void 0,void 0,void 0,void 0,f_(this)),r=o_(this,this.GetSize(),Pi(1,1),60,void 0,[i]);r.prepare_1isvtk$(0,0),null!=(e=this.screen)&&e.addKeydownListener_5ol7k9$("Play",(t=r,function(e){return e===Bt().ENTER&&(t.click_za3lpa$(0),!0)}))},c_.prototype.createDialog=function(){var t,e=Zl("TUTORIAL_FONT_SIZE");e:do{if(null==e){t=0;break e}if(Ke.isNumber(e)){t=it(e);break e}if("string"==typeof e)try{t=Qe(e);break e}catch(e){if(Ke.isType(e,ta)){t=0;break e}throw e}t=0}while(0);var i=t;null!=i?this.SetFontSize_mx4ult$(i):this.SetFontSize_mx4ult$(26),this.SetFontName_61zpoe$("Main/");var r=2;he(Zl("TUTORIAL_TEXT_WRAP_TYPE"),"CHARACTER")&&(r=1),this.SetFontName_61zpoe$("TUTORIAL_/");var o=this.createTextArea_pvsv9g$(160,120,void 0,240,120,0,.5,1,void 0,void 0,r);this.textArea.add_11rb$(o),this.textArea.get_za3lpa$(0).SetVerticalAlign_qn2em6$(oo()),this.textArea.get_za3lpa$(0).SetHorizontalAlign_jdpdm8$(lo()),this.textArea.get_za3lpa$(0).SetTextVerticalAlign_qn2em6$(ro()),this.textArea.get_za3lpa$(0).SetTextHorizontalAlign_jdpdm8$(lo()),this.SetFontColor_3nzkge$();var n,a=Zl("TUTORIAL_FONT_SIZE2");e:do{if(null==a){n=0;break e}if(Ke.isNumber(a)){n=it(a);break e}if("string"==typeof a)try{n=Qe(a);break e}catch(e){if(Ke.isType(e,ta)){n=0;break e}throw e}n=0}while(0);null!=(i=n)?this.SetFontSize_mx4ult$(i):this.SetFontSize_mx4ult$(24),o=this.createTextArea_pvsv9g$(160,380,void 0,240,0,0,.5,1,void 0,void 0,r),this.textArea.add_11rb$(o),this.textArea.get_za3lpa$(1).SetVerticalAlign_qn2em6$(io()),this.textArea.get_za3lpa$(1).SetHorizontalAlign_jdpdm8$(lo()),this.textArea.get_za3lpa$(1).SetTextVerticalAlign_qn2em6$(ro()),this.textArea.get_za3lpa$(1).SetTextHorizontalAlign_jdpdm8$(lo()),this.SetFontSize_mx4ult$()},c_.prototype.createScriptExecutor=function(){var r;this.createAction_xcdeti$("Script Executor",void 0,void 0,void 0,void 0,void 0,void 0,(r=this,function(e){if(0===e.elapsed)return!1;if(!1===r.scriptFire)for(;r.scriptCurrent<r.scriptList.size;){var t=r.scriptList.get_za3lpa$(r.scriptCurrent);r.scriptCurrent=r.scriptCurrent+1|0;var i=t.script(r.lastResult,t.intParam,t.floatParam,t.param,m_(r));if(!1!==i.first){r.scriptFire=!0;break}r.lastResult=i.second}return!0}))},c_.prototype.addScript_lak2mh$=function(e,t,i,r){void 0===e&&(e=0),void 0===t&&(t=0),void 0===i&&(i=[]),this.scriptList.add_11rb$(new h_(r,e,t,i))},c_.prototype._Label_61zpoe$=function(e){var t=this.scriptLabel,i=this.scriptList.size;t.put_xwzc9p$(e,i)},c_.prototype._IfLastResultTrueThen_61zpoe$=function(e){var a,s;this.addScript_lak2mh$(void 0,void 0,void 0,(a=this,s=e,function(e,t,i,r,o){var n=a.scriptLabel.get_11rb$(s);return null!=n?(0===a.lastResult&&(a.scriptCurrent=n),new Fe(!1,0)):new Fe(!1,-1)}))},c_.prototype._IfLastResultFalseThen_61zpoe$=function(e){var a,s;this.addScript_lak2mh$(void 0,void 0,void 0,(a=this,s=e,function(e,t,i,r,o){var n=a.scriptLabel.get_11rb$(s);return null!=n?(0!==a.lastResult&&(a.scriptCurrent=n),new Fe(!1,0)):new Fe(!1,-1)}))},c_.prototype._IfLessThen_19mbxw$=function(e,t){var a,s,l;this.addScript_lak2mh$(void 0,void 0,void 0,(a=this,s=t,l=e,function(e,t,i,r,o){var n=a.scriptLabel.get_11rb$(s);return null!=n?(a.lastResult<l&&(a.scriptCurrent=n),new Fe(!1,0)):new Fe(!1,-1)}))},c_.prototype._IfGreaterThen_19mbxw$=function(e,t){var a,s,l;this.addScript_lak2mh$(void 0,void 0,void 0,(a=this,s=t,l=e,function(e,t,i,r,o){var n=a.scriptLabel.get_11rb$(s);return null!=n?(a.lastResult>l&&(a.scriptCurrent=n),new Fe(!1,0)):new Fe(!1,-1)}))},c_.prototype._IfEqualThen_19mbxw$=function(e,t){var a,s,l;this.addScript_lak2mh$(void 0,void 0,void 0,(a=this,s=t,l=e,function(e,t,i,r,o){var n=a.scriptLabel.get_11rb$(s);return null!=n?(a.lastResult===l&&(a.scriptCurrent=n),new Fe(!1,0)):new Fe(!1,-1)}))},c_.prototype._Goto_61zpoe$=function(e){var a,s;this.addScript_lak2mh$(void 0,void 0,void 0,(a=this,s=e,function(e,t,i,r,o){var n=a.scriptLabel.get_11rb$(s);return null!=n?(a.scriptCurrent=n,new Fe(!1,0)):new Fe(!1,-1)}))},c_.prototype._Delay_mx4ult$=function(e){this.addScript_lak2mh$(void 0,e,void 0,v_(this))},c_.prototype._ShowMask=function(){},c_.prototype._HideMask=function(){},c_.prototype._SetFadeDuration_mx4ult$=function(e){var n,a;void 0===e&&(e=0),this.addScript_lak2mh$(void 0,void 0,void 0,(n=e,a=this,function(e,t,i,r,o){return a.fadeDuration=n,new Fe(!1,0)}))},c_.prototype._WaitForTouch=function(){var s;this.addScript_lak2mh$(void 0,void 0,void 0,(s=this,function(e,t,i,r,o){var n,a;return s.touched=!1,s.createAction_xcdeti$("Wait for touch",void 0,void 0,void 0,void 0,void 0,void 0,(n=s,a=o,function(e){return!0!==n.touched||(a(0),!1)})),new Fe(!0,0)}))},c_.prototype._Dialog_g6n5q4$=function(e,t,i,r){var o,n,a,s,l;(void 0===t&&(t=0),void 0===i&&(i=.2),void 0===r&&(r=!0),he(Ou().GetConfigure_jyasbz$("RecordForTutorial"),"true"))||this.addScript_lak2mh$(void 0,void 0,[Ke.isType(o=e,b)?o:Ee()],(n=this,a=t,s=e,l=i,function(e,t,i,r,o){return n.textArea.get_za3lpa$(a).addText_r4v59z$(s,l),new Fe(!1,0)}))},c_.prototype._DialogClear_24o109$=function(e,t){void 0===e&&(e=0),void 0===t&&(t=.2),he(Ou().GetConfigure_jyasbz$("RecordForTutorial"),"true")||this.addScript_lak2mh$(void 0,void 0,void 0,g_(this,e,t))},c_.prototype._CloseDialog=function(){},c_.prototype._PrepareGame_1zr7xk$=function(e,t,i,r,o,n,a,s,l,u,h){var d,p,f,m,v,g,_,$,y,b,S,k;void 0===i&&(i=4),void 0===r&&(r=3),void 0===o&&(o=!1),void 0===n&&(n=null),void 0===a&&(a=new Int32Array([])),void 0===s&&(s=new Int32Array([])),void 0===l&&(l=!1),void 0===u&&(u=!1),void 0===h&&(h=!1),this.addScript_lak2mh$(void 0,void 0,void 0,(d=this,p=e,f=t,m=i,v=r,g=o,_=n,$=a,y=l,b=u,S=h,k=s,function(e,t,i,r,o){var n,a,s=d.size.width;e:do{if(null==s){a=0;break e}if(Ke.isNumber(s)){a=it(s);break e}if("string"==typeof s)try{a=Qe(s);break e}catch(e){if(Ke.isType(e,ta)){a=0;break e}throw e}a=0}while(0);var l,u=a,h=d.size.height;e:do{if(null==h){l=0;break e}if(Ke.isNumber(h)){l=it(h);break e}if("string"==typeof h)try{l=Qe(h);break e}catch(e){if(Ke.isType(e,ta)){l=0;break e}throw e}l=0}while(0);var c=Ap(Di(0,0,u,l));return c.adjustTileSize(),c.width=p,c.height=f,c.kindOfNumber=m,c.minOfComplete=v,5===m&&(c.indexOfGroup=new Int32Array([0,0,0,0,0,-1]),c.startOfGroup=new Int32Array([0]),c.countOfGroup=new Int32Array([5]),c.amountOfNirvana=10),!0===g&&(c.itemTable=new Int32Array([-1,-1,-1,-1,-1,-1,101,103,102,104,100]),c.obstacleType=1),d.game=lp(c),d.game.SetBoardIndex_3oypbd$(_,$,void 0,y,b,S),d.game.item=ie(k),d.game.quality=Km().GetInteger_hh7mhe$(Ff(),void 0,1),d.gameView=ya(),d.gameView.positionScale=fr().copy_3fer1j$(d.positionScale),d.gameView.sizeScale=fr().copy_3fer1j$(d.sizeScale),d.gameView.SetSize_dleff0$(d.size.width,d.size.height),d.addChild_g5h3xp$(d.gameView),d.gameView.SetMasterAlpha_mx4ult$(0),null!=(n=d.screen)&&n.actionFadeIn_hkbjms$(d.gameView,void 0,void 0,void 0,d.fadeDuration,!0),d.game.initGame_g5c4ga$(d.gameView),new Fe(!1,0)}))},c_.prototype._StartGame=function(){var n;this.addScript_lak2mh$(void 0,void 0,void 0,(n=this,function(e,t,i,r,o){return n.game.generateBoard(),n.game.start(),new Fe(!1,0)}))},c_.prototype._SetBoard_tgidkk$=function(e,t,i,r,o){var n,a,s,l,u,h;void 0===e&&(e=null),void 0===t&&(t=new Int32Array([])),void 0===i&&(i=!1),void 0===r&&(r=!1),void 0===o&&(o=!1),this.addScript_lak2mh$(void 0,void 0,void 0,(n=this,a=e,s=t,l=i,u=r,h=o,function(e,t,i,r,o){return n.game.SetBoardIndex_3oypbd$(a,s,void 0,l,u,h),new Fe(!1,0)}))},c_.prototype._AddBlock_q5rwfd$=function(e){var n,a;void 0===e&&(e=new Int32Array([])),this.addScript_lak2mh$(void 0,void 0,void 0,(n=this,a=e,function(e,t,i,r,o){return n.game.addBlock_q5rwfd$(a),new Fe(!1,0)}))},c_.prototype._SetRegenNoMoreMove_6taknv$=function(e){var n,a;this.addScript_lak2mh$(void 0,void 0,void 0,(n=this,a=e,function(e,t,i,r,o){return n.game.SetRegenNoMoreMove_6taknv$(a),new Fe(!1,0)}))},c_.prototype._SetJustDrop_vux9f0$=function(e,t){var n,a,s;void 0===t&&(t=-1),this.addScript_lak2mh$(void 0,void 0,void 0,(n=this,a=e,s=t,function(e,t,i,r,o){return n.game.SetJustDrop_vux9f0$(a,s),new Fe(!1,0)}))},c_.prototype._RegenerateBoard=function(){var n;this.addScript_lak2mh$(void 0,void 0,void 0,(n=this,function(e,t,i,r,o){return n.game.dropOffAllBlock(),n.game.regenAllBlock_za3lpa$(-9),new Fe(!1,0)}))},c_.prototype._PauseGame=function(){var n;this.addScript_lak2mh$(void 0,void 0,void 0,(n=this,function(e,t,i,r,o){return n.game.isPaused=!0,new Fe(!1,0)}))},c_.prototype._ResumeGame=function(){var n;this.addScript_lak2mh$(void 0,void 0,void 0,(n=this,function(e,t,i,r,o){return n.game.isPaused=!1,new Fe(!1,0)}))},c_.prototype._RemoveGame=function(){this.addScript_lak2mh$(void 0,void 0,void 0,__(this))},c_.prototype._WaitTouch_24o109$=function(e,t){void 0===e&&(e=1),void 0===t&&(t=-1),this.addScript_lak2mh$(void 0,void 0,void 0,$_(this,t,e))},c_.prototype._WaitTouchAll_24o109$=function(e,t){void 0===e&&(e=1),void 0===t&&(t=-1),this.addScript_lak2mh$(void 0,void 0,void 0,y_(this,t,e))},c_.prototype._WaitIdle=function(){this.addScript_lak2mh$(void 0,void 0,void 0,b_(this))},c_.prototype._WaitCountWithType_ssiet8$=function(e,t){void 0===e&&(e=new Int32Array([0,0,0,0])),void 0===t&&(t=-1),this.addScript_lak2mh$(void 0,void 0,void 0,S_(this,t,e))},c_.prototype._WaitCountWithTypeOR_ssiet8$=function(e,t){void 0===e&&(e=new Int32Array([0,0,0,0])),void 0===t&&(t=-1),this.addScript_lak2mh$(void 0,void 0,void 0,k_(this,t,e))},c_.prototype._ResetCountWithType=function(){var s;this.addScript_lak2mh$(void 0,void 0,void 0,(s=this,function(e,t,i,r,o){var n;n=Je(s.game).gameValue.clearBlockType;for(var a=0;a!==n.length;++a)Je(s.game).gameValue.clearBlockType[a]=0;return new Fe(!1,0)}))},c_.prototype._CheckLastIncrease_vux9f0$=function(e,t){this.addScript_lak2mh$(void 0,void 0,void 0,w_(this,e,t))},c_.prototype._GetMatchCount=function(){this.addScript_lak2mh$(void 0,void 0,void 0,x_(this))},c_.prototype._ClearMatchCount=function(){this.addScript_lak2mh$(void 0,void 0,void 0,C_(this))},c_.prototype._Image_r9p8je$=function(e,t,i,r,o,n,a,s,l){var u,h,c,d,p,f,m,v,g,_;void 0===i&&(i=jn()),void 0===o&&(o=1),void 0===n&&(n=-1),void 0===a&&(a=-1),void 0===s&&(s=0),void 0===l&&(l=""),this.addScript_lak2mh$(void 0,void 0,void 0,(u=this,h=e,c=t,d=i,p=r,f=n,m=a,v=l,g=o,_=s,function(e,t,i,r,o){var n;u.SetChildHorizontalAlign_jdpdm8$(lo()),u.SetChildVerticalAlign_qn2em6$(ro());var a=u.createSprite_9wuqyc$(h,c,d,p,f,m);return a.SetName_61zpoe$(v),a.SetVerticalAlign_qn2em6$(ro()),a.SetHorizontalAlign_jdpdm8$(lo()),a.SetAlpha_8ca0d4$(g),a.SetRotation_mx4ult$(_),(f<0||m<0)&&a.SetSize_dleff0$(a.GetSize().width*Je(u.screen).sizeScale.GetConstraintSmall(),a.GetSize().height*Je(u.screen).sizeScale.GetConstraintSmall()),null!=(n=u.screen)&&n.addChild_g5h3xp$(a),u.imageList.add_11rb$(a),new Fe(!1,0)}))},c_.prototype._FadeIn_9sobi5$=function(e,t){var d,p,f;void 0===t&&(t=1),this.addScript_lak2mh$(void 0,void 0,void 0,(d=this,p=e,f=t,function(e,t,i,r,o){var n,a,s,l,u,h=null!=(n=d.screen)?n.findChildByName_3m52m6$(p):null;if(null!=h){var c=Ke.isType(a=h,po)?a:null;null!=c&&c.addUpdateCallback_sds54w$(void 0,void 0,void 0,void 0,f,void 0,(s=o,l=c,u=f,function(e){return 0===e.elapsed?(s(0),!1):(l.SetAlpha_8ca0d4$(l.GetAlpha()+e.elapsed/u),!0)}))}else o(-1);return new Fe(!0,0)}))},c_.prototype._FadeOut_9sobi5$=function(e,t){var d,p,f;void 0===t&&(t=1),this.addScript_lak2mh$(void 0,void 0,void 0,(d=this,p=e,f=t,function(e,t,i,r,o){var n,a,s,l,u,h=null!=(n=d.screen)?n.findChildByName_3m52m6$(p):null;if(null!=h){var c=Ke.isType(a=h,po)?a:null;null!=c&&c.addUpdateCallback_sds54w$(void 0,void 0,void 0,void 0,f,void 0,(s=o,l=c,u=f,function(e){return 0===e.elapsed?(s(0),!1):(l.SetAlpha_8ca0d4$(l.GetAlpha()-e.elapsed/u),!0)}))}else o(-1);return new Fe(!0,0)}))},c_.prototype._RemoveNode_61zpoe$=function(e){var l,u;this.addScript_lak2mh$(void 0,void 0,void 0,(l=this,u=e,function(e,t,i,r,o){var n,a,s=Ke.isType(a=null!=(n=l.screen)?n.findChildByName_3m52m6$(u):null,po)?a:null;return null!=s&&s.removeFromParent(),new Fe(!1,0)}))},c_.prototype._NodeBounce_d4hbt5$=function(e,t,i,r,o,n,a){var p,f,m,v,g,_,$,y;void 0===t&&(t=Ai()),void 0===i&&(i=Ai()),void 0===r&&(r=Ai()),void 0===o&&(o=Ai()),void 0===n&&(n=Ai(1,1)),void 0===a&&(a=-1),this.addScript_lak2mh$(void 0,void 0,void 0,(p=this,f=e,m=t,v=i,g=r,_=o,$=n,y=a,function(e,t,i,r,o){var n,a,s,l,u,h=Ke.isType(a=null!=(n=p.screen)?n.findChildByName_3m52m6$(f):null,po)?a:null;if(null!=h){var c=fn(m.x,v.x,g.x,_.x,$.x),d=fn(m.y,v.y,g.y,_.y,$.y);c.SetScale_mx4ult$(Je(p.screen).sizeScale.GetConstraintSmall()),d.SetScale_mx4ult$(Je(p.screen).sizeScale.GetConstraintSmall()),h.addUpdateCallback_sds54w$(void 0,void 0,void 0,void 0,y,void 0,(s=c,l=d,u=h,function(e){s.update_mx4ult$(e.elapsed),l.update_mx4ult$(e.elapsed);var t=s.GetPositionDelta(),i=l.GetPositionDelta();return u.SetPosition_dleff0$(u.GetPosition().x+t,u.GetPosition().y+i),!0}))}return new Fe(!1,0)}))},c_.prototype._RemoveAllImage=function(){var a;this.addScript_lak2mh$(void 0,void 0,void 0,(a=this,function(e,t,i,r,o){for(var n=a.imageList.size-1|0;0<=n;n--)a.imageList.removeAt_za3lpa$(n).removeFromParent();return new Fe(!1,0)}))},c_.prototype._ExitTutorial=function(){var n;this.addScript_lak2mh$(void 0,void 0,void 0,(n=this,function(e,t,i,r,o){return 0===n.mode&&0===Km().GetInteger_hh7mhe$(Uf(),void 0,0)&&Km().SetInteger_hh7mhe$(Uf(),void 0,1),0===n.mode?ug().shared().addStar_za3lpa$(10):ug().shared().addStar_za3lpa$(0),n.showExitButton(),new Fe(!1,0)}))},c_.prototype._Exit6x6Tutorial=function(){var n;this.addScript_lak2mh$(void 0,void 0,void 0,(n=this,function(e,t,i,r,o){return 1===n.mode&&0===Km().GetInteger_hh7mhe$(qf(),void 0,0)&&(Km().SetInteger_hh7mhe$(qf(),void 0,1),0===Km().GetInteger_hh7mhe$(Vf(),void 0,0)&&Km().SetInteger_hh7mhe$(Vf(),void 0,1)),1===n.mode?ug().shared().addStar_za3lpa$(10):ug().shared().addStar_za3lpa$(0),n.showExitButton(),new Fe(!1,0)}))},c_.prototype._SetInputEnableAll=function(){var n;this.addScript_lak2mh$(void 0,void 0,void 0,(n=this,function(e,t,i,r,o){return n.game.SetInputEnableAll(),new Fe(!1,0)}))},c_.prototype._SetInputDisableAll_vux9f0$=function(e,t){var n,a,s;void 0===e&&(e=-1),void 0===t&&(t=-1),this.addScript_lak2mh$(void 0,void 0,void 0,(n=this,a=e,s=t,function(e,t,i,r,o){return n.game.SetInputDisableAll_vux9f0$(a,s),new Fe(!1,0)}))},c_.prototype._SetInputEnableList_t8430p$=function(e){var l,u;this.addScript_lak2mh$(void 0,void 0,void 0,(l=e,u=this,function(e,t,i,r,o){var n,a;for(n=l,a=0;a!==n.length;++a){var s=n[a];u.game.SetInputEnable_vux9f0$(s.first,s.second)}return new Fe(!1,0)}))},c_.prototype._SetInputDisable_vux9f0$=function(e,t){var n,a,s;this.addScript_lak2mh$(void 0,void 0,void 0,(n=this,a=e,s=t,function(e,t,i,r,o){return n.game.SetInputDisable_vux9f0$(a,s),new Fe(!1,0)}))},c_.prototype._ShowInputMask=function(){var n;this.addScript_lak2mh$(void 0,void 0,void 0,(n=this,function(e,t,i,r,o){return n.game.showInputMask(),new Fe(!1,0)}))},c_.prototype._HideInputMask=function(){var n;this.addScript_lak2mh$(void 0,void 0,void 0,(n=this,function(e,t,i,r,o){return n.game.hideInputMask(),new Fe(!1,0)}))},c_.prototype._SetAvailableInputCount_za3lpa$=function(e){var n,a;void 0===e&&(e=-1),this.addScript_lak2mh$(void 0,void 0,void 0,(n=this,a=e,function(e,t,i,r,o){return n.game.SetAvailableInputCount_za3lpa$(a),new Fe(!1,0)}))},c_.prototype._ShowMarkerList_t8430p$=function(e){var l,u;this.addScript_lak2mh$(void 0,void 0,void 0,(l=e,u=this,function(e,t,i,r,o){var n,a;for(n=l,a=0;a!==n.length;++a){var s=n[a];u.game.showMarker_vux9f0$(s.first,s.second)}return new Fe(!1,0)}))},c_.prototype._HideMarker=function(){var n;this.addScript_lak2mh$(void 0,void 0,void 0,(n=this,function(e,t,i,r,o){return n.game.hideMarker(),new Fe(!1,0)}))},c_.prototype._HideAll=function(){var n;this.addScript_lak2mh$(void 0,void 0,void 0,(n=this,function(e,t,i,r,o){return n.game.hideMarker(),n.game.hideFinger(),n.game.hideInputMask(),new Fe(!1,0)}))},c_.prototype._ShowFinger_vux9f0$=function(e,t){var n,a,s;this.addScript_lak2mh$(void 0,void 0,void 0,(n=this,a=e,s=t,function(e,t,i,r,o){return n.game.showFinger_vux9f0$(a,s),new Fe(!1,0)}))},c_.prototype._HideFinger=function(){var n;this.addScript_lak2mh$(void 0,void 0,void 0,(n=this,function(e,t,i,r,o){return n.game.hideFinger(),new Fe(!1,0)}))},c_.prototype._SetTransformDelay_mx4ult$=function(e){var n,a;void 0===e&&(e=.2),this.addScript_lak2mh$(void 0,void 0,void 0,(n=this,a=e,function(e,t,i,r,o){return n.game.SetTransformDelay_mx4ult$(a),new Fe(!1,0)}))},c_.prototype._SetMatchDelay_mx4ult$=function(e){var n,a;void 0===e&&(e=.2),this.addScript_lak2mh$(void 0,void 0,void 0,(n=this,a=e,function(e,t,i,r,o){return n.game.SetMatchDelay_mx4ult$(a),new Fe(!1,0)}))},c_.prototype._SetMatchEffectSpeed_mx4ult$=function(e){var n,a;void 0===e&&(e=.8),this.addScript_lak2mh$(void 0,void 0,void 0,(n=this,a=e,function(e,t,i,r,o){return n.game.SetMatchEffectSpeed_mx4ult$(a),new Fe(!1,0)}))},c_.prototype._SetDropAdjust_za3lpa$=function(e){var n,a;void 0===e&&(e=-1),this.addScript_lak2mh$(void 0,void 0,void 0,(n=this,a=e,function(e,t,i,r,o){return n.game.SetDropAdjust_za3lpa$(a),new Fe(!1,0)}))},c_.$metadata$={kind:o,simpleName:"TutorialView",interfaces:[$a]},e.UserDataHTML=ue,e.RequestHandlerDummy=ce,e.main_kand9s$=de;var T_=e.com||(e.com={}),G_=T_.blindcatstudio||(T_.blindcatstudio={}),A_=G_.phantom||(G_.phantom={});A_.TouchInfo=pe,A_.GuestTexture=fe,A_.GuestTextureAtlas=me,A_.GuestNode=_e,A_.GuestScreen=$e,A_.GuestSprite=ye,A_.GuestMask=be,A_.GuestLabel=Se,Object.defineProperty(ke,"Companion",{get:Ie}),A_.HAL=ke,Object.defineProperty(Ne,"SFX",{get:Oe}),Object.defineProperty(Ne,"BGM",{get:Re}),A_.SoundCategory=Ne,Object.defineProperty(je,"Companion",{get:qe}),A_.ResourceManager=je,Object.defineProperty(He,"Companion",{get:gt}),A_.TextureManager=He,Object.defineProperty(_t,"ready",{get:yt}),Object.defineProperty(_t,"running",{get:bt}),Object.defineProperty(_t,"stopRequest",{get:St}),Object.defineProperty(_t,"stop",{get:kt});var I_=A_.device||(A_.device={});I_.TimerState=_t,I_.Timer_init_jy2voq$=xt,I_.Timer=wt,Object.defineProperty(zt,"began",{get:Gt}),Object.defineProperty(zt,"moved",{get:At}),Object.defineProperty(zt,"ended",{get:It}),Object.defineProperty(zt,"cancelled",{get:Nt}),Object.defineProperty(zt,"scroll",{get:Mt}),Object.defineProperty(zt,"back",{get:Ot}),Object.defineProperty(zt,"keydown",{get:Rt}),Ct.State=zt,Object.defineProperty(Ct,"Code",{get:Bt}),I_.TouchListener=Ct;var N_=A_.graphic||(A_.graphic={});N_.Animation=Et,N_.BlankNode_init_y2kzbl$=Xt,N_.BlankNode=Ft,N_.Button_init_8ajt6$=Zt,N_.Button=Kt,Object.defineProperty(Qt,"alpha",{get:ei}),Object.defineProperty(Qt,"add",{get:ti}),Object.defineProperty(Qt,"subtract",{get:ii}),Object.defineProperty(Qt,"multiply",{get:ri}),Object.defineProperty(Qt,"multiplyX2",{get:oi}),Object.defineProperty(Qt,"screen",{get:ni}),Object.defineProperty(Qt,"replace",{get:ai}),N_.BlendMode=Qt,Object.defineProperty(si,"Companion",{get:hi}),N_.Color_init_9sobi5$=ci,N_.Color_init_7b5o5w$=di,N_.Color_init_hu04m1$=pi,N_.Color=si,N_.CompositeLabel_init_amizvi$=mi,N_.CompositeLabel=fi,Object.defineProperty(vi,"Companion",{get:$i}),N_.Object3D=vi,Object.defineProperty(yi,"Companion",{get:ki}),N_.Vector_init_dleff0$=wi,N_.Vector_init_g3jz9k$=xi,N_.Vector=yi,Object.defineProperty(Ci,"Companion",{get:Gi}),N_.Position_init_y2kzbl$=Ai,N_.Position=Ci,N_.Plane_init_7b5o5w$=Ni,N_.Plane=Ii,Object.defineProperty(Mi,"Companion",{get:ji}),N_.Size_init_dleff0$=Pi,N_.Size=Mi,Object.defineProperty(Bi,"Companion",{get:Li}),N_.Rect_init_7b5o5w$=Di,N_.Rect=Bi,Object.defineProperty(Vi,"Companion",{get:fr}),N_.Scale=Vi,Object.defineProperty(mr,"touch_BEGIN",{get:gr}),Object.defineProperty(mr,"touch_DRAG",{get:_r}),Object.defineProperty(mr,"touch_END",{get:$r}),Object.defineProperty(mr,"touch_CANCEL",{get:yr}),Object.defineProperty(mr,"window_CLOSE",{get:br}),Object.defineProperty(mr,"window_CANCEL",{get:Sr}),Object.defineProperty(mr,"window_OK",{get:kr}),Object.defineProperty(mr,"window_SIZE",{get:wr}),Object.defineProperty(mr,"window_MOVE",{get:xr}),Object.defineProperty(mr,"window_SHOW",{get:Cr}),Object.defineProperty(mr,"window_HIDE",{get:zr}),Object.defineProperty(mr,"button_PRESS",{get:Tr}),Object.defineProperty(mr,"button_DISABLED_PRESS",{get:Gr}),Object.defineProperty(mr,"button_RELEASE",{get:Ar}),Object.defineProperty(mr,"button_DISABLED_RELEASE",{get:Ir}),Object.defineProperty(mr,"button_CANCEL",{get:Nr}),Object.defineProperty(mr,"button_STARTDRAG",{get:Mr}),Object.defineProperty(mr,"button_DRAGGING",{get:Or}),Object.defineProperty(mr,"button_ENDDRAG",{get:Rr}),Object.defineProperty(mr,"slider_MOVE",{get:jr}),Object.defineProperty(mr,"move",{get:Pr}),Object.defineProperty(mr,"update",{get:Br}),N_.Event=mr,N_.Message=Hr,N_.Label_init_m2pqfq$=Yr,N_.Label=Wr,N_.Mask_init_cg5jzu$=Kr,N_.Mask_init_c8qbba$=function(e,t,i,r,o,n){var a;void 0===r&&(r=0),void 0===o&&(o=!0),fo(e,t,r,n=n||Object.create(Xr.prototype)),Xr.call(n),n.delegateConvertCoordinate=o;var s=Ie().shared().createGuestMask_h2vgz3$(i);return n.addObject_s8jyv4$(Ke.isType(a=s,b)?a:Ee()),n.SetSize_dleff0$(i.GetSize().width,i.GetSize().height),n},N_.Mask=Xr,N_.MotionInfo=Zr,N_.CallbackInfo=Qr,N_.LocalVariables=Jr,Object.defineProperty(eo,"top",{get:io}),Object.defineProperty(eo,"center",{get:ro}),Object.defineProperty(eo,"bottom",{get:oo}),N_.VerticalAlign=eo,Object.defineProperty(no,"left",{get:so}),Object.defineProperty(no,"center",{get:lo}),Object.defineProperty(no,"right",{get:uo}),N_.HorizontalAlign=no,N_.Node_init_y2kzbl$=co,N_.Node=ho,N_.NodeWrapper_init_y2kzbl$=fo,N_.NodeWrapper=po,Object.defineProperty(N_,"Random",{get:go}),Object.defineProperty(_o,"Companion",{get:bo}),N_.Camera_init_u2zgyh$=So,N_.Camera_init_6a4htl$=ko,N_.Camera=_o,Object.defineProperty(wo,"Companion",{get:tn}),N_.Particle=wo,N_.Background=rn,N_.Polygon_init_6taknv$=function(e,t){return void 0===e&&(e=!0),t=t||Object.create(on.prototype),vi.call(t),on.call(t),t.isClosed=e,t},N_.Polygon_init_xiwfbb$=nn,N_.Polygon=on,N_.ParticleManager_init_b2yzb6$=cn,N_.ParticleManager=an,N_.Motion=dn,N_.Bounce_init_s2l86p$=fn,N_.Bounce=pn,N_.Wave_init_7b5o5w$=vn,N_.Wave_init_s2l86p$=gn,N_.Wave=mn,N_.HyperTan_init_y2kzbl$=$n,N_.HyperTan=_n,Object.defineProperty(yn,"spaceDeep",{get:Sn}),Object.defineProperty(yn,"backgroundBottom",{get:kn}),Object.defineProperty(yn,"background",{get:wn}),Object.defineProperty(yn,"backgroundTop",{get:xn}),Object.defineProperty(yn,"gameBoardBottom",{get:Cn}),Object.defineProperty(yn,"gameBoard",{get:zn}),Object.defineProperty(yn,"gameBoardTop",{get:Tn}),Object.defineProperty(yn,"gameTileBottom",{get:Gn}),Object.defineProperty(yn,"gameTile",{get:An}),Object.defineProperty(yn,"gameTileTop",{get:In}),Object.defineProperty(yn,"gameEffectBottom",{get:Nn}),Object.defineProperty(yn,"gameEffect",{get:Mn}),Object.defineProperty(yn,"gameEffectTop",{get:On}),Object.defineProperty(yn,"uiBottom",{get:Rn}),Object.defineProperty(yn,"ui",{get:jn}),Object.defineProperty(yn,"uiTop",{get:Pn}),Object.defineProperty(yn,"uiForemost",{get:Bn}),Object.defineProperty(yn,"uiModalMask",{get:En}),Object.defineProperty(yn,"uiModal",{get:Fn}),Object.defineProperty(yn,"parent",{get:Ln}),N_.SceneLayer=yn,Object.defineProperty(Dn,"None",{get:Un}),Object.defineProperty(Dn,"CloseButton",{get:qn}),Object.defineProperty(Dn,"OkButton",{get:Hn}),Object.defineProperty(Dn,"CancelButton",{get:Wn}),Object.defineProperty(Dn,"Sizable",{get:Yn}),Object.defineProperty(Dn,"Movable",{get:Xn}),Object.defineProperty(Dn,"Modal",{get:Kn}),Object.defineProperty(Dn,"Tab",{get:Zn}),N_.WindowProperty=Dn,r.SamsaraHTML=e,N_.Screen_init_qgvd6v$=aa,N_.Screen=Qn,N_.Sprite_init_2ls20y$=la,N_.Sprite_init_rcwdn1$=function(e,t,i,r,o,n,a){return void 0===r&&(r=0),void 0===o&&(o=-1),void 0===n&&(n=-1),fo(e,t,r,a=a||Object.create(sa.prototype)),sa.call(a),a.SetTexture_shkjqq$(i,o,n),a},N_.Sprite=sa,Object.defineProperty(ua,"on",{get:ca}),Object.defineProperty(ua,"off",{get:da}),N_.SwitchState=ua,N_.Switch_init_8ajt6$=fa,N_.Switch=pa,N_.TextArea_init_iym62m$=_a,N_.TextArea=ma,N_.View_init_y2kzbl$=ya,N_.View=$a,Object.defineProperty(ba,"Companion",{get:za});var M_=G_.samsara||(G_.samsara={});M_.AppController=ba,Object.defineProperty(M_,"localizationString",{get:function(){return Vl}}),Object.defineProperty(M_,"localizationKoreanString",{get:function(){return Ul}}),Object.defineProperty(M_,"localeString",{get:function(){return ql},set:function(e){ql=e}}),Object.defineProperty(M_,"currentLocale",{get:function(){return Hl},set:function(e){Hl=e}}),M_.SetLocale_61zpoe$=Yl,M_.GetLocale=Xl,M_.get_isEmpty_pdl1vz$=Kl,M_.local_pdl1vz$=Zl,M_.formatted_s8ev3n$=Jl,M_.formatted_81szk$=eu,M_.formatted_yrwdxr$=tu,M_.INT_s8jyv4$=iu,M_.FLOAT_s8jyv4$=ru,M_.DOUBLE_s8jyv4$=ou,M_.STRING_za3rmp$=nu,M_.INT64_za3rmp$=au,M_.Ref=su,M_.Firework_init_n56ifw$=uu,M_.Firework=lu,M_.FireworkManager_init_iwp3ca$=du,M_.FireworkManager=hu,M_.CallbackEvent=pu,M_.IActivityRequestHandler=fu,M_.UserLocalData=mu,Object.defineProperty(vu,"Holder",{get:$u}),Object.defineProperty(vu,"Companion",{get:Su}),M_.UserDefaults=vu,M_.BootLoader_init_vmfg6t$=wu,M_.BootLoader=ku,M_.Samsara_init_hmf0yx$=Au,M_.Samsara=xu,Object.defineProperty(Iu,"Companion",{get:Ou}),M_.SystemConfigure=Iu;var O_=M_.driver||(M_.driver={});O_.GuestGDXNode=Ru,O_.GuestGDXTexture_init_61zpoe$=Uu,O_.GuestGDXTexture_init_6hosri$=qu,O_.GuestGDXTexture=Vu,O_.GuestGDXSprite_init=Wu,O_.GuestGDXSprite_init_h2vgz3$=Yu,O_.GuestGDXSprite=Hu,O_.GuestGDXMask_init_h2vgz3$=Ku,O_.GuestGDXMask=Xu,O_.GuestGDXLabel_init=Qu,O_.GuestGDXLabel=Zu,O_.GDXGuestScene=Ju,O_.DeviceScene_init_dleff0$=th,O_.DeviceScene=eh,O_.PhaserSound_init_w940ke$=rh,O_.PhaserSound=ih,Object.defineProperty(O_,"VOLUME_MAX",{get:function(){return Bu}}),Object.defineProperty(O_,"EFFECT_CHANNEL",{get:function(){return Eu}}),O_.Sound_init_7i6po5$=nh,O_.Sound=oh,Object.defineProperty(ah,"Companion",{get:dh}),O_.SoundManager=ah,Object.defineProperty(ph,"Companion",{get:vh}),O_.Util=ph,Object.defineProperty(gh,"Companion",{get:kh});var R_=M_.logic||(M_.logic={});R_.BoardGenerator_init_mwco6a$=Ch,R_.BoardGenerator=gh,R_.Game_init_xn0iw0$=Xd,R_.Game=zh,R_.GameState=Kd,R_.GameValue=Zd,Object.defineProperty(Jd,"ready",{get:tp}),Object.defineProperty(Jd,"running",{get:ip}),Object.defineProperty(Jd,"paused",{get:rp}),Object.defineProperty(Jd,"stop",{get:op}),Qd.State=Jd,R_.ScheduledJob=Qd,R_.ScheduledJobManager=np,R_.Tutorial_init_xn0iw0$=lp,R_.Tutorial=ap,R_.TutorialBoardGenerator_init_qtznpk$=hp,R_.TutorialBoardGenerator=up;var j_=R_.configure||(R_.configure={});j_.ClassicConfigureForWatch_init_g5erez$=dp,j_.ClassicConfigureForWatch=cp,j_.ClassicConfigureForAndroid_init_g5erez$=fp,j_.ClassicConfigureForAndroid=pp,j_.ClassicConfigure6x6ForiOS_init_g5erez$=function(e,t){return dp(e,t=t||Object.create(mp.prototype)),mp.call(t),t.modeString="Classic6x6",t.localizedModeString=Zl("Classic Mode 6x6"),t.needStar=10,t.comboMode=1,t.comboTimingLowest=1.5,t.kindOfNumber=5,t.minOfComplete=3,t.indexOfGroup=new Int32Array([0,0,0,0,0,-1]),t.startOfGroup=new Int32Array([0]),t.countOfGroup=new Int32Array([5]),t.obstacleMaximumNumber=36,t.checkNoMoreMatch=!0,t.itemTable=new Int32Array([-1,-1,-1,-1,-1,-1,101,102,103,104,100]),t.alternativeItemForNirvana=102,t.reactivateAfter=2,t.resetInactiveWhenFever=!1,t.amountOfNirvana=10,t.transformDelay=.12,t.matchDelay=.12,t.scorePerBlock=new Int32Array([0,10,20,30,40,60,90,120,180]),t.feverGagePerBlock=[new Float32Array([0,0,0,3,4,6,9,13,18,18])],t.topMargin=.65,t.width=6,t.height=6,t.fallingSpeed=0,t.fallingSpeedLimit=300,t.acceleration=200,t.fallingSpeedLimitForNoMoreMove=16,t.boardSize=270,t.gaugeHeightRatio=.5,t},j_.ClassicConfigure6x6ForiOS=mp,j_.GameConfigure_init_g5erez$=gp,j_.GameConfigure=vp,j_.InfiniteConfigureForWatch_init_g5erez$=$p,j_.InfiniteConfigureForWatch=_p,j_.InfiniteConfigureForiOS_init_g5erez$=bp,j_.InfiniteConfigureForiOS=yp,j_.InfiniteConfigure6x6ForiOS_init_g5erez$=kp,j_.InfiniteConfigure6x6ForiOS=Sp,j_.PuzzleConfigure_init_g5erez$=function(e,t){return gp(e,t=t||Object.create(wp.prototype)),wp.call(t),t.modeString="Classic",t.localizedModeString=Zl("Classic Mode"),t.needStar=0,t.blockDisablePeriodically=!1,t.blockDisableTime=2,t.comboMode=1,t.showHint=!1,t.limitGameTime=!0,t.gameTime=60,t.lastChance=!0,t.kindOfNumber=4,t.minOfComplete=3,t.obstacleRatio=15,t.obstacleMinimumScore=0,t.obstacleMaximumNumber=0,t.itemTable=new Int32Array([-1]),t.regenNoMoreMove=!0,t.checkNoMoreMatch=!0,t.touchInputMode=0,t.onetimeGrow=!1,t.clickOnce=!0,t.createNewBlockWithClicked=!1,t.dropBlock=!0,t.rotation=!0,t.disableChained=!0,t.dropAdjust=-1,t.fallingSpeed=0,t.fallingSpeedLimit=300,t.acceleration=160,t.transformDelay=.12,t.matchDelay=.2,t},j_.PuzzleConfigure=wp,j_.TimelessConfigureForWatch_init_g5erez$=Cp,j_.TimelessConfigureForWatch=xp,j_.TimelessConfigureForiOS_init_g5erez$=function(e,t){return Cp(e,t=t||Object.create(zp.prototype)),zp.call(t),t.needStar=5,t.transformDelay=.12,t.matchDelay=.15,t.scorePerBlock=new Int32Array([0,10,20,30,40,60,90,130,180,1e3]),t.acceleration=240,t.fallingSpeedLimitForNoMoreMove=16,t.topMargin=.65,t.boardSize=180,t.gaugeHeightRatio=.5,t},j_.TimelessConfigureForiOS=zp,j_.TimelessConfigure6x6ForiOS_init_g5erez$=function(e,t){return Cp(e,t=t||Object.create(Tp.prototype)),Tp.call(t),t.modeString="Timeless6x6",t.localizedModeString=Zl("Timeless Mode 6x6"),t.needStar=20,t.comboMode=1,t.comboTimingLowest=1.5,t.blockDisableTime=.5,t.minimumTimeForBlockDisableTime=.2,t.kindOfNumber=5,t.minOfComplete=3,t.indexOfGroup=new Int32Array([0,0,0,0,0,-1]),t.startOfGroup=new Int32Array([0]),t.countOfGroup=new Int32Array([5]),t.obstacleRatio=30,t.obstacleMinimumScore=0,t.obstacleMaximumNumber=36,t.itemTable=new Int32Array([-1,-1,-1,-1,-1,-1,101,102,103,104,100]),t.alternativeItemForNirvana=102,t.amountOfNirvana=10,t.transformDelay=.12,t.matchDelay=.1,t.scorePerBlock=new Int32Array([0,10,20,30,40,60,90,120,180]),t.feverGagePerBlock=[new Float32Array([0,0,0,3,4,6,9,13,18,18])],t.starPerFever=new Int32Array([0,1,1,1,2,3,4,5,6,7,8]),t.starForNirvanaPerFever=new Int32Array([50,50]),t.resetInactiveWhenFever=!1,t.topMargin=.65,t.width=6,t.height=6,t.acceleration=240,t.fallingSpeedLimitForNoMoreMove=16,t.boardSize=270,t.gaugeHeightRatio=.5,t},j_.TimelessConfigure6x6ForiOS=Tp,j_.TutorialConfigure_init_g5erez$=Ap,j_.TutorialConfigure=Gp;var P_=R_.entity||(R_.entity={});P_.BlockEntity_init_hb1tdc$=jp,P_.BlockEntity=Ip,P_.BlankEntity_init_hb1tdc$=function(e,t,i,r,o){gf(e,t,i,r,o=o||Object.create(Ep.prototype)),Ep.call(o);var n,a=e.gameValue.blockSet+"puzzle_clear_";e:do{if(Ke.isNumber(t)){n=t.toString();break e}if("string"==typeof t){n=t;break e}if("boolean"==typeof t){n=t.toString();break e}if(Ke.isChar(t)){n=t.toString();break e}n=""}while(0);var s=a+n;return o.sprite=e.view.createSprite_vzsiy1$(o.GetRealScreenX(),o.GetRealScreenY(),o.spriteZ,s),o},P_.BlankEntity=Ep,P_.EntityManager_init=Lp,P_.EntityManager=Fp,Object.defineProperty(Vp,"alive",{get:qp}),Object.defineProperty(Vp,"dead",{get:Hp}),Dp.EntityState=Vp,Object.defineProperty(Wp,"bottom",{get:Xp}),Object.defineProperty(Wp,"middle",{get:Kp}),Object.defineProperty(Wp,"top",{get:Zp}),Dp.ZOrder=Wp,P_.GameEntity_init_hb1tdc$=Qp,P_.GameEntity=Dp,P_.ItemEntity_init_mwco6a$=ef,P_.ItemEntity=Jp,P_.ReactivateItemEntity=tf,P_.SameBombEntity=rf,P_.NearBombEntity=of,P_.LineBombEntity=nf,P_.ObstacleEntity_init_hb1tdc$=lf,P_.ObstacleEntity=af,Object.defineProperty(hf,"normal",{get:df}),Object.defineProperty(hf,"disabled",{get:pf}),Object.defineProperty(hf,"hint",{get:ff}),Object.defineProperty(hf,"clear",{get:mf}),uf.Attribute=hf,P_.TileEntity_init_hb1tdc$=gf,P_.TileEntity=uf;var B_=M_.user||(M_.user={});B_.AndroidPlayerAchievement_init_61zpoe$=$f,B_.AndroidPlayerAchievement=_f,B_.AndroidPlayerRecord_init_puj7f4$=bf,B_.AndroidPlayerRecord=yf,Object.defineProperty(Sf,"HIGH_SCORE",{get:wf}),Object.defineProperty(Sf,"MAX_COMBO",{get:xf}),Object.defineProperty(Sf,"MAX_FEVER",{get:Cf}),Object.defineProperty(Sf,"MIN_INTERVAL",{get:zf}),Object.defineProperty(Sf,"MAX_SPS",{get:Tf}),Object.defineProperty(Sf,"PLAY_COUNT",{get:Gf}),Object.defineProperty(Sf,"GHOST_REMOVAL",{get:Af}),Object.defineProperty(Sf,"SOUND_ON",{get:If}),Object.defineProperty(Sf,"MASTER_VOLUME",{get:Nf}),Object.defineProperty(Sf,"BGM_VOLUME",{get:Mf}),Object.defineProperty(Sf,"EFFECT_VOLUME",{get:Of}),Object.defineProperty(Sf,"LAST_PLAYED_MODE",{get:Rf}),Object.defineProperty(Sf,"STAR_LAST_CHARGED_TIME",{get:jf}),Object.defineProperty(Sf,"STAR_CHARGE_START",{get:Pf}),Object.defineProperty(Sf,"CURRENT_BLOCK_SET",{get:Bf}),Object.defineProperty(Sf,"CURRENT_BOARD_TYPE",{get:Ef}),Object.defineProperty(Sf,"BATTERY_USAGE_MODE",{get:Ff}),Object.defineProperty(Sf,"CURRENT_LOCALE",{get:Lf}),Object.defineProperty(Sf,"COLOR_MODE",{get:Df}),Object.defineProperty(Sf,"TUTORIAL_COMPLETE",{get:Vf}),Object.defineProperty(Sf,"TUTORIAL_3_3_COMPLETE",{get:Uf}),Object.defineProperty(Sf,"TUTORIAL_6_6_COMPLETE",{get:qf}),Object.defineProperty(Sf,"BEGINNER_COMBOS_5",{get:Hf}),Object.defineProperty(Sf,"BEGINNER_COMBOS_10",{get:Wf}),Object.defineProperty(Sf,"BEGINNER_COMBOS_20",{get:Yf}),Object.defineProperty(Sf,"BEGINNER_COMBOS_50",{get:Xf}),Object.defineProperty(Sf,"BEGINNER_COMBOS_100",{get:Kf}),Object.defineProperty(Sf,"BEGINNER_COMBOS_150",{get:Zf}),Object.defineProperty(Sf,"BEGINNER_50K",{get:Qf}),Object.defineProperty(Sf,"BEGINNER_100K",{get:Jf}),Object.defineProperty(Sf,"BEGINNER_200K",{get:em}),Object.defineProperty(Sf,"BEGINNER_1M",{get:tm}),Object.defineProperty(Sf,"BEGINNER_2M",{get:im}),Object.defineProperty(Sf,"BEGINNER_3M",{get:rm}),Object.defineProperty(Sf,"BEGINNER_FEVER_1",{get:om}),Object.defineProperty(Sf,"BEGINNER_FEVER_3",{get:nm}),Object.defineProperty(Sf,"BEGINNER_FEVER_5",{get:am}),Object.defineProperty(Sf,"BEGINNER_FEVER_10",{get:sm}),Object.defineProperty(Sf,"BEGINNER_CLEAR_9",{get:lm}),Object.defineProperty(Sf,"CLASSIC_COMBOS_10",{get:um}),Object.defineProperty(Sf,"CLASSIC_COMBOS_30",{get:hm}),Object.defineProperty(Sf,"CLASSIC_FEVER_1",{get:cm}),Object.defineProperty(Sf,"CLASSIC_FEVER_5",{get:dm}),Object.defineProperty(Sf,"CLASSIC_100K",{get:pm}),Object.defineProperty(Sf,"CLASSIC_300K",{get:fm}),Object.defineProperty(Sf,"CLASSIC_1500K",{get:mm}),Object.defineProperty(Sf,"CLASSIC_CLEAR_9",{get:vm}),Object.defineProperty(Sf,"TIMELESS_MODE_OPEN",{get:gm}),Object.defineProperty(Sf,"TIMELESS_COMBOS_50",{get:_m}),Object.defineProperty(Sf,"TIMELESS_COMBOS_80",{get:$m}),Object.defineProperty(Sf,"TIMELESS_COMBOS_100",{get:ym}),Object.defineProperty(Sf,"TIMELESS_FEVER_10",{get:bm}),Object.defineProperty(Sf,"TIMELESS_1M",{get:Sm}),Object.defineProperty(Sf,"TIMELESS_2M",{get:km}),Object.defineProperty(Sf,"HARDCORE_MODE_OPEN",{get:wm}),Object.defineProperty(Sf,"HARDCORE_COMBOS_60",{get:xm}),Object.defineProperty(Sf,"HARDCORE_FEVER_10",{get:Cm}),Object.defineProperty(Sf,"HARDCORE_1M",{get:zm}),Object.defineProperty(Sf,"GHOST_50",{get:Tm}),Object.defineProperty(Sf,"GHOST_100",{get:Gm}),Object.defineProperty(Sf,"GHOST_150",{get:Am}),Object.defineProperty(Sf,"GHOST_200",{get:Im}),Object.defineProperty(Sf,"BEGINNER6x6_COMBOS_30",{get:Nm}),Object.defineProperty(Sf,"BEGINNER6x6_COMBOS_50",{get:Mm}),Object.defineProperty(Sf,"BEGINNER6x6_COMBOS_100",{get:Om}),Object.defineProperty(Sf,"BEGINNER6x6_500K",{get:Rm}),Object.defineProperty(Sf,"BEGINNER6x6_1M",{get:jm}),Object.defineProperty(Sf,"CLASSIC6x6_MODE_OPEN",{get:Pm}),Object.defineProperty(Sf,"CLASSIC6x6_COMBOS_50",{get:Bm}),Object.defineProperty(Sf,"CLASSIC6x6_1M",{get:Em}),Object.defineProperty(Sf,"TIMELESS6x6_MODE_OPEN",{get:Fm}),Object.defineProperty(Sf,"TIMELESS6x6_COMBOS_100",{get:Lm}),Object.defineProperty(Sf,"TIMELESS6x6_2M",{get:Dm}),B_.DataKey=Sf,Object.defineProperty(Vm,"standard",{get:Hm}),B_.KeychainWrapper=Vm,Object.defineProperty(Wm,"Companion",{get:Km}),B_.DataUtil=Wm,Object.defineProperty(Zm,"Companion",{get:uv}),B_.GameCenterManager=Zm,Object.defineProperty(hv,"block",{get:dv}),Object.defineProperty(hv,"mode",{get:pv}),Object.defineProperty(hv,"gameItem",{get:fv}),Object.defineProperty(hv,"avatar",{get:mv}),Object.defineProperty(hv,"board",{get:vv}),Object.defineProperty(hv,"End",{get:gv}),B_.ItemType=hv,B_.Item=_v,B_.BasicItem_init_z8o2ev$=bv,B_.BasicItem=$v,B_.BlockItem_init_bivfg4$=kv,B_.BlockItem=Sv,B_.BoardItem_init_li189r$=xv,B_.BoardItem=wv,Object.defineProperty(Cv,"Companion",{get:Nv}),B_.ItemManager=Cv,B_.PlayerRecord=Mv,B_.Achievement_init_io5o9c$=Rv,B_.Achievement=Ov,B_.PlayerAchievement=jv,Object.defineProperty(Pv,"Companion",{get:Hv}),B_.PlayerRecordManager_init=Wv,B_.PlayerRecordManager=Pv,Object.defineProperty(Yv,"EMPTY_KEY",{get:Kv}),Object.defineProperty(Yv,"STAR_AMOUNT",{get:Zv}),Object.defineProperty(Yv,"EXP",{get:Qv}),B_.PermanentKey=Yv,Object.defineProperty(Jv,"Companion",{get:ug}),B_.StoreManager=Jv;var E_=M_.view||(M_.view={});return E_.BlockTypeView=hg,E_.GameOverView_init_53g3xe$=xg,E_.GameOverView=fg,E_.GameView_init_53g3xe$=Mg,E_.GameView=Cg,E_.LoadingView=Og,E_.MainMenuView=Pg,Object.defineProperty(Vg,"NORMAL",{get:qg}),Object.defineProperty(Vg,"RADIO",{get:Hg}),Object.defineProperty(Vg,"SWITCH",{get:Wg}),Object.defineProperty(Vg,"TEXT",{get:Yg}),E_.MenuItemType=Vg,E_.MenuItem_init_8jwusp$=Kg,E_.MenuItem_init_whzana$=Zg,E_.MenuItem=Xg,E_.Menu_init_yj8n83$=o_,E_.Menu=Qg,E_.OptionView=n_,E_.TestView=u_,E_.ScriptInfo=h_,E_.TutorialView_init_za3lpa$=z_,E_.TutorialView=c_,_f.prototype.AddAchievement_ze4fts$=jv.prototype.AddAchievement_ze4fts$,_f.prototype.AddAchievementString_io5o9c$=jv.prototype.AddAchievementString_io5o9c$,_f.prototype.SetPercentComplete_gspc9z$=jv.prototype.SetPercentComplete_gspc9z$,_f.prototype.SetPercentCompleteString_1truf$=jv.prototype.SetPercentCompleteString_1truf$,yf.prototype.SaveHighScore_3uxocb$=Mv.prototype.SaveHighScore_3uxocb$,yf.prototype.LoadHighScore_3uxocb$=Mv.prototype.LoadHighScore_3uxocb$,yf.prototype.SaveMaxCombo_3uxocb$=Mv.prototype.SaveMaxCombo_3uxocb$,yf.prototype.LoadMaxCombo_3uxocb$=Mv.prototype.LoadMaxCombo_3uxocb$,yf.prototype.SaveMaxFever_3uxocb$=Mv.prototype.SaveMaxFever_3uxocb$,yf.prototype.LoadMaxFever_3uxocb$=Mv.prototype.LoadMaxFever_3uxocb$,yf.prototype.SaveMinInterval_3uxocb$=Mv.prototype.SaveMinInterval_3uxocb$,yf.prototype.LoadMinInterval_3uxocb$=Mv.prototype.LoadMinInterval_3uxocb$,yf.prototype.SaveMaxSPS_3uxocb$=Mv.prototype.SaveMaxSPS_3uxocb$,yf.prototype.LoadMaxSPS_3uxocb$=Mv.prototype.LoadMaxSPS_3uxocb$,Vl=T([new Fe("TUTORIAL_FONT_SIZE","16"),new Fe("TUTORIAL_FONT_SIZE2","14"),new Fe("TUTORIAL_TEXT_WRAP_TYPE","WORD"),new Fe("TUTORIAL_COUNT","33"),new Fe("TUTORIAL_0","HOW TO PLAY"),new Fe("TUTORIAL_1","When three of the same number are straight except diagonal, it will pop."),new Fe("TUTORIAL_2","Touch the 0 to change to 1"),new Fe("TUTORIAL_3","Linked tiles change together."),new Fe("TUTORIAL_4","Touch the 1 to change to 2"),new Fe("TUTORIAL_5","2 changes to 3"),new Fe("TUTORIAL_6","Touch the 2 to change to 3"),new Fe("TUTORIAL_7","All linked 3 will be 0 again."),new Fe("TUTORIAL_8","Touch the 3 to change it to 0"),new Fe("TUTORIAL_9","Ghosts will disappear if a tile of the same color pops from the side."),new Fe("TUTORIAL_10","Try to remove the ghost"),new Fe("TUTORIAL_11","You can earn huge score if you pop nine tiles at once."),new Fe("TUTORIAL_12","Touch the 1 to change to 2"),new Fe("TUTORIAL_13","The game is over when you have no more tiles to match. Challenge your best score by making a big combo!"),new Fe("TUTORIAL_14","Touch the play button to start the game"),new Fe("TUTORIAL_15","Already changed tiles will not change again by touch."),new Fe("TUTORIAL_16","Touch the 3"),new Fe("TUTORIAL_17","Ghosts are not tied to other tiles and can not be changed."),new Fe("TUTORIAL_18","Touch the ghost"),new Fe("TUTORIAL_19","Touch the 1"),new Fe("TUTORIAL_20","Challenge your best score by capturing as many ghosts as you can."),new Fe("TUTORIAL_21","Exploding 6 tiles at once makes a LIGHTNING item.\n\n[Image Item_101_blue 25] [Image Item_101_green 25] [Image Item_101_purple 25] [Image Item_101_red 25] [Image Item_101_yellow 25]"),new Fe("TUTORIAL_22","[Image Item_101_red 20] explodes all red color tiles."),new Fe("TUTORIAL_23","Exploding 7 or 8 tiles at once makes a LINE BLASTING item.\n\n[Image Item_103_h 25] [Image Item_103_v 25] [Image Item_104 25]"),new Fe("TUTORIAL_24","[Image Item_103_h 20] explodes all tiles except cursed ghosts in the same line."),new Fe("TUTORIAL_25","Exploding 9 tiles at once makes an EXTINCTION BOMB item.\n\n[Image Item_102 25]"),new Fe("TUTORIAL_26","[Image Item_102 20] explodes all surrounded tiles include ghosts."),new Fe("TUTORIAL_27","Exploding more than 10 tiles at once makes an INFINITY item.\n\n[Image Item_100 25]"),new Fe("TUTORIAL_28","[Image Item_100 20] explodes all ghosts and resets tiles."),new Fe("TUTORIAL_29","Explode 6 tiles at once"),new Fe("TUTORIAL_30","Explode 7 tiles at once"),new Fe("TUTORIAL_31","Explode 9 tiles at once"),new Fe("TUTORIAL_32","Explode 10 tiles at once"),new Fe("MENU_0","0123456789.,()"),new Fe("MENU_1","[Scale 1.2][COLOR yellow]\nMusic On[COLOR][Scale]"),new Fe("MENU_2","[Scale 1.2][Color gray]\nMusic Off[Color][Scale]"),new Fe("MENU_3","[Scale 1.2][COLOR yellow]\nSound Effect On[COLOR][Scale]"),new Fe("MENU_4","[Scale 1.2][Color gray]\nSound Effect Off[Color][Scale]"),new Fe("MENU_5","[Color yellow][FONT Menu_Mode/]SETUP[Color]"),new Fe("MENU_6","Start the game\nin your [COLOR yellow]Apple Watch[COLOR]\nand try again.\n\n\n[button Resource/UI/IconOk 60]"),new Fe("MENU_7","Data synched\nsuccessfully!\n\n\n[button Resource/UI/IconOk 60]"),new Fe("MENU_8","Start the game\nin your [COLOR yellow]Apple Watch[COLOR]\nand try again.\n\n\n[button Resource/UI/IconOk 60]"),new Fe("MENU_9","Start the game\nin your Apple Watch."),new Fe("MENU_10","[COLOR]\n[Scale 1.0]To unlock: [image Resource/UI/IconStar 20] [Scale 0.6]X[Scale] "),new Fe("MENU_11","[Color yellow][FONT Menu_Mode/]STONE[Color]"),new Fe("MENU_12","STONE"),new Fe("MENU_13","[SCALE 1.0][COLOR yellow]Do you want to unlock?[COLOR]"),new Fe("MENU_14","NARAKA"),new Fe("MENU_15","To unlock,\n[Color yellow]30 Combo in CLASSIC mode\nGet Professional Player[Color]"),new Fe("MENU_16","To explode some blocks and continue the game,"),new Fe("MENU_17","or"),new Fe("MENU_18","Best:"),new Fe("MENU_19","MODE"),new Fe("MENU_20","CLASSIC"),new Fe("MENU_21","To explode some blocks and get bonus time,"),new Fe("MENU_22",""),new Fe("MENU_23","SPS"),new Fe("MENU_24",""),new Fe("MENU_25","[SCALE 1.8]Low[SCALE][COLOR yellow]\nMax 10 FPS[COLOR]"),new Fe("MENU_26","[SCALE 1.8]Medium[SCALE][COLOR yellow]\nMax 20 FPS[COLOR]"),new Fe("MENU_27","[SCALE 1.8]High[SCALE][COLOR yellow]\nMax 30 FPS\nParticle Effects[COLOR]"),new Fe("MENU_28","[Color yellow][FONT Menu_Mode/]QUALITY[Color]"),new Fe("MENU_29","QUALITY"),new Fe("MENU_30","BEST"),new Fe("MENU_31","COMBO"),new Fe("MENU_32","NEW"),new Fe("MENU_33","BEST"),new Fe("MENU_34","FEVERS"),new Fe("MENU_35","NEW"),new Fe("MENU_36","BEST"),new Fe("MENU_37","[SCALE 1.5]Number[SCALE]"),new Fe("MENU_38","[SCALE 1.5]Dice[SCALE]"),new Fe("MENU_39","Score Bonus   +10%"),new Fe("MENU_40","[SCALE 1.5]Infinite Seasons[SCALE]"),new Fe("MENU_41","Score Bonus    +20%"),new Fe("MENU_42","[SCALE 1.5]Star Bird[SCALE]"),new Fe("MENU_43","Score Bonus    +20%"),new Fe("MENU_44","[Scale 0.4] SAMSARA - Stones of Eternity"),new Fe("MENU_45","INFINITE"),new Fe("MENU_46","Would you like to quit the game?"),new Fe("MENU_47","INFINITE 6x6"),new Fe("MENU_48","CLASSIC 6x6"),new Fe("MENU_49","NARAKA 6x6"),new Fe("MENU_50","To unlock,\n[Color yellow]50 Combo in INFINITE 6x6 mode\nGet Collector title[Color]"),new Fe("MENU_51","To unlock,\n[Color yellow]50 Combo in CLASSIC 6x6 mode\nGet Hunter title[Color]"),new Fe("MENU_52","Would you like to close it?"),new Fe("MENU_53","NEW RECORD!!!"),new Fe("MENU_54","Select Tutorial\n\n\n[button Resource/UI/IconBeginner 60 3x3]        [button Resource/UI/IconBeginner6x6 60 6x6]"),new Fe("MENU_55","Quality\nLow"),new Fe("MENU_56","Quality\nNormal"),new Fe("MENU_57","Quality\nHigh"),new Fe("MENU_COUNT","58"),new Fe("BEGINNER_TIP_COUNT","1"),new Fe("BEGINNER_TIP_0","[Scale 0.7]Whenever you make NIRVANA time, you get a star. If you match all stones at once, you will get a huge amount of stars.[Scale]\n\n\n"),new Fe("BEGINNER6x6_TIP_COUNT","2"),new Fe("BEGINNER6x6_TIP_0","[Scale 0.7]INFINITY ITEM [Image Item_100 20] appears only once per a game. After that, EXTINCTION BOMB [Image Item_102 20] will appear instead.[Scale]\n\n\n"),new Fe("BEGINNER6x6_TIP_1","[Scale 0.7]If ghosts arrive bottom line or other cursed ghosts, they are put on a curse. You cannot remove cursed ghosts by the regular method but can by using particular ITEMs.[Scale]\n\n\n"),new Fe("Classic_TIP_COUNT","2"),new Fe("Classic_TIP_0","[Scale 0.7]You can earn bonus time every fever mode.\nIf you are in fever mode, a game will not over even if time is over.\nChallenge high score by playing as long as you can.[Scale]\n\n\n"),new Fe("Classic_TIP_1","[Scale 0.7]SPS means Score Per Second.\nIt'll show an inaccurate measurement if you play a game under 60 seconds.[Scale]\n\n\n"),new Fe("APPLE_WATCH_TIP_COUNT","1"),new Fe("APPLE_WATCH_TIP_0","[Scale 2.0]You can quit the game by turning the Digital Crown.[Scale]\n\n\n"),new Fe("Beat my score!","#SAMSARA_Stones_of_Eternity")]),Ul=T([new Fe("TUTORIAL_FONT_SIZE","16"),new Fe("TUTORIAL_FONT_SIZE2","14"),new Fe("TUTORIAL_TEXT_WRAP_TYPE","WORD"),new Fe("TUTORIAL_COUNT","33"),new Fe("TUTORIAL_0","HOW TO PLAY"),new Fe("TUTORIAL_1","같은 숫자 세 개가 대각선이 아닌 일직선이 되면 터집니다."),new Fe("TUTORIAL_2","0을 눌러서 1로 바꾸세요"),new Fe("TUTORIAL_3","연결된 타일은 함께 바뀝니다."),new Fe("TUTORIAL_4","1을 눌러서 2로 바꾸세요"),new Fe("TUTORIAL_5","2는 3으로 변합니다."),new Fe("TUTORIAL_6","2를 눌러서 3으로 바꾸세요"),new Fe("TUTORIAL_7","연결된 모든 3은 다시 0이 됩니다."),new Fe("TUTORIAL_8","3을 눌러서 0으로 바꾸세요"),new Fe("TUTORIAL_9","유령과 같은 색의 타일을 옆에서 터트리면 유령을 잡을 수 있습니다."),new Fe("TUTORIAL_10","유령을 제거해 보세요"),new Fe("TUTORIAL_11","아홉 개의 타일을 한번에 터트리면 많은 점수를 얻을 수 있습니다."),new Fe("TUTORIAL_12","1을 눌러서 2로 바꾸세요"),new Fe("TUTORIAL_13","터트릴 타일이 없어지면 게임이 끝납니다. 콤보를 만들어서 최고 점수에 도전해 보세요!"),new Fe("TUTORIAL_14","플레이 버튼을 누르면 게임을 시작합니다"),new Fe("TUTORIAL_15","한번 바뀐 타일은 눌러서 바꿀 수는 없지만 연결된 타일을 이용하면 가능합니다."),new Fe("TUTORIAL_16","3을 눌러보세요"),new Fe("TUTORIAL_17","가끔씩 나타나는 유령은 다른 타일과 연결되지 않고 바꿀 수도 없습니다."),new Fe("TUTORIAL_18","유령을 눌러보세요"),new Fe("TUTORIAL_19","1을 눌러보세요"),new Fe("TUTORIAL_20","유령을 많이 잡아서 최고 점수에 도전해 보세요."),new Fe("TUTORIAL_21","6개의 타일을 한번에 터트리면 번개 아이템이 만들어집니다.\n\n[Image Item_101_blue 20] [Image Item_101_green 20] [Image Item_101_purple 20] [Image Item_101_red 20] [Image Item_101_yellow 20]"),new Fe("TUTORIAL_22","[Image Item_101_red 20]은 빨간 색깔을 가진 모든 타일을 터트립니다."),new Fe("TUTORIAL_23","7개나 8개의 타일을 한번에 터트리면 직선 제거 아이템이 만들어집니다.\n\n[Image Item_103_h 20] [Image Item_103_v 20] [Image Item_104 20]"),new Fe("TUTORIAL_24","[Image Item_103_h 20]은 같은 라인에 있는 저주받은 유령을 제외한 모든 타일을 터트립니다."),new Fe("TUTORIAL_25","9개의 타일을 한번에 터트리면 폭탄 아이템 [Image Item_102 20]이 만들어집니다."),new Fe("TUTORIAL_26","[Image Item_102 20]은 주위의 타일과 유령을 모두 터트립니다."),new Fe("TUTORIAL_27","10개 이상의 타일을 한번에 터트리면 초기화 아이템[Image Item_100 20]이 만들어집니다."),new Fe("TUTORIAL_28","[Image Item_100 20]은 모든 유령을 터트리고 타일을 초기화합니다."),new Fe("TUTORIAL_29","6개의 타일을 한번에 터트리세요"),new Fe("TUTORIAL_30","7개의 타일을 한번에 터트리세요"),new Fe("TUTORIAL_31","9개의 타일을 한번에 터트리세요"),new Fe("TUTORIAL_32","10개의 타일을 한번에 터트리세요"),new Fe("MENU_0","0123456789.,()"),new Fe("MENU_1","[Scale 1.2][COLOR yellow]\n배경음악 켬[COLOR][Scale]"),new Fe("MENU_2","[Scale 1.2][Color gray]\n배경음악 끔[Color][Scale]"),new Fe("MENU_3","[Scale 1.2][COLOR yellow]\n효과음 켬[COLOR][Scale]"),new Fe("MENU_4","[Scale 1.2][Color gray]\n효과음 끔[Color][Scale]"),new Fe("MENU_5","[Color yellow][FONT Menu_Mode/]설정[Color]"),new Fe("MENU_6","[COLOR yellow]Apple Watch[COLOR]의 게임을\n시작한 후에\n다시 시도해 주세요.\n\n\n[button Resource/UI/IconOk 60]"),new Fe("MENU_7","데이터 동기화를\n완료했습니다!\n\n\n[button Resource/UI/IconOk 60]"),new Fe("MENU_8","[COLOR yellow]Apple Watch[COLOR]의 게임을\n시작한 후에\n다시 시도해 주세요.\n\n\n[button Resource/UI/IconOk 60]"),new Fe("MENU_9","Apple Watch의 게임을\n실행해 주세요..."),new Fe("MENU_10","[COLOR]\n[Scale 1.0]열려면: [image Resource/UI/IconStar 20] [Scale 0.6]X[Scale] "),new Fe("MENU_11","[Color yellow][FONT Menu_Mode/]영원의 돌[Color]"),new Fe("MENU_12","영원의 돌"),new Fe("MENU_13","[SCALE 1.0][COLOR yellow]여시겠습니까?[COLOR]\n\n"),new Fe("MENU_14","나락"),new Fe("MENU_15","열려면,\n[Color yellow]클래식 모드에서 30 콤보\n프로페셔널 플레이어 획득[Color]"),new Fe("MENU_16","블럭을 일부 제거하고 게임을 계속하려면,"),new Fe("MENU_17","또는"),new Fe("MENU_18","최고점수:"),new Fe("MENU_19","게임 모드"),new Fe("MENU_20","클래식"),new Fe("MENU_21","블럭을 일부 제거하고 추가 시간을 얻으려면,"),new Fe("MENU_22",""),new Fe("MENU_23","초당 점수"),new Fe("MENU_24",""),new Fe("MENU_25","[SCALE 1.8]최저[SCALE][COLOR yellow]\n최대 10 프레임[COLOR]"),new Fe("MENU_26","[SCALE 1.8]보통[SCALE][COLOR yellow]\n최대 20 프레임[COLOR]"),new Fe("MENU_27","[SCALE 1.8]최고[SCALE][COLOR yellow]\n최대 30 프레임\n파티클 효과[COLOR]"),new Fe("MENU_28","[Color yellow][FONT Menu_Mode/]품질[Color]"),new Fe("MENU_29","게임 품질"),new Fe("MENU_30","최고점수"),new Fe("MENU_31","콤보"),new Fe("MENU_32","신기록"),new Fe("MENU_33","최고"),new Fe("MENU_34","피버"),new Fe("MENU_35","신기록"),new Fe("MENU_36","최고"),new Fe("MENU_37","[SCALE 1.5]숫자[SCALE]"),new Fe("MENU_38","[SCALE 1.5]주사위[SCALE]"),new Fe("MENU_39","추가 점수   +10%"),new Fe("MENU_40","[SCALE 1.5]끝없는 계절[SCALE]"),new Fe("MENU_41","추가 점수   +10%"),new Fe("MENU_42","[SCALE 1.5]별새[SCALE]"),new Fe("MENU_43","추가 점수   +20%"),new Fe("MENU_44","[Scale 0.4] 삼사라 - 영원의 돌"),new Fe("MENU_45","무한"),new Fe("MENU_46","게임을 그만할까요?"),new Fe("MENU_47","무한 6x6"),new Fe("MENU_48","클래식 6x6"),new Fe("MENU_49","나락 6x6"),new Fe("MENU_50","열려면,\n[Color yellow]무한 6x6 모드에서 50 콤보\n콜렉터 획득[Color]"),new Fe("MENU_51","열려면,\n[Color yellow]클래식 6x6 모드에서 50 콤보\n헌터 획득[Color]"),new Fe("MENU_52","프로그램을 종료할까요?"),new Fe("MENU_53","신기록!!!"),new Fe("MENU_54","튜토리얼 선택\n\n\n[button Resource/UI/IconBeginner 60 3x3]        [button Resource/UI/IconBeginner6x6 60 6x6]"),new Fe("MENU_55","품질 최저"),new Fe("MENU_56","품질 보통"),new Fe("MENU_57","품질 최고"),new Fe("MENU_COUNT","58"),new Fe("BEGINNER_TIP_COUNT","1"),new Fe("BEGINNER_TIP_0","[Scale 0.7]열반 모드가 될 때마다 별을 얻을 수 있습니다. 모든 돌을 한번에 없애면 더 많은 별을 얻을 수 있습니다.[Scale]\n\n\n"),new Fe("BEGINNER6x6_TIP_COUNT","2"),new Fe("BEGINNER6x6_TIP_0","[Scale 0.7]초기화 아이템 [Image Item_100 20]은 게임당 단 한번만 나옵니다.\n한번 나온 이후에는 폭탄 아이템 [Image Item_102 20]이 대신 만들어 집니다.[Scale]\n\n\n"),new Fe("BEGINNER6x6_TIP_1","[Scale 0.7]유령이 바닥에 닫으면 저주에 걸려 특정 아이템으로만 제거할 수 있습니다.\n유령이 바닥에 닫지 않도록 해서 고득점에 도전해 보세요.[Scale]\n\n\n"),new Fe("Classic_TIP_COUNT","2"),new Fe("Classic_TIP_0","[Scale 0.7]열반 모드가 될 때마다 추가 시간을 얻게 됩니다.\n타임오버가 되어도 열반 모드 상태일때는 게임이 끝나지 않습니다.\n최대한 길게 플레이해서 최고점에 도전해 보세요.[Scale]\n\n\n"),new Fe("Classic_TIP_1","[Scale 0.7]초당 점수는 60초 이상을 플레이했을 경우에만 정상적으로 표시됩니다.[Scale]\n\n\n"),new Fe("APPLE_WATCH_TIP_COUNT","1"),new Fe("APPLE_WATCH_TIP_0","[Scale 2.0]Digital Crown을 돌려서 게임을 그만할 수 있습니다.[Scale]\n\n\n"),new Fe("Beat my score!","#삼사라_영원의돌")]),ql="",Hl=Vl,Bu=100,Eu=8,de(),Ke.defineModule("SamsaraHTML",e),e}(void 0===SamsaraHTML?{}:SamsaraHTML,kotlin,Phaser,phaserKt,PIXI,this["kotlinx-coroutines-core"]);